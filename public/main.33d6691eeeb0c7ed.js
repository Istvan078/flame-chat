"use strict";(self.webpackChunkProject=self.webpackChunkProject||[]).push([[179],{4562:(Sn,Et,R)=>{R.d(Et,{$:()=>Ms,A:()=>Fe,G:()=>ke,K:()=>br,L:()=>Oi,N:()=>Rs,P:()=>Xl,R:()=>Cc,U:()=>ot,V:()=>zo,W:()=>oa,X:()=>Pi,Y:()=>fa,Z:()=>fs,_:()=>$r,a:()=>li,a0:()=>Wa,a1:()=>Sr,a2:()=>Cs,a3:()=>ms,a4:()=>go,a5:()=>rl,a6:()=>Ya,a7:()=>Va,a8:()=>sl,a9:()=>ma,aA:()=>Kn,aB:()=>rt,aC:()=>Ee,aD:()=>Ca,aE:()=>gt,aF:()=>Me,aG:()=>cl,aH:()=>xs,aI:()=>Lo,aJ:()=>Mi,aN:()=>Xi,aQ:()=>Ir,aa:()=>Sa,ab:()=>Aa,ac:()=>ea,ad:()=>Vl,ae:()=>Za,af:()=>Co,ag:()=>Ws,ah:()=>j,ak:()=>_t,al:()=>In,am:()=>hi,ap:()=>q,aq:()=>Z,as:()=>ca,at:()=>A,au:()=>Ht,av:()=>an,aw:()=>tt,ax:()=>ye,ay:()=>gd,az:()=>vl,b:()=>on,c:()=>ya,d:()=>pc,e:()=>ec,f:()=>Ma,g:()=>Zs,h:()=>ia,i:()=>Ai,j:()=>Ts,k:()=>hu,l:()=>Ul,m:()=>Th,o:()=>yc,p:()=>Le,r:()=>Hl,s:()=>hc,u:()=>fc});var a=R(5861),ne=R(9058),O=R(534),w=R(7879),we=R(7582),Ge=R(4537);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xe=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ot=new w.Yd("@firebase/auth");function Ke(N,...y){Ot.logLevel<=w.in.ERROR&&Ot.error(`Auth (${O.SDK_VERSION}): ${N}`,...y)}function ye(N,...y){throw qe(N,...y)}function rt(N,...y){return qe(N,...y)}function W(N,y,C){const z=Object.assign(Object.assign({},Xe()),{[y]:C});return new ne.LL("auth","Firebase",z).create(y,{appName:N.name})}function Pe(N,y,C){if(!(y instanceof C))throw C.name!==y.constructor.name&&ye(N,"argument-error"),W(N,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(N,...y){if("string"!=typeof N){const C=y[0],z=[...y.slice(1)];return z[0]&&(z[0].appName=N.name),N._errorFactory.create(C,...z)}return ut.create(N,...y)}function Ee(N,y,...C){if(!N)throw qe(y,...C)}function It(N){const y="INTERNAL ASSERTION FAILED: "+N;throw Ke(y),new Error(y)}function Ht(N,y){N||It(y)}function Nt(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function Cn(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class Ln{constructor(y,C){this.shortDelay=y,this.longDelay=C,Ht(C>y,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return function ni(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cn()||(0,ne.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jn(N,y){Ht(N.emulator,"Emulator should always be set here");const{url:C}=N.emulator;return y?`${C}${y.startsWith("/")?y.slice(1):y}`:C}class kt{static initialize(y,C,z){this.fetchImpl=y,C&&(this.headersImpl=C),z&&(this.responseImpl=z)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bt=new Ln(3e4,6e4);function Rt(N,y){return N.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:N.tenantId}):y}function Be(N,y,C,z){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(N,y,C,z,ge={}){return Mt(N,ge,(0,a.Z)(function*(){let He={},zt={};z&&("GET"===y?zt=z:He={body:JSON.stringify(z)});const mn=(0,ne.xO)(Object.assign({key:N.config.apiKey},zt)).slice(1),Un=yield N._getAdditionalHeaders();return Un["Content-Type"]="application/json",N.languageCode&&(Un["X-Firebase-Locale"]=N.languageCode),kt.fetch()(yn(N,N.config.apiHost,C,mn),Object.assign({method:y,headers:Un,referrerPolicy:"no-referrer"},He))}))})).apply(this,arguments)}function Mt(N,y,C){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*(N,y,C){N._canInitEmulator=!1;const z=Object.assign(Object.assign({},pt),y);try{const ge=new Pn(N),He=yield Promise.race([C(),ge.promise]);ge.clearNetworkTimeout();const zt=yield He.json();if("needConfirmation"in zt)throw Lt(N,"account-exists-with-different-credential",zt);if(He.ok&&!("errorMessage"in zt))return zt;{const mn=He.ok?zt.errorMessage:zt.error.message,[Un,fi]=mn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Un)throw Lt(N,"credential-already-in-use",zt);if("EMAIL_EXISTS"===Un)throw Lt(N,"email-already-in-use",zt);if("USER_DISABLED"===Un)throw Lt(N,"user-disabled",zt);const Ii=z[Un]||Un.toLowerCase().replace(/[_\s]+/g,"-");if(fi)throw W(N,Ii,fi);ye(N,Ii)}}catch(ge){if(ge instanceof ne.ZR)throw ge;ye(N,"network-request-failed",{message:String(ge)})}})).apply(this,arguments)}function St(N,y,C,z){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(N,y,C,z,ge={}){const He=yield Be(N,y,C,z,ge);return"mfaPendingCredential"in He&&ye(N,"multi-factor-auth-required",{_serverResponse:He}),He})).apply(this,arguments)}function yn(N,y,C,z){const ge=`${y}${C}?${z}`;return N.config.emulator?jn(N.config,ge):`${N.config.apiScheme}://${ge}`}function Ut(N){switch(N){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((C,z)=>{this.timer=setTimeout(()=>z(rt(this.auth,"network-request-failed")),bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lt(N,y,C){const z={appName:N.name};C.email&&(z.email=C.email),C.phoneNumber&&(z.phoneNumber=C.phoneNumber);const ge=rt(N,y,z);return ge.customData._tokenResponse=C,ge}function Wt(N){return void 0!==N&&void 0!==N.getResponse}function _e(N){return void 0!==N&&void 0!==N.enterprise}class Ue{constructor(y){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=y.recaptchaEnforcementState}getProviderEnforcementState(y){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const C of this.recaptchaEnforcementState)if(C.provider&&C.provider===y)return Ut(C.enforcementState);return null}isProviderEnabled(y){return"ENFORCE"===this.getProviderEnforcementState(y)||"AUDIT"===this.getProviderEnforcementState(y)}}function $t(){return($t=(0,a.Z)(function*(N){return(yield Be(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pn(N,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(N,y){return Be(N,"GET","/v2/recaptchaConfig",Rt(N,y))})).apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ve(){return(Ve=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function je(N){if(N)try{const y=new Date(Number(N));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function rn(){return(rn=(0,a.Z)(function*(N,y=!1){const C=(0,ne.m9)(N),z=yield C.getIdToken(y),ge=gn(z);Ee(ge&&ge.exp&&ge.auth_time&&ge.iat,C.auth,"internal-error");const He="object"==typeof ge.firebase?ge.firebase:void 0,zt=He?.sign_in_provider;return{claims:ge,token:z,authTime:je(Fn(ge.auth_time)),issuedAtTime:je(Fn(ge.iat)),expirationTime:je(Fn(ge.exp)),signInProvider:zt||null,signInSecondFactor:He?.sign_in_second_factor||null}})).apply(this,arguments)}function Fn(N){return 1e3*Number(N)}function gn(N){const[y,C,z]=N.split(".");if(void 0===y||void 0===C||void 0===z)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const ge=(0,ne.tV)(C);return ge?JSON.parse(ge):(Ke("Failed to decode base64 JWT payload"),null)}catch(ge){return Ke("Caught error parsing JWT payload as JSON",ge?.toString()),null}}function An(N,y){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(N,y,C=!1){if(C)return y;try{return yield y}catch(z){throw z instanceof ne.ZR&&function xi({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}(z)&&N.auth.currentUser===N&&(yield N.auth.signOut()),z}})).apply(this,arguments)}class Li{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var C;if(y){const z=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),z}{this.errorBackoff=3e4;const ge=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,ge)}}schedule(y=!1){var C=this;if(!this.isRunning)return;const z=this.getInterval(y);this.timerId=setTimeout((0,a.Z)(function*(){yield C.iteration()}),z)}iteration(){var y=this;return(0,a.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&y.schedule(!0))}y.schedule()})()}}class zi{constructor(y,C){this.createdAt=y,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=je(this.lastLoginAt),this.creationTime=je(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sn(N){return ci.apply(this,arguments)}function ci(){return ci=(0,a.Z)(function*(N){var y;const C=N.auth,z=yield N.getIdToken(),ge=yield An(N,function xe(N,y){return Ve.apply(this,arguments)}(C,{idToken:z}));Ee(ge?.users.length,C,"internal-error");const He=ge.users[0];N._notifyReloadListener(He);const zt=null!==(y=He.providerUserInfo)&&void 0!==y&&y.length?function zn(N){return N.map(y=>{var{providerId:C}=y,z=(0,we._T)(y,["providerId"]);return{providerId:C,uid:z.rawId||"",displayName:z.displayName||null,email:z.email||null,phoneNumber:z.phoneNumber||null,photoURL:z.photoUrl||null}})}(He.providerUserInfo):[],mn=function xn(N,y){return[...N.filter(z=>!y.some(ge=>ge.providerId===z.providerId)),...y]}(N.providerData,zt),Ii=!!N.isAnonymous&&!(N.email&&He.passwordHash||mn?.length),fr={uid:He.localId,displayName:He.displayName||null,photoURL:He.photoUrl||null,email:He.email||null,emailVerified:He.emailVerified||!1,phoneNumber:He.phoneNumber||null,tenantId:He.tenantId||null,providerData:mn,metadata:new zi(He.createdAt,He.lastLoginAt),isAnonymous:Ii};Object.assign(N,fr)}),ci.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(N){const y=(0,ne.m9)(N);yield sn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(N,y){const C=yield Mt(N,{},(0,a.Z)(function*(){const z=(0,ne.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:ge,apiKey:He}=N.config,zt=yn(N,ge,"/v1/token",`key=${He}`),mn=yield N._getAdditionalHeaders();return mn["Content-Type"]="application/x-www-form-urlencoded",kt.fetch()(zt,{method:"POST",headers:mn,body:z})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}function ue(){return(ue=(0,a.Z)(function*(N,y){return Be(N,"POST","/v2/accounts:revokeToken",Rt(N,y))})).apply(this,arguments)}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ee(y.idToken,"internal-error"),Ee(typeof y.idToken<"u","internal-error"),Ee(typeof y.refreshToken<"u","internal-error");const C="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Hn(N){const y=gn(N);return Ee(y,"internal-error"),Ee(typeof y.exp<"u","internal-error"),Ee(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,C)}getToken(y,C=!1){var z=this;return(0,a.Z)(function*(){return Ee(!z.accessToken||z.refreshToken,y,"user-token-expired"),C||!z.accessToken||z.isExpired?z.refreshToken?(yield z.refresh(y,z.refreshToken),z.accessToken):null:z.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,C){var z=this;return(0,a.Z)(function*(){const{accessToken:ge,refreshToken:He,expiresIn:zt}=yield function Ri(N,y){return Yi.apply(this,arguments)}(y,C);z.updateTokensAndExpiration(ge,He,Number(zt))})()}updateTokensAndExpiration(y,C,z){this.refreshToken=C||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*z}static fromJSON(y,C){const{refreshToken:z,accessToken:ge,expirationTime:He}=C,zt=new J;return z&&(Ee("string"==typeof z,"internal-error",{appName:y}),zt.refreshToken=z),ge&&(Ee("string"==typeof ge,"internal-error",{appName:y}),zt.accessToken=ge),He&&(Ee("number"==typeof He,"internal-error",{appName:y}),zt.expirationTime=He),zt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return It("not implemented")}}function F(N,y){Ee("string"==typeof N||typeof N>"u","internal-error",{appName:y})}class G{constructor(y){var{uid:C,auth:z,stsTokenManager:ge}=y,He=(0,we._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=z,this.stsTokenManager=ge,this.accessToken=ge.accessToken,this.displayName=He.displayName||null,this.email=He.email||null,this.emailVerified=He.emailVerified||!1,this.phoneNumber=He.phoneNumber||null,this.photoURL=He.photoURL||null,this.isAnonymous=He.isAnonymous||!1,this.tenantId=He.tenantId||null,this.providerData=He.providerData?[...He.providerData]:[],this.metadata=new zi(He.createdAt||void 0,He.lastLoginAt||void 0)}getIdToken(y){var C=this;return(0,a.Z)(function*(){const z=yield An(C,C.stsTokenManager.getToken(C.auth,y));return Ee(z,C.auth,"internal-error"),C.accessToken!==z&&(C.accessToken=z,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),z})()}getIdTokenResult(y){return function At(N){return rn.apply(this,arguments)}(this,y)}reload(){return function tn(N){return kn.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ee(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(C=>Object.assign({},C)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const C=new G(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(y){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,C=!1){var z=this;return(0,a.Z)(function*(){let ge=!1;y.idToken&&y.idToken!==z.stsTokenManager.accessToken&&(z.stsTokenManager.updateFromServerResponse(y),ge=!0),C&&(yield sn(z)),yield z.auth._persistUserIfCurrent(z),ge&&z.auth._notifyListenersIfCurrent(z)})()}delete(){var y=this;return(0,a.Z)(function*(){const C=yield y.getIdToken();return yield An(y,function Qn(N,y){return ai.apply(this,arguments)}(y.auth,{idToken:C})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,C){var z,ge,He,zt,mn,Un,fi,Ii;const fr=null!==(z=C.displayName)&&void 0!==z?z:void 0,sa=null!==(ge=C.email)&&void 0!==ge?ge:void 0,Bo=null!==(He=C.phoneNumber)&&void 0!==He?He:void 0,bc=null!==(zt=C.photoURL)&&void 0!==zt?zt:void 0,ko=null!==(mn=C.tenantId)&&void 0!==mn?mn:void 0,yd=null!==(Un=C._redirectEventId)&&void 0!==Un?Un:void 0,Yc=null!==(fi=C.createdAt)&&void 0!==fi?fi:void 0,mu=null!==(Ii=C.lastLoginAt)&&void 0!==Ii?Ii:void 0,{uid:tl,emailVerified:Ol,isAnonymous:bd,providerData:Vd,stsTokenManager:cf}=C;Ee(tl&&cf,y,"internal-error");const Nr=J.fromJSON(this.name,cf);Ee("string"==typeof tl,y,"internal-error"),F(fr,y.name),F(sa,y.name),Ee("boolean"==typeof Ol,y,"internal-error"),Ee("boolean"==typeof bd,y,"internal-error"),F(Bo,y.name),F(bc,y.name),F(ko,y.name),F(yd,y.name),F(Yc,y.name),F(mu,y.name);const ju=new G({uid:tl,auth:y,email:sa,emailVerified:Ol,displayName:fr,isAnonymous:bd,photoURL:bc,phoneNumber:Bo,tenantId:ko,stsTokenManager:Nr,createdAt:Yc,lastLoginAt:mu});return Vd&&Array.isArray(Vd)&&(ju.providerData=Vd.map(Sh=>Object.assign({},Sh))),yd&&(ju._redirectEventId=yd),ju}static _fromIdTokenResponse(y,C,z=!1){return(0,a.Z)(function*(){const ge=new J;ge.updateFromServerResponse(C);const He=new G({uid:C.localId,auth:y,stsTokenManager:ge,isAnonymous:z});return yield sn(He),He})()}}const be=new Map;function gt(N){Ht(N instanceof Function,"Expected a class definition");let y=be.get(N);return y?(Ht(y instanceof N,"Instance stored in cache mismatched with class"),y):(y=new N,be.set(N,y),y)}const ot=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(C,z){var ge=this;return(0,a.Z)(function*(){ge.storage[C]=z})()}_get(C){var z=this;return(0,a.Z)(function*(){const ge=z.storage[C];return void 0===ge?null:ge})()}_remove(C){var z=this;return(0,a.Z)(function*(){delete z.storage[C]})()}_addListener(C,z){}_removeListener(C,z){}}return N.type="NONE",N})();function Me(N,y,C){return`firebase:${N}:${y}:${C}`}class We{constructor(y,C,z){this.persistence=y,this.auth=C,this.userKey=z;const{config:ge,name:He}=this.auth;this.fullUserKey=Me(this.userKey,ge.apiKey,He),this.fullPersistenceKey=Me("persistence",ge.apiKey,He),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,a.Z)(function*(){const C=yield y.persistence._get(y.fullUserKey);return C?G._fromJSON(y.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var C=this;return(0,a.Z)(function*(){if(C.persistence===y)return;const z=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=y,z?C.setCurrentUser(z):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,C,z="authUser"){return(0,a.Z)(function*(){if(!C.length)return new We(gt(ot),y,z);const ge=(yield Promise.all(C.map(function(){var fi=(0,a.Z)(function*(Ii){if(yield Ii._isAvailable())return Ii});return function(Ii){return fi.apply(this,arguments)}}()))).filter(fi=>fi);let He=ge[0]||gt(ot);const zt=Me(z,y.config.apiKey,y.name);let mn=null;for(const fi of C)try{const Ii=yield fi._get(zt);if(Ii){const fr=G._fromJSON(y,Ii);fi!==He&&(mn=fr),He=fi;break}}catch{}const Un=ge.filter(fi=>fi._shouldAllowMigration);return He._shouldAllowMigration&&Un.length?(He=Un[0],mn&&(yield He._set(zt,mn.toJSON())),yield Promise.all(C.map(function(){var fi=(0,a.Z)(function*(Ii){if(Ii!==He)try{yield Ii._remove(zt)}catch{}});return function(Ii){return fi.apply(this,arguments)}}())),new We(He,y,z)):new We(He,y,z)})()}}function st(N){const y=N.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(vt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Jt(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(dt(y))return"Blackberry";if(Gt(y))return"Webos";if(Qe(y))return"Safari";if((y.includes("chrome/")||et(y))&&!y.includes("edge/"))return"Chrome";if(tt(y))return"Android";{const z=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===z?.length)return z[1]}return"Other"}function Jt(N=(0,ne.z$)()){return/firefox\//i.test(N)}function Qe(N=(0,ne.z$)()){const y=N.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function et(N=(0,ne.z$)()){return/crios\//i.test(N)}function vt(N=(0,ne.z$)()){return/iemobile/i.test(N)}function tt(N=(0,ne.z$)()){return/android/i.test(N)}function dt(N=(0,ne.z$)()){return/blackberry/i.test(N)}function Gt(N=(0,ne.z$)()){return/webos/i.test(N)}function an(N=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function Kn(N=(0,ne.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}function ur(N=(0,ne.z$)()){return an(N)||tt(N)||Gt(N)||dt(N)||/windows phone/i.test(N)||vt(N)}function pr(N,y=[]){let C;switch(N){case"Browser":C=st((0,ne.z$)());break;case"Worker":C=`${st((0,ne.z$)())}-${N}`;break;default:C=N}const z=y.length?y.join(","):"FirebaseCore-web";return`${C}/JsCore/${O.SDK_VERSION}/${z}`}class Hr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,C){const z=He=>new Promise((zt,mn)=>{try{zt(y(He))}catch(Un){mn(Un)}});z.onAbort=C,this.queue.push(z);const ge=this.queue.length-1;return()=>{this.queue[ge]=()=>Promise.resolve()}}runMiddleware(y){var C=this;return(0,a.Z)(function*(){if(C.auth.currentUser===y)return;const z=[];try{for(const ge of C.queue)yield ge(y),ge.onAbort&&z.push(ge.onAbort)}catch(ge){z.reverse();for(const He of z)try{He()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:ge?.message})}})()}}function or(){return(or=(0,a.Z)(function*(N,y={}){return Be(N,"GET","/v2/passwordPolicy",Rt(N,y))})).apply(this,arguments)}class ts{constructor(y){var C,z,ge,He;const zt=y.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(C=zt.minPasswordLength)&&void 0!==C?C:6,zt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=zt.maxPasswordLength),void 0!==zt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=zt.containsLowercaseCharacter),void 0!==zt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=zt.containsUppercaseCharacter),void 0!==zt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=zt.containsNumericCharacter),void 0!==zt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=zt.containsNonAlphanumericCharacter),this.enforcementState=y.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ge=null===(z=y.allowedNonAlphanumericCharacters)||void 0===z?void 0:z.join(""))&&void 0!==ge?ge:"",this.forceUpgradeOnSignin=null!==(He=y.forceUpgradeOnSignin)&&void 0!==He&&He,this.schemaVersion=y.schemaVersion}validatePassword(y){var C,z,ge,He,zt,mn;const Un={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(y,Un),this.validatePasswordCharacterOptions(y,Un),Un.isValid&&(Un.isValid=null===(C=Un.meetsMinPasswordLength)||void 0===C||C),Un.isValid&&(Un.isValid=null===(z=Un.meetsMaxPasswordLength)||void 0===z||z),Un.isValid&&(Un.isValid=null===(ge=Un.containsLowercaseLetter)||void 0===ge||ge),Un.isValid&&(Un.isValid=null===(He=Un.containsUppercaseLetter)||void 0===He||He),Un.isValid&&(Un.isValid=null===(zt=Un.containsNumericCharacter)||void 0===zt||zt),Un.isValid&&(Un.isValid=null===(mn=Un.containsNonAlphanumericCharacter)||void 0===mn||mn),Un}validatePasswordLengthOptions(y,C){const z=this.customStrengthOptions.minPasswordLength,ge=this.customStrengthOptions.maxPasswordLength;z&&(C.meetsMinPasswordLength=y.length>=z),ge&&(C.meetsMaxPasswordLength=y.length<=ge)}validatePasswordCharacterOptions(y,C){let z;this.updatePasswordCharacterOptionsStatuses(C,!1,!1,!1,!1);for(let ge=0;ge<y.length;ge++)z=y.charAt(ge),this.updatePasswordCharacterOptionsStatuses(C,z>="a"&&z<="z",z>="A"&&z<="Z",z>="0"&&z<="9",this.allowedNonAlphanumericCharacters.includes(z))}updatePasswordCharacterOptionsStatuses(y,C,z,ge,He){this.customStrengthOptions.containsLowercaseLetter&&(y.containsLowercaseLetter||(y.containsLowercaseLetter=C)),this.customStrengthOptions.containsUppercaseLetter&&(y.containsUppercaseLetter||(y.containsUppercaseLetter=z)),this.customStrengthOptions.containsNumericCharacter&&(y.containsNumericCharacter||(y.containsNumericCharacter=ge)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(y.containsNonAlphanumericCharacter||(y.containsNonAlphanumericCharacter=He))}}class jr{constructor(y,C,z,ge){this.app=y,this.heartbeatServiceProvider=C,this.appCheckServiceProvider=z,this.config=ge,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zr(this),this.idTokenSubscription=new Zr(this),this.beforeStateQueue=new Hr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=ge.sdkClientVersion}_initializeWithPersistence(y,C){var z=this;return C&&(this._popupRedirectResolver=gt(C)),this._initializationPromise=this.queue((0,a.Z)(function*(){var ge,He;if(!z._deleted&&(z.persistenceManager=yield We.create(z,y),!z._deleted)){if(null!==(ge=z._popupRedirectResolver)&&void 0!==ge&&ge._shouldInitProactively)try{yield z._popupRedirectResolver._initialize(z)}catch{}yield z.initializeCurrentUser(C),z.lastNotifiedUid=(null===(He=z.currentUser)||void 0===He?void 0:He.uid)||null,!z._deleted&&(z._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,a.Z)(function*(){if(y._deleted)return;const C=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||C){if(y.currentUser&&C&&y.currentUser.uid===C.uid)return y._currentUser._assign(C),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(C,!0)}})()}initializeCurrentUser(y){var C=this;return(0,a.Z)(function*(){var z;const ge=yield C.assertedPersistence.getCurrentUser();let He=ge,zt=!1;if(y&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const mn=null===(z=C.redirectUser)||void 0===z?void 0:z._redirectEventId,Un=He?._redirectEventId,fi=yield C.tryRedirectSignIn(y);(!mn||mn===Un)&&fi?.user&&(He=fi.user,zt=!0)}if(!He)return C.directlySetCurrentUser(null);if(!He._redirectEventId){if(zt)try{yield C.beforeStateQueue.runMiddleware(He)}catch(mn){He=ge,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(mn))}return He?C.reloadAndSetCurrentUserOrClear(He):C.directlySetCurrentUser(null)}return Ee(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===He._redirectEventId?C.directlySetCurrentUser(He):C.reloadAndSetCurrentUserOrClear(He)})()}tryRedirectSignIn(y){var C=this;return(0,a.Z)(function*(){let z=null;try{z=yield C._popupRedirectResolver._completeRedirectFn(C,y,!0)}catch{yield C._setRedirectUser(null)}return z})()}reloadAndSetCurrentUserOrClear(y){var C=this;return(0,a.Z)(function*(){try{yield sn(y)}catch(z){if("auth/network-request-failed"!==z?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function wn(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var y=this;return(0,a.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var C=this;return(0,a.Z)(function*(){const z=y?(0,ne.m9)(y):null;return z&&Ee(z.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(z&&z._clone(C))})()}_updateCurrentUser(y,C=!1){var z=this;return(0,a.Z)(function*(){if(!z._deleted)return y&&Ee(z.tenantId===y.tenantId,z,"tenant-id-mismatch"),C||(yield z.beforeStateQueue.runMiddleware(y)),z.queue((0,a.Z)(function*(){yield z.directlySetCurrentUser(y),z.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,a.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var C=this;return this.queue((0,a.Z)(function*(){yield C.assertedPersistence.setPersistence(gt(y))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(y){var C=this;return(0,a.Z)(function*(){C._getPasswordPolicyInternal()||(yield C._updatePasswordPolicy());const z=C._getPasswordPolicyInternal();return z.schemaVersion!==C.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(C._errorFactory.create("unsupported-password-policy-schema-version",{})):z.validatePassword(y)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var y=this;return(0,a.Z)(function*(){const C=yield function qs(N){return or.apply(this,arguments)}(y),z=new ts(C);null===y.tenantId?y._projectPasswordPolicy=z:y._tenantPasswordPolicies[y.tenantId]=z})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new ne.LL("auth","Firebase",y())}onAuthStateChanged(y,C,z){return this.registerStateListener(this.authStateSubscription,y,C,z)}beforeAuthStateChanged(y,C){return this.beforeStateQueue.pushCallback(y,C)}onIdTokenChanged(y,C,z){return this.registerStateListener(this.idTokenSubscription,y,C,z)}authStateReady(){return new Promise((y,C)=>{if(this.currentUser)y();else{const z=this.onAuthStateChanged(()=>{z(),y()},C)}})}revokeAccessToken(y){var C=this;return(0,a.Z)(function*(){if(C.currentUser){const z=yield C.currentUser.getIdToken(),ge={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:y,idToken:z};null!=C.tenantId&&(ge.tenantId=C.tenantId),yield function Dt(N,y){return ue.apply(this,arguments)}(C,ge)}})()}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,C){var z=this;return(0,a.Z)(function*(){const ge=yield z.getOrInitRedirectPersistenceManager(C);return null===y?ge.removeCurrentUser():ge.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var C=this;return(0,a.Z)(function*(){if(!C.redirectPersistenceManager){const z=y&&gt(y)||C._popupRedirectResolver;Ee(z,C,"argument-error"),C.redirectPersistenceManager=yield We.create(C,[gt(z._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(y){var C=this;return(0,a.Z)(function*(){var z,ge;return C._isInitialized&&(yield C.queue((0,a.Z)(function*(){}))),(null===(z=C._currentUser)||void 0===z?void 0:z._redirectEventId)===y?C._currentUser:(null===(ge=C.redirectUser)||void 0===ge?void 0:ge._redirectEventId)===y?C.redirectUser:null})()}_persistUserIfCurrent(y){var C=this;return(0,a.Z)(function*(){if(y===C.currentUser)return C.queue((0,a.Z)(function*(){return C.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const z=null!==(C=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==z&&(this.lastNotifiedUid=z,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,C,z,ge){if(this._deleted)return()=>{};const He="function"==typeof C?C:C.next.bind(C);let zt=!1;const mn=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(mn,this,"internal-error"),mn.then(()=>{zt||He(this.currentUser)}),"function"==typeof C){const Un=y.addObserver(C,z,ge);return()=>{zt=!0,Un()}}{const Un=y.addObserver(C);return()=>{zt=!0,Un()}}}directlySetCurrentUser(y){var C=this;return(0,a.Z)(function*(){C.currentUser&&C.currentUser!==y&&C._currentUser._stopProactiveRefresh(),y&&C.isProactiveRefreshEnabled&&y._startProactiveRefresh(),C.currentUser=y,y?yield C.assertedPersistence.setCurrentUser(y):yield C.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,a.Z)(function*(){var C;const z={"X-Client-Version":y.clientVersion};y.app.options.appId&&(z["X-Firebase-gmpid"]=y.app.options.appId);const ge=yield null===(C=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();ge&&(z["X-Firebase-Client"]=ge);const He=yield y._getAppCheckToken();return He&&(z["X-Firebase-AppCheck"]=He),z})()}_getAppCheckToken(){var y=this;return(0,a.Z)(function*(){var C;const z=yield null===(C=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getToken();return z?.error&&function en(N,...y){Ot.logLevel<=w.in.WARN&&Ot.warn(`Auth (${O.SDK_VERSION}): ${N}`,...y)}(`Error while retrieving App Check token: ${z.error}`),z?.token})()}}function Mi(N){return(0,ne.m9)(N)}class Zr{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,ne.ne)(C=>this.observer=C)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gs(N){return new Promise((y,C)=>{const z=document.createElement("script");z.setAttribute("src",N),z.onload=y,z.onerror=ge=>{const He=rt("internal-error");He.customData=ge,C(He)},z.type="text/javascript",z.charset="UTF-8",function Hs(){var N,y;return null!==(y=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==y?y:document}().appendChild(z)})}function Is(N){return`__${N}${Math.floor(1e6*Math.random())}`}class zr{constructor(y){this.type="recaptcha-enterprise",this.auth=Mi(y)}verify(y="verify",C=!1){var z=this;return(0,a.Z)(function*(){function He(){return He=(0,a.Z)(function*(mn){if(!C){if(null==mn.tenantId&&null!=mn._agentRecaptchaConfig)return mn._agentRecaptchaConfig.siteKey;if(null!=mn.tenantId&&void 0!==mn._tenantRecaptchaConfigs[mn.tenantId])return mn._tenantRecaptchaConfigs[mn.tenantId].siteKey}return new Promise(function(){var Un=(0,a.Z)(function*(fi,Ii){pn(mn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(fr=>{if(void 0!==fr.recaptchaKey){const sa=new Ue(fr);return null==mn.tenantId?mn._agentRecaptchaConfig=sa:mn._tenantRecaptchaConfigs[mn.tenantId]=sa,fi(sa.siteKey)}Ii(new Error("recaptcha Enterprise site key undefined"))}).catch(fr=>{Ii(fr)})});return function(fi,Ii){return Un.apply(this,arguments)}}())}),He.apply(this,arguments)}function zt(mn,Un,fi){const Ii=window.grecaptcha;_e(Ii)?Ii.enterprise.ready(()=>{Ii.enterprise.execute(mn,{action:y}).then(fr=>{Un(fr)}).catch(()=>{Un("NO_RECAPTCHA")})}):fi(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mn,Un)=>{(function ge(mn){return He.apply(this,arguments)})(z.auth).then(fi=>{if(!C&&_e(window.grecaptcha))zt(fi,mn,Un);else{if(typeof window>"u")return void Un(new Error("RecaptchaVerifier is only supported in browser"));Gs("https://www.google.com/recaptcha/enterprise.js?render="+fi).then(()=>{zt(fi,mn,Un)}).catch(Ii=>{Un(Ii)})}}).catch(fi=>{Un(fi)})})})()}}function ir(N,y,C){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(N,y,C,z=!1){const ge=new zr(N);let He;try{He=yield ge.verify(C)}catch{He=yield ge.verify(C,!0)}const zt=Object.assign({},y);return Object.assign(zt,z?{captchaResp:He}:{captchaResponse:He}),Object.assign(zt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(zt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),zt})).apply(this,arguments)}function ao(N,y,C,z){return lo.apply(this,arguments)}function lo(){return lo=(0,a.Z)(function*(N,y,C,z){var ge;if(null!==(ge=N._getRecaptchaConfig())&&void 0!==ge&&ge.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const He=yield ir(N,y,C,"getOobCode"===C);return z(N,He)}return z(N,y).catch(function(){var He=(0,a.Z)(function*(zt){if("auth/missing-recaptcha-token"===zt.code){console.log(`${C} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mn=yield ir(N,y,C,"getOobCode"===C);return z(N,mn)}return Promise.reject(zt)});return function(zt){return He.apply(this,arguments)}}())}),lo.apply(this,arguments)}function br(N,y,C){const z=Mi(N);Ee(z._canInitEmulator,z,"emulator-config-failed"),Ee(/^https?:\/\//.test(y),z,"invalid-emulator-scheme");const ge=!!C?.disableWarnings,He=bo(y),{host:zt,port:mn}=function io(N){const y=bo(N),C=/(\/\/)?([^?#/]+)/.exec(N.substr(y.length));if(!C)return{host:"",port:null};const z=C[2].split("@").pop()||"",ge=/^(\[[^\]]+\])(:|$)/.exec(z);if(ge){const He=ge[1];return{host:He,port:Zi(z.substr(He.length+1))}}{const[He,zt]=z.split(":");return{host:He,port:Zi(zt)}}}(y);z.config.emulator={url:`${He}//${zt}${null===mn?"":`:${mn}`}/`},z.settings.appVerificationDisabledForTesting=!0,z.emulatorConfig=Object.freeze({host:zt,port:mn,protocol:He.replace(":",""),options:Object.freeze({disableWarnings:ge})}),ge||function Ui(){function N(){const y=document.createElement("p"),C=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}function bo(N){const y=N.indexOf(":");return y<0?"":N.substr(0,y+1)}function Zi(N){if(!N)return null;const y=Number(N);return isNaN(y)?null:y}class Oi{constructor(y,C){this.providerId=y,this.signInMethod=C}toJSON(){return It("not implemented")}_getIdTokenResponse(y){return It("not implemented")}_linkToIdToken(y,C){return It("not implemented")}_getReauthenticationResolver(y){return It("not implemented")}}function Tr(N,y){return ar.apply(this,arguments)}function ar(){return(ar=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:resetPassword",Rt(N,y))})).apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function As(N,y){return ki.apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:signUp",y)})).apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:update",Rt(N,y))})).apply(this,arguments)}function Ar(N,y){return ns.apply(this,arguments)}function ns(){return(ns=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signInWithPassword",Rt(N,y))})).apply(this,arguments)}function is(N,y){return bs.apply(this,arguments)}function bs(){return(bs=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:sendOobCode",Rt(N,y))})).apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(N,y){return is(N,y)})).apply(this,arguments)}function Ho(N,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(N,y){return is(N,y)})).apply(this,arguments)}function Yn(N,y){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(N,y){return is(N,y)})).apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(N,y){return is(N,y)})).apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signInWithEmailLink",Rt(N,y))})).apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signInWithEmailLink",Rt(N,y))})).apply(this,arguments)}class js extends Oi{constructor(y,C,z,ge=null){super("password",z),this._email=y,this._password=C,this._tenantId=ge}static _fromEmailAndPassword(y,C){return new js(y,C,"password")}static _fromEmailAndCode(y,C,z=null){return new js(y,C,"emailLink",z)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(y){var C=this;return(0,a.Z)(function*(){switch(C.signInMethod){case"password":return ao(y,{returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ar);case"emailLink":return function Qs(N,y){return qr.apply(this,arguments)}(y,{email:C._email,oobCode:C._password});default:ye(y,"internal-error")}})()}_linkToIdToken(y,C){var z=this;return(0,a.Z)(function*(){switch(z.signInMethod){case"password":return ao(y,{idToken:C,returnSecureToken:!0,email:z._email,password:z._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",As);case"emailLink":return function Ta(N,y){return Rr.apply(this,arguments)}(y,{idToken:C,email:z._email,oobCode:z._password});default:ye(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function hs(N,y){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signInWithIdp",Rt(N,y))})).apply(this,arguments)}class Rs extends Oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const C=new Rs(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(C.idToken=y.idToken),y.accessToken&&(C.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(C.nonce=y.nonce),y.pendingToken&&(C.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(C.accessToken=y.oauthToken,C.secret=y.oauthTokenSecret):ye("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:z,signInMethod:ge}=C,He=(0,we._T)(C,["providerId","signInMethod"]);if(!z||!ge)return null;const zt=new Rs(z,ge);return zt.idToken=He.idToken||void 0,zt.accessToken=He.accessToken||void 0,zt.secret=He.secret,zt.nonce=He.nonce,zt.pendingToken=He.pendingToken||null,zt}_getIdTokenResponse(y){return hs(y,this.buildRequest())}_linkToIdToken(y,C){const z=this.buildRequest();return z.idToken=C,hs(y,z)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,hs(y,C)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),y.postBody=(0,ne.xO)(C)}return y}}function Ji(){return(Ji=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:sendVerificationCode",Rt(N,y))})).apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signInWithPhoneNumber",Rt(N,y))})).apply(this,arguments)}function Qr(){return(Qr=(0,a.Z)(function*(N,y){const C=yield St(N,"POST","/v1/accounts:signInWithPhoneNumber",Rt(N,y));if(C.temporaryProof)throw Lt(N,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const ul={USER_NOT_FOUND:"user-not-found"};function uo(){return(uo=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signInWithPhoneNumber",Rt(N,Object.assign(Object.assign({},y),{operation:"REAUTH"})),ul)})).apply(this,arguments)}class ho extends Oi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,C){return new ho({verificationId:y,verificationCode:C})}static _fromTokenResponse(y,C){return new ho({phoneNumber:y,temporaryProof:C})}_getIdTokenResponse(y){return function Dr(N,y){return gr.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,C){return function Eo(N,y){return Qr.apply(this,arguments)}(y,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Ls(N,y){return uo.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:C,verificationId:z,verificationCode:ge}=this.params;return y&&C?{temporaryProof:y,phoneNumber:C}:{sessionInfo:z,code:ge}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:C,verificationCode:z,phoneNumber:ge,temporaryProof:He}=y;return z||C||ge||He?new ho({verificationId:C,verificationCode:z,phoneNumber:ge,temporaryProof:He}):null}}class No{constructor(y){var C,z,ge,He,zt,mn;const Un=(0,ne.zd)((0,ne.pd)(y)),fi=null!==(C=Un.apiKey)&&void 0!==C?C:null,Ii=null!==(z=Un.oobCode)&&void 0!==z?z:null,fr=function jo(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ge=Un.mode)&&void 0!==ge?ge:null);Ee(fi&&Ii&&fr,"argument-error"),this.apiKey=fi,this.operation=fr,this.code=Ii,this.continueUrl=null!==(He=Un.continueUrl)&&void 0!==He?He:null,this.languageCode=null!==(zt=Un.languageCode)&&void 0!==zt?zt:null,this.tenantId=null!==(mn=Un.tenantId)&&void 0!==mn?mn:null}static parseLink(y){const C=function yi(N){const y=(0,ne.zd)((0,ne.pd)(N)).link,C=y?(0,ne.zd)((0,ne.pd)(y)).deep_link_id:null,z=(0,ne.zd)((0,ne.pd)(N)).deep_link_id;return(z?(0,ne.zd)((0,ne.pd)(z)).link:null)||z||C||y||N}(y);try{return new No(C)}catch{return null}}}let zo=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(C,z){return js._fromEmailAndPassword(C,z)}static credentialWithLink(C,z){const ge=No.parseLink(z);return Ee(ge,"argument-error"),js._fromEmailAndCode(C,ge.code,ge.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class Gr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class ro extends Gr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class fs extends ro{static credentialFromJSON(y){const C="string"==typeof y?JSON.parse(y):y;return Ee("providerId"in C&&"signInMethod"in C,"argument-error"),Rs._fromParams(C)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ee(y.idToken||y.accessToken,"argument-error"),Rs._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return fs.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return fs.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:z,oauthTokenSecret:ge,pendingToken:He,nonce:zt,providerId:mn}=y;if(!z&&!ge&&!C&&!He||!mn)return null;try{return new fs(mn)._credential({idToken:C,accessToken:z,nonce:zt,pendingToken:He})}catch{return null}}}let oa=(()=>{class N extends ro{constructor(){super("facebook.com")}static credential(C){return Rs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return N.credential(C.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),Pi=(()=>{class N extends ro{constructor(){super("google.com"),this.addScope("profile")}static credential(C,z){return Rs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:z})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:z,oauthAccessToken:ge}=C;if(!z&&!ge)return null;try{return N.credential(z,ge)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),fa=(()=>{class N extends ro{constructor(){super("github.com")}static credential(C){return Rs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return N.credential(C.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class Ir extends Oi{constructor(y,C){super(y,y),this.pendingToken=C}_getIdTokenResponse(y){return hs(y,this.buildRequest())}_linkToIdToken(y,C){const z=this.buildRequest();return z.idToken=C,hs(y,z)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,hs(y,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:z,signInMethod:ge,pendingToken:He}=C;return z&&ge&&He&&z===ge?new Ir(z,He):null}static _create(y,C){return new Ir(y,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $r extends Gr{constructor(y){Ee(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return $r.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return $r.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const C=Ir.fromJSON(y);return Ee(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:C,providerId:z}=y;if(!C||!z)return null;try{return Ir._create(z,C)}catch{return null}}}let Ms=(()=>{class N extends ro{constructor(){super("twitter.com")}static credential(C,z){return Rs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:z})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:z,oauthTokenSecret:ge}=C;if(!z||!ge)return null;try{return N.credential(z,ge)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function ss(N,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signUp",Rt(N,y))})).apply(this,arguments)}class Vs{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,C,z,ge=!1){return(0,a.Z)(function*(){const He=yield G._fromIdTokenResponse(y,z,ge),zt=Qo(z);return new Vs({user:He,providerId:zt,_tokenResponse:z,operationType:C})})()}static _forOperation(y,C,z){return(0,a.Z)(function*(){yield y._updateTokensIfNecessary(z,!0);const ge=Qo(z);return new Vs({user:y,providerId:ge,_tokenResponse:z,operationType:C})})()}}function Qo(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function Wa(N){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(N){var y;const C=Mi(N);if(yield C._initializationPromise,null!==(y=C.currentUser)&&void 0!==y&&y.isAnonymous)return new Vs({user:C.currentUser,providerId:null,operationType:"signIn"});const z=yield ss(C,{returnSecureToken:!0}),ge=yield Vs._fromIdTokenResponse(C,"signIn",z,!0);return yield C._updateCurrentUser(ge.user),ge})).apply(this,arguments)}class fe extends ne.ZR{constructor(y,C,z,ge){var He;super(C.code,C.message),this.operationType=z,this.user=ge,Object.setPrototypeOf(this,fe.prototype),this.customData={appName:y.name,tenantId:null!==(He=y.tenantId)&&void 0!==He?He:void 0,_serverResponse:C.customData._serverResponse,operationType:z}}static _fromErrorAndOperation(y,C,z,ge){return new fe(y,C,z,ge)}}function M(N,y,C,z){return("reauthenticate"===y?C._getReauthenticationResolver(N):C._getIdTokenResponse(N)).catch(He=>{throw"auth/multi-factor-auth-required"===He.code?fe._fromErrorAndOperation(N,He,y,z):He})}function D(N){return new Set(N.map(({providerId:y})=>y).filter(y=>!!y))}function q(N,y){return de.apply(this,arguments)}function de(){return de=(0,a.Z)(function*(N,y){const C=(0,ne.m9)(N);yield Tn(!0,C,y);const{providerUserInfo:z}=yield function Pt(N,y){return Ie.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[y]}),ge=D(z||[]);return C.providerData=C.providerData.filter(He=>ge.has(He.providerId)),ge.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),de.apply(this,arguments)}function ct(N,y){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(N,y,C=!1){const z=yield An(N,y._linkToIdToken(N.auth,yield N.getIdToken()),C);return Vs._forOperation(N,"link",z)})).apply(this,arguments)}function Tn(N,y,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(N,y,C){yield sn(y);const ge=!1===N?"provider-already-linked":"no-such-provider";Ee(D(y.providerData).has(C)===N,y.auth,ge)})).apply(this,arguments)}function qn(N,y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(N,y,C=!1){const{auth:z}=N,ge="reauthenticate";try{const He=yield An(N,M(z,ge,y,N),C);Ee(He.idToken,z,"internal-error");const zt=gn(He.idToken);Ee(zt,z,"internal-error");const{sub:mn}=zt;return Ee(N.uid===mn,z,"user-mismatch"),Vs._forOperation(N,ge,He)}catch(He){throw"auth/user-not-found"===He?.code&&ye(z,"user-mismatch"),He}})).apply(this,arguments)}function rr(N,y){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(N,y,C=!1){const z="signIn",ge=yield M(N,z,y),He=yield Vs._fromIdTokenResponse(N,z,ge);return C||(yield N._updateCurrentUser(He.user)),He})).apply(this,arguments)}function Sr(N,y){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,a.Z)(function*(N,y){return rr(Mi(N),y)})).apply(this,arguments)}function Cs(N,y){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(N,y){const C=(0,ne.m9)(N);return yield Tn(!1,C,y.providerId),ct(C,y)})).apply(this,arguments)}function ms(N,y){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(N,y){return qn((0,ne.m9)(N),y)})).apply(this,arguments)}function Ds(){return(Ds=(0,a.Z)(function*(N,y){return St(N,"POST","/v1/accounts:signInWithCustomToken",Rt(N,y))})).apply(this,arguments)}function go(N,y){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,a.Z)(function*(N,y){const C=Mi(N),z=yield function Yr(N,y){return Ds.apply(this,arguments)}(C,{token:y,returnSecureToken:!0}),ge=yield Vs._fromIdTokenResponse(C,"signIn",z);return yield C._updateCurrentUser(ge.user),ge}),Jr.apply(this,arguments)}class so{constructor(y,C){this.factorId=y,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(y,C){return"phoneInfo"in C?ps._fromServerResponse(y,C):"totpInfo"in C?wo._fromServerResponse(y,C):ye(y,"internal-error")}}class ps extends so{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,C){return new ps(C)}}class wo extends so{constructor(y){super("totp",y)}static _fromServerResponse(y,C){return new wo(C)}}function fo(N,y,C){var z;Ee((null===(z=C.url)||void 0===z?void 0:z.length)>0,N,"invalid-continue-uri"),Ee(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),y.continueUrl=C.url,y.dynamicLinkDomain=C.dynamicLinkDomain,y.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(Ee(C.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),y.iOSBundleId=C.iOS.bundleId),C.android&&(Ee(C.android.packageName.length>0,N,"missing-android-pkg-name"),y.androidInstallApp=C.android.installApp,y.androidMinimumVersionCode=C.android.minimumVersion,y.androidPackageName=C.android.packageName)}function aa(N){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(N){const y=Mi(N);y._getPasswordPolicyInternal()&&(yield y._updatePasswordPolicy())})).apply(this,arguments)}function rl(N,y,C){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(N,y,C){const z=Mi(N),ge={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};C&&fo(z,ge,C),yield ao(z,ge,"getOobCode",Ho)})).apply(this,arguments)}function Ya(N,y,C){return la.apply(this,arguments)}function la(){return la=(0,a.Z)(function*(N,y,C){yield Tr((0,ne.m9)(N),{oobCode:y,newPassword:C}).catch(function(){var z=(0,a.Z)(function*(ge){throw"auth/password-does-not-meet-requirements"===ge.code&&aa(N),ge});return function(ge){return z.apply(this,arguments)}}())}),la.apply(this,arguments)}function Va(N,y){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,a.Z)(function*(N,y){yield function Hi(N,y){return di.apply(this,arguments)}((0,ne.m9)(N),{oobCode:y})}),Ro.apply(this,arguments)}function sl(N,y){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,a.Z)(function*(N,y){const C=(0,ne.m9)(N),z=yield Tr(C,{oobCode:y}),ge=z.requestType;switch(Ee(ge,C,"internal-error"),ge){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(z.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(z.mfaInfo,C,"internal-error");default:Ee(z.email,C,"internal-error")}let He=null;return z.mfaInfo&&(He=so._fromServerResponse(Mi(C),z.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===z.requestType?z.newEmail:z.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===z.requestType?z.email:z.newEmail)||null,multiFactorInfo:He},operation:ge}})).apply(this,arguments)}function ma(N,y){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,a.Z)(function*(N,y){const{data:C}=yield sl((0,ne.m9)(N),y);return C.email})).apply(this,arguments)}function Sa(N,y,C){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(N,y,C){const z=Mi(N),zt=yield ao(z,{returnSecureToken:!0,email:y,password:C,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ss).catch(Un=>{throw"auth/password-does-not-meet-requirements"===Un.code&&aa(N),Un}),mn=yield Vs._fromIdTokenResponse(z,"signIn",zt);return yield z._updateCurrentUser(mn.user),mn})).apply(this,arguments)}function Aa(N,y,C){return Sr((0,ne.m9)(N),zo.credential(y,C)).catch(function(){var z=(0,a.Z)(function*(ge){throw"auth/password-does-not-meet-requirements"===ge.code&&aa(N),ge});return function(ge){return z.apply(this,arguments)}}())}function ea(N,y,C){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,a.Z)(function*(N,y,C){const z=Mi(N),ge={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};(function He(zt,mn){Ee(mn.handleCodeInApp,z,"argument-error"),mn&&fo(z,zt,mn)})(ge,C),yield ao(z,ge,"getOobCode",Yn)})).apply(this,arguments)}function Vl(N,y){const C=No.parseLink(y);return"EMAIL_SIGNIN"===C?.operation}function Za(N,y,C){return po.apply(this,arguments)}function po(){return(po=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N),ge=zo.credentialWithLink(y,C||Nt());return Ee(ge._tenantId===(z.tenantId||null),z,"tenant-id-mismatch"),Sr(z,ge)})).apply(this,arguments)}function qa(){return(qa=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:createAuthUri",Rt(N,y))})).apply(this,arguments)}function Co(N,y){return El.apply(this,arguments)}function El(){return El=(0,a.Z)(function*(N,y){const z={identifier:y,continueUri:Cn()?Nt():"http://localhost"},{signinMethods:ge}=yield function ol(N,y){return qa.apply(this,arguments)}((0,ne.m9)(N),z);return ge||[]}),El.apply(this,arguments)}function Ws(N,y){return ta.apply(this,arguments)}function ta(){return ta=(0,a.Z)(function*(N,y){const C=(0,ne.m9)(N),ge={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};y&&fo(C.auth,ge,y);const{email:He}=yield function So(N,y){return qo.apply(this,arguments)}(C.auth,ge);He!==N.email&&(yield N.reload())}),ta.apply(this,arguments)}function j(N,y,C){return De.apply(this,arguments)}function De(){return De=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N),He={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:y};C&&fo(z.auth,He,C);const{email:zt}=yield function Vi(N,y){return mr.apply(this,arguments)}(z.auth,He);zt!==N.email&&(yield N.reload())}),De.apply(this,arguments)}function me(){return(me=(0,a.Z)(function*(N,y){return Be(N,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function _t(N,y){return cn.apply(this,arguments)}function cn(){return cn=(0,a.Z)(function*(N,{displayName:y,photoURL:C}){if(void 0===y&&void 0===C)return;const z=(0,ne.m9)(N),He={idToken:yield z.getIdToken(),displayName:y,photoUrl:C,returnSecureToken:!0},zt=yield An(z,function ie(N,y){return me.apply(this,arguments)}(z.auth,He));z.displayName=zt.displayName||null,z.photoURL=zt.photoUrl||null;const mn=z.providerData.find(({providerId:Un})=>"password"===Un);mn&&(mn.displayName=z.displayName,mn.photoURL=z.photoURL),yield z._updateTokensIfNecessary(zt)}),cn.apply(this,arguments)}function In(N,y){return dr((0,ne.m9)(N),y,null)}function hi(N,y){return dr((0,ne.m9)(N),null,y)}function dr(N,y,C){return _r.apply(this,arguments)}function _r(){return _r=(0,a.Z)(function*(N,y,C){const{auth:z}=N,He={idToken:yield N.getIdToken(),returnSecureToken:!0};y&&(He.email=y),C&&(He.password=C);const zt=yield An(N,function Fs(N,y){return co.apply(this,arguments)}(z,He));yield N._updateTokensIfNecessary(zt,!0)}),_r.apply(this,arguments)}class pi{constructor(y,C,z={}){this.isNewUser=y,this.providerId=C,this.profile=z}}class Or extends pi{constructor(y,C,z,ge){super(y,C,z),this.username=ge}}class Er extends pi{constructor(y,C){super(y,"facebook.com",C)}}class se extends Or{constructor(y,C){super(y,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class xt extends pi{constructor(y,C){super(y,"google.com",C)}}class T extends Or{constructor(y,C,z){super(y,"twitter.com",C,z)}}function Z(N){const{user:y,_tokenResponse:C}=N;return y.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function Bi(N){var y,C;if(!N)return null;const{providerId:z}=N,ge=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},He=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!z&&N?.idToken){const zt=null===(C=null===(y=gn(N.idToken))||void 0===y?void 0:y.firebase)||void 0===C?void 0:C.sign_in_provider;if(zt)return new pi(He,"anonymous"!==zt&&"custom"!==zt?zt:null)}if(!z)return null;switch(z){case"facebook.com":return new Er(He,ge);case"github.com":return new se(He,ge);case"google.com":return new xt(He,ge);case"twitter.com":return new T(He,ge,N.screenName||null);case"custom":case"anonymous":return new pi(He,null);default:return new pi(He,z,ge)}}(C)}class Go{constructor(y,C,z){this.type=y,this.credential=C,this.user=z}static _fromIdtoken(y,C){return new Go("enroll",y,C)}static _fromMfaPendingCredential(y){return new Go("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var C,z;if(y?.multiFactorSession){if(null!==(C=y.multiFactorSession)&&void 0!==C&&C.pendingCredential)return Go._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(z=y.multiFactorSession)&&void 0!==z&&z.idToken)return Go._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Ba{constructor(y,C,z){this.session=y,this.hints=C,this.signInResolver=z}static _fromError(y,C){const z=Mi(y),ge=C.customData._serverResponse,He=(ge.mfaInfo||[]).map(mn=>so._fromServerResponse(z,mn));Ee(ge.mfaPendingCredential,z,"internal-error");const zt=Go._fromMfaPendingCredential(ge.mfaPendingCredential);return new Ba(zt,He,function(){var mn=(0,a.Z)(function*(Un){const fi=yield Un._process(z,zt);delete ge.mfaInfo,delete ge.mfaPendingCredential;const Ii=Object.assign(Object.assign({},ge),{idToken:fi.idToken,refreshToken:fi.refreshToken});switch(C.operationType){case"signIn":const fr=yield Vs._fromIdTokenResponse(z,C.operationType,Ii);return yield z._updateCurrentUser(fr.user),fr;case"reauthenticate":return Ee(C.user,z,"internal-error"),Vs._forOperation(C.user,C.operationType,Ii);default:ye(z,"internal-error")}});return function(Un){return mn.apply(this,arguments)}}())}resolveSignIn(y){var C=this;return(0,a.Z)(function*(){return C.signInResolver(y)})()}}function ca(N,y){var C;const z=(0,ne.m9)(N),ge=y;return Ee(y.customData.operationType,z,"argument-error"),Ee(null===(C=ge.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,z,"argument-error"),Ba._fromError(z,ge)}class ui{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(z=>so._fromServerResponse(y.auth,z)))})}static _fromUser(y){return new ui(y)}getSession(){var y=this;return(0,a.Z)(function*(){return Go._fromIdtoken(yield y.user.getIdToken(),y.user)})()}enroll(y,C){var z=this;return(0,a.Z)(function*(){const ge=y,He=yield z.getSession(),zt=yield An(z.user,ge._process(z.user.auth,He,C));return yield z.user._updateTokensIfNecessary(zt),z.user.reload()})()}unenroll(y){var C=this;return(0,a.Z)(function*(){const z="string"==typeof y?y:y.uid,ge=yield C.user.getIdToken();try{const He=yield An(C.user,function ql(N,y){return Be(N,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(N,y))}(C.user.auth,{idToken:ge,mfaEnrollmentId:z}));C.enrolledFactors=C.enrolledFactors.filter(({uid:zt})=>zt!==z),yield C.user._updateTokensIfNecessary(He),yield C.user.reload()}catch(He){throw He}})()}}const re=new WeakMap;function A(N){const y=(0,ne.m9)(N);return re.has(y)||re.set(y,ui._fromUser(y)),re.get(y)}const x="__sak";class B{constructor(y,C){this.storageRetriever=y,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(x,"1"),this.storage.removeItem(x),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,C){return this.storage.setItem(y,JSON.stringify(C)),Promise.resolve()}_get(y){const C=this.storage.getItem(y);return Promise.resolve(C?JSON.parse(C):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const on=(()=>{class N extends B{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,z)=>this.onStorageEvent(C,z),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function X(){const N=(0,ne.z$)();return Qe(N)||an(N)}()&&function Ki(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ur(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const z of Object.keys(this.listeners)){const ge=this.storage.getItem(z),He=this.localCache[z];ge!==He&&C(z,He,ge)}}onStorageEvent(C,z=!1){if(!C.key)return void this.forAllChangedKeys((mn,Un,fi)=>{this.notifyListeners(mn,fi)});const ge=C.key;if(z?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const mn=this.storage.getItem(ge);if(C.newValue!==mn)null!==C.newValue?this.storage.setItem(ge,C.newValue):this.storage.removeItem(ge);else if(this.localCache[ge]===C.newValue&&!z)return}const He=()=>{const mn=this.storage.getItem(ge);!z&&this.localCache[ge]===mn||this.notifyListeners(ge,mn)},zt=this.storage.getItem(ge);!function _i(){return(0,ne.w1)()&&10===document.documentMode}()||zt===C.newValue||C.newValue===C.oldValue?He():setTimeout(He,10)}notifyListeners(C,z){this.localCache[C]=z;const ge=this.listeners[C];if(ge)for(const He of Array.from(ge))He(z&&JSON.parse(z))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,z,ge)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:z,newValue:ge}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,z){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(z)}_removeListener(C,z){this.listeners[C]&&(this.listeners[C].delete(z),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,z){var ge=()=>super._set,He=this;return(0,a.Z)(function*(){yield ge().call(He,C,z),He.localCache[C]=JSON.stringify(z)})()}_get(C){var z=()=>super._get,ge=this;return(0,a.Z)(function*(){const He=yield z().call(ge,C);return ge.localCache[C]=JSON.stringify(He),He})()}_remove(C){var z=()=>super._remove,ge=this;return(0,a.Z)(function*(){yield z().call(ge,C),delete ge.localCache[C]})()}}return N.type="LOCAL",N})(),li=(()=>{class N extends B{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,z){}_removeListener(C,z){}}return N.type="SESSION",N})();let Cr=(()=>{class N{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const z=this.receivers.find(He=>He.isListeningto(C));if(z)return z;const ge=new N(C);return this.receivers.push(ge),ge}isListeningto(C){return this.eventTarget===C}handleEvent(C){var z=this;return(0,a.Z)(function*(){const ge=C,{eventId:He,eventType:zt,data:mn}=ge.data,Un=z.handlersMap[zt];if(!Un?.size)return;ge.ports[0].postMessage({status:"ack",eventId:He,eventType:zt});const fi=Array.from(Un).map(function(){var fr=(0,a.Z)(function*(sa){return sa(ge.origin,mn)});return function(sa){return fr.apply(this,arguments)}}()),Ii=yield function mi(N){return Promise.all(N.map(function(){var y=(0,a.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(z){return{fulfilled:!1,reason:z}}});return function(C){return y.apply(this,arguments)}}()))}(fi);ge.ports[0].postMessage({status:"done",eventId:He,eventType:zt,response:Ii})})()}_subscribe(C,z){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(z)}_unsubscribe(C,z){this.handlersMap[C]&&z&&this.handlersMap[C].delete(z),(!z||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function Xi(N="",y=10){let C="";for(let z=0;z<y;z++)C+=Math.floor(10*Math.random());return N+C}class ln{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,C,z=50){var ge=this;return(0,a.Z)(function*(){const He=typeof MessageChannel<"u"?new MessageChannel:null;if(!He)throw new Error("connection_unavailable");let zt,mn;return new Promise((Un,fi)=>{const Ii=Xi("",20);He.port1.start();const fr=setTimeout(()=>{fi(new Error("unsupported_event"))},z);mn={messageChannel:He,onMessage(sa){const Bo=sa;if(Bo.data.eventId===Ii)switch(Bo.data.status){case"ack":clearTimeout(fr),zt=setTimeout(()=>{fi(new Error("timeout"))},3e3);break;case"done":clearTimeout(zt),Un(Bo.data.response);break;default:clearTimeout(fr),clearTimeout(zt),fi(new Error("invalid_response"))}}},ge.handlers.add(mn),He.port1.addEventListener("message",mn.onMessage),ge.target.postMessage({eventType:y,eventId:Ii,data:C},[He.port2])}).finally(()=>{mn&&ge.removeMessageHandler(mn)})})()}}function Nn(){return window}function vi(){return typeof Nn().WorkerGlobalScope<"u"&&"function"==typeof Nn().importScripts}function Vr(){return(Vr=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fo="firebaseLocalStorageDb",Qa="firebaseLocalStorage",Xr="fbase_key";class Gn{constructor(y){this.request=y}toPromise(){return new Promise((y,C)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Js(N,y){return N.transaction([Qa],y?"readwrite":"readonly").objectStore(Qa)}function Q(){const N=indexedDB.open(Fo,1);return new Promise((y,C)=>{N.addEventListener("error",()=>{C(N.error)}),N.addEventListener("upgradeneeded",()=>{const z=N.result;try{z.createObjectStore(Qa,{keyPath:Xr})}catch(ge){C(ge)}}),N.addEventListener("success",(0,a.Z)(function*(){const z=N.result;z.objectStoreNames.contains(Qa)?y(z):(z.close(),yield function U(){const N=indexedDB.deleteDatabase(Fo);return new Gn(N).toPromise()}(),y(yield Q()))}))})}function L(N,y,C){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(N,y,C){const z=Js(N,!0).put({[Xr]:y,value:C});return new Gn(z).toPromise()})).apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(function*(N,y){const C=Js(N,!1).get(y),z=yield new Gn(C).toPromise();return void 0===z?null:z.value})).apply(this,arguments)}function Je(N,y){const C=Js(N,!0).delete(y);return new Gn(C).toPromise()}const Ai=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,a.Z)(function*(){return C.db||(C.db=yield Q()),C.db})()}_withRetries(C){var z=this;return(0,a.Z)(function*(){let ge=0;for(;;)try{const He=yield z._openDb();return yield C(He)}catch(He){if(ge++>3)throw He;z.db&&(z.db.close(),z.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,a.Z)(function*(){return vi()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,a.Z)(function*(){C.receiver=Cr._getInstance(function ii(){return vi()?self:null}()),C.receiver._subscribe("keyChanged",function(){var z=(0,a.Z)(function*(ge,He){return{keyProcessed:(yield C._poll()).includes(He.key)}});return function(ge,He){return z.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var z=(0,a.Z)(function*(ge,He){return["keyChanged"]});return function(ge,He){return z.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,a.Z)(function*(){var z,ge;if(C.activeServiceWorker=yield function er(){return Vr.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new ln(C.activeServiceWorker);const He=yield C.sender._send("ping",{},800);He&&null!==(z=He[0])&&void 0!==z&&z.fulfilled&&null!==(ge=He[0])&&void 0!==ge&&ge.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var z=this;return(0,a.Z)(function*(){if(z.sender&&z.activeServiceWorker&&function Si(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===z.activeServiceWorker)try{yield z.sender._send("keyChanged",{key:C},z.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const C=yield Q();return yield L(C,x,"1"),yield Je(C,x),!0}catch{}return!1})()}_withPendingWrite(C){var z=this;return(0,a.Z)(function*(){z.pendingWrites++;try{yield C()}finally{z.pendingWrites--}})()}_set(C,z){var ge=this;return(0,a.Z)(function*(){return ge._withPendingWrite((0,a.Z)(function*(){return yield ge._withRetries(He=>L(He,C,z)),ge.localCache[C]=z,ge.notifyServiceWorker(C)}))})()}_get(C){var z=this;return(0,a.Z)(function*(){const ge=yield z._withRetries(He=>function oe(N,y){return Ce.apply(this,arguments)}(He,C));return z.localCache[C]=ge,ge})()}_remove(C){var z=this;return(0,a.Z)(function*(){return z._withPendingWrite((0,a.Z)(function*(){return yield z._withRetries(ge=>Je(ge,C)),delete z.localCache[C],z.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,a.Z)(function*(){const z=yield C._withRetries(zt=>{const mn=Js(zt,!1).getAll();return new Gn(mn).toPromise()});if(!z)return[];if(0!==C.pendingWrites)return[];const ge=[],He=new Set;for(const{fbase_key:zt,value:mn}of z)He.add(zt),JSON.stringify(C.localCache[zt])!==JSON.stringify(mn)&&(C.notifyListeners(zt,mn),ge.push(zt));for(const zt of Object.keys(C.localCache))C.localCache[zt]&&!He.has(zt)&&(C.notifyListeners(zt,null),ge.push(zt));return ge})()}notifyListeners(C,z){this.localCache[C]=z;const ge=this.listeners[C];if(ge)for(const He of Array.from(ge))He(z)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,z){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(z)}_removeListener(C,z){this.listeners[C]&&(this.listeners[C].delete(z),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})(),Xs=1e12;class _o{constructor(y){this.auth=y,this.counter=Xs,this._widgets=new Map}render(y,C){const z=this.counter;return this._widgets.set(z,new Ua(y,this.auth.name,C||{})),this.counter++,z}reset(y){var C;const z=y||Xs;null===(C=this._widgets.get(z))||void 0===C||C.delete(),this._widgets.delete(z)}getResponse(y){var C;return(null===(C=this._widgets.get(y||Xs))||void 0===C?void 0:C.getResponse())||""}execute(y){var C=this;return(0,a.Z)(function*(){var z;return null===(z=C._widgets.get(y||Xs))||void 0===z||z.execute(),""})()}}class Ua{constructor(y,C,z){this.params=z,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ge="string"==typeof y?document.getElementById(y):y;Ee(ge,"argument-error",{appName:C}),this.container=ge,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ha(N){const y=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<N;z++)y.push(C.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":C}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cl=Is("rcb"),Dl=new Ln(3e4,6e4);class Ql{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Nn().grecaptcha)||void 0===y||!y.render)}load(y,C=""){return Ee(function Oo(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(C),y,"argument-error"),this.shouldResolveImmediately(C)&&Wt(Nn().grecaptcha)?Promise.resolve(Nn().grecaptcha):new Promise((z,ge)=>{const He=Nn().setTimeout(()=>{ge(rt(y,"network-request-failed"))},Dl.get());Nn()[Cl]=()=>{Nn().clearTimeout(He),delete Nn()[Cl];const mn=Nn().grecaptcha;if(!mn||!Wt(mn))return void ge(rt(y,"internal-error"));const Un=mn.render;mn.render=(fi,Ii)=>{const fr=Un(fi,Ii);return this.counter++,fr},this.hostLanguage=C,z(mn)},Gs(`https://www.google.com/recaptcha/api.js??${(0,ne.xO)({onload:Cl,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(He),ge(rt(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var C;return!(null===(C=Nn().grecaptcha)||void 0===C||!C.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bc{load(y){return(0,a.Z)(function*(){return new _o(y)})()}clearedOneInstance(){}}const Ra="recaptcha",Uc={theme:"light",type:"image"};class Cc{constructor(y,C,z=Object.assign({},Uc)){this.parameters=z,this.type=Ra,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mi(y),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ge="string"==typeof C?document.getElementById(C):C;Ee(ge,this.auth,"argument-error"),this.container=ge,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bc:new Ql,this.validateStartingState()}verify(){var y=this;return(0,a.Z)(function*(){y.assertNotDestroyed();const C=yield y.render(),z=y.getAssertedRecaptcha();return z.getResponse(C)||new Promise(He=>{const zt=mn=>{mn&&(y.tokenChangeListeners.delete(zt),He(mn))};y.tokenChangeListeners.add(zt),y.isInvisible&&z.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return C=>{if(this.tokenChangeListeners.forEach(z=>z(C)),"function"==typeof y)y(C);else if("string"==typeof y){const z=Nn()[y];"function"==typeof z&&z(C)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,a.Z)(function*(){if(yield y.init(),!y.widgetId){let C=y.container;if(!y.isInvisible){const z=document.createElement("div");C.appendChild(z),C=z}y.widgetId=y.getAssertedRecaptcha().render(C,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,a.Z)(function*(){Ee(Cn()&&!vi(),y.auth,"internal-error"),yield function pl(){let N=null;return new Promise(y=>{"complete"!==document.readyState?(N=()=>y(),window.addEventListener("load",N)):y()}).catch(y=>{throw N&&window.removeEventListener("load",N),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const C=yield function at(N){return $t.apply(this,arguments)}(y.auth);Ee(C,y.auth,"internal-error"),y.parameters.sitekey=C})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $o{constructor(y,C){this.verificationId=y,this.onConfirmation=C}confirm(y){const C=ho._fromVerification(this.verificationId,y);return this.onConfirmation(C)}}function hc(N,y,C){return al.apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(N,y,C){const z=Mi(N),ge=yield Jl(z,y,(0,ne.m9)(C));return new $o(ge,He=>Sr(z,He))})).apply(this,arguments)}function Ul(N,y,C){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N);yield Tn(!1,z,"phone");const ge=yield Jl(z.auth,y,(0,ne.m9)(C));return new $o(ge,He=>Cs(z,He))})).apply(this,arguments)}function Hl(N,y,C){return xl.apply(this,arguments)}function xl(){return(xl=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N),ge=yield Jl(z.auth,y,(0,ne.m9)(C));return new $o(ge,He=>ms(z,He))})).apply(this,arguments)}function Jl(N,y,C){return xc.apply(this,arguments)}function xc(){return xc=(0,a.Z)(function*(N,y,C){var z;const ge=yield C.verify();try{let He;if(Ee("string"==typeof ge,N,"argument-error"),Ee(C.type===Ra,N,"argument-error"),He="string"==typeof y?{phoneNumber:y}:y,"session"in He){const zt=He.session;if("phoneNumber"in He)return Ee("enroll"===zt.type,N,"internal-error"),(yield function Bl(N,y){return Be(N,"POST","/v2/accounts/mfaEnrollment:start",Rt(N,y))}(N,{idToken:zt.credential,phoneEnrollmentInfo:{phoneNumber:He.phoneNumber,recaptchaToken:ge}})).phoneSessionInfo.sessionInfo;{Ee("signin"===zt.type,N,"internal-error");const mn=(null===(z=He.multiFactorHint)||void 0===z?void 0:z.uid)||He.multiFactorUid;return Ee(mn,N,"missing-multi-factor-info"),(yield function tr(N,y){return Be(N,"POST","/v2/accounts/mfaSignIn:start",Rt(N,y))}(N,{mfaPendingCredential:zt.credential,mfaEnrollmentId:mn,phoneSignInInfo:{recaptchaToken:ge}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:zt}=yield function Ao(N,y){return Ji.apply(this,arguments)}(N,{phoneNumber:He.phoneNumber,recaptchaToken:ge});return zt}}finally{C._reset()}}),xc.apply(this,arguments)}function fc(N,y){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(N,y){yield ct((0,ne.m9)(N),y)})).apply(this,arguments)}let Xl=(()=>{class N{constructor(C){this.providerId=N.PROVIDER_ID,this.auth=Mi(C)}verifyPhoneNumber(C,z){return Jl(this.auth,C,(0,ne.m9)(z))}static credential(C,z){return ho._fromVerification(C,z)}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:z,temporaryProof:ge}=C;return z&&ge?ho._fromTokenResponse(z,ge):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function jl(N,y){return y?gt(y):(Ee(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class Hu extends Oi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return hs(y,this._buildIdpRequest())}_linkToIdToken(y,C){return hs(y,this._buildIdpRequest(C))}_getReauthenticationResolver(y){return hs(y,this._buildIdpRequest())}_buildIdpRequest(y){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(C.idToken=y),C}}function Hf(N){return rr(N.auth,new Hu(N),N.bypassAuthState)}function Od(N){const{auth:y,user:C}=N;return Ee(C,y,"internal-error"),qn(C,new Hu(N),N.bypassAuthState)}function Ch(N){return nu.apply(this,arguments)}function nu(){return(nu=(0,a.Z)(function*(N){const{auth:y,user:C}=N;return Ee(C,y,"internal-error"),ct(C,new Hu(N),N.bypassAuthState)})).apply(this,arguments)}class kd{constructor(y,C,z,ge,He=!1){this.auth=y,this.resolver=z,this.user=ge,this.bypassAuthState=He,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var y=this;return new Promise(function(){var C=(0,a.Z)(function*(z,ge){y.pendingPromise={resolve:z,reject:ge};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(He){y.reject(He)}});return function(z,ge){return C.apply(this,arguments)}}())}onAuthEvent(y){var C=this;return(0,a.Z)(function*(){const{urlResponse:z,sessionId:ge,postBody:He,tenantId:zt,error:mn,type:Un}=y;if(mn)return void C.reject(mn);const fi={auth:C.auth,requestUri:z,sessionId:ge,tenantId:zt||void 0,postBody:He||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(Un)(fi))}catch(Ii){C.reject(Ii)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Hf;case"linkViaPopup":case"linkViaRedirect":return Ch;case"reauthViaPopup":case"reauthViaRedirect":return Od;default:ye(this.auth,"internal-error")}}resolve(y){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dh=new Ln(2e3,1e4);function ya(N,y,C){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,a.Z)(function*(N,y,C){const z=Mi(N);Pe(N,y,Gr);const ge=jl(z,C);return new Ja(z,"signInViaPopup",y,ge).executeNotNull()})).apply(this,arguments)}function ec(N,y,C){return ud.apply(this,arguments)}function ud(){return(ud=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N);Pe(z.auth,y,Gr);const ge=jl(z.auth,C);return new Ja(z.auth,"reauthViaPopup",y,ge,z).executeNotNull()})).apply(this,arguments)}function pc(N,y,C){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N);Pe(z.auth,y,Gr);const ge=jl(z.auth,C);return new Ja(z.auth,"linkViaPopup",y,ge,z).executeNotNull()})).apply(this,arguments)}let Ja=(()=>{class N extends kd{constructor(C,z,ge,He,zt){super(C,z,He,zt),this.provider=ge,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var C=this;return(0,a.Z)(function*(){const z=yield C.execute();return Ee(z,C.auth,"internal-error"),z})()}onExecution(){var C=this;return(0,a.Z)(function*(){Ht(1===C.filter.length,"Popup operations only handle one event");const z=Xi();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],z),C.authWindow.associatedEvent=z,C.resolver._originValidation(C.auth).catch(ge=>{C.reject(ge)}),C.resolver._isIframeWebStorageSupported(C.auth,ge=>{ge||C.reject(rt(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const C=()=>{var z,ge;this.pollId=null!==(ge=null===(z=this.authWindow)||void 0===z?void 0:z.window)&&void 0!==ge&&ge.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(C,Dh.get())};C()}}return N.currentPopupAction=null,N})();const Pd="pendingRedirect",Do=new Map;class iu extends kd{constructor(y,C,z=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,z),this.eventId=null}execute(){var y=()=>super.execute,C=this;return(0,a.Z)(function*(){let z=Do.get(C.auth._key());if(!z){try{const He=(yield function Il(N,y){return Xa.apply(this,arguments)}(C.resolver,C.auth))?yield y().call(C):null;z=()=>Promise.resolve(He)}catch(ge){z=()=>Promise.reject(ge)}Do.set(C.auth._key(),z)}return C.bypassAuthState||Do.set(C.auth._key(),()=>Promise.resolve(null)),z()})()}onAuthEvent(y){var C=()=>super.onAuthEvent,z=this;return(0,a.Z)(function*(){if("signInViaRedirect"===y.type)return C().call(z,y);if("unknown"!==y.type){if(y.eventId){const ge=yield z.auth._redirectUserForId(y.eventId);if(ge)return z.user=ge,C().call(z,y);z.resolve(null)}}else z.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Xa(){return(Xa=(0,a.Z)(function*(N,y){const C=gl(y),z=jc(N);if(!(yield z._isAvailable()))return!1;const ge="true"===(yield z._get(C));return yield z._remove(C),ge})).apply(this,arguments)}function eo(N,y){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(N,y){return jc(N)._set(gl(y),"true")})).apply(this,arguments)}function Lo(){Do.clear()}function xs(N,y){Do.set(N._key(),y)}function jc(N){return gt(N._redirectPersistence)}function gl(N){return Me(Pd,N.config.apiKey,N.name)}function Ma(N,y,C){return function zc(N,y,C){return Sl.apply(this,arguments)}(N,y,C)}function Sl(){return(Sl=(0,a.Z)(function*(N,y,C){const z=Mi(N);Pe(N,y,Gr),yield z._initializationPromise;const ge=jl(z,C);return yield eo(ge,z),ge._openRedirect(z,y,"signInViaRedirect")})).apply(this,arguments)}function ia(N,y,C){return function mc(N,y,C){return Vo.apply(this,arguments)}(N,y,C)}function Vo(){return(Vo=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N);Pe(z.auth,y,Gr),yield z.auth._initializationPromise;const ge=jl(z.auth,C);yield eo(ge,z.auth);const He=yield ls(z);return ge._openRedirect(z.auth,y,"reauthViaRedirect",He)})).apply(this,arguments)}function Zs(N,y,C){return function ja(N,y,C){return Tc.apply(this,arguments)}(N,y,C)}function Tc(){return(Tc=(0,a.Z)(function*(N,y,C){const z=(0,ne.m9)(N);Pe(z.auth,y,Gr),yield z.auth._initializationPromise;const ge=jl(z.auth,C);yield Tn(!1,z,y.providerId),yield eo(ge,z.auth);const He=yield ls(z);return ge._openRedirect(z.auth,y,"linkViaRedirect",He)})).apply(this,arguments)}function Ts(N,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(N,y){return yield Mi(N)._initializationPromise,cl(N,y,!1)})).apply(this,arguments)}function cl(N,y){return zl.apply(this,arguments)}function zl(){return(zl=(0,a.Z)(function*(N,y,C=!1){const z=Mi(N),ge=jl(z,y),zt=yield new iu(z,ge,C).execute();return zt&&!C&&(delete zt.user._redirectEventId,yield z._persistUserIfCurrent(zt.user),yield z._setRedirectUser(null,y)),zt})).apply(this,arguments)}function ls(N){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,a.Z)(function*(N){const y=Xi(`${N.uid}:::`);return N._redirectEventId=y,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),y})).apply(this,arguments)}class Ca{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let C=!1;return this.consumers.forEach(z=>{this.isEventForConsumer(y,z)&&(C=!0,this.sendToConsumer(y,z),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Gc(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vo(N);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=y,C=!0)),C}sendToConsumer(y,C){var z;if(y.error&&!vo(y)){const ge=(null===(z=y.error.code)||void 0===z?void 0:z.split("auth/")[1])||"internal-error";C.onError(rt(this.auth,ge))}else C.onAuthEvent(y)}isEventForConsumer(y,C){const z=null===C.eventId||!!y.eventId&&y.eventId===C.eventId;return C.filter.includes(y.type)&&z}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tc(y))}saveEventToCache(y){this.cachedEventUids.add(tc(y)),this.lastProcessedEventTime=Date.now()}}function tc(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(y=>y).join("-")}function vo({type:N,error:y}){return"unknown"===N&&"auth/no-auth-event"===y?.code}function vl(N){return Al.apply(this,arguments)}function Al(){return(Al=(0,a.Z)(function*(N,y={}){return Be(N,"GET","/v1/projects",y)})).apply(this,arguments)}const Rl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nc=/^https?/;function el(){return(el=(0,a.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:y}=yield vl(N);for(const C of y)try{if(hd(C))return}catch{}ye(N,"unauthorized-domain")})).apply(this,arguments)}function hd(N){const y=Nt(),{protocol:C,hostname:z}=new URL(y);if(N.startsWith("chrome-extension://")){const zt=new URL(N);return""===zt.hostname&&""===z?"chrome-extension:"===C&&N.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===C&&zt.hostname===z}if(!nc.test(C))return!1;if(Rl.test(N))return z===N;const ge=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ge+"|"+ge+")$","i").test(z)}const ru=new Ln(3e4,6e4);function fd(){const N=Nn().___jsl;if(N?.H)for(const y of Object.keys(N.H))if(N.H[y].r=N.H[y].r||[],N.H[y].L=N.H[y].L||[],N.H[y].r=[...N.H[y].L],N.CP)for(let C=0;C<N.CP.length;C++)N.CP[C]=null}let Wc=null;const af=new Ln(5e3,15e3),ou="__/auth/iframe",Sc="emulator/auth/iframe",Da={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hr(N){const y=N.config;Ee(y.authDomain,N,"auth-domain-config-required");const C=y.emulator?jn(y,Sc):`https://${N.config.authDomain}/${ou}`,z={apiKey:y.apiKey,appName:N.name,v:O.SDK_VERSION},ge=au.get(N.config.apiHost);ge&&(z.eid=ge);const He=N._getFrameworks();return He.length&&(z.fw=He.join(",")),`${C}?${(0,ne.xO)(z).slice(1)}`}function ic(){return ic=(0,a.Z)(function*(N){const y=yield function su(N){return Wc=Wc||function Nd(N){return new Promise((y,C)=>{var z,ge,He;function zt(){fd(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{fd(),C(rt(N,"network-request-failed"))},timeout:ru.get()})}if(null!==(ge=null===(z=Nn().gapi)||void 0===z?void 0:z.iframes)&&void 0!==ge&&ge.Iframe)y(gapi.iframes.getContext());else{if(null===(He=Nn().gapi)||void 0===He||!He.load){const mn=Is("iframefcb");return Nn()[mn]=()=>{gapi.load?zt():C(rt(N,"network-request-failed"))},Gs(`https://apis.google.com/js/api.js?onload=${mn}`).catch(Un=>C(Un))}zt()}}).catch(y=>{throw Wc=null,y})}(N),Wc}(N),C=Nn().gapi;return Ee(C,N,"internal-error"),y.open({where:document.body,url:hr(N),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Da,dontclear:!0},z=>new Promise(function(){var ge=(0,a.Z)(function*(He,zt){yield z.restyle({setHideOnLeave:!1});const mn=rt(N,"network-request-failed"),Un=Nn().setTimeout(()=>{zt(mn)},af.get());function fi(){Nn().clearTimeout(Un),He(z)}z.ping(fi).then(fi,()=>{zt(mn)})});return function(He,zt){return ge.apply(this,arguments)}}()))}),ic.apply(this,arguments)}const lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pr{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const md="__/auth/handler",lf="emulator/auth/handler",da=encodeURIComponent("fac");function gd(N,y,C,z,ge,He){return rc.apply(this,arguments)}function rc(){return(rc=(0,a.Z)(function*(N,y,C,z,ge,He){Ee(N.config.authDomain,N,"auth-domain-config-required"),Ee(N.config.apiKey,N,"invalid-api-key");const zt={apiKey:N.config.apiKey,appName:N.name,authType:C,redirectUrl:z,v:O.SDK_VERSION,eventId:ge};if(y instanceof Gr){y.setDefaultLanguage(N.languageCode),zt.providerId=y.providerId||"",(0,ne.xb)(y.getCustomParameters())||(zt.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ii,fr]of Object.entries(He||{}))zt[Ii]=fr}if(y instanceof ro){const Ii=y.getScopes().filter(fr=>""!==fr);Ii.length>0&&(zt.scopes=Ii.join(","))}N.tenantId&&(zt.tid=N.tenantId);const mn=zt;for(const Ii of Object.keys(mn))void 0===mn[Ii]&&delete mn[Ii];const Un=yield N._getAppCheckToken(),fi=Un?`#${da}=${encodeURIComponent(Un)}`:"";return`${function xh({config:N}){return N.emulator?jn(N,lf):`https://${N.authDomain}/${md}`}(N)}?${(0,ne.xO)(mn).slice(1)}${fi}`})).apply(this,arguments)}const Fd="webStorageSupport",hu=class uu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=li,this._completeRedirectFn=cl,this._overrideRedirectResult=xs}_openPopup(y,C,z,ge){var He=this;return(0,a.Z)(function*(){var zt;Ht(null===(zt=He.eventManagers[y._key()])||void 0===zt?void 0:zt.manager,"_initialize() not called before _openPopup()");const mn=yield gd(y,C,z,Nt(),ge);return function pd(N,y,C,z=500,ge=600){const He=Math.max((window.screen.availHeight-ge)/2,0).toString(),zt=Math.max((window.screen.availWidth-z)/2,0).toString();let mn="";const Un=Object.assign(Object.assign({},lu),{width:z.toString(),height:ge.toString(),top:He,left:zt}),fi=(0,ne.z$)().toLowerCase();C&&(mn=et(fi)?"_blank":C),Jt(fi)&&(y=y||"http://localhost",Un.scrollbars="yes");const Ii=Object.entries(Un).reduce((sa,[Bo,bc])=>`${sa}${Bo}=${bc},`,"");if(function bn(N=(0,ne.z$)()){var y;return an(N)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(fi)&&"_self"!==mn)return function du(N,y){const C=document.createElement("a");C.href=N,C.target=y;const z=document.createEvent("MouseEvent");z.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(z)}(y||"",mn),new Pr(null);const fr=window.open(y||"",mn,Ii);Ee(fr,N,"popup-blocked");try{fr.focus()}catch{}return new Pr(fr)}(y,mn,Xi())})()}_openRedirect(y,C,z,ge){var He=this;return(0,a.Z)(function*(){return yield He._originValidation(y),function Ys(N){Nn().location.href=N}(yield gd(y,C,z,Nt(),ge)),new Promise(()=>{})})()}_initialize(y){const C=y._key();if(this.eventManagers[C]){const{manager:ge,promise:He}=this.eventManagers[C];return ge?Promise.resolve(ge):(Ht(He,"If manager is not set, promise should be"),He)}const z=this.initAndGetManager(y);return this.eventManagers[C]={promise:z},z.catch(()=>{delete this.eventManagers[C]}),z}initAndGetManager(y){var C=this;return(0,a.Z)(function*(){const z=yield function $l(N){return ic.apply(this,arguments)}(y),ge=new Ca(y);return z.register("authEvent",He=>(Ee(He?.authEvent,y,"invalid-auth-event"),{status:ge.onEvent(He.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[y._key()]={manager:ge},C.iframes[y._key()]=z,ge})()}_isIframeWebStorageSupported(y,C){this.iframes[y._key()].send(Fd,{type:Fd},ge=>{var He;const zt=null===(He=ge?.[0])||void 0===He?void 0:He[Fd];void 0!==zt&&C(!!zt),ye(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const C=y._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function $c(N){return el.apply(this,arguments)}(y)),this.originValidationPromises[C]}get _shouldInitProactively(){return ur()||Qe()||an()}};class fu{constructor(y){this.factorId=y}_process(y,C,z){switch(C.type){case"enroll":return this._finalizeEnroll(y,C.credential,z);case"signin":return this._finalizeSignIn(y,C.credential);default:return It("unexpected MultiFactorSessionType")}}}class pu extends fu{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new pu(y)}_finalizeEnroll(y,C,z){return function Bn(N,y){return Be(N,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(N,y))}(y,{idToken:C,displayName:z,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,C){return function Ei(N,y){return Be(N,"POST","/v2/accounts/mfaSignIn:finalize",Rt(N,y))}(y,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Th=(()=>{class N{constructor(){}static assertion(C){return pu._fromCredential(C)}}return N.FACTOR_ID="phone",N})();var Ml="@firebase/auth";class vc{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var C=this;return(0,a.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const C=this.auth.onIdTokenChanged(z=>{y(z?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,C),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const C=this.internalListeners.get(y);C&&(this.internalListeners.delete(y),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ra=(0,ne.Pz)("authIdTokenMaxAge")||300;let oc=null;const xa=N=>function(){var y=(0,a.Z)(function*(C){const z=C&&(yield C.getIdTokenResult()),ge=z&&((new Date).getTime()-Date.parse(z.issuedAtTime))/1e3;if(ge&&ge>ra)return;const He=z?.token;oc!==He&&(oc=He,yield fetch(N,{method:He?"POST":"DELETE",headers:He?{Authorization:`Bearer ${He}`}:{}}))});return function(C){return y.apply(this,arguments)}}();function yc(N=(0,O.getApp)()){const y=(0,O._getProvider)(N,"auth");if(y.isInitialized())return y.getImmediate();const C=function ys(N,y){const C=(0,O._getProvider)(N,"auth");if(C.isInitialized()){const ge=C.getImmediate(),He=C.getOptions();if((0,ne.vZ)(He,y??{}))return ge;ye(ge,"already-initialized")}return C.initialize({options:y})}(N,{popupRedirectResolver:hu,persistence:[Ai,on,li]}),z=(0,ne.Pz)("authTokenSyncURL");if(z){const He=xa(z);(function bi(N,y,C){(0,ne.m9)(N).beforeAuthStateChanged(y,C)})(C,He,()=>He(C.currentUser)),function Di(N,y,C,z){(0,ne.m9)(N).onIdTokenChanged(y,C,z)}(C,zt=>He(zt))}const ge=(0,ne.q4)("auth");return ge&&br(C,`http://${ge}`),C}!function Br(N){(0,O._registerComponent)(new Ge.wA("auth",(y,{options:C})=>{const z=y.getProvider("app").getImmediate(),ge=y.getProvider("heartbeat"),He=y.getProvider("app-check-internal"),{apiKey:zt,authDomain:mn}=z.options;Ee(zt&&!zt.includes(":"),"invalid-api-key",{appName:z.name});const Un={apiKey:zt,authDomain:mn,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pr(N)},fi=new jr(z,ge,He,Un);return function Zo(N,y){const C=y?.persistence||[],z=(Array.isArray(C)?C:[C]).map(gt);y?.errorMap&&N._updateErrorMap(y.errorMap),N._initializeWithPersistence(z,y?.popupRedirectResolver)}(fi,C),fi},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,C,z)=>{y.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new Ge.wA("auth-internal",y=>{const C=Mi(y.getProvider("auth").getImmediate());return new vc(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Ml,"1.4.0",function za(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,O.registerVersion)(Ml,"1.4.0","esm2017")}("Browser")},9058:(Sn,Et,R)=>{R.d(Et,{BH:()=>W,DV:()=>Ue,Dv:()=>Fn,G6:()=>jn,GJ:()=>Wt,L:()=>ze,LL:()=>Te,Pz:()=>rt,Sg:()=>Pe,UG:()=>It,UI:()=>$t,US:()=>Ge,Wj:()=>An,Wl:()=>Bt,Yr:()=>Ln,ZB:()=>Ye,ZR:()=>Be,aH:()=>ye,b$:()=>Cn,cI:()=>St,dS:()=>xi,eu:()=>pt,g5:()=>O,gK:()=>gn,gQ:()=>xe,h$:()=>Le,hl:()=>kt,hu:()=>ne,jU:()=>Ht,lb:()=>Ci,m9:()=>Yi,ne:()=>Ve,p$:()=>Fe,pd:()=>Ie,q4:()=>en,r3:()=>_e,ru:()=>Nt,tV:()=>H,uI:()=>Ee,ug:()=>Li,vZ:()=>pn,w1:()=>ni,w9:()=>Lt,xO:()=>ai,xb:()=>at,z$:()=>qe,zd:()=>Pt});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ne=function(Dt,ue){if(!Dt)throw O(ue)},O=function(Dt){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Dt)},w=function(Dt){const ue=[];let J=0;for(let F=0;F<Dt.length;F++){let G=Dt.charCodeAt(F);G<128?ue[J++]=G:G<2048?(ue[J++]=G>>6|192,ue[J++]=63&G|128):55296==(64512&G)&&F+1<Dt.length&&56320==(64512&Dt.charCodeAt(F+1))?(G=65536+((1023&G)<<10)+(1023&Dt.charCodeAt(++F)),ue[J++]=G>>18|240,ue[J++]=G>>12&63|128,ue[J++]=G>>6&63|128,ue[J++]=63&G|128):(ue[J++]=G>>12|224,ue[J++]=G>>6&63|128,ue[J++]=63&G|128)}return ue},Ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Dt,ue){if(!Array.isArray(Dt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let G=0;G<Dt.length;G+=3){const be=Dt[G],gt=G+1<Dt.length,nt=gt?Dt[G+1]:0,ot=G+2<Dt.length,Me=ot?Dt[G+2]:0;let Jt=(15&nt)<<2|Me>>6,Qe=63&Me;ot||(Qe=64,gt||(Jt=64)),F.push(J[be>>2],J[(3&be)<<4|nt>>4],J[Jt],J[Qe])}return F.join("")},encodeString(Dt,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(Dt):this.encodeByteArray(w(Dt),ue)},decodeString(Dt,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(Dt):function(Dt){const ue=[];let J=0,F=0;for(;J<Dt.length;){const G=Dt[J++];if(G<128)ue[F++]=String.fromCharCode(G);else if(G>191&&G<224){const be=Dt[J++];ue[F++]=String.fromCharCode((31&G)<<6|63&be)}else if(G>239&&G<365){const ot=((7&G)<<18|(63&Dt[J++])<<12|(63&Dt[J++])<<6|63&Dt[J++])-65536;ue[F++]=String.fromCharCode(55296+(ot>>10)),ue[F++]=String.fromCharCode(56320+(1023&ot))}else{const be=Dt[J++],gt=Dt[J++];ue[F++]=String.fromCharCode((15&G)<<12|(63&be)<<6|63&gt)}}return ue.join("")}(this.decodeStringToByteArray(Dt,ue))},decodeStringToByteArray(Dt,ue){this.init_();const J=ue?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let G=0;G<Dt.length;){const be=J[Dt.charAt(G++)],nt=G<Dt.length?J[Dt.charAt(G)]:0;++G;const Me=G<Dt.length?J[Dt.charAt(G)]:64;++G;const st=G<Dt.length?J[Dt.charAt(G)]:64;if(++G,null==be||null==nt||null==Me||null==st)throw new $e;F.push(be<<2|nt>>4),64!==Me&&(F.push(nt<<4&240|Me>>2),64!==st&&F.push(Me<<6&192|st))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Dt=0;Dt<this.ENCODED_VALS.length;Dt++)this.byteToCharMap_[Dt]=this.ENCODED_VALS.charAt(Dt),this.charToByteMap_[this.byteToCharMap_[Dt]]=Dt,this.byteToCharMapWebSafe_[Dt]=this.ENCODED_VALS_WEBSAFE.charAt(Dt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Dt]]=Dt,Dt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Dt)]=Dt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Dt)]=Dt)}}};class $e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(Dt){const ue=w(Dt);return Ge.encodeByteArray(ue,!0)},ze=function(Dt){return Le(Dt).replace(/\./g,"")},H=function(Dt){try{return Ge.decodeString(Dt,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function Fe(Dt){return Ye(void 0,Dt)}function Ye(Dt,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===Dt&&(Dt={});break;case Array:Dt=[];break;default:return ue}for(const J in ue)!ue.hasOwnProperty(J)||!yt(J)||(Dt[J]=Ye(Dt[J],ue[J]));return Dt}function yt(Dt){return"__proto__"!==Dt}const Ot=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Dt=process.env.__FIREBASE_DEFAULTS__;return Dt?JSON.parse(Dt):void 0})()||(()=>{if(typeof document>"u")return;let Dt;try{Dt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=Dt&&H(Dt[1]);return ue&&JSON.parse(ue)})()}catch(Dt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Dt}`)}},en=Dt=>{var ue,J;return null===(J=null===(ue=Ot())||void 0===ue?void 0:ue.emulatorHosts)||void 0===J?void 0:J[Dt]},ye=()=>{var Dt;return null===(Dt=Ot())||void 0===Dt?void 0:Dt.config},rt=Dt=>{var ue;return null===(ue=Ot())||void 0===ue?void 0:ue[`_${Dt}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,J)=>{this.resolve=ue,this.reject=J})}wrapCallback(ue){return(J,F)=>{J?this.reject(J):this.resolve(F),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(J):ue(J,F))}}}function Pe(Dt,ue){if(Dt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=ue||"demo-project",G=Dt.iat||0,be=Dt.sub||Dt.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:G,exp:G+3600,auth_time:G,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},Dt);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(gt)),""].join(".")}function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function It(){var Dt;const ue=null===(Dt=Ot())||void 0===Dt?void 0:Dt.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function Nt(){const Dt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Dt&&void 0!==Dt.id}function Cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ni(){const Dt=qe();return Dt.indexOf("MSIE ")>=0||Dt.indexOf("Trident/")>=0}function Ln(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function jn(){return!It()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kt(){try{return"object"==typeof indexedDB}catch{return!1}}function pt(){return new Promise((Dt,ue)=>{try{let J=!0;const F="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(F);G.onsuccess=()=>{G.result.close(),J||self.indexedDB.deleteDatabase(F),Dt(!0)},G.onupgradeneeded=()=>{J=!1},G.onerror=()=>{var be;ue((null===(be=G.error)||void 0===be?void 0:be.message)||"")}}catch(J){ue(J)}})}class Be extends Error{constructor(ue,J,F){super(J),this.code=ue,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(ue,J,F){this.service=ue,this.serviceName=J,this.errors=F}create(ue,...J){const F=J[0]||{},G=`${this.service}/${ue}`,be=this.errors[ue],gt=be?function Mt(Dt,ue){return Dt.replace(Ze,(J,F)=>{const G=ue[F];return null!=G?String(G):`<${F}?>`})}(be,F):"Error";return new Be(G,`${this.serviceName}: ${gt} (${G}).`,F)}}const Ze=/\{\$([^}]+)}/g;function St(Dt){return JSON.parse(Dt)}function Bt(Dt){return JSON.stringify(Dt)}const yn=function(Dt){let ue={},J={},F={},G="";try{const be=Dt.split(".");ue=St(H(be[0])||""),J=St(H(be[1])||""),G=be[2],F=J.d||{},delete J.d}catch{}return{header:ue,claims:J,data:F,signature:G}},Lt=function(Dt){const J=yn(Dt).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},Wt=function(Dt){const ue=yn(Dt).claims;return"object"==typeof ue&&!0===ue.admin};function _e(Dt,ue){return Object.prototype.hasOwnProperty.call(Dt,ue)}function Ue(Dt,ue){if(Object.prototype.hasOwnProperty.call(Dt,ue))return Dt[ue]}function at(Dt){for(const ue in Dt)if(Object.prototype.hasOwnProperty.call(Dt,ue))return!1;return!0}function $t(Dt,ue,J){const F={};for(const G in Dt)Object.prototype.hasOwnProperty.call(Dt,G)&&(F[G]=ue.call(J,Dt[G],G,Dt));return F}function pn(Dt,ue){if(Dt===ue)return!0;const J=Object.keys(Dt),F=Object.keys(ue);for(const G of J){if(!F.includes(G))return!1;const be=Dt[G],gt=ue[G];if(dn(be)&&dn(gt)){if(!pn(be,gt))return!1}else if(be!==gt)return!1}for(const G of F)if(!J.includes(G))return!1;return!0}function dn(Dt){return null!==Dt&&"object"==typeof Dt}function ai(Dt){const ue=[];for(const[J,F]of Object.entries(Dt))Array.isArray(F)?F.forEach(G=>{ue.push(encodeURIComponent(J)+"="+encodeURIComponent(G))}):ue.push(encodeURIComponent(J)+"="+encodeURIComponent(F));return ue.length?"&"+ue.join("&"):""}function Pt(Dt){const ue={};return Dt.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[G,be]=F.split("=");ue[decodeURIComponent(G)]=decodeURIComponent(be)}}),ue}function Ie(Dt){const ue=Dt.indexOf("?");if(!ue)return"";const J=Dt.indexOf("#",ue);return Dt.substring(ue,J>0?J:void 0)}class xe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ue=1;ue<this.blockSize;++ue)this.pad_[ue]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ue,J){J||(J=0);const F=this.W_;if("string"==typeof ue)for(let st=0;st<16;st++)F[st]=ue.charCodeAt(J)<<24|ue.charCodeAt(J+1)<<16|ue.charCodeAt(J+2)<<8|ue.charCodeAt(J+3),J+=4;else for(let st=0;st<16;st++)F[st]=ue[J]<<24|ue[J+1]<<16|ue[J+2]<<8|ue[J+3],J+=4;for(let st=16;st<80;st++){const Jt=F[st-3]^F[st-8]^F[st-14]^F[st-16];F[st]=4294967295&(Jt<<1|Jt>>>31)}let Me,We,G=this.chain_[0],be=this.chain_[1],gt=this.chain_[2],nt=this.chain_[3],ot=this.chain_[4];for(let st=0;st<80;st++){st<40?st<20?(Me=nt^be&(gt^nt),We=1518500249):(Me=be^gt^nt,We=1859775393):st<60?(Me=be&gt|nt&(be|gt),We=2400959708):(Me=be^gt^nt,We=3395469782);const Jt=(G<<5|G>>>27)+Me+ot+We+F[st]&4294967295;ot=nt,nt=gt,gt=4294967295&(be<<30|be>>>2),be=G,G=Jt}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+be&4294967295,this.chain_[2]=this.chain_[2]+gt&4294967295,this.chain_[3]=this.chain_[3]+nt&4294967295,this.chain_[4]=this.chain_[4]+ot&4294967295}update(ue,J){if(null==ue)return;void 0===J&&(J=ue.length);const F=J-this.blockSize;let G=0;const be=this.buf_;let gt=this.inbuf_;for(;G<J;){if(0===gt)for(;G<=F;)this.compress_(ue,G),G+=this.blockSize;if("string"==typeof ue){for(;G<J;)if(be[gt]=ue.charCodeAt(G),++gt,++G,gt===this.blockSize){this.compress_(be),gt=0;break}}else for(;G<J;)if(be[gt]=ue[G],++gt,++G,gt===this.blockSize){this.compress_(be),gt=0;break}}this.inbuf_=gt,this.total_+=J}digest(){const ue=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&J,J/=256;this.compress_(this.buf_);let F=0;for(let G=0;G<5;G++)for(let be=24;be>=0;be-=8)ue[F]=this.chain_[G]>>be&255,++F;return ue}}function Ve(Dt,ue){const J=new je(Dt,ue);return J.subscribe.bind(J)}class je{constructor(ue,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{ue(this)}).catch(F=>{this.error(F)})}next(ue){this.forEachObserver(J=>{J.next(ue)})}error(ue){this.forEachObserver(J=>{J.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,J,F){let G;if(void 0===ue&&void 0===J&&void 0===F)throw new Error("Missing Observer.");G=function At(Dt,ue){if("object"!=typeof Dt||null===Dt)return!1;for(const J of ue)if(J in Dt&&"function"==typeof Dt[J])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:J,complete:F},void 0===G.next&&(G.next=rn),void 0===G.error&&(G.error=rn),void 0===G.complete&&(G.complete=rn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),be}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,ue)}sendOne(ue,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{J(this.observers[ue])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}const Fn=function(Dt,ue,J,F){let G;if(F<ue?G="at least "+ue:F>J&&(G=0===J?"none":"no more than "+J),G)throw new Error(Dt+" failed: Was called with "+F+(1===F?" argument.":" arguments.")+" Expects "+G+".")};function gn(Dt,ue){return`${Dt} failed: ${ue} argument `}function An(Dt,ue,J,F){if((!F||J)&&"function"!=typeof J)throw new Error(gn(Dt,ue)+"must be a valid function.")}function Ci(Dt,ue,J,F){if((!F||J)&&("object"!=typeof J||null===J))throw new Error(gn(Dt,ue)+"must be a valid context object.")}const xi=function(Dt){const ue=[];let J=0;for(let F=0;F<Dt.length;F++){let G=Dt.charCodeAt(F);if(G>=55296&&G<=56319){const be=G-55296;F++,ne(F<Dt.length,"Surrogate pair missing trail surrogate."),G=65536+(be<<10)+(Dt.charCodeAt(F)-56320)}G<128?ue[J++]=G:G<2048?(ue[J++]=G>>6|192,ue[J++]=63&G|128):G<65536?(ue[J++]=G>>12|224,ue[J++]=G>>6&63|128,ue[J++]=63&G|128):(ue[J++]=G>>18|240,ue[J++]=G>>12&63|128,ue[J++]=G>>6&63|128,ue[J++]=63&G|128)}return ue},Li=function(Dt){let ue=0;for(let J=0;J<Dt.length;J++){const F=Dt.charCodeAt(J);F<128?ue++:F<2048?ue+=2:F>=55296&&F<=56319?(ue+=4,J++):ue+=3}return ue};function Yi(Dt){return Dt&&Dt._delegate?Dt._delegate:Dt}},5983:(Sn,Et,R)=>{R.d(Et,{m:()=>Er});var a=R(6814),ne=R(6223),O=R(2296),w=R(5195),we=R(5986),Ge=R(3680),$e=R(4191),Le=R(3651),ze=R(8484),H=R(5879),Fe=R(799),Ye=R(8645),ke=(R(7394),R(6028)),Xe=R(2831),ut=R(2495),Ot=(R(6825),R(4170)),en=R(2032);let Be=(()=>{class se{constructor(){this.changes=new Ye.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(T,Z){return`${T} \u2013 ${Z}`}formatYearRangeLabel(T,Z){return`${T} to ${Z}`}static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275prov=H.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})();const Yi={provide:new H.OlP("mat-datepicker-scroll-strategy"),deps:[Le.aV],useFactory:function Ri(se){return()=>se.scrollStrategies.reposition()}};let or=(()=>{class se{static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275mod=H.oAB({type:se});static#n=this.\u0275inj=H.cJS({providers:[Be,Yi],imports:[a.ez,O.ot,Le.U8,$e.rt,ze.eL,Ge.BQ,Fe.ZD]})}return se})();var cr=R(4911),ts=R(2096),jr=R(9388),Mi=R(7921);function Zr(se,xt){}class Hs{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Is=(()=>{class se extends ze.en{constructor(T,Z,le,Ae,Tt,fn,Di,bi){super(),this._elementRef=T,this._focusTrapFactory=Z,this._config=Ae,this._interactivityChecker=Tt,this._ngZone=fn,this._overlayRef=Di,this._focusMonitor=bi,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=wr=>{this._portalOutlet.hasAttached();const as=this._portalOutlet.attachDomPortal(wr);return this._contentAttached(),as},this._document=le,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(T){this._portalOutlet.hasAttached();const Z=this._portalOutlet.attachComponentPortal(T);return this._contentAttached(),Z}attachTemplatePortal(T){this._portalOutlet.hasAttached();const Z=this._portalOutlet.attachTemplatePortal(T);return this._contentAttached(),Z}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(T,Z){this._interactivityChecker.isFocusable(T)||(T.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const le=()=>{T.removeEventListener("blur",le),T.removeEventListener("mousedown",le),T.removeAttribute("tabindex")};T.addEventListener("blur",le),T.addEventListener("mousedown",le)})),T.focus(Z)}_focusByCssSelector(T,Z){let le=this._elementRef.nativeElement.querySelector(T);le&&this._forceFocus(le,Z)}_trapFocus(){const T=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||T.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Z=>{Z||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const T=this._config.restoreFocus;let Z=null;if("string"==typeof T?Z=this._document.querySelector(T):"boolean"==typeof T?Z=T?this._elementFocusedBeforeDialogWasOpened:null:T&&(Z=T),this._config.restoreFocus&&Z&&"function"==typeof Z.focus){const le=(0,Xe.ht)(),Ae=this._elementRef.nativeElement;(!le||le===this._document.body||le===Ae||Ae.contains(le))&&(this._focusMonitor?(this._focusMonitor.focusVia(Z,this._closeInteractionType),this._closeInteractionType=null):Z.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const T=this._elementRef.nativeElement,Z=(0,Xe.ht)();return T===Z||T.contains(Z)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Xe.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Z){return new(Z||se)(H.Y36(H.SBq),H.Y36($e.qV),H.Y36(a.K0,8),H.Y36(Hs),H.Y36($e.ic),H.Y36(H.R0b),H.Y36(Le.Iu),H.Y36($e.tE))};static#t=this.\u0275cmp=H.Xpm({type:se,selectors:[["cdk-dialog-container"]],viewQuery:function(Z,le){if(1&Z&&H.Gf(ze.Pl,7),2&Z){let Ae;H.iGM(Ae=H.CRH())&&(le._portalOutlet=Ae.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Z,le){2&Z&&H.uIk("id",le._config.id||null)("role",le._config.role)("aria-modal",le._config.ariaModal)("aria-labelledby",le._config.ariaLabel?null:le._ariaLabelledByQueue[0])("aria-label",le._config.ariaLabel)("aria-describedby",le._config.ariaDescribedBy||null)},features:[H.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Z,le){1&Z&&H.YNc(0,Zr,0,0,"ng-template",0)},dependencies:[ze.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return se})();class no{constructor(xt,T){this.overlayRef=xt,this.config=T,this.closed=new Ye.x,this.disableClose=T.disableClose,this.backdropClick=xt.backdropClick(),this.keydownEvents=xt.keydownEvents(),this.outsidePointerEvents=xt.outsidePointerEvents(),this.id=T.id,this.keydownEvents.subscribe(Z=>{Z.keyCode===ke.hY&&!this.disableClose&&!(0,ke.Vb)(Z)&&(Z.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=xt.detachments().subscribe(()=>{!1!==T.closeOnOverlayDetachments&&this.close()})}close(xt,T){if(this.containerInstance){const Z=this.closed;this.containerInstance._closeInteractionType=T?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Z.next(xt),Z.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(xt="",T=""){return this.overlayRef.updateSize({width:xt,height:T}),this}addPanelClass(xt){return this.overlayRef.addPanelClass(xt),this}removePanelClass(xt){return this.overlayRef.removePanelClass(xt),this}}const xr=new H.OlP("DialogScrollStrategy"),us=new H.OlP("DialogData"),zr=new H.OlP("DefaultDialogConfig"),Po={provide:xr,deps:[Le.aV],useFactory:function ir(se){return()=>se.scrollStrategies.block()}};let ao=0,lo=(()=>{class se{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(T,Z,le,Ae,Tt,fn){this._overlay=T,this._injector=Z,this._defaultOptions=le,this._parentDialog=Ae,this._overlayContainer=Tt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ye.x,this._afterOpenedAtThisLevel=new Ye.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,cr.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Mi.O)(void 0))),this._scrollStrategy=fn}open(T,Z){(Z={...this._defaultOptions||new Hs,...Z}).id=Z.id||"cdk-dialog-"+ao++,Z.id&&this.getDialogById(Z.id);const Ae=this._getOverlayConfig(Z),Tt=this._overlay.create(Ae),fn=new no(Tt,Z),Di=this._attachContainer(Tt,fn,Z);return fn.containerInstance=Di,this._attachDialogContent(T,fn,Di,Z),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(fn),fn.closed.subscribe(()=>this._removeOpenDialog(fn,!0)),this.afterOpened.next(fn),fn}closeAll(){Ss(this.openDialogs,T=>T.close())}getDialogById(T){return this.openDialogs.find(Z=>Z.id===T)}ngOnDestroy(){Ss(this._openDialogsAtThisLevel,T=>{!1===T.config.closeOnDestroy&&this._removeOpenDialog(T,!1)}),Ss(this._openDialogsAtThisLevel,T=>T.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(T){const Z=new Le.X_({positionStrategy:T.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:T.scrollStrategy||this._scrollStrategy(),panelClass:T.panelClass,hasBackdrop:T.hasBackdrop,direction:T.direction,minWidth:T.minWidth,minHeight:T.minHeight,maxWidth:T.maxWidth,maxHeight:T.maxHeight,width:T.width,height:T.height,disposeOnNavigation:T.closeOnNavigation});return T.backdropClass&&(Z.backdropClass=T.backdropClass),Z}_attachContainer(T,Z,le){const Ae=le.injector||le.viewContainerRef?.injector,Tt=[{provide:Hs,useValue:le},{provide:no,useValue:Z},{provide:Le.Iu,useValue:T}];let fn;le.container?"function"==typeof le.container?fn=le.container:(fn=le.container.type,Tt.push(...le.container.providers(le))):fn=Is;const Di=new ze.C5(fn,le.viewContainerRef,H.zs3.create({parent:Ae||this._injector,providers:Tt}),le.componentFactoryResolver);return T.attach(Di).instance}_attachDialogContent(T,Z,le,Ae){if(T instanceof H.Rgc){const Tt=this._createInjector(Ae,Z,le,void 0);let fn={$implicit:Ae.data,dialogRef:Z};Ae.templateContext&&(fn={...fn,..."function"==typeof Ae.templateContext?Ae.templateContext():Ae.templateContext}),le.attachTemplatePortal(new ze.UE(T,null,fn,Tt))}else{const Tt=this._createInjector(Ae,Z,le,this._injector),fn=le.attachComponentPortal(new ze.C5(T,Ae.viewContainerRef,Tt,Ae.componentFactoryResolver));Z.componentRef=fn,Z.componentInstance=fn.instance}}_createInjector(T,Z,le,Ae){const Tt=T.injector||T.viewContainerRef?.injector,fn=[{provide:us,useValue:T.data},{provide:no,useValue:Z}];return T.providers&&("function"==typeof T.providers?fn.push(...T.providers(Z,T,le)):fn.push(...T.providers)),T.direction&&(!Tt||!Tt.get(jr.Is,null,{optional:!0}))&&fn.push({provide:jr.Is,useValue:{value:T.direction,change:(0,ts.of)()}}),H.zs3.create({parent:Tt||Ae,providers:fn})}_removeOpenDialog(T,Z){const le=this.openDialogs.indexOf(T);le>-1&&(this.openDialogs.splice(le,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ae,Tt)=>{Ae?Tt.setAttribute("aria-hidden",Ae):Tt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Z&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const T=this._overlayContainer.getContainerElement();if(T.parentElement){const Z=T.parentElement.children;for(let le=Z.length-1;le>-1;le--){const Ae=Z[le];Ae!==T&&"SCRIPT"!==Ae.nodeName&&"STYLE"!==Ae.nodeName&&!Ae.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ae,Ae.getAttribute("aria-hidden")),Ae.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const T=this._parentDialog;return T?T._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Z){return new(Z||se)(H.LFG(Le.aV),H.LFG(H.zs3),H.LFG(zr,8),H.LFG(se,12),H.LFG(Le.Xj),H.LFG(xr))};static#t=this.\u0275prov=H.Yz7({token:se,factory:se.\u0275fac})}return se})();function Ss(se,xt){let T=se.length;for(;T--;)xt(se[T])}let $s=(()=>{class se{static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275mod=H.oAB({type:se});static#n=this.\u0275inj=H.cJS({providers:[lo,Po],imports:[Le.U8,ze.eL,$e.rt,ze.eL]})}return se})();var ys=R(3019),Zo=R(2181),br=R(8180);function bo(se,xt){}class io{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Zi="mdc-dialog--open",Ui="mdc-dialog--opening",Oi="mdc-dialog--closing";let Fs=(()=>{class se extends Is{constructor(T,Z,le,Ae,Tt,fn,Di,bi){super(T,Z,le,Ae,Tt,fn,Di,bi),this._animationStateChanged=new H.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(T){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:T})}static#e=this.\u0275fac=function(Z){return new(Z||se)(H.Y36(H.SBq),H.Y36($e.qV),H.Y36(a.K0,8),H.Y36(io),H.Y36($e.ic),H.Y36(H.R0b),H.Y36(Le.Iu),H.Y36($e.tE))};static#t=this.\u0275cmp=H.Xpm({type:se,selectors:[["ng-component"]],features:[H.qOj],decls:0,vars:0,template:function(Z,le){},encapsulation:2})}return se})();const co="--mat-dialog-transition-duration";function As(se){return null==se?null:"number"==typeof se?se:se.endsWith("ms")?(0,ut.su)(se.substring(0,se.length-2)):se.endsWith("s")?1e3*(0,ut.su)(se.substring(0,se.length-1)):"0"===se?0:null}let ki=(()=>{class se extends Fs{constructor(T,Z,le,Ae,Tt,fn,Di,bi,wr){super(T,Z,le,Ae,Tt,fn,Di,wr),this._animationMode=bi,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?As(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?As(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(co,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ui,Zi)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Zi),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Zi),this._animationsEnabled?(this._hostElement.style.setProperty(co,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Oi)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ui,Oi)}_waitForAnimationToComplete(T,Z){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Z,T)}_requestAnimationFrame(T){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(T):T()})}static#e=this.\u0275fac=function(Z){return new(Z||se)(H.Y36(H.SBq),H.Y36($e.qV),H.Y36(a.K0,8),H.Y36(io),H.Y36($e.ic),H.Y36(H.R0b),H.Y36(Le.Iu),H.Y36(H.QbO,8),H.Y36($e.tE))};static#t=this.\u0275cmp=H.Xpm({type:se,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(Z,le){2&Z&&(H.Ikx("id",le._config.id),H.uIk("aria-modal",le._config.ariaModal)("role",le._config.role)("aria-labelledby",le._config.ariaLabel?null:le._ariaLabelledByQueue[0])("aria-label",le._config.ariaLabel)("aria-describedby",le._config.ariaDescribedBy||null),H.ekj("_mat-animation-noopable",!le._animationsEnabled))},features:[H.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Z,le){1&Z&&(H.TgZ(0,"div",0)(1,"div",1),H.YNc(2,bo,0,0,"ng-template",2),H.qZA()())},dependencies:[ze.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return se})();class Hi{constructor(xt,T,Z){this._ref=xt,this._containerInstance=Z,this._afterOpened=new Ye.x,this._beforeClosed=new Ye.x,this._state=0,this.disableClose=T.disableClose,this.id=xt.id,Z._animationStateChanged.pipe((0,Zo.h)(le=>"opened"===le.state),(0,br.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Z._animationStateChanged.pipe((0,Zo.h)(le=>"closed"===le.state),(0,br.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),xt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ys.T)(this.backdropClick(),this.keydownEvents().pipe((0,Zo.h)(le=>le.keyCode===ke.hY&&!this.disableClose&&!(0,ke.Vb)(le)))).subscribe(le=>{this.disableClose||(le.preventDefault(),function di(se,xt,T){se._closeInteractionType=xt,se.close(T)}(this,"keydown"===le.type?"keyboard":"mouse"))})}close(xt){this._result=xt,this._containerInstance._animationStateChanged.pipe((0,Zo.h)(T=>"closing"===T.state),(0,br.q)(1)).subscribe(T=>{this._beforeClosed.next(xt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),T.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(xt){let T=this._ref.config.positionStrategy;return xt&&(xt.left||xt.right)?xt.left?T.left(xt.left):T.right(xt.right):T.centerHorizontally(),xt&&(xt.top||xt.bottom)?xt.top?T.top(xt.top):T.bottom(xt.bottom):T.centerVertically(),this._ref.updatePosition(),this}updateSize(xt="",T=""){return this._ref.updateSize(xt,T),this}addPanelClass(xt){return this._ref.addPanelClass(xt),this}removePanelClass(xt){return this._ref.removePanelClass(xt),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ar=new H.OlP("MatMdcDialogData"),ns=new H.OlP("mat-mdc-dialog-default-options"),is=new H.OlP("mat-mdc-dialog-scroll-strategy"),So={provide:is,deps:[Le.aV],useFactory:function bs(se){return()=>se.scrollStrategies.block()}};let Ho=0,Qi=(()=>{class se{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const T=this._parentDialog;return T?T._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(T,Z,le,Ae,Tt,fn,Di,bi,wr,as){this._overlay=T,this._defaultOptions=le,this._parentDialog=Ae,this._dialogRefConstructor=Di,this._dialogContainerType=bi,this._dialogDataToken=wr,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ye.x,this._afterOpenedAtThisLevel=new Ye.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=io,this.afterAllClosed=(0,cr.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Mi.O)(void 0))),this._scrollStrategy=fn,this._dialog=Z.get(lo)}open(T,Z){let le;(Z={...this._defaultOptions||new io,...Z}).id=Z.id||`${this._idPrefix}${Ho++}`,Z.scrollStrategy=Z.scrollStrategy||this._scrollStrategy();const Ae=this._dialog.open(T,{...Z,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Z},{provide:Hs,useValue:Z}]},templateContext:()=>({dialogRef:le}),providers:(Tt,fn,Di)=>(le=new this._dialogRefConstructor(Tt,Z,Di),le.updatePosition(Z?.position),[{provide:this._dialogContainerType,useValue:Di},{provide:this._dialogDataToken,useValue:fn.data},{provide:this._dialogRefConstructor,useValue:le}])});return le.componentRef=Ae.componentRef,le.componentInstance=Ae.componentInstance,this.openDialogs.push(le),this.afterOpened.next(le),le.afterClosed().subscribe(()=>{const Tt=this.openDialogs.indexOf(le);Tt>-1&&(this.openDialogs.splice(Tt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),le}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(T){return this.openDialogs.find(Z=>Z.id===T)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(T){let Z=T.length;for(;Z--;)T[Z].close()}static#e=this.\u0275fac=function(Z){H.$Z()};static#t=this.\u0275prov=H.Yz7({token:se,factory:se.\u0275fac})}return se})(),Yn=(()=>{class se extends Qi{constructor(T,Z,le,Ae,Tt,fn,Di,bi){super(T,Z,Ae,fn,Di,Tt,Hi,ki,Ar,bi),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(Z){return new(Z||se)(H.LFG(Le.aV),H.LFG(H.zs3),H.LFG(a.Ye,8),H.LFG(ns,8),H.LFG(is),H.LFG(se,12),H.LFG(Le.Xj),H.LFG(H.QbO,8))};static#t=this.\u0275prov=H.Yz7({token:se,factory:se.\u0275fac})}return se})(),Rr=(()=>{class se{static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275mod=H.oAB({type:se});static#n=this.\u0275inj=H.cJS({providers:[Yn,So],imports:[$s,Le.U8,ze.eL,Ge.BQ,Ge.BQ]})}return se})();var Vn=R(3305),Es=R(617);let Qr=(()=>{class se{static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275mod=H.oAB({type:se});static#n=this.\u0275inj=H.cJS({imports:[Ge.BQ]})}return se})();var ul=R(8525);R(8337),R(2459),R(5619),R(2664),R(9773);let Ia=(()=>{class se{static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275mod=H.oAB({type:se});static#n=this.\u0275inj=H.cJS({imports:[Fe.Cl]})}return se})(),hi=(()=>{class se{static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275mod=H.oAB({type:se});static#n=this.\u0275inj=H.cJS({imports:[Ge.BQ,Ia,Ge.BQ]})}return se})();var pi=R(2596),Or=R(3637);let Er=(()=>{class se{static#e=this.\u0275fac=function(Z){return new(Z||se)};static#t=this.\u0275mod=H.oAB({type:se});static#n=this.\u0275inj=H.cJS({imports:[Or.IJ,ne.u5,ne.UX,a.ez,Ot.lN,w.QW,O.ot,Es.Ps,we.p9,en.c,pi.AV,ul.LD,hi,Qr,or,Ge.XK,Vn.To,Rr,Or.IJ,ne.u5,ne.UX,a.ez,Ot.lN,w.QW,O.ot,Es.Ps,we.p9,en.c,pi.AV,ul.LD,hi,Qr,or,Ge.XK,Vn.To,Rr]})}return se})()},3969:(Sn,Et,R)=>{R.d(Et,{t:()=>qe});var a=R(7398),ne=R(8033),O=R(5879),w=R(4190),we=R(4385),Ge=R(7506),$e=R(6223),Le=R(6814),ze=R(4170),H=R(2296),Fe=R(617),Ye=R(2032);const yt=["f"];function ke(Ee,It){if(1&Ee){const Ht=O.EpF();O.TgZ(0,"div")(1,"label")(2,"input",29),O.NdJ("ngModelChange",function(Cn){O.CHM(Ht);const Mn=O.oxw();return O.KtG(Mn.userProf.gender=Cn)}),O.qZA(),O._uU(3),O.qZA()()}if(2&Ee){const Ht=It.$implicit,Nt=O.oxw();O.xp6(2),O.Q6J("ngModel",Nt.userProf.gender)("value",Ht),O.xp6(1),O.hij(" ",Ht," ")}}const Xe=function(Ee){return{width:Ee}};function ut(Ee,It){if(1&Ee&&(O.TgZ(0,"div",30)(1,"div",31)(2,"h4",32),O._uU(3),O.qZA()()()),2&Ee){const Ht=O.oxw();O.xp6(1),O.Akn(O.VKq(5,Xe,Ht.percent+"%")),O.uIk("aria-valuenow",Ht.percent)("aria-valuemin",Ht.percent),O.xp6(2),O.hij("",Ht.percent,"%")}}function ht(Ee,It){if(1&Ee&&(O.TgZ(0,"div",33),O._UZ(1,"img",34),O.qZA()),2&Ee){const Ht=O.oxw();O.xp6(1),O.Q6J("src",Ht.userProf.profilePicture,O.LSH)("alt",Ht.userProf.profilePicture)}}function Ot(Ee,It){if(1&Ee&&(O.TgZ(0,"div",18)(1,"div",33),O._UZ(2,"img",35),O.qZA()()),2&Ee){const Ht=O.oxw();O.xp6(2),O.Q6J("src",Ht.profilePhotoUrl,O.LSH)}}function en(Ee,It){if(1&Ee&&(O.TgZ(0,"div",36)(1,"div",31)(2,"h4",32),O._uU(3),O.qZA()()()),2&Ee){const Ht=O.oxw();O.xp6(1),O.Akn(O.VKq(5,Xe,Ht.percent+"%")),O.uIk("aria-valuenow",Ht.percent)("aria-valuemin",Ht.percent),O.xp6(2),O.hij("",Ht.percent,"%")}}function Ke(Ee,It){if(1&Ee&&(O.TgZ(0,"div",37)(1,"a",38),O._UZ(2,"img",39),O.qZA()()),2&Ee){const Ht=It.$implicit;O.xp6(1),O.Q6J("href",Ht.url,O.LSH),O.xp6(1),O.Q6J("src",Ht.url,O.LSH)}}function ye(Ee,It){if(1&Ee&&O._UZ(0,"button",50),2&Ee){const Ht=It.index;O.ekj("active",0===Ht),O.Q2q("aria-label","Slide ",Ht+1,""),O.uIk("data-bs-target","#picturesCarousel")("data-bs-slide-to",Ht)}}const rt=function(Ee){return{active:Ee}};function W(Ee,It){if(1&Ee){const Ht=O.EpF();O.TgZ(0,"div",51)(1,"mat-icon",52),O.NdJ("click",function(){const Mn=O.CHM(Ht).$implicit,ni=O.oxw(2);return O.KtG(ni.deletePicture(Mn))}),O._uU(2,"delete_forever"),O.qZA(),O._UZ(3,"img",53),O.qZA()}if(2&Ee){const Ht=It.$implicit;O.Q6J("ngClass",O.VKq(2,rt,0===It.index)),O.xp6(3),O.Q6J("src",Ht.url,O.LSH)}}function Pe(Ee,It){if(1&Ee&&(O.TgZ(0,"div",40)(1,"div",41),O.YNc(2,ye,1,5,"button",42),O.qZA(),O.TgZ(3,"div",43),O.YNc(4,W,4,4,"div",44),O.qZA(),O.TgZ(5,"button",45),O._UZ(6,"span",46),O.TgZ(7,"span",47),O._uU(8,"Previous"),O.qZA()(),O.TgZ(9,"button",48),O._UZ(10,"span",49),O.TgZ(11,"span",47),O._uU(12,"Next"),O.qZA()()()),2&Ee){const Ht=O.oxw();O.uIk("data-bs-interval",!1),O.xp6(2),O.Q6J("ngForOf",Ht.userPictures),O.xp6(2),O.Q6J("ngForOf",Ht.userPictures)}}let qe=(()=>{class Ee{ngOnDestroy(){this.profilePicSub.unsubscribe(),this.picturesSubscription.unsubscribe()}constructor(Ht,Nt,Cn,Mn){this.router=Ht,this.auth=Nt,this.base=Cn,this.route=Mn,this.users=[],this.genders=["F\xe9rfi","N\u0151"],this.userProfile=[],this.percent=0,this.picturesUrl=[],this.userProf=new ne.k,this.userPictures=[],this.picturesCarousel=document.getElementById("picturesCarousel")}ngOnInit(){this.profilePicSub=this.base.profilePicUrlSubject.subscribe(Ht=>{this.profilePhotoUrl=Ht}),this.picturesSubscription=this.base.picturesSubject.subscribe(Ht=>{this.picturesUrl.push(Ht)})}ngAfterViewInit(){setTimeout(()=>{this.router.params.subscribe(Ht=>{this.auth.getUsers().subscribe(Nt=>{const Cn=Nt.filter(Mn=>Mn.uid===Ht.uid);this.users=Cn}),this.base.getUserProfiles().subscribe(Nt=>{const Cn=Nt.filter(Mn=>Mn.uid===Ht.uid);this.userProf=Object.assign(this.userProf,...Cn),this.base.getData(this.userProf).snapshotChanges().pipe((0,a.U)(Mn=>Mn.map(ni=>({key:ni.payload.key,...ni.payload.val()})))).subscribe(Mn=>this.userPictures=Mn)})})},2e3)}selectFile(Ht){this.profilePhoto=Ht.target.files[0]}selectFiles(Ht){this.pictures=Ht.target.files}saveProfile(){this.auth.isLoggedIn().subscribe(Ht=>{this.base.getUserProfiles().subscribe(Nt=>{let Cn=Nt.filter(Mn=>Mn.uid===Ht.uid);this.userProf.uid=Ht.uid,this.userProf.profilePicture=""==this.userProf.profilePicture||null==this.userProf.profilePicture?this.profilePhotoUrl:Cn[0].profilePicture,this.base.updateUserData(this.userProf,Cn[0].key)}),setTimeout(()=>{this.route.navigate([""])},1e3)})}addPictures(){Array.from(this.pictures).forEach(Ht=>{this.base.addPictures(this.userProf,Ht).subscribe(Nt=>{this.percent=Nt})})}toArray(){let Ht=[...this.userProf.pictures];console.log(Ht)}addProfilePic(){this.base.addProfilePicture(this.profilePhoto).subscribe(Ht=>this.percent=Ht)}changeProfilePic(){this.userProf.profilePicture="",this.base.addProfilePicture(this.profilePhoto).subscribe(Ht=>this.percent=Ht)}deleteUserPicture(Ht,Nt){this.base.deleteUserPicture(this.userProf,Ht)}deletePicture(Ht){this.base.deleteUserPicture(this.userProf,Ht)}static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)(O.Y36(w.gz),O.Y36(we.e),O.Y36(Ge.b),O.Y36(w.F0))};static#t=this.\u0275cmp=O.Xpm({type:Ee,selectors:[["app-user-profile"]],viewQuery:function(Nt,Cn){if(1&Nt&&O.Gf(yt,5),2&Nt){let Mn;O.iGM(Mn=O.CRH())&&(Cn.form=Mn.first)}},decls:45,vars:13,consts:[[1,"row"],[1,"col-12"],[1,"d-grid","justify-content-center",3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],["for","displayName"],["matInput","","type","text","name","displayName","required","",3,"ngModel","ngModelChange"],["for","birthDate"],["matInput","","type","date","name","birthDate","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"mt-2"],[1,"text-center"],["id","profilePicture","for","profilePicture",1,"form-label"],["id","profilePicture","type","file","name","profilePicture",1,"form-control",3,"ngModel","required","change","ngModelChange"],["type","button",1,"btn","btn-primary","mt-1",3,"click"],["class","progress mt-2 progressC","style","height: 50px; width: 100%",4,"ngIf"],[1,"d-grid","justify-content-center"],["class","profilePicContainer",4,"ngIf","ngIfElse"],["newPic",""],[1,"mb-2"],["name","pictures","type","file","multiple","",1,"form-control",3,"change"],["class","progress my-2 progressC","style","height: 50px; width: 100%",4,"ngIf"],[1,"d-flex","justify-content-start","flex-wrap"],["class","my-2 mx-2",4,"ngFor","ngForOf"],["id","picturesCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],["color","accent","mat-raised-button","","type","submit",1,"mt-2"],["routerLink","/chat","mat-raised-button","","type","button",1,"greenButton","mt-1"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"],[1,"progress","mt-2","progressC",2,"height","50px","width","100%"],["role","progressbar","aria-valuemax","100",1,"progress-bar","progressC"],[1,"pt-2"],[1,"profilePicContainer"],[3,"src","alt"],["alt","Profilkep",3,"src"],[1,"progress","my-2","progressC",2,"height","50px","width","100%"],[1,"my-2","mx-2"],[3,"href"],["data-bs-toggle","carousel","data-bs-target","#picturesCarousel","alt","","width","50px","height","50px",1,"rounded",3,"src"],["id","picturesCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button",3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#picturesCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#picturesCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["type","button"],[1,"carousel-item",3,"ngClass"],[1,"deletePicture",3,"click"],["alt","...",1,"d-block","w-100",3,"src"]],template:function(Nt,Cn){if(1&Nt&&(O.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),O.NdJ("ngSubmit",function(){return Cn.saveProfile()}),O.TgZ(4,"mat-form-field")(5,"mat-label",4),O._uU(6,"Email"),O.qZA(),O.TgZ(7,"input",5,6),O.NdJ("ngModelChange",function(ni){return Cn.userProf.email=ni}),O.qZA()(),O.TgZ(9,"mat-form-field")(10,"mat-label",7),O._uU(11,"Felhaszn\xe1l\xf3n\xe9v"),O.qZA(),O.TgZ(12,"input",8),O.NdJ("ngModelChange",function(ni){return Cn.userProf.displayName=ni}),O.qZA()(),O.TgZ(13,"mat-form-field")(14,"mat-label",9),O._uU(15,"Sz\xfclet\xe9si id\u0151"),O.qZA(),O.TgZ(16,"input",10),O.NdJ("ngModelChange",function(ni){return Cn.userProf.birthDate=ni}),O.qZA()(),O.YNc(17,ke,4,3,"div",11),O.TgZ(18,"div",12)(19,"h2",13)(20,"label",14),O._uU(21,"Profilk\xe9p kiv\xe1laszt\xe1sa:"),O.qZA()(),O.TgZ(22,"input",15),O.NdJ("change",function(ni){return Cn.selectFile(ni)})("ngModelChange",function(ni){return Cn.profilePhoto=ni}),O.qZA(),O.TgZ(23,"button",16),O.NdJ("click",function(){return Cn.userProf.profilePicture?Cn.changeProfilePic():Cn.addProfilePic()}),O._uU(24),O.qZA()(),O.YNc(25,ut,4,7,"div",17),O.TgZ(26,"div",18),O.YNc(27,ht,2,2,"div",19),O.qZA(),O.YNc(28,Ot,3,1,"ng-template",null,20,O.W1O),O.TgZ(30,"div",21)(31,"h2",13)(32,"label",14),O._uU(33,"K\xe9pek felt\xf6lt\xe9se"),O.qZA()(),O.TgZ(34,"input",22),O.NdJ("change",function(ni){return Cn.selectFiles(ni)}),O.qZA(),O.TgZ(35,"button",16),O.NdJ("click",function(){return Cn.addPictures()}),O._uU(36," K\xe9pek Felt\xf6lt\xe9se "),O.qZA()(),O.YNc(37,en,4,7,"div",23),O.TgZ(38,"div",24),O.YNc(39,Ke,3,2,"div",25),O.qZA(),O.YNc(40,Pe,13,3,"div",26),O.TgZ(41,"button",27),O._uU(42," Adatok ment\xe9se "),O.qZA(),O.TgZ(43,"button",28),O._uU(44," Vissza "),O.qZA()()()()),2&Nt){const Mn=O.MAs(29);O.xp6(7),O.Q6J("ngModel",Cn.userProf.email),O.xp6(5),O.Q6J("ngModel",Cn.userProf.displayName),O.xp6(4),O.Q6J("ngModel",Cn.userProf.birthDate),O.xp6(1),O.Q6J("ngForOf",Cn.genders),O.xp6(5),O.Q6J("ngModel",Cn.profilePhoto)("required",Cn.userProf.profilePicture),O.xp6(2),O.hij(" ","Profilk\xe9p Felt\xf6lt\xe9se"," "),O.xp6(1),O.Q6J("ngIf",Cn.profilePhoto),O.xp6(2),O.Q6J("ngIf",0===Cn.percent||Cn.pictures)("ngIfElse",Mn),O.xp6(10),O.Q6J("ngIf",Cn.pictures),O.xp6(2),O.Q6J("ngForOf",Cn.userPictures),O.xp6(1),O.Q6J("ngIf",Cn.userPictures.length>0)}},dependencies:[$e._Y,$e.Fj,$e._,$e.JJ,$e.JL,$e.Q7,$e.on,$e.On,$e.F,Le.mk,Le.sg,Le.O5,ze.KE,ze.hX,H.lW,Fe.Hw,Ye.Nt,w.rH],styles:[".profilePicContainer[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px;text-align:center;width:50vw;height:25vh}.profilePicContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.progressC[_ngcontent-%COMP%]{background-color:#20208199!important}.deletePicture[_ngcontent-%COMP%]{z-index:2;color:#e6ad3d;cursor:pointer;font-size:50px;width:50px;height:50px;top:10px;right:10px;position:absolute}.deletePicture[_ngcontent-%COMP%]:hover{color:red;border-radius:10px}.greenButton[_ngcontent-%COMP%]{background-color:#058305!important}"]})}return Ee})()},8033:(Sn,Et,R)=>{R.d(Et,{k:()=>a});class a{constructor(O,w="",we="",Ge="",$e,Le="",ze=[],H=""){this.key=O,this.birthDate=w,this.gender=we,this.uid=Ge,this.email=$e,this.displayName=Le,this.pictures=ze,this.profilePicture=H,this.friends=[{friendId:""}]}}},23:(Sn,Et,R)=>{R.d(Et,{g:()=>ne});var a=R(5879);let ne=(()=>{class O{transform(we,Ge){return Ge?(Ge=Ge.toLowerCase(),we.filter($e=>$e.body?$e.body.toLowerCase().includes(Ge):$e.message.message.toLowerCase().includes(Ge))):we}static#e=this.\u0275fac=function(Ge){return new(Ge||O)};static#t=this.\u0275pipe=a.Yjl({name:"filter",type:O,pure:!0})}return O})()},4385:(Sn,Et,R)=>{R.d(Et,{e:()=>We});var a=R(752),ne=R(1920),O=R(5879);R(3182);const Bt=(0,ne.u3)(a.v0,!0);var gt=R(5619),nt=R(2096),ot=R(9862),Me=R(981);let We=(()=>{class st{constructor(Qe,et){this.aFireAuth=Qe,this.http=et,this.usersApiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.defaultClaims={basic:!0,admin:!1,superAdmin:!1},this.user={},this.isSuperAdmin=new gt.X(!1),this.navDisappear=new gt.X(!1),this.httpHeaders=new ot.WM,this.userLoggedInSubject=new gt.X(null),this.isLoggedIn().subscribe(vt=>{vt&&(this.user=vt),this.userLoggedInSubject=new gt.X(this.user),vt?.getIdToken().then(tt=>{this.user.idToken=tt,this.authHeader=this.httpHeaders.set("Authorization",this.user.idToken),this.getClaims().subscribe(dt=>{dt?(this.user.claims=dt,console.log("A felhaszn\xe1l\xf3 m\xe1r rendelkezik jogosults\xe1gokkal."),this.isSuperAdmin.next(this.user.claims.superAdmin),this.getUsers().subscribe(Gt=>{this.usersSubject=new gt.X(Gt)})):(this.setCustomClaims(this.user.uid,this.defaultClaims),this.user.claims=this.defaultClaims,console.log("Alap jogosults\xe1gok sikeresen be\xe1ll\xedtva."),this.isSuperAdmin.next(!1))})})})}createUserWithEmAndPa(Qe,et){this.aFireAuth.createUserWithEmailAndPassword(Qe,et)}getUsersSubject(){return this.usersSubject}getUserSubject(){return new Promise((Qe,et)=>{this.aFireAuth.user.subscribe(vt=>{Qe(vt)},vt=>{et(vt)})})}getClaims(){return this.http.get(this.usersApiUrl+`users/${this.user.uid}/claims`,{headers:this.authHeader})}getUsers(){if(this.user.idToken){let Qe=(new ot.WM).set("Authorization",this.user.idToken);return this.http.get(this.usersApiUrl+"users",{headers:Qe})}return(0,nt.of)([])}isLoggedIn(){return this.aFireAuth.authState}loginWithEmAndPa(Qe,et){this.aFireAuth.signInWithEmailAndPassword(Qe,et)}ngOnInit(){}setCustomClaims(Qe,et){this.http.post(this.usersApiUrl+"setCustomClaims",{uid:Qe,claims:et},{headers:this.authHeader}).subscribe({next:()=>console.log("A claims be\xe1ll\xedt\xe1sa sikeres!")})}signOut(){this.aFireAuth.signOut()}signInWithGoogle(){return this.aFireAuth.signInWithPopup(new a.hJ)}signInWithFacebook(){return this.aFireAuth.signInWithPopup(new a._O)}signInWithPhoneNumber(Qe){return this.aFireAuth.signInWithPhoneNumber(Qe,new a.lI(Bt(),"reCaptchaContainer",{}))}verifyPhoneNumberAndSignIN(Qe){return this.aFireAuth.signInWithCredential(Qe)}static#e=this.\u0275fac=function(et){return new(et||st)(O.LFG(Me.zQ),O.LFG(ot.eN))};static#t=this.\u0275prov=O.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})()},7506:(Sn,Et,R)=>{R.d(Et,{b:()=>Fe});var a=R(8645),ne=R(7398),O=R(4716),w=R(6306),we=R(8504),Ge=R(5879),$e=R(6487),Le=R(4186),ze=R(9862),H=R(4385);let Fe=(()=>{class Ye{constructor(ke,Xe,ut,ht){this.realTimeDatabase=ke,this.fireStorage=Xe,this.http=ut,this.authService=ht,this.profilePicUrlSubject=new a.x,this.picturesSubject=new a.x,this.apiUrl="https://us-central1-project0781.cloudfunctions.net/api/",this.userProfileSubject=new a.x,this.basePath="/pictures",this.keysSubject=new a.x,this.keysObject={userKey:"",friendKey:""},this.keysSubject.subscribe(Ot=>{console.log(Ot),this.keysObject={userKey:Ot.userKey,friendKey:Ot.friendKey}}),this.refChats=ke.list("/chats"),this.refNotes=ke.list("/notes"),this.refRecipeList=ke.list("/recipes"),this.refUsers=ke.list("/users"),this.dbRef=ke.list(this.basePath)}ngOnInit(){}getUserProfiles(){return this.refUsers.snapshotChanges().pipe((0,ne.U)(ke=>ke.map(Xe=>({key:Xe.payload.key,...Xe.payload.val()}))))}addFriends(ke,Xe){return this.refFriends.update(ke,Xe)}removeFriend(ke){return this.refFriends.remove(ke)}getFriends(ke){return this.refFriends=this.realTimeDatabase.list(`/users/${ke}/friends`),this.refFriends.snapshotChanges().pipe((0,ne.U)(Xe=>Xe.map(ut=>({key:ut.payload.key,...ut.payload.val()}))))}addUserData(ke){this.refUsers.push(ke)}addUserPictures(ke,Xe){this.refUser=this.realTimeDatabase.list("users/"),this.refUser.update(ke,Xe)}addFileData(ke,Xe,ut){const ht={name:Xe,url:ut};this.dbRef=this.realTimeDatabase.list(`users/${ke.key}/${this.basePath}`),this.dbRef.push(ht)}getData(ke){return this.dbRef=this.realTimeDatabase.list(`users/${ke.key}${this.basePath}`),this.dbRef}deleteUserPicture(ke,Xe){this.refUser=this.realTimeDatabase.list(`users/${ke.key}/pictures`),this.refUser.remove(Xe.key).then(()=>{this.fireStorage.ref(`${this.basePath}/${ke.displayName}/${Xe.name}`).delete().subscribe(()=>console.log("K\xe9p sikeres t\xf6rl\xe9se"))})}updateUserData(ke,Xe){this.refUsers.update(Xe,ke)}addProfilePicture(ke){const Xe="profilePictures/"+ke.name,ut=this.fireStorage.ref(Xe),ht=this.fireStorage.upload(Xe,ke);return ht.snapshotChanges().pipe((0,O.x)(()=>ut.getDownloadURL().subscribe(Ot=>{this.profilePicUrlSubject.next(Ot)}))).subscribe(),ht.percentageChanges()}addPictures(ke,Xe){const ut=`${this.basePath}/${ke.displayName}/${Xe.name}`,ht=this.fireStorage.ref(ut),Ot=this.fireStorage.upload(ut,Xe);return Ot.snapshotChanges().pipe((0,O.x)(()=>ht.getDownloadURL().subscribe(en=>{this.addFileData(ke,Xe.name,en)}))).subscribe(),Ot.percentageChanges()}addMessage(ke){this.refChats.push(ke)}updateMessage(ke,Xe){this.refChats.update(ke,Xe)}deleteMessage(ke){return this.refChats.remove(ke.key)}deleteMessages(){this.refChats.remove()}getMessages(){return this.refChats.snapshotChanges().pipe((0,ne.U)(ke=>ke.map(Xe=>({key:Xe.payload.key,...Xe.payload.val()}))))}getNotes(){return this.refNotes.snapshotChanges().pipe((0,ne.U)(ke=>ke.map(Xe=>({key:Xe.payload.key,...Xe.payload.val()}))),(0,w.K)(ke=>(0,we._)(ke)))}getWeather(ke){return this.http.get(this.apiUrl+`weather?address=${ke}`)}createNote(ke){this.refNotes.push(ke)}deleteNote(ke){this.refNotes.remove(ke.key)}deleteAllNotes(){return this.http.delete("https://project0781-default-rtdb.europe-west1.firebasedatabase.app/notes.json")}updateNote(ke,Xe){this.refNotes.update(ke,Xe)}getRecipe(ke){return this.refRecipeList.snapshotChanges().pipe((0,ne.U)(Xe=>Xe.map(ut=>({key:ke,Recipe:ut.payload.val()}))))}getRecipes(){return this.refRecipeList.snapshotChanges().pipe((0,ne.U)(ke=>ke.map(Xe=>({key:Xe.payload.key,...Xe.payload.val()}))))}addRecipe(ke){this.refRecipeList.push(ke)}updateRecipe(ke,Xe){this.refRecipeList.update(ke,Xe)}deleteRecipe(ke){this.refRecipeList.remove(ke)}static#e=this.\u0275fac=function(Xe){return new(Xe||Ye)(Ge.LFG($e.KQ),Ge.LFG(Le.Q1),Ge.LFG(ze.eN),Ge.LFG(H.e))};static#t=this.\u0275prov=Ge.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})()},696:(Sn,Et,R)=>{var a=R(6593),ne=R(6223),O=R(4190),w=R(5879),we=R(3637),Ge=R(4385),$e=R(6814),Le=R(2296),ze=R(617);function H(re,A){1&re&&(w.ynx(0),w.TgZ(1,"div",1)(2,"div",2)(3,"ngb-toast",3)(4,"button",4)(5,"span",5)(6,"mat-icon"),w._uU(7,"restaurant"),w.qZA()(),w.TgZ(8,"h3",6),w._uU(9,"Receptek"),w.qZA(),w.TgZ(10,"span",5)(11,"mat-icon"),w._uU(12,"menu_book"),w.qZA()()()()(),w.TgZ(13,"div",2)(14,"ngb-toast",7)(15,"button",8)(16,"span",5)(17,"mat-icon"),w._uU(18,"chat"),w.qZA()(),w.TgZ(19,"h3",6),w._uU(20,"Chat"),w.qZA(),w.TgZ(21,"span",5)(22,"mat-icon"),w._uU(23,"groups"),w.qZA()()()()(),w.TgZ(24,"div",2)(25,"ngb-toast",9)(26,"button",10)(27,"span",5)(28,"mat-icon"),w._uU(29,"sunny"),w.qZA()(),w.TgZ(30,"h3",6),w._uU(31,"Id\u0151j\xe1r\xe1s"),w.qZA(),w.TgZ(32,"span",5),w._UZ(33,"mat-icon"),w.qZA()()()(),w.TgZ(34,"div",2)(35,"ngb-toast",11)(36,"button",12)(37,"span",5)(38,"mat-icon"),w._uU(39,"notes"),w.qZA()(),w.TgZ(40,"h3",6),w._uU(41,"Jegyzetek"),w.qZA(),w.TgZ(42,"span",5),w._UZ(43,"mat-icon"),w.qZA()()()()(),w.BQk()),2&re&&(w.xp6(3),w.Q6J("autohide",!1),w.xp6(11),w.Q6J("autohide",!1),w.xp6(11),w.Q6J("autohide",!1),w.xp6(10),w.Q6J("autohide",!1))}function Fe(re,A){1&re&&(w.ynx(0),w.TgZ(1,"div",1)(2,"div",2)(3,"ngb-toast",13)(4,"button",14)(5,"span",5)(6,"mat-icon"),w._uU(7,"notes"),w.qZA()(),w.TgZ(8,"h3",6),w._uU(9,"Regisztr\xe1ci\xf3"),w.qZA(),w.TgZ(10,"span",5),w._UZ(11,"mat-icon"),w.qZA()()()(),w.TgZ(12,"div",2)(13,"ngb-toast",15)(14,"button",16)(15,"span",5)(16,"mat-icon"),w._uU(17,"notes"),w.qZA()(),w.TgZ(18,"h3",6),w._uU(19,"Bejelentkez\xe9s"),w.qZA(),w.TgZ(20,"span",5),w._UZ(21,"mat-icon"),w.qZA()()()()(),w.BQk()),2&re&&(w.xp6(3),w.Q6J("autohide",!1),w.xp6(10),w.Q6J("autohide",!1))}let Ye=(()=>{class re{constructor(x,B){this.ngbTConfig=x,this.auth=B,this.userLoggedIn={},x.placement="bottom",x.tooltipClass="tooltippp",x.animation=!0,x.closeDelay=2e3}ngOnInit(){this.auth.isLoggedIn().subscribe(x=>this.userLoggedIn=x)}static#e=this.\u0275fac=function(B){return new(B||re)(w.Y36(we.xI),w.Y36(Ge.e))};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-home"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","col-lg-3","mb-2"],["header","Fozz valami istenit, bongessz a listabol",1,"tooltipTarget1","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget1","ngbTooltip","Csakis a legfinomabb etelek egy helyen!","routerLink","recipes","mat-raised-button","","color","accent","type","button",1,"greenButton"],[1,"icons"],[1,"d-inline"],["header","Chatelj az ismer\u0151seiddel",1,"tooltipTarget2","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget2","ngbTooltip","Egy chat-app, ahol felh\u0151tlen a besz\xe9lget\xe9s!","routerLink","chat","mat-raised-button","","color","accent","type","button",1,"blueButton"],["header","Tekintsd meg a jelenlegi id\u0151j\xe1r\xe1st",1,"tooltipTarget3","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget3","ngbTooltip","Id\u0151j\xe1r\xe1sjelent\xe9s","routerLink","weather","mat-raised-button","","color","accent","type","button",1,"orangeButton"],["header","Jegyzetek \xedr\xe1sa",1,"tooltipTarget4","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget4","ngbTooltip","\xcdrd meg a saj\xe1t jegyzeteid","routerLink","notes","mat-raised-button","","color","accent","type","button",1,"yellowButton"],["header","Regisztr\xe1ci\xf3",1,"tooltipTarget5","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget5","ngbTooltip","Regisztr\xe1lj e-mail c\xedmmel, vagy l\xe9pj be egy gombnyom\xe1sra Google-fi\xf3kkal","routerLink","signup","mat-raised-button","","color","accent","type","button",1,"greenButton"],["header","Bejelentkez\xe9s",1,"tooltipTarget6","d-grid","justify-content-center","text-center",3,"autohide"],["positionTarget",".tooltipTarget6","ngbTooltip","L\xe9pj be e-mail c\xedmeddel, vagy Google-fi\xf3koddal, vagy telefonsz\xe1moddal egyszer\u0171en  ","routerLink","login","mat-raised-button","","color","accent","type","button",1,"blueButton"]],template:function(B,X){1&B&&(w.YNc(0,H,44,4,"ng-container",0),w.YNc(1,Fe,22,2,"ng-container",0)),2&B&&(w.Q6J("ngIf",X.userLoggedIn),w.xp6(1),w.Q6J("ngIf",!X.userLoggedIn))},dependencies:[$e.O5,O.rH,we.Iv,we._L,Le.lW,ze.Hw],styles:[".icons{position:relative;top:5px;margin-right:9px;margin-left:9px}.tooltippp .tooltip-inner{background-color:#006400;font-size:125%}.greenButton{background-color:#2d752db3!important}.blueButton{background-color:#0f0fb4b3!important}.orangeButton{background-color:#c98913b3!important}\n"],encapsulation:2})}return re})();var yt=R(7394),ke=R(7506),Xe=R(23);function ut(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"div",10)(1,"button",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.deleteAllNotes())}),w._uU(2,"Osszes jegyzet torlese"),w.qZA()()}}function ht(re,A){1&re&&w._UZ(0,"div",10)}function Ot(re,A){1&re&&w._UZ(0,"span",15)}const en=function(re,A,x){return{true:re,inputBg:A,inputFocus:x}};function Ke(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"div",8),w.YNc(1,ut,3,0,"div",9),w.TgZ(2,"div",10)(3,"label",11),w._uU(4,"Keres\xe9s"),w.qZA()(),w.YNc(5,ht,1,0,"div",9),w.TgZ(6,"div",10)(7,"input",12),w.NdJ("keyup",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.inputClass=!1)})("keypress",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.inputClass=!0)})("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.searchWord=X)}),w.qZA(),w.YNc(8,Ot,1,0,"span",13),w.qZA()()}if(2&re){const x=w.oxw();w.xp6(1),w.Q6J("ngIf",x.isSuperAdmin),w.xp6(4),w.Q6J("ngIf",x.isSuperAdmin),w.xp6(2),w.Q6J("ngClass",w.kEZ(5,en,x.inputClass,!x.inputClass,""==x.searchWord))("ngModel",x.searchWord),w.xp6(1),w.Q6J("ngIf",x.searchWord)}}function ye(re,A){1&re&&w._UZ(0,"span",24)}function rt(re,A){1&re&&w._UZ(0,"span",25)}const W=function(re,A){return{"btn-success":re,"btn-warning":A}};function Pe(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"form",16)(1,"label",17),w._uU(2,"C\xedm"),w.qZA(),w.TgZ(3,"input",18),w.NdJ("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.title=X)}),w.qZA(),w.TgZ(4,"label",19),w._uU(5,"Tennival\xf3"),w.qZA(),w.TgZ(6,"textarea",20),w.NdJ("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.body=X)}),w.qZA(),w.TgZ(7,"button",21),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.createUpdateControl())}),w.YNc(8,ye,1,0,"span",22),w.YNc(9,rt,1,0,"span",23),w._uU(10),w.qZA()()}if(2&re){const x=w.oxw();w.xp6(3),w.Q6J("ngModel",x.title),w.xp6(3),w.Q6J("ngModel",x.body),w.xp6(1),w.Q6J("ngClass",w.WLB(6,W,x.key,!x.key)),w.xp6(1),w.Q6J("ngIf",!x.key),w.xp6(1),w.Q6J("ngIf",x.key),w.xp6(1),w.hij(" ",x.buttonText,"")}}const qe=function(re){return{warning:re}};function Ee(re,A){if(1&re&&(w.TgZ(0,"div",26)(1,"b"),w._uU(2),w.qZA()()),2&re){const x=w.oxw();w.Q6J("ngClass",w.VKq(2,qe,1==x.isLoading)),w.xp6(2),w.Oqu(x.isLoading?"Adatok betoltese folyamatban...":"Nincsenek jegyzetek!")}}function It(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"div",28)(1,"b"),w._uU(2," Hiba tortent az adatok lekeresekor: "),w.qZA(),w._uU(3),w.TgZ(4,"button",29),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.onHandleError())}),w._uU(5,"Rendben"),w.qZA()()}if(2&re){const x=w.oxw(2);w.xp6(3),w.hij(" ",x.errorm," ")}}function Ht(re,A){if(1&re&&w.YNc(0,It,6,1,"div",27),2&re){const x=w.oxw();w.Q6J("ngIf",x.errorm)}}function Nt(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"h5",35),w._uU(4),w.qZA(),w.TgZ(5,"p",36),w._uU(6),w.qZA()(),w.TgZ(7,"div",37),w._uU(8),w.ALo(9,"date"),w.qZA(),w.TgZ(10,"div",38)(11,"div",39)(12,"span",40),w.NdJ("click",function(){const Se=w.CHM(x).$implicit,wt=w.oxw(2);return w.KtG(wt.putDataToInput(Se))}),w.qZA()(),w.TgZ(13,"div",41)(14,"span",42),w.NdJ("click",function(){const Se=w.CHM(x).$implicit,wt=w.oxw(2);return w.KtG(wt.deleteNote(Se))}),w.qZA()()()()()}if(2&re){const x=A.$implicit;w.xp6(4),w.Oqu(x.title),w.xp6(2),w.Oqu(x.body),w.xp6(2),w.AsE(" ",0===x.counter?"Letrehozva: ":"Modositva: "," ",w.xi3(9,4,x.timeStamp,"medium")," ")}}function Cn(re,A){if(1&re&&(w.TgZ(0,"div",30),w.YNc(1,Nt,15,7,"div",31),w.ALo(2,"filter"),w.qZA()),2&re){const x=w.oxw();w.xp6(1),w.Q6J("ngForOf",w.xi3(2,1,x.notes,x.searchWord))}}const Mn=function(re,A){return{fg:re,"text-warning":A}};let ni=(()=>{class re{constructor(x,B){this.baseService=x,this.authService=B,this.isOpen=!1,this.isSuperAdmin=!1,this.subscription=new yt.w0,this.isUpdating=!1,this.inputClass=!1,this.notes=[],this.title="",this.body="",this.timeStamp=new Date,this.buttonText="Jegyzet l\xe9trehoz\xe1sa",this.searchWord="",this.errorm=null,this.clearError=!1}ngOnInit(){this.isLoading=!0,this.baseService.getNotes().subscribe({next:x=>{this.isLoading=!1,this.notes=x,this.subscription=this.authService.isSuperAdmin.subscribe(B=>this.isSuperAdmin=B),console.log(this.subscription)},error:x=>{this.errorm=x.message}})}createUpdateControl(){null==this.key?this.createNote():(this.updateNote(),this.key=void 0,this.buttonText="Jegyzet l\xe9trehoz\xe1sa")}createNote(){const x={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:0};this.baseService.createNote(x),this.title="",this.body="",this.isOpen=!1}deleteNote(x){this.baseService.deleteNote(x)}deleteAllNotes(){this.baseService.deleteAllNotes().subscribe(x=>{this.notes=[]})}updateNote(){const x={title:this.title,body:this.body,timeStamp:this.timeStamp.getTime().toString(),counter:1};this.baseService.updateNote(this.key,x),this.isUpdating=!1,this.isOpen=!1}putDataToInput(x){this.title=x.title,this.body=x.body,this.isUpdating=!0,this.key=x.key,this.isOpen=!0,this.buttonText="M\xf3dos\xedt\xe1s"}onHandleError(){this.errorm=null,this.clearError=!0}ngOnDestroy(){this.subscription.unsubscribe(),console.log(this.subscription)}static#e=this.\u0275fac=function(B){return new(B||re)(w.Y36(ke.b),w.Y36(Ge.e))};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-notes"]],decls:9,vars:9,consts:[[1,"row","d-grid","justify-content-center","my-3"],["class","search d-flex justify-content-center text-center align-items-center row",4,"ngIf"],[1,"rounded-circle","btn","btn-white",3,"click"],[1,"h3","bi","bi-plus-circle","rounded-circle",3,"ngClass"],["class","form-group text-center",4,"ngIf"],["role","alert","class","alert alert-danger text-center",3,"ngClass",4,"ngIf","ngIfElse"],["error",""],["class","row d-flex justify-content-center my-3",4,"ngIf"],[1,"search","d-flex","justify-content-center","text-center","align-items-center","row"],["class","col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],["for","search"],["type","text","name","searh",3,"ngClass","ngModel","keyup","keypress","ngModelChange"],["class","text-success bi bi-search h5 ms-2",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"text-success","bi","bi-search","h5","ms-2"],[1,"form-group","text-center"],["for","title"],["type","text","name","title",1,"form-control",3,"ngModel","ngModelChange"],["for","body"],["rows","10","type","text","name","body",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","mt-1","fs-4",3,"ngClass","click"],["class","h2 bi bi-plus-circle",4,"ngIf"],["class","bi bi-arrow-repeat",4,"ngIf"],[1,"h2","bi","bi-plus-circle"],[1,"bi","bi-arrow-repeat"],["role","alert",1,"alert","alert-danger","text-center",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","d-flex","justify-content-center","my-3"],["class","my-3 col-12 col-md-6 col-lg-4 col-xl-3 me-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"my-3","col-12","col-md-6","col-lg-4","col-xl-3","me-3","d-flex","justify-content-center"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","pb-3"],[1,"card-text"],[1,"card-footer","text-muted"],[1,"d-flex","mx-2","mb-2"],[1,"w-50","text-start"],["role","button",1,"bi","bi-arrow-repeat","h3","text-success","rounded",3,"click"],[1,"w-50","text-end"],["role","button",1,"bi","bi-trash3-fill","h3","text-danger","rounded",3,"click"]],template:function(B,X){if(1&B&&(w.TgZ(0,"div",0),w.YNc(1,Ke,9,9,"div",1),w.TgZ(2,"button",2),w.NdJ("click",function(){return X.isOpen=!X.isOpen}),w._UZ(3,"span",3),w.qZA(),w.YNc(4,Pe,11,9,"form",4),w.qZA(),w.YNc(5,Ee,3,4,"div",5),w.YNc(6,Ht,1,1,"ng-template",null,6,w.W1O),w.YNc(8,Cn,3,4,"div",7)),2&B){const Se=w.MAs(7);w.xp6(1),w.Q6J("ngIf",!X.isOpen),w.xp6(2),w.Q6J("ngClass",w.WLB(6,Mn,X.isOpen,!X.isOpen)),w.xp6(1),w.Q6J("ngIf",X.isOpen),w.xp6(1),w.Q6J("ngIf",X.notes.length<1&&!X.errorm&&!X.clearError)("ngIfElse",Se),w.xp6(3),w.Q6J("ngIf",!X.isUpdating&&X.notes.length>=1)}},dependencies:[$e.mk,$e.sg,$e.O5,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.On,ne.F,$e.uU,Xe.g],styles:[".card[_ngcontent-%COMP%]{width:300px;height:300px;background-color:#d4e256b3}.fg[_ngcontent-%COMP%]{color:#006400}.true[_ngcontent-%COMP%]{background-color:#fb0}.inputBg[_ngcontent-%COMP%]{background-color:#80806080}.background-color[_ngcontent-%COMP%]{background-color:green}.inputFocus[_ngcontent-%COMP%]{background-color:#c7c065b3}.search[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;padding:10px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:10px}.bi-arrow-repeat[_ngcontent-%COMP%]:hover{background-color:#d3f70980;color:#006400!important}.bi-trash3-fill[_ngcontent-%COMP%]:hover{background-color:#f10b0b80;color:#4b0707!important}.card-body[_ngcontent-%COMP%]{transition:2s ease-in font-size,transform 2s ease-in}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:27px;font-family:monospace}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace}.card-body[_ngcontent-%COMP%]:hover{font-size:18px;transform:translateY(12.5%)}.warning[_ngcontent-%COMP%]{background-color:#d7bc10;border:none}"]})}return re})();var wn=R(4170),Ln=R(2032),jn=R(2596);const kt=["f"];function pt(re,A){1&re&&(w.TgZ(0,"span"),w._uU(1,"Kerlek adj meg egy ervenyes e-mail cimet"),w.qZA())}function bt(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"div")(1,"label")(2,"input",16),w.NdJ("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.genderr=X)}),w.qZA(),w._uU(3),w.qZA()()}if(2&re){const x=A.$implicit,B=w.oxw();w.xp6(2),w.Q6J("ngModel",B.genderr)("value",x),w.xp6(1),w.hij(" ",x," ")}}let Rt=(()=>{class re{constructor(x,B,X){this.authService=x,this.router=B,this.base=X,this.email="",this.password="",this.genders=["F\xe9rfi","N\u0151"]}emailSuggestion(){this.signupForm.form.patchValue({email:"pelda078@gmail.com"})}createUserWithEmAndPa(){this.authService.createUserWithEmAndPa(this.email,this.password),this.router.navigate(["login"])}static#e=this.\u0275fac=function(B){return new(B||re)(w.Y36(Ge.e),w.Y36(O.F0),w.Y36(ke.b))};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-signup"]],viewQuery:function(B,X){if(1&B&&w.Gf(kt,5),2&B){let Se;w.iGM(Se=w.CRH())&&(X.signupForm=Se.first)}},decls:24,vars:5,consts:[[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["f","ngForm"],["for","email"],["matInput","","type","email","name","email","email","","required","",3,"ngModel","ngModelChange"],["emaill","ngModel"],[1,"text-center","mt-0","container-2"],[4,"ngIf"],["mat-raised-button","","type","button",1,"mb-3",3,"click"],["for","password"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["color","accent","mat-raised-button","","type","submit",3,"disabled"],[1,"container-0","container-1"],["routerLink","/login","matTooltipPosition","left","matTooltip","Gyorsabb bel\xe9p\xe9s regisztr\xe1ci\xf3 n\xe9lk\xfcl"],["ngModel","","type","radio","name","gender","id","gender","required","",3,"ngModel","value","ngModelChange"]],template:function(B,X){if(1&B&&(w.TgZ(0,"div",0)(1,"h2",1),w._uU(2,"Regisztr\xe1ci\xf3 Email c\xedmmel"),w.qZA()(),w.TgZ(3,"form",2,3),w.NdJ("ngSubmit",function(){return X.createUserWithEmAndPa()}),w.TgZ(5,"mat-form-field")(6,"mat-label",4),w._uU(7,"Email"),w.qZA(),w.TgZ(8,"input",5,6),w.NdJ("ngModelChange",function(wt){return X.email=wt}),w.qZA()(),w.TgZ(10,"div",7),w.YNc(11,pt,2,0,"span",8),w.TgZ(12,"button",9),w.NdJ("click",function(){return X.emailSuggestion()}),w._uU(13,"Mutass egy peldat a megfelelo formatumu email cimre!"),w.qZA()(),w.TgZ(14,"mat-form-field")(15,"mat-label",10),w._uU(16,"Jelsz\xf3"),w.qZA(),w.TgZ(17,"input",11),w.NdJ("ngModelChange",function(wt){return X.password=wt}),w.qZA()(),w.YNc(18,bt,4,3,"div",12),w.TgZ(19,"button",13),w._uU(20,"Regisztr\xe1ci\xf3"),w.qZA()(),w.TgZ(21,"div",14)(22,"h2",15),w._uU(23,"Vagy l\xe9pj be Google fi\xf3kkal, vagy telefonsz\xe1mmal"),w.qZA()()),2&B){const Se=w.MAs(4),wt=w.MAs(9);w.xp6(8),w.Q6J("ngModel",X.email),w.xp6(3),w.Q6J("ngIf",!wt.valid&&wt.touched),w.xp6(6),w.Q6J("ngModel",X.password),w.xp6(1),w.Q6J("ngForOf",X.genders),w.xp6(1),w.Q6J("disabled",!Se.valid)}},dependencies:[$e.sg,$e.O5,O.rH,ne._Y,ne.Fj,ne._,ne.JJ,ne.JL,ne.Q7,ne.on,ne.On,ne.F,wn.KE,wn.hX,Le.lW,Ln.Nt,jn.gM],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.container-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px!important;height:-moz-fit-content;height:fit-content;background-color:#0a7e0ab3;border-radius:10px}.container-2[_ngcontent-%COMP%], .container-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}form[_ngcontent-%COMP%]{display:grid}"]})}return re})();var Be=R(752);function Te(re,A){1&re&&(w.TgZ(0,"div",3)(1,"h2",4),w._uU(2," Bejelentkez\xe9s Email c\xedmmel "),w.qZA()())}function Mt(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"form",5),w.NdJ("ngSubmit",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.loginWithEmAndPa())}),w.TgZ(1,"mat-form-field")(2,"mat-label",6),w._uU(3,"Email"),w.qZA(),w.TgZ(4,"input",7),w.NdJ("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.email=X)}),w.qZA()(),w.TgZ(5,"mat-form-field")(6,"mat-label",8),w._uU(7,"Jelsz\xf3"),w.qZA(),w.TgZ(8,"input",9),w.NdJ("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.password=X)}),w.qZA()(),w.TgZ(9,"button",10),w._uU(10,"Bejelentkez\xe9s"),w.qZA(),w.TgZ(11,"h4",11),w._uU(12," Vagy bejelentkez\xe9s egyszer\u0171en "),w.TgZ(13,"a",12),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return X.facebookOrGoogle=!0,w.KtG(X.booleanFunction())}),w._UZ(14,"i",13),w.qZA(),w.TgZ(15,"button",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return X.booleanFunction(),w.KtG(X.isPhone=!X.isPhone)}),w._UZ(16,"span",15),w.qZA()()()}if(2&re){const x=w.oxw();w.xp6(4),w.Q6J("ngModel",x.email),w.xp6(4),w.Q6J("ngModel",x.password)}}function Ze(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"div",17)(1,"button",18),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.loginWithGoogle())}),w._UZ(2,"i",19),w._uU(3," Bejelentkez\xe9s "),w.qZA()()}if(2&re){const x=w.oxw(2);w.xp6(1),w.Q6J("disabled",!x.facebookOrGoogle)}}function St(re,A){if(1&re&&(w.ynx(0),w.YNc(1,Ze,4,1,"div",16),w.BQk()),2&re){const x=w.oxw();w.xp6(1),w.Q6J("ngIf",x.emailOrGoogle)}}function Bt(re,A){if(1&re){const x=w.EpF();w.ynx(0),w._UZ(1,"div",20),w.TgZ(2,"div",21)(3,"div",22)(4,"input",23),w.NdJ("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.phoneNumber=X)}),w.qZA(),w.TgZ(5,"label",24),w._uU(6,"+36"),w.qZA()(),w.TgZ(7,"div",25),w._UZ(8,"span",26),w.qZA(),w.TgZ(9,"div",27)(10,"button",28),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.startLoginWithPhoneNumber())}),w._UZ(11,"i",29),w._uU(12," Bejelentkez\xe9s "),w.qZA()()(),w.BQk()}if(2&re){const x=w.oxw();w.xp6(2),w.Q6J("ngClass",x.isPhone?"d-flex":"d-none"),w.xp6(2),w.Q6J("ngModel",x.phoneNumber)}}function yn(re,A){if(1&re){const x=w.EpF();w.ynx(0),w.TgZ(1,"div",30)(2,"input",31),w.NdJ("ngModelChange",function(X){w.CHM(x);const Se=w.oxw();return w.KtG(Se.verificationCode=X)}),w.qZA(),w.TgZ(3,"label",32),w._uU(4,"Meger\u0151s\xedt\u0151 k\xf3d"),w.qZA()(),w.TgZ(5,"div",33)(6,"button",34),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.verifyPhoneNumberAndLogin())}),w._uU(7," K\xf3d meger\u0151s\xedt\xe9se "),w.qZA()(),w.BQk()}if(2&re){const x=w.oxw();w.xp6(2),w.Q6J("ngModel",x.verificationCode)}}let Ut=(()=>{class re{constructor(x,B,X){this.authService=x,this.router=B,this.base=X,this.email="",this.password="",this.emailOrGoogle=!1,this.facebookOrGoogle=!1,this.isPhone=!1,this.reCapthcaOff=!1,this.userProfiles=[]}loginWithEmAndPa(){this.authService.loginWithEmAndPa(this.email,this.password),this.authService.isLoggedIn().subscribe(x=>{this.base.getUserProfiles().subscribe(B=>{this.userProfiles=B;let X=this.userProfiles.filter(Se=>Se.uid===x.uid);if(console.log(X),this.base.userProfileSubject.next(X),0===X.length){X.push(x);for(let Se=0;Se<1;Se++)this.base.addUserData({uid:X[0].uid,email:x.email}),console.log("ciklus lefutott")}else console.log("van m\xe1r ilyen user");0!=X.length&&console.log("siker",X.length),this.router.navigate(["profile/"+x.uid])})})}loginWithGoogle(){this.authService.signInWithGoogle().then(()=>{this.authService.isLoggedIn().subscribe(x=>{this.base.getUserProfiles().subscribe(B=>{this.userProfiles=B;let X=this.userProfiles.filter(Se=>Se.uid===x.uid);if(console.log(X),0===X.length){X.push(x);for(let Se=0;Se<1;Se++)this.base.addUserData({uid:X[0].uid,email:x.email}),console.log("felhaszn\xe1l\xf3 hozz\xe1adva")}else console.log("van m\xe1r ilyen user");this.router.navigate(void 0===X[0].birthDate||""===X[0].birthDate?["profile/"+x.uid]:[""])})})})}loginWithFacebook(){this.authService.signInWithFacebook().then(()=>this.router.navigate([""]))}booleanFunction(){this.emailOrGoogle=!this.emailOrGoogle}startLoginWithPhoneNumber(){this.authService.signInWithPhoneNumber("+36"+this.phoneNumber).then(x=>{this.verificationId=x.verificationId,this.reCapthcaOff=!0})}verifyPhoneNumberAndLogin(){const x=Be.RO.credential(this.verificationId,this.verificationCode);this.authService.verifyPhoneNumberAndSignIN(x).then(()=>{this.authService.isLoggedIn().subscribe(B=>{this.base.getUserProfiles().subscribe(X=>{let Se=X.filter(wt=>wt.uid===B.uid);0===Se.length&&(Se.push(B),this.base.addUserData({uid:B.uid,phoneNumber:B.phoneNumber})),this.router.navigate(void 0===Se[0].birthDate||""===Se[0].birthDate?["profile/"+B.uid]:[""])})})})}static#e=this.\u0275fac=function(B){return new(B||re)(w.Y36(Ge.e),w.Y36(O.F0),w.Y36(ke.b))};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-login"]],decls:5,vars:5,consts:[["class","container-0",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"container-0"],["matTooltipPosition","left","matTooltip","K\xe9rj\xfck \xedrja be az e-mail c\xedm\xe9t \xe9s haszn\xe1ljon egy er\u0151s jelsz\xf3t a sikeres regisztr\xe1l\xe1shoz."],[3,"ngSubmit"],["for","email"],["matInput","","type","email","name","email",3,"ngModel","ngModelChange"],["for","password"],["matInput","","type","password","name","password",3,"ngModel","ngModelChange"],["color","accent","mat-raised-button","","type","submit"],[1,"text-center","mt-2","fs-5"],["type","button",1,"btn","btn-warning","ms-2",3,"click"],[1,"bi","bi-google","h4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-telephone","h4"],["class","mt-4 d-grid gap-2 col-6 mx-auto google-container",4,"ngIf"],[1,"mt-4","d-grid","gap-2","col-6","mx-auto","google-container"],["color","warn","mat-raised-button","","type","button",1,"btn","btn-lg",3,"disabled","click"],[1,"bi","bi-google"],["id","reCaptchaContainer",1,"flexToMiddleContainer"],[1,"row","no-padding","justify-content-center","align-items-center",3,"ngClass"],[1,"form-floating","mt-4","col-6","no-padding"],["id","phoneNumber","name","phoneNumber","type","text","placeholder","Telefonsz\xe1m",1,"form-control",3,"ngModel","ngModelChange"],["for","phoneNumber"],[1,"col-6","mt-4","ms-2","no-padding","text-center","span-div"],[1,"p-2","bi","bi-telephone-fill","h2","text-dark","bg-success","rounded"],[1,"col-12","text-center","mt-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"bi","bi-telephone"],[1,"form-floating","col-12","text-center","flexToMiddleContainer"],["id","verify-code","name","verify-code","type","text","placeholder","Meger\u0151s\xedt\u0151 k\xf3d",1,"form-control",3,"ngModel","ngModelChange"],["for","verify-code"],[1,"col-12","text-center"],["type","button",1,"btn","btn-dark","mt-1",3,"click"]],template:function(B,X){1&B&&(w.YNc(0,Te,3,0,"div",0),w.YNc(1,Mt,17,2,"form",1),w.YNc(2,St,2,1,"ng-container",2),w.YNc(3,Bt,13,2,"ng-container",2),w.YNc(4,yn,8,1,"ng-container",2)),2&B&&(w.Q6J("ngIf",!X.emailOrGoogle),w.xp6(1),w.Q6J("ngIf",!X.emailOrGoogle),w.xp6(1),w.Q6J("ngIf",X.emailOrGoogle&&!X.isPhone),w.xp6(1),w.Q6J("ngIf",X.emailOrGoogle&&!X.reCapthcaOff),w.xp6(1),w.Q6J("ngIf",X.verificationId))},dependencies:[$e.mk,$e.O5,ne._Y,ne.Fj,ne.JJ,ne.JL,ne.On,ne.F,wn.KE,wn.hX,Le.lW,Ln.Nt,jn.gM],styles:[".container-0[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:50px;width:max-content;padding:10px;border:2px solid rgb(128,128,128);background-color:#80808080}.container-0[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:hover{color:#fff;background-color:#47464680;cursor:help}.google-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100px}form[_ngcontent-%COMP%]{display:grid}.no-padding[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.span-div[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.flexToMiddleContainer[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;margin-top:350px!important}.flexToMiddleContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%}.flexToMiddleContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:30%;width:40%}"]})}return re})();const Pn=["saveChanges"];function Lt(re,A){if(1&re&&(w.TgZ(0,"div",3)(1,"b"),w._uU(2),w.qZA()()),2&re){const x=A.$implicit;w.xp6(2),w.Oqu(x)}}function Wt(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"div",9)(1,"div",3),w._uU(2),w.qZA(),w.TgZ(3,"div",3),w._UZ(4,"img",10),w.qZA(),w.TgZ(5,"div",3),w._uU(6),w.qZA(),w.TgZ(7,"div",3)(8,"div",11)(9,"input",12),w.NdJ("change",function(){const Se=w.CHM(x).$implicit,wt=w.oxw(2);return w.KtG(wt.changeClaims(Se))})("ngModelChange",function(X){const wt=w.CHM(x).$implicit;return w.KtG(wt.claims.superAdmin=X)}),w.qZA(),w.TgZ(10,"label",13),w._uU(11,"Super Admin"),w.qZA()(),w.TgZ(12,"div",11)(13,"input",12),w.NdJ("change",function(){const Se=w.CHM(x).$implicit,wt=w.oxw(2);return w.KtG(wt.changeClaims(Se))})("ngModelChange",function(X){const wt=w.CHM(x).$implicit;return w.KtG(wt.claims.admin=X)}),w.qZA(),w.TgZ(14,"label",13),w._uU(15,"Admin"),w.qZA()(),w.TgZ(16,"div",11)(17,"input",12),w.NdJ("change",function(){const Se=w.CHM(x).$implicit,wt=w.oxw(2);return w.KtG(wt.changeClaims(Se))})("ngModelChange",function(X){const wt=w.CHM(x).$implicit;return w.KtG(wt.claims.basic=X)}),w.qZA(),w.TgZ(18,"label",13),w._uU(19,"Alap jogosults\xe1g"),w.qZA()()()()}if(2&re){const x=A.$implicit;w.xp6(2),w.Oqu(x.displayName),w.xp6(2),w.s9C("src",x.profilePicture,w.LSH),w.xp6(2),w.Oqu(x.email),w.xp6(3),w.Q6J("ngModel",x.claims.superAdmin),w.xp6(4),w.Q6J("ngModel",x.claims.admin),w.xp6(4),w.Q6J("ngModel",x.claims.basic)}}function _e(re,A){if(1&re){const x=w.EpF();w.ynx(0),w.YNc(1,Wt,20,6,"div",4),w.TgZ(2,"div",5)(3,"div",6)(4,"button",7,8),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.save())}),w._uU(6,"Modositasok mentese"),w.qZA()()(),w.BQk()}if(2&re){const x=w.oxw();w.xp6(1),w.Q6J("ngForOf",x.users)}}let Ue=(()=>{class re{constructor(x,B){this.authService=x,this.router=B,this.columns=["Megjelen\xedt\xe9si n\xe9v","Profilk\xe9p","Email-c\xedm","Jogosults\xe1gok"]}ngAfterViewInit(){setTimeout(()=>{this.authService.getUsers().subscribe(x=>{this.users=x})},1e3)}changeClaims(x){this.authService.setCustomClaims(x.uid,x.claims),setTimeout(()=>{this.saveChanges.nativeElement.disabled=!1,this.saveChanges.nativeElement.style.backgroundColor="darkgreen"},3e3)}save(){this.authService.navDisappear.next(!1),this.subscription=this.authService.navDisappear.subscribe(x=>{}),this.router.navigate(["home"])}ngOnDestroy(){this.subscription.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(B){return new(B||re)(w.Y36(Ge.e),w.Y36(O.F0))};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-users"]],viewQuery:function(B,X){if(1&B&&w.Gf(Pn,5),2&B){let Se;w.iGM(Se=w.CRH())&&(X.saveChanges=Se.first)}},decls:3,vars:2,consts:[[1,"row","mt-3","mb-4","text-center"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],["class","row text-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","text-center"],["disabled","","type","button",1,"btn","btn-primary",3,"click"],["saveChanges",""],[1,"row","text-center"],["alt","Profilk\xe9p",3,"src"],[1,"form-check","form-switch"],["type","checkbox","checked","",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","flexSwitchCheckChecked",1,"form-check-label"]],template:function(B,X){1&B&&(w.TgZ(0,"div",0),w.YNc(1,Lt,3,1,"div",1),w.qZA(),w.YNc(2,_e,7,1,"ng-container",2)),2&B&&(w.xp6(1),w.Q6J("ngForOf",X.columns),w.xp6(1),w.Q6J("ngIf",X.users))},dependencies:[$e.sg,$e.O5,ne.Wl,ne.JJ,ne.On]})}return re})();var at=R(5195);function $t(re,A){if(1&re&&(w.ynx(0),w.TgZ(1,"div",5)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),w._uU(5),w.qZA()(),w.TgZ(6,"mat-card-content")(7,"p"),w._uU(8),w.qZA()()()(),w.BQk()),2&re){const x=w.oxw();w.xp6(5),w.Oqu(x.weather.location),w.xp6(3),w.Oqu(x.weather.forecast)}}const Qn=[{path:"",component:Ye},{path:"notes",component:ni},{path:"signup",component:Rt},{path:"login",component:Ut},{path:"users",component:Ue},{path:"weather",component:(()=>{class re{constructor(x){this.baseService=x,this.location="",this.weather={}}getWeather(x){this.baseService.getWeather(x).subscribe(B=>{this.weather=B})}static#e=this.\u0275fac=function(B){return new(B||re)(w.Y36(ke.b))};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-weather"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"mt-4"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",1,"ms-2",3,"click"],[4,"ngIf"],[1,"d-grid","justify-content-center"]],template:function(B,X){1&B&&(w.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),w._uU(3,"Hely neve"),w.qZA(),w.TgZ(4,"input",2),w.NdJ("ngModelChange",function(wt){return X.location=wt}),w.qZA()(),w.TgZ(5,"button",3),w.NdJ("click",function(){return X.getWeather(X.location)}),w._uU(6,"Keres\xe9s"),w.qZA()(),w.YNc(7,$t,9,2,"ng-container",4)),2&B&&(w.xp6(4),w.Q6J("ngModel",X.location),w.xp6(3),w.Q6J("ngIf",X.weather.location))},dependencies:[$e.O5,ne.Fj,ne.JJ,ne.On,wn.KE,wn.hX,at.a8,at.dn,at.dk,at.n5,Le.lW,Ln.Nt]})}return re})()},{path:"profile/:uid",component:R(3969).t},{path:"recipes",loadChildren:()=>R.e(853).then(R.bind(R,7853)).then(re=>re.RecipesModule)},{path:"chat",loadChildren:()=>R.e(466).then(R.bind(R,9466)).then(re=>re.ChatModule)}];let ai=(()=>{class re{static#e=this.\u0275fac=function(B){return new(B||re)};static#t=this.\u0275mod=w.oAB({type:re});static#n=this.\u0275inj=w.cJS({imports:[O.Bz.forRoot(Qn,{preloadingStrategy:O.wm}),O.Bz]})}return re})();var Pt=R(9862),Ie=R(7217),xe=R(6487),Ve=R(4186),je=R(9027),mt=R(981);const At_firebaseConfig={apiKey:"AIzaSyAqSzVgcm58_Y7k3PvuvQ5L-qW8vJrrq30",authDomain:"project0781.firebaseapp.com",databaseURL:"https://project0781-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project0781",storageBucket:"project0781.appspot.com",messagingSenderId:"254100950894",appId:"1:254100950894:web:74273920b751120e19fb7f",measurementId:"G-4JXLN15RYP"};function rn(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"a",13),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.navDisappear())}),w.TgZ(1,"span"),w._uU(2,"Felhaszn\xe1l\xf3k"),w.qZA()()}}function Fn(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"li",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(1,"a",15),w._uU(2,"Id\u0151j\xe1r\xe1s"),w.qZA()()}}function gn(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"li",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(1,"a",16),w._uU(2,"Chat"),w.qZA()()}}const Hn=function(){return["recipes"]};function An(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"li",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(1,"a",17),w._uU(2,"Receptek"),w.qZA()()}2&re&&(w.xp6(1),w.Q6J("routerLink",w.DdM(1,Hn)))}function Ci(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"li",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(1,"a",18),w._uU(2,"Jegyzetek"),w.qZA()()}}function xi(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"li",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(1,"a",19),w._uU(2," Regisztr\xe1ci\xf3 "),w.qZA()()}}const Li=function(){return{exact:!0}};function zi(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"li",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(1,"a",20),w._uU(2,"Bejelentkez\xe9s"),w.qZA()()}2&re&&(w.xp6(1),w.Q6J("routerLinkActiveOptions",w.DdM(1,Li)))}function sn(re,A){if(1&re){const x=w.EpF();w.TgZ(0,"li",14),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(1,"a",21),w.NdJ("click",function(){w.CHM(x);const X=w.oxw(2);return w.KtG(X.signOut())}),w._uU(2,"Kijelentkez\xe9s "),w.qZA()()}}const ci=function(re){return{"mt-3":re}};function tn(re,A){if(1&re){const x=w.EpF();w.ynx(0),w.TgZ(1,"nav",1)(2,"div",2)(3,"div")(4,"button",3),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(5,"span"),w._uU(6,"Menu "),w.qZA(),w._UZ(7,"span",4),w.qZA()(),w.TgZ(8,"div",5)(9,"ul",6)(10,"li",7),w.NdJ("click",function(){w.CHM(x);const X=w.oxw();return w.KtG(X.isMenuClicked=!X.isMenuClicked)}),w.TgZ(11,"a",8),w._UZ(12,"span",9),w._uU(13," Kezd\u0151lap"),w.qZA()(),w.TgZ(14,"li",10),w.YNc(15,rn,3,0,"a",11),w.qZA(),w.YNc(16,Fn,3,0,"li",12),w.YNc(17,gn,3,0,"li",12),w.YNc(18,An,3,2,"li",12),w.YNc(19,Ci,3,0,"li",12),w.YNc(20,xi,3,0,"li",12),w.YNc(21,zi,3,2,"li",12),w.YNc(22,sn,3,0,"li",12),w.qZA()()()(),w.BQk()}if(2&re){const x=w.oxw();w.xp6(8),w.Q6J("ngbCollapse",!x.isMenuClicked),w.xp6(1),w.Q6J("ngClass",w.VKq(11,ci,x.isMenuClicked)),w.xp6(2),w.Q6J("routerLinkActiveOptions",w.DdM(13,Li)),w.xp6(4),w.Q6J("ngIf",x.isSuperAdmin),w.xp6(1),w.Q6J("ngIf",x.isLoggedIn),w.xp6(1),w.Q6J("ngIf",x.isLoggedIn),w.xp6(1),w.Q6J("ngIf",x.isLoggedIn),w.xp6(1),w.Q6J("ngIf",x.isLoggedIn),w.xp6(1),w.Q6J("ngIf",!x.isLoggedIn),w.xp6(1),w.Q6J("ngIf",!x.isLoggedIn),w.xp6(1),w.Q6J("ngIf",x.isLoggedIn)}}let kn=(()=>{class re{constructor(x){this.authService=x,this.isSuperAdmin=!1,this.isNavDisappeared=!1,this.isMenuClicked=!1}ngOnInit(){this.authService.isLoggedIn().subscribe({next:x=>{x?.uid||"facebook.com"==x?.providerData[0]?.providerId||"phone"==x?.providerData[0]?.providerId?this.isLoggedIn=x:(x?.sendEmailVerification(),this.isLoggedIn="")},error:x=>console.log(x)}),this.authService.isSuperAdmin.subscribe(x=>{this.isSuperAdmin=x})}signOut(){this.authService.signOut(),this.isSuperAdmin=!1}navDisappear(){this.authService.navDisappear.next(!0),this.authService.navDisappear.subscribe(x=>{this.isNavDisappeared=x})}ngOnDestroy(){this.authService.navDisappear.unsubscribe(),console.log("sikeres leiratkozas")}static#e=this.\u0275fac=function(B){return new(B||re)(w.Y36(Ge.e))};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-nav"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-secondary","fixed-top"],[1,"container-fluid","text-center","justify-content-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","h5",3,"ngClass"],[1,"nav-item","text-center",3,"click"],["routerLink","","routerLinkActive","active-link",1,"navbar-brand","nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-item"],["routerLink","users","class","nav-link","routerLinkActive","active-link",3,"click",4,"ngIf"],["class","nav-item",3,"click",4,"ngIf"],["routerLink","users","routerLinkActive","active-link",1,"nav-link",3,"click"],[1,"nav-item",3,"click"],["routerLinkActive","active-link","routerLink","weather",1,"nav-link"],["routerLinkActive","active-link","routerLink","chat",1,"nav-link"],["routerLinkActive","active-link",1,"nav-link",3,"routerLink"],["routerLinkActive","active-link","routerLink","notes",1,"nav-link"],["routerLink","signup","routerLinkActive","active-link",1,"nav-link"],["routerLinkActive","active-link","routerLink","/login",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","",1,"nav-link","sign-out",3,"click"]],template:function(B,X){1&B&&w.YNc(0,tn,23,14,"ng-container",0),2&B&&w.Q6J("ngIf",!X.isNavDisappeared)},dependencies:[$e.mk,$e.O5,O.rH,O.Od,we._D],styles:[".active-link[_ngcontent-%COMP%]{color:#fff;background-color:#83968380;height:-moz-fit-content;height:fit-content}.sign-out[_ngcontent-%COMP%]{color:#1b1b19;background-color:#383d3c4d;box-shadow:5px 5px 5px #201e1e80}.nav-item[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}return re})(),xn=(()=>{class re{constructor(){this.title="Project"}static#e=this.\u0275fac=function(B){return new(B||re)};static#t=this.\u0275cmp=w.Xpm({type:re,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"main-img","mt-0","mb-0"],["src","https://img.freepik.com/free-photo/beautiful-shot-grassy-hills-covered-trees-near-mountains-dolomites-italy_181624-24400.jpg?w=1380&t=st=1699608253~exp=1699608853~hmac=d483e48590bee222086a9a3602a9862fa65824b57c22bd041cee76e7fafca419","width","100%","height","100%","alt","T\xe1jk\xe9p"],[1,"container","outlet-container"]],template:function(B,X){1&B&&(w._UZ(0,"app-nav"),w.TgZ(1,"div",0),w._UZ(2,"img",1),w.qZA(),w.TgZ(3,"div",2),w._UZ(4,"router-outlet"),w.qZA())},dependencies:[O.lC,kn],styles:[".main-img[_ngcontent-%COMP%]{position:relative;z-index:-1}img[_ngcontent-%COMP%]{position:fixed;top:0;opacity:.5}.outlet-container[_ngcontent-%COMP%]{margin-top:90px}"]})}return re})();var zn=R(6825);function Yi(re){return new w.vHH(3e3,!1)}function Is(re){switch(re.length){case 0:return new zn.ZN;case 1:return re[0];default:return new zn.ZE(re)}}function no(re,A,x=new Map,B=new Map){const X=[],Se=[];let wt=-1,Vt=null;if(A.forEach(on=>{const Dn=on.get("offset"),li=Dn==wt,mi=li&&Vt||new Map;on.forEach((Cr,Xi)=>{let ln=Xi,Nn=Cr;if("offset"!==Xi)switch(ln=re.normalizePropertyName(ln,X),Nn){case zn.k1:Nn=x.get(Xi);break;case zn.l3:Nn=B.get(Xi);break;default:Nn=re.normalizeStyleValue(Xi,ln,Nn,X)}mi.set(ln,Nn)}),li||Se.push(mi),Vt=mi,wt=Dn}),X.length)throw function ur(re){return new w.vHH(3502,!1)}();return Se}function xr(re,A,x,B){switch(A){case"start":re.onStart(()=>B(x&&us(x,"start",re)));break;case"done":re.onDone(()=>B(x&&us(x,"done",re)));break;case"destroy":re.onDestroy(()=>B(x&&us(x,"destroy",re)))}}function us(re,A,x){const Se=zr(re.element,re.triggerName,re.fromState,re.toState,A||re.phaseName,x.totalTime??re.totalTime,!!x.disabled),wt=re._data;return null!=wt&&(Se._data=wt),Se}function zr(re,A,x,B,X="",Se=0,wt){return{element:re,triggerName:A,fromState:x,toState:B,phaseName:X,totalTime:Se,disabled:!!wt}}function ir(re,A,x){let B=re.get(A);return B||re.set(A,B=x),B}function Po(re){const A=re.indexOf(":");return[re.substring(1,A),re.slice(A+1)]}const ao=(()=>typeof document>"u"?null:document.documentElement)();function lo(re){const A=re.parentNode||re.host||null;return A===ao?null:A}let $s=null,ys=!1;function io(re,A){for(;A;){if(A===re)return!0;A=lo(A)}return!1}function Zi(re,A,x){if(x)return Array.from(re.querySelectorAll(A));const B=re.querySelector(A);return B?[B]:[]}let Oi=(()=>{class re{validateStyleProperty(x){return function Zo(re){$s||($s=function bo(){return typeof document<"u"?document.body:null}()||{},ys=!!$s.style&&"WebkitAppearance"in $s.style);let A=!0;return $s.style&&!function Ss(re){return"ebkit"==re.substring(1,6)}(re)&&(A=re in $s.style,!A&&ys&&(A="Webkit"+re.charAt(0).toUpperCase()+re.slice(1)in $s.style)),A}(x)}matchesElement(x,B){return!1}containsElement(x,B){return io(x,B)}getParentElement(x){return lo(x)}query(x,B,X){return Zi(x,B,X)}computeStyle(x,B,X){return X||""}animate(x,B,X,Se,wt,Vt=[],on){return new zn.ZN(X,Se)}static#e=this.\u0275fac=function(B){return new(B||re)};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})(),Tr=(()=>{class re{static#e=this.NOOP=new Oi}return re})();const ar=1e3,As="ng-enter",ki="ng-leave",Hi="ng-trigger",di=".ng-trigger",Ar="ng-animating",ns=".ng-animating";function is(re){if("number"==typeof re)return re;const A=re.match(/^(-?[\.\d]+)(m?s)/);return!A||A.length<2?0:bs(parseFloat(A[1]),A[2])}function bs(re,A){return"s"===A?re*ar:re}function So(re,A,x){return re.hasOwnProperty("duration")?re:function qo(re,A,x){let X,Se=0,wt="";if("string"==typeof re){const Vt=re.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Vt)return A.push(Yi()),{duration:0,delay:0,easing:""};X=bs(parseFloat(Vt[1]),Vt[2]);const on=Vt[3];null!=on&&(Se=bs(parseFloat(on),Vt[4]));const Dn=Vt[5];Dn&&(wt=Dn)}else X=re;if(!x){let Vt=!1,on=A.length;X<0&&(A.push(function Dt(){return new w.vHH(3100,!1)}()),Vt=!0),Se<0&&(A.push(function ue(){return new w.vHH(3101,!1)}()),Vt=!0),Vt&&A.splice(on,0,Yi())}return{duration:X,delay:Se,easing:wt}}(re,A,x)}function Ho(re,A={}){return Object.keys(re).forEach(x=>{A[x]=re[x]}),A}function Qi(re){const A=new Map;return Object.keys(re).forEach(x=>{A.set(x,re[x])}),A}function Vi(re,A=new Map,x){if(x)for(let[B,X]of x)A.set(B,X);for(let[B,X]of re)A.set(B,X);return A}function mr(re,A,x){A.forEach((B,X)=>{const Se=Rs(X);x&&!x.has(X)&&x.set(X,re.style[Se]),re.style[Se]=B})}function Qs(re,A){A.forEach((x,B)=>{const X=Rs(B);re.style[X]=""})}function qr(re){return Array.isArray(re)?1==re.length?re[0]:(0,zn.vP)(re):re}const Rr=new RegExp("{{\\s*(.+?)\\s*}}","g");function js(re){let A=[];if("string"==typeof re){let x;for(;x=Rr.exec(re);)A.push(x[1]);Rr.lastIndex=0}return A}function hs(re,A,x){const B=re.toString(),X=B.replace(Rr,(Se,wt)=>{let Vt=A[wt];return null==Vt&&(x.push(function F(re){return new w.vHH(3003,!1)}()),Vt=""),Vt.toString()});return X==B?re:X}function Vn(re){const A=[];let x=re.next();for(;!x.done;)A.push(x.value),x=re.next();return A}const Es=/-+([a-z0-9])/g;function Rs(re){return re.replace(Es,(...A)=>A[1].toUpperCase())}function gr(re,A,x){switch(A.type){case 7:return re.visitTrigger(A,x);case 0:return re.visitState(A,x);case 1:return re.visitTransition(A,x);case 2:return re.visitSequence(A,x);case 3:return re.visitGroup(A,x);case 4:return re.visitAnimate(A,x);case 5:return re.visitKeyframes(A,x);case 6:return re.visitStyle(A,x);case 8:return re.visitReference(A,x);case 9:return re.visitAnimateChild(A,x);case 10:return re.visitAnimateRef(A,x);case 11:return re.visitQuery(A,x);case 12:return re.visitStagger(A,x);default:throw function G(re){return new w.vHH(3004,!1)}()}}function Eo(re,A){return window.getComputedStyle(re)[A]}const yi="*";function No(re,A){const x=[];return"string"==typeof re?re.split(/\s*,\s*/).forEach(B=>function Lr(re,A,x){if(":"==re[0]){const on=function zo(re,A){switch(re){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(x,B)=>parseFloat(B)>parseFloat(x);case":decrement":return(x,B)=>parseFloat(B)<parseFloat(x);default:return A.push(function an(re){return new w.vHH(3016,!1)}()),"* => *"}}(re,x);if("function"==typeof on)return void A.push(on);re=on}const B=re.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return x.push(function Gt(re){return new w.vHH(3015,!1)}()),A;const X=B[1],Se=B[2],wt=B[3];A.push(fs(X,wt));"<"==Se[0]&&!(X==yi&&wt==yi)&&A.push(fs(wt,X))}(B,x,A)):x.push(re),x}const Gr=new Set(["true","1"]),ro=new Set(["false","0"]);function fs(re,A){const x=Gr.has(re)||ro.has(re),B=Gr.has(A)||ro.has(A);return(X,Se)=>{let wt=re==yi||re==X,Vt=A==yi||A==Se;return!wt&&x&&"boolean"==typeof X&&(wt=X?Gr.has(re):ro.has(re)),!Vt&&B&&"boolean"==typeof Se&&(Vt=Se?Gr.has(A):ro.has(A)),wt&&Vt}}const Pi=new RegExp("s*:selfs*,?","g");function fa(re,A,x,B){return new Ir(re).build(A,x,B)}class Ir{constructor(A){this._driver=A}build(A,x,B){const X=new Ms(x);return this._resetContextStyleTimingState(X),gr(this,qr(A),X)}_resetContextStyleTimingState(A){A.currentQuerySelector="",A.collectedStyles=new Map,A.collectedStyles.set("",new Map),A.currentTime=0}visitTrigger(A,x){let B=x.queryCount=0,X=x.depCount=0;const Se=[],wt=[];return"@"==A.name.charAt(0)&&x.errors.push(function gt(){return new w.vHH(3006,!1)}()),A.definitions.forEach(Vt=>{if(this._resetContextStyleTimingState(x),0==Vt.type){const on=Vt,Dn=on.name;Dn.toString().split(/\s*,\s*/).forEach(li=>{on.name=li,Se.push(this.visitState(on,x))}),on.name=Dn}else if(1==Vt.type){const on=this.visitTransition(Vt,x);B+=on.queryCount,X+=on.depCount,wt.push(on)}else x.errors.push(function nt(){return new w.vHH(3007,!1)}())}),{type:7,name:A.name,states:Se,transitions:wt,queryCount:B,depCount:X,options:null}}visitState(A,x){const B=this.visitStyle(A.styles,x),X=A.options&&A.options.params||null;if(B.containsDynamicStyles){const Se=new Set,wt=X||{};B.styles.forEach(Vt=>{Vt instanceof Map&&Vt.forEach(on=>{js(on).forEach(Dn=>{wt.hasOwnProperty(Dn)||Se.add(Dn)})})}),Se.size&&(Vn(Se.values()),x.errors.push(function ot(re,A){return new w.vHH(3008,!1)}()))}return{type:0,name:A.name,style:B,options:X?{params:X}:null}}visitTransition(A,x){x.queryCount=0,x.depCount=0;const B=gr(this,qr(A.animation),x);return{type:1,matchers:No(A.expr,x.errors),animation:B,queryCount:x.queryCount,depCount:x.depCount,options:Vs(A.options)}}visitSequence(A,x){return{type:2,steps:A.steps.map(B=>gr(this,B,x)),options:Vs(A.options)}}visitGroup(A,x){const B=x.currentTime;let X=0;const Se=A.steps.map(wt=>{x.currentTime=B;const Vt=gr(this,wt,x);return X=Math.max(X,x.currentTime),Vt});return x.currentTime=X,{type:3,steps:Se,options:Vs(A.options)}}visitAnimate(A,x){const B=function Ni(re,A){if(re.hasOwnProperty("duration"))return re;if("number"==typeof re)return Qo(So(re,A).duration,0,"");const x=re;if(x.split(/\s+/).some(Se=>"{"==Se.charAt(0)&&"{"==Se.charAt(1))){const Se=Qo(0,0,"");return Se.dynamic=!0,Se.strValue=x,Se}const X=So(x,A);return Qo(X.duration,X.delay,X.easing)}(A.timings,x.errors);x.currentAnimateTimings=B;let X,Se=A.styles?A.styles:(0,zn.oB)({});if(5==Se.type)X=this.visitKeyframes(Se,x);else{let wt=A.styles,Vt=!1;if(!wt){Vt=!0;const Dn={};B.easing&&(Dn.easing=B.easing),wt=(0,zn.oB)(Dn)}x.currentTime+=B.duration+B.delay;const on=this.visitStyle(wt,x);on.isEmptyStep=Vt,X=on}return x.currentAnimateTimings=null,{type:4,timings:B,style:X,options:null}}visitStyle(A,x){const B=this._makeStyleAst(A,x);return this._validateStyleAst(B,x),B}_makeStyleAst(A,x){const B=[],X=Array.isArray(A.styles)?A.styles:[A.styles];for(let Vt of X)"string"==typeof Vt?Vt===zn.l3?B.push(Vt):x.errors.push(new w.vHH(3002,!1)):B.push(Qi(Vt));let Se=!1,wt=null;return B.forEach(Vt=>{if(Vt instanceof Map&&(Vt.has("easing")&&(wt=Vt.get("easing"),Vt.delete("easing")),!Se))for(let on of Vt.values())if(on.toString().indexOf("{{")>=0){Se=!0;break}}),{type:6,styles:B,easing:wt,offset:A.offset,containsDynamicStyles:Se,options:null}}_validateStyleAst(A,x){const B=x.currentAnimateTimings;let X=x.currentTime,Se=x.currentTime;B&&Se>0&&(Se-=B.duration+B.delay),A.styles.forEach(wt=>{"string"!=typeof wt&&wt.forEach((Vt,on)=>{const Dn=x.collectedStyles.get(x.currentQuerySelector),li=Dn.get(on);let mi=!0;li&&(Se!=X&&Se>=li.startTime&&X<=li.endTime&&(x.errors.push(function st(re,A,x,B,X){return new w.vHH(3010,!1)}()),mi=!1),Se=li.startTime),mi&&Dn.set(on,{startTime:Se,endTime:X}),x.options&&function Ta(re,A,x){const B=A.params||{},X=js(re);X.length&&X.forEach(Se=>{B.hasOwnProperty(Se)||x.push(function J(re){return new w.vHH(3001,!1)}())})}(Vt,x.options,x.errors)})})}visitKeyframes(A,x){const B={type:5,styles:[],options:null};if(!x.currentAnimateTimings)return x.errors.push(function Jt(){return new w.vHH(3011,!1)}()),B;let Se=0;const wt=[];let Vt=!1,on=!1,Dn=0;const li=A.steps.map(vi=>{const er=this._makeStyleAst(vi,x);let Vr=null!=er.offset?er.offset:function ss(re){if("string"==typeof re)return null;let A=null;if(Array.isArray(re))re.forEach(x=>{if(x instanceof Map&&x.has("offset")){const B=x;A=parseFloat(B.get("offset")),B.delete("offset")}});else if(re instanceof Map&&re.has("offset")){const x=re;A=parseFloat(x.get("offset")),x.delete("offset")}return A}(er.styles),Si=0;return null!=Vr&&(Se++,Si=er.offset=Vr),on=on||Si<0||Si>1,Vt=Vt||Si<Dn,Dn=Si,wt.push(Si),er});on&&x.errors.push(function Qe(){return new w.vHH(3012,!1)}()),Vt&&x.errors.push(function et(){return new w.vHH(3200,!1)}());const mi=A.steps.length;let Cr=0;Se>0&&Se<mi?x.errors.push(function vt(){return new w.vHH(3202,!1)}()):0==Se&&(Cr=1/(mi-1));const Xi=mi-1,ln=x.currentTime,Nn=x.currentAnimateTimings,Ys=Nn.duration;return li.forEach((vi,er)=>{const Vr=Cr>0?er==Xi?1:Cr*er:wt[er],Si=Vr*Ys;x.currentTime=ln+Nn.delay+Si,Nn.duration=Si,this._validateStyleAst(vi,x),vi.offset=Vr,B.styles.push(vi)}),B}visitReference(A,x){return{type:8,animation:gr(this,qr(A.animation),x),options:Vs(A.options)}}visitAnimateChild(A,x){return x.depCount++,{type:9,options:Vs(A.options)}}visitAnimateRef(A,x){return{type:10,animation:this.visitReference(A.animation,x),options:Vs(A.options)}}visitQuery(A,x){const B=x.currentQuerySelector,X=A.options||{};x.queryCount++,x.currentQuery=A;const[Se,wt]=function pa(re){const A=!!re.split(/\s*,\s*/).find(x=>":self"==x);return A&&(re=re.replace(Pi,"")),re=re.replace(/@\*/g,di).replace(/@\w+/g,x=>di+"-"+x.slice(1)).replace(/:animating/g,ns),[re,A]}(A.selector);x.currentQuerySelector=B.length?B+" "+Se:Se,ir(x.collectedStyles,x.currentQuerySelector,new Map);const Vt=gr(this,qr(A.animation),x);return x.currentQuery=null,x.currentQuerySelector=B,{type:11,selector:Se,limit:X.limit||0,optional:!!X.optional,includeSelf:wt,animation:Vt,originalSelector:A.selector,options:Vs(A.options)}}visitStagger(A,x){x.currentQuery||x.errors.push(function tt(){return new w.vHH(3013,!1)}());const B="full"===A.timings?{duration:0,delay:0,easing:"full"}:So(A.timings,x.errors,!0);return{type:12,animation:gr(this,qr(A.animation),x),timings:B,options:null}}}class Ms{constructor(A){this.errors=A,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vs(re){return re?(re=Ho(re)).params&&(re.params=function $r(re){return re?Ho(re):null}(re.params)):re={},re}function Qo(re,A,x){return{duration:re,delay:A,easing:x}}function Wa(re,A,x,B,X,Se,wt=null,Vt=!1){return{type:1,element:re,keyframes:A,preStyleProps:x,postStyleProps:B,duration:X,delay:Se,totalTime:X+Se,easing:wt,subTimeline:Vt}}class Mr{constructor(){this._map=new Map}get(A){return this._map.get(A)||[]}append(A,x){let B=this._map.get(A);B||this._map.set(A,B=[]),B.push(...x)}has(A){return this._map.has(A)}clear(){this._map.clear()}}const D=new RegExp(":enter","g"),de=new RegExp(":leave","g");function ct(re,A,x,B,X,Se=new Map,wt=new Map,Vt,on,Dn=[]){return(new Zt).buildKeyframes(re,A,x,B,X,Se,wt,Vt,on,Dn)}class Zt{buildKeyframes(A,x,B,X,Se,wt,Vt,on,Dn,li=[]){Dn=Dn||new Mr;const mi=new Wn(A,x,Dn,X,Se,li,[]);mi.options=on;const Cr=on.delay?is(on.delay):0;mi.currentTimeline.delayNextStep(Cr),mi.currentTimeline.setStyles([wt],null,mi.errors,on),gr(this,B,mi);const Xi=mi.timelines.filter(ln=>ln.containsAnimation());if(Xi.length&&Vt.size){let ln;for(let Nn=Xi.length-1;Nn>=0;Nn--){const Ys=Xi[Nn];if(Ys.element===x){ln=Ys;break}}ln&&!ln.allowOnlyTimelineStyles()&&ln.setStyles([Vt],null,mi.errors,on)}return Xi.length?Xi.map(ln=>ln.buildKeyframes()):[Wa(x,[],[],[],0,Cr,"",!1)]}visitTrigger(A,x){}visitState(A,x){}visitTransition(A,x){}visitAnimateChild(A,x){const B=x.subInstructions.get(x.element);if(B){const X=x.createSubContext(A.options),Se=x.currentTimeline.currentTime,wt=this._visitSubInstructions(B,X,X.options);Se!=wt&&x.transformIntoNewTimeline(wt)}x.previousNode=A}visitAnimateRef(A,x){const B=x.createSubContext(A.options);B.transformIntoNewTimeline(),this._applyAnimationRefDelays([A.options,A.animation.options],x,B),this.visitReference(A.animation,B),x.transformIntoNewTimeline(B.currentTimeline.currentTime),x.previousNode=A}_applyAnimationRefDelays(A,x,B){for(const X of A){const Se=X?.delay;if(Se){const wt="number"==typeof Se?Se:is(hs(Se,X?.params??{},x.errors));B.delayNextStep(wt)}}}_visitSubInstructions(A,x,B){let Se=x.currentTimeline.currentTime;const wt=null!=B.duration?is(B.duration):null,Vt=null!=B.delay?is(B.delay):null;return 0!==wt&&A.forEach(on=>{const Dn=x.appendInstructionToTimeline(on,wt,Vt);Se=Math.max(Se,Dn.duration+Dn.delay)}),Se}visitReference(A,x){x.updateOptions(A.options,!0),gr(this,A.animation,x),x.previousNode=A}visitSequence(A,x){const B=x.subContextCount;let X=x;const Se=A.options;if(Se&&(Se.params||Se.delay)&&(X=x.createSubContext(Se),X.transformIntoNewTimeline(),null!=Se.delay)){6==X.previousNode.type&&(X.currentTimeline.snapshotCurrentStyles(),X.previousNode=Tn);const wt=is(Se.delay);X.delayNextStep(wt)}A.steps.length&&(A.steps.forEach(wt=>gr(this,wt,X)),X.currentTimeline.applyStylesToKeyframe(),X.subContextCount>B&&X.transformIntoNewTimeline()),x.previousNode=A}visitGroup(A,x){const B=[];let X=x.currentTimeline.currentTime;const Se=A.options&&A.options.delay?is(A.options.delay):0;A.steps.forEach(wt=>{const Vt=x.createSubContext(A.options);Se&&Vt.delayNextStep(Se),gr(this,wt,Vt),X=Math.max(X,Vt.currentTimeline.currentTime),B.push(Vt.currentTimeline)}),B.forEach(wt=>x.currentTimeline.mergeTimelineCollectedStyles(wt)),x.transformIntoNewTimeline(X),x.previousNode=A}_visitTiming(A,x){if(A.dynamic){const B=A.strValue;return So(x.params?hs(B,x.params,x.errors):B,x.errors)}return{duration:A.duration,delay:A.delay,easing:A.easing}}visitAnimate(A,x){const B=x.currentAnimateTimings=this._visitTiming(A.timings,x),X=x.currentTimeline;B.delay&&(x.incrementTime(B.delay),X.snapshotCurrentStyles());const Se=A.style;5==Se.type?this.visitKeyframes(Se,x):(x.incrementTime(B.duration),this.visitStyle(Se,x),X.applyStylesToKeyframe()),x.currentAnimateTimings=null,x.previousNode=A}visitStyle(A,x){const B=x.currentTimeline,X=x.currentAnimateTimings;!X&&B.hasCurrentStyleProperties()&&B.forwardFrame();const Se=X&&X.easing||A.easing;A.isEmptyStep?B.applyEmptyStep(Se):B.setStyles(A.styles,Se,x.errors,x.options),x.previousNode=A}visitKeyframes(A,x){const B=x.currentAnimateTimings,X=x.currentTimeline.duration,Se=B.duration,Vt=x.createSubContext().currentTimeline;Vt.easing=B.easing,A.styles.forEach(on=>{Vt.forwardTime((on.offset||0)*Se),Vt.setStyles(on.styles,on.easing,x.errors,x.options),Vt.applyStylesToKeyframe()}),x.currentTimeline.mergeTimelineCollectedStyles(Vt),x.transformIntoNewTimeline(X+Se),x.previousNode=A}visitQuery(A,x){const B=x.currentTimeline.currentTime,X=A.options||{},Se=X.delay?is(X.delay):0;Se&&(6===x.previousNode.type||0==B&&x.currentTimeline.hasCurrentStyleProperties())&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Tn);let wt=B;const Vt=x.invokeQuery(A.selector,A.originalSelector,A.limit,A.includeSelf,!!X.optional,x.errors);x.currentQueryTotal=Vt.length;let on=null;Vt.forEach((Dn,li)=>{x.currentQueryIndex=li;const mi=x.createSubContext(A.options,Dn);Se&&mi.delayNextStep(Se),Dn===x.element&&(on=mi.currentTimeline),gr(this,A.animation,mi),mi.currentTimeline.applyStylesToKeyframe(),wt=Math.max(wt,mi.currentTimeline.currentTime)}),x.currentQueryIndex=0,x.currentQueryTotal=0,x.transformIntoNewTimeline(wt),on&&(x.currentTimeline.mergeTimelineCollectedStyles(on),x.currentTimeline.snapshotCurrentStyles()),x.previousNode=A}visitStagger(A,x){const B=x.parentContext,X=x.currentTimeline,Se=A.timings,wt=Math.abs(Se.duration),Vt=wt*(x.currentQueryTotal-1);let on=wt*x.currentQueryIndex;switch(Se.duration<0?"reverse":Se.easing){case"reverse":on=Vt-on;break;case"full":on=B.currentStaggerTime}const li=x.currentTimeline;on&&li.delayNextStep(on);const mi=li.currentTime;gr(this,A.animation,x),x.previousNode=A,B.currentStaggerTime=X.currentTime-mi+(X.startTime-B.currentTimeline.startTime)}}const Tn={};class Wn{constructor(A,x,B,X,Se,wt,Vt,on){this._driver=A,this.element=x,this.subInstructions=B,this._enterClassName=X,this._leaveClassName=Se,this.errors=wt,this.timelines=Vt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=on||new qn(this._driver,x,0),Vt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(A,x){if(!A)return;const B=A;let X=this.options;null!=B.duration&&(X.duration=is(B.duration)),null!=B.delay&&(X.delay=is(B.delay));const Se=B.params;if(Se){let wt=X.params;wt||(wt=this.options.params={}),Object.keys(Se).forEach(Vt=>{(!x||!wt.hasOwnProperty(Vt))&&(wt[Vt]=hs(Se[Vt],wt,this.errors))})}}_copyOptions(){const A={};if(this.options){const x=this.options.params;if(x){const B=A.params={};Object.keys(x).forEach(X=>{B[X]=x[X]})}}return A}createSubContext(A=null,x,B){const X=x||this.element,Se=new Wn(this._driver,X,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(X,B||0));return Se.previousNode=this.previousNode,Se.currentAnimateTimings=this.currentAnimateTimings,Se.options=this._copyOptions(),Se.updateOptions(A),Se.currentQueryIndex=this.currentQueryIndex,Se.currentQueryTotal=this.currentQueryTotal,Se.parentContext=this,this.subContextCount++,Se}transformIntoNewTimeline(A){return this.previousNode=Tn,this.currentTimeline=this.currentTimeline.fork(this.element,A),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(A,x,B){const X={duration:x??A.duration,delay:this.currentTimeline.currentTime+(B??0)+A.delay,easing:""},Se=new Gi(this._driver,A.element,A.keyframes,A.preStyleProps,A.postStyleProps,X,A.stretchStartingKeyframe);return this.timelines.push(Se),X}incrementTime(A){this.currentTimeline.forwardTime(this.currentTimeline.duration+A)}delayNextStep(A){A>0&&this.currentTimeline.delayNextStep(A)}invokeQuery(A,x,B,X,Se,wt){let Vt=[];if(X&&Vt.push(this.element),A.length>0){A=(A=A.replace(D,"."+this._enterClassName)).replace(de,"."+this._leaveClassName);let Dn=this._driver.query(this.element,A,1!=B);0!==B&&(Dn=B<0?Dn.slice(Dn.length+B,Dn.length):Dn.slice(0,B)),Vt.push(...Dn)}return!Se&&0==Vt.length&&wt.push(function dt(re){return new w.vHH(3014,!1)}()),Vt}}class qn{constructor(A,x,B,X){this._driver=A,this.element=x,this.startTime=B,this._elementTimelineStylesLookup=X,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(x),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(x,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(A){const x=1===this._keyframes.size&&this._pendingStyles.size;this.duration||x?(this.forwardTime(this.currentTime+A),x&&this.snapshotCurrentStyles()):this.startTime+=A}fork(A,x){return this.applyStylesToKeyframe(),new qn(this._driver,A,x||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(A){this.applyStylesToKeyframe(),this.duration=A,this._loadKeyframe()}_updateStyle(A,x){this._localTimelineStyles.set(A,x),this._globalTimelineStyles.set(A,x),this._styleSummary.set(A,{time:this.currentTime,value:x})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(A){A&&this._previousKeyframe.set("easing",A);for(let[x,B]of this._globalTimelineStyles)this._backFill.set(x,B||zn.l3),this._currentKeyframe.set(x,zn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(A,x,B,X){x&&this._previousKeyframe.set("easing",x);const Se=X&&X.params||{},wt=function ws(re,A){const x=new Map;let B;return re.forEach(X=>{if("*"===X){B=B||A.keys();for(let Se of B)x.set(Se,zn.l3)}else Vi(X,x)}),x}(A,this._globalTimelineStyles);for(let[Vt,on]of wt){const Dn=hs(on,Se,B);this._pendingStyles.set(Vt,Dn),this._localTimelineStyles.has(Vt)||this._backFill.set(Vt,this._globalTimelineStyles.get(Vt)??zn.l3),this._updateStyle(Vt,Dn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((A,x)=>{this._currentKeyframe.set(x,A)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((A,x)=>{this._currentKeyframe.has(x)||this._currentKeyframe.set(x,A)}))}snapshotCurrentStyles(){for(let[A,x]of this._localTimelineStyles)this._pendingStyles.set(A,x),this._updateStyle(A,x)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const A=[];for(let x in this._currentKeyframe)A.push(x);return A}mergeTimelineCollectedStyles(A){A._styleSummary.forEach((x,B)=>{const X=this._styleSummary.get(B);(!X||x.time>X.time)&&this._updateStyle(B,x.value)})}buildKeyframes(){this.applyStylesToKeyframe();const A=new Set,x=new Set,B=1===this._keyframes.size&&0===this.duration;let X=[];this._keyframes.forEach((Vt,on)=>{const Dn=Vi(Vt,new Map,this._backFill);Dn.forEach((li,mi)=>{li===zn.k1?A.add(mi):li===zn.l3&&x.add(mi)}),B||Dn.set("offset",on/this.duration),X.push(Dn)});const Se=A.size?Vn(A.values()):[],wt=x.size?Vn(x.values()):[];if(B){const Vt=X[0],on=new Map(Vt);Vt.set("offset",0),on.set("offset",1),X=[Vt,on]}return Wa(this.element,X,Se,wt,this.duration,this.startTime,this.easing,!1)}}class Gi extends qn{constructor(A,x,B,X,Se,wt,Vt=!1){super(A,x,wt.delay),this.keyframes=B,this.preStyleProps=X,this.postStyleProps=Se,this._stretchStartingKeyframe=Vt,this.timings={duration:wt.duration,delay:wt.delay,easing:wt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let A=this.keyframes,{delay:x,duration:B,easing:X}=this.timings;if(this._stretchStartingKeyframe&&x){const Se=[],wt=B+x,Vt=x/wt,on=Vi(A[0]);on.set("offset",0),Se.push(on);const Dn=Vi(A[0]);Dn.set("offset",rr(Vt)),Se.push(Dn);const li=A.length-1;for(let mi=1;mi<=li;mi++){let Cr=Vi(A[mi]);const Xi=Cr.get("offset");Cr.set("offset",rr((x+Xi*B)/wt)),Se.push(Cr)}B=wt,x=0,X="",A=Se}return Wa(this.element,A,this.preStyleProps,this.postStyleProps,B,x,X,!0)}}function rr(re,A=3){const x=Math.pow(10,A-1);return Math.round(re*x)/x}class Wr{}const mo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ms extends Wr{normalizePropertyName(A,x){return Rs(A)}normalizeStyleValue(A,x,B,X){let Se="";const wt=B.toString().trim();if(mo.has(x)&&0!==B&&"0"!==B)if("number"==typeof B)Se="px";else{const Vt=B.match(/^[+-]?[\d\.]+([a-z]*)$/);Vt&&0==Vt[1].length&&X.push(function be(re,A){return new w.vHH(3005,!1)}())}return wt+Se}}function os(re,A,x,B,X,Se,wt,Vt,on,Dn,li,mi,Cr){return{type:0,element:re,triggerName:A,isRemovalTransition:X,fromState:x,fromStyles:Se,toState:B,toStyles:wt,timelines:Vt,queriedElements:on,preStyleProps:Dn,postStyleProps:li,totalTime:mi,errors:Cr}}const Yr={};class Ds{constructor(A,x,B){this._triggerName=A,this.ast=x,this._stateStyles=B}match(A,x,B,X){return function Jr(re,A,x,B,X){return re.some(Se=>Se(A,x,B,X))}(this.ast.matchers,A,x,B,X)}buildStyles(A,x,B){let X=this._stateStyles.get("*");return void 0!==A&&(X=this._stateStyles.get(A?.toString())||X),X?X.buildStyles(x,B):new Map}build(A,x,B,X,Se,wt,Vt,on,Dn,li){const mi=[],Cr=this.ast.options&&this.ast.options.params||Yr,ln=this.buildStyles(B,Vt&&Vt.params||Yr,mi),Nn=on&&on.params||Yr,Ys=this.buildStyles(X,Nn,mi),vi=new Set,er=new Map,Vr=new Map,Si="void"===X,ii={params:so(Nn,Cr),delay:this.ast.options?.delay},Fo=li?[]:ct(A,x,this.ast.animation,Se,wt,ln,Ys,ii,Dn,mi);let Wi=0;if(Fo.forEach(Xr=>{Wi=Math.max(Xr.duration+Xr.delay,Wi)}),mi.length)return os(x,this._triggerName,B,X,Si,ln,Ys,[],[],er,Vr,Wi,mi);Fo.forEach(Xr=>{const Gn=Xr.element,Js=ir(er,Gn,new Set);Xr.preStyleProps.forEach(Q=>Js.add(Q));const U=ir(Vr,Gn,new Set);Xr.postStyleProps.forEach(Q=>U.add(Q)),Gn!==x&&vi.add(Gn)});const Qa=Vn(vi.values());return os(x,this._triggerName,B,X,Si,ln,Ys,Fo,Qa,er,Vr,Wi)}}function so(re,A){const x=Ho(A);for(const B in re)re.hasOwnProperty(B)&&null!=re[B]&&(x[B]=re[B]);return x}class ps{constructor(A,x,B){this.styles=A,this.defaultParams=x,this.normalizer=B}buildStyles(A,x){const B=new Map,X=Ho(this.defaultParams);return Object.keys(A).forEach(Se=>{const wt=A[Se];null!==wt&&(X[Se]=wt)}),this.styles.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((wt,Vt)=>{wt&&(wt=hs(wt,X,x));const on=this.normalizer.normalizePropertyName(Vt,x);wt=this.normalizer.normalizeStyleValue(Vt,on,wt,x),B.set(Vt,wt)})}),B}}class fo{constructor(A,x,B){this.name=A,this.ast=x,this._normalizer=B,this.transitionFactories=[],this.states=new Map,x.states.forEach(X=>{this.states.set(X.name,new ps(X.style,X.options&&X.options.params||{},B))}),Jo(this.states,"true","1"),Jo(this.states,"false","0"),x.transitions.forEach(X=>{this.transitionFactories.push(new Ds(A,X,this.states))}),this.fallbackTransition=function aa(re,A,x){return new Ds(re,{type:1,animation:{type:2,steps:[],options:null},matchers:[(wt,Vt)=>!0],options:null,queryCount:0,depCount:0},A)}(A,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(A,x,B,X){return this.transitionFactories.find(wt=>wt.match(A,x,B,X))||null}matchStyles(A,x,B){return this.fallbackTransition.buildStyles(A,x,B)}}function Jo(re,A,x){re.has(A)?re.has(x)||re.set(x,re.get(A)):re.has(x)&&re.set(A,re.get(x))}const rl=new Mr;class hl{constructor(A,x,B){this.bodyNode=A,this._driver=x,this._normalizer=B,this._animations=new Map,this._playersById=new Map,this.players=[]}register(A,x){const B=[],Se=fa(this._driver,x,B,[]);if(B.length)throw function Ki(re){return new w.vHH(3503,!1)}();this._animations.set(A,Se)}_buildPlayer(A,x,B){const X=A.element,Se=no(this._normalizer,A.keyframes,x,B);return this._driver.animate(X,Se,A.duration,A.delay,A.easing,[],!0)}create(A,x,B={}){const X=[],Se=this._animations.get(A);let wt;const Vt=new Map;if(Se?(wt=ct(this._driver,x,Se,As,ki,new Map,new Map,B,rl,X),wt.forEach(li=>{const mi=ir(Vt,li.element,new Map);li.postStyleProps.forEach(Cr=>mi.set(Cr,null))})):(X.push(function pr(){return new w.vHH(3300,!1)}()),wt=[]),X.length)throw function Hr(re){return new w.vHH(3504,!1)}();Vt.forEach((li,mi)=>{li.forEach((Cr,Xi)=>{li.set(Xi,this._driver.computeStyle(mi,Xi,zn.l3))})});const Dn=Is(wt.map(li=>{const mi=Vt.get(li.element);return this._buildPlayer(li,new Map,mi)}));return this._playersById.set(A,Dn),Dn.onDestroy(()=>this.destroy(A)),this.players.push(Dn),Dn}destroy(A){const x=this._getPlayer(A);x.destroy(),this._playersById.delete(A);const B=this.players.indexOf(x);B>=0&&this.players.splice(B,1)}_getPlayer(A){const x=this._playersById.get(A);if(!x)throw function qs(re){return new w.vHH(3301,!1)}();return x}listen(A,x,B,X){const Se=zr(x,"","","");return xr(this._getPlayer(A),B,Se,X),()=>{}}command(A,x,B,X){if("register"==B)return void this.register(A,X[0]);if("create"==B)return void this.create(A,x,X[0]||{});const Se=this._getPlayer(A);switch(B){case"play":Se.play();break;case"pause":Se.pause();break;case"reset":Se.reset();break;case"restart":Se.restart();break;case"finish":Se.finish();break;case"init":Se.init();break;case"setPosition":Se.setPosition(parseFloat(X[0]));break;case"destroy":this.destroy(A)}}}const Ya="ng-animate-queued",Va="ng-animate-disabled",ma=[],Xo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bs="__ng_removed";class Aa{get params(){return this.options.params}constructor(A,x=""){this.namespaceId=x;const B=A&&A.hasOwnProperty("value");if(this.value=function qa(re){return re??null}(B?A.value:A),B){const Se=Ho(A);delete Se.value,this.options=Se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(A){const x=A.params;if(x){const B=this.options.params;Object.keys(x).forEach(X=>{null==B[X]&&(B[X]=x[X])})}}}const ea="void",Ka=new Aa(ea);class Vl{constructor(A,x,B){this.id=A,this.hostElement=x,this._engine=B,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+A,De(x,this._hostClassName)}listen(A,x,B,X){if(!this._triggers.has(x))throw function or(re,A){return new w.vHH(3302,!1)}();if(null==B||0==B.length)throw function cr(re){return new w.vHH(3303,!1)}();if(!function El(re){return"start"==re||"done"==re}(B))throw function ts(re,A){return new w.vHH(3400,!1)}();const Se=ir(this._elementListeners,A,[]),wt={name:x,phase:B,callback:X};Se.push(wt);const Vt=ir(this._engine.statesByElement,A,new Map);return Vt.has(x)||(De(A,Hi),De(A,Hi+"-"+x),Vt.set(x,Ka)),()=>{this._engine.afterFlush(()=>{const on=Se.indexOf(wt);on>=0&&Se.splice(on,1),this._triggers.has(x)||Vt.delete(x)})}}register(A,x){return!this._triggers.has(A)&&(this._triggers.set(A,x),!0)}_getTrigger(A){const x=this._triggers.get(A);if(!x)throw function jr(re){return new w.vHH(3401,!1)}();return x}trigger(A,x,B,X=!0){const Se=this._getTrigger(x),wt=new po(this.id,x,A);let Vt=this._engine.statesByElement.get(A);Vt||(De(A,Hi),De(A,Hi+"-"+x),this._engine.statesByElement.set(A,Vt=new Map));let on=Vt.get(x);const Dn=new Aa(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&on&&Dn.absorbOptions(on.options),Vt.set(x,Dn),on||(on=Ka),Dn.value!==ea&&on.value===Dn.value){if(!function In(re,A){const x=Object.keys(re),B=Object.keys(A);if(x.length!=B.length)return!1;for(let X=0;X<x.length;X++){const Se=x[X];if(!A.hasOwnProperty(Se)||re[Se]!==A[Se])return!1}return!0}(on.params,Dn.params)){const Nn=[],Ys=Se.matchStyles(on.value,on.params,Nn),vi=Se.matchStyles(Dn.value,Dn.params,Nn);Nn.length?this._engine.reportError(Nn):this._engine.afterFlush(()=>{Qs(A,Ys),mr(A,vi)})}return}const Cr=ir(this._engine.playersByElement,A,[]);Cr.forEach(Nn=>{Nn.namespaceId==this.id&&Nn.triggerName==x&&Nn.queued&&Nn.destroy()});let Xi=Se.matchTransition(on.value,Dn.value,A,Dn.params),ln=!1;if(!Xi){if(!X)return;Xi=Se.fallbackTransition,ln=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:A,triggerName:x,transition:Xi,fromState:on,toState:Dn,player:wt,isFallbackTransition:ln}),ln||(De(A,Ya),wt.onStart(()=>{ie(A,Ya)})),wt.onDone(()=>{let Nn=this.players.indexOf(wt);Nn>=0&&this.players.splice(Nn,1);const Ys=this._engine.playersByElement.get(A);if(Ys){let vi=Ys.indexOf(wt);vi>=0&&Ys.splice(vi,1)}}),this.players.push(wt),Cr.push(wt),wt}deregister(A){this._triggers.delete(A),this._engine.statesByElement.forEach(x=>x.delete(A)),this._elementListeners.forEach((x,B)=>{this._elementListeners.set(B,x.filter(X=>X.name!=A))})}clearElementCache(A){this._engine.statesByElement.delete(A),this._elementListeners.delete(A);const x=this._engine.playersByElement.get(A);x&&(x.forEach(B=>B.destroy()),this._engine.playersByElement.delete(A))}_signalRemovalForInnerTriggers(A,x){const B=this._engine.driver.query(A,di,!0);B.forEach(X=>{if(X[Bs])return;const Se=this._engine.fetchNamespacesByElement(X);Se.size?Se.forEach(wt=>wt.triggerLeaveAnimation(X,x,!1,!0)):this.clearElementCache(X)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(X=>this.clearElementCache(X)))}triggerLeaveAnimation(A,x,B,X){const Se=this._engine.statesByElement.get(A),wt=new Map;if(Se){const Vt=[];if(Se.forEach((on,Dn)=>{if(wt.set(Dn,on.value),this._triggers.has(Dn)){const li=this.trigger(A,Dn,ea,X);li&&Vt.push(li)}}),Vt.length)return this._engine.markElementAsRemoved(this.id,A,!0,x,wt),B&&Is(Vt).onDone(()=>this._engine.processLeaveNode(A)),!0}return!1}prepareLeaveAnimationListeners(A){const x=this._elementListeners.get(A),B=this._engine.statesByElement.get(A);if(x&&B){const X=new Set;x.forEach(Se=>{const wt=Se.name;if(X.has(wt))return;X.add(wt);const on=this._triggers.get(wt).fallbackTransition,Dn=B.get(wt)||Ka,li=new Aa(ea),mi=new po(this.id,wt,A);this._engine.totalQueuedPlayers++,this._queue.push({element:A,triggerName:wt,transition:on,fromState:Dn,toState:li,player:mi,isFallbackTransition:!0})})}}removeNode(A,x){const B=this._engine;if(A.childElementCount&&this._signalRemovalForInnerTriggers(A,x),this.triggerLeaveAnimation(A,x,!0))return;let X=!1;if(B.totalAnimations){const Se=B.players.length?B.playersByQueriedElement.get(A):[];if(Se&&Se.length)X=!0;else{let wt=A;for(;wt=wt.parentNode;)if(B.statesByElement.get(wt)){X=!0;break}}}if(this.prepareLeaveAnimationListeners(A),X)B.markElementAsRemoved(this.id,A,!1,x);else{const Se=A[Bs];(!Se||Se===Xo)&&(B.afterFlush(()=>this.clearElementCache(A)),B.destroyInnerAnimations(A),B._onRemovalComplete(A,x))}}insertNode(A,x){De(A,this._hostClassName)}drainQueuedTransitions(A){const x=[];return this._queue.forEach(B=>{const X=B.player;if(X.destroyed)return;const Se=B.element,wt=this._elementListeners.get(Se);wt&&wt.forEach(Vt=>{if(Vt.name==B.triggerName){const on=zr(Se,B.triggerName,B.fromState.value,B.toState.value);on._data=A,xr(B.player,Vt.phase,on,Vt.callback)}}),X.markedForDestroy?this._engine.afterFlush(()=>{X.destroy()}):x.push(B)}),this._queue=[],x.sort((B,X)=>{const Se=B.transition.ast.depCount,wt=X.transition.ast.depCount;return 0==Se||0==wt?Se-wt:this._engine.driver.containsElement(B.element,X.element)?1:-1})}destroy(A){this.players.forEach(x=>x.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,A)}}class Za{_onRemovalComplete(A,x){this.onRemovalComplete(A,x)}constructor(A,x,B){this.bodyNode=A,this.driver=x,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(X,Se)=>{}}get queuedPlayers(){const A=[];return this._namespaceList.forEach(x=>{x.players.forEach(B=>{B.queued&&A.push(B)})}),A}createNamespace(A,x){const B=new Vl(A,x,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,x)?this._balanceNamespaceList(B,x):(this.newHostElements.set(x,B),this.collectEnterElement(x)),this._namespaceLookup[A]=B}_balanceNamespaceList(A,x){const B=this._namespaceList,X=this.namespacesByHostElement;if(B.length-1>=0){let wt=!1,Vt=this.driver.getParentElement(x);for(;Vt;){const on=X.get(Vt);if(on){const Dn=B.indexOf(on);B.splice(Dn+1,0,A),wt=!0;break}Vt=this.driver.getParentElement(Vt)}wt||B.unshift(A)}else B.push(A);return X.set(x,A),A}register(A,x){let B=this._namespaceLookup[A];return B||(B=this.createNamespace(A,x)),B}registerTrigger(A,x,B){let X=this._namespaceLookup[A];X&&X.register(x,B)&&this.totalAnimations++}destroy(A,x){A&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const B=this._fetchNamespace(A);this.namespacesByHostElement.delete(B.hostElement);const X=this._namespaceList.indexOf(B);X>=0&&this._namespaceList.splice(X,1),B.destroy(x),delete this._namespaceLookup[A]}))}_fetchNamespace(A){return this._namespaceLookup[A]}fetchNamespacesByElement(A){const x=new Set,B=this.statesByElement.get(A);if(B)for(let X of B.values())if(X.namespaceId){const Se=this._fetchNamespace(X.namespaceId);Se&&x.add(Se)}return x}trigger(A,x,B,X){if(Co(x)){const Se=this._fetchNamespace(A);if(Se)return Se.trigger(x,B,X),!0}return!1}insertNode(A,x,B,X){if(!Co(x))return;const Se=x[Bs];if(Se&&Se.setForRemoval){Se.setForRemoval=!1,Se.setForMove=!0;const wt=this.collectedLeaveElements.indexOf(x);wt>=0&&this.collectedLeaveElements.splice(wt,1)}if(A){const wt=this._fetchNamespace(A);wt&&wt.insertNode(x,B)}X&&this.collectEnterElement(x)}collectEnterElement(A){this.collectedEnterElements.push(A)}markElementAsDisabled(A,x){x?this.disabledNodes.has(A)||(this.disabledNodes.add(A),De(A,Va)):this.disabledNodes.has(A)&&(this.disabledNodes.delete(A),ie(A,Va))}removeNode(A,x,B){if(Co(x)){const X=A?this._fetchNamespace(A):null;X?X.removeNode(x,B):this.markElementAsRemoved(A,x,!1,B);const Se=this.namespacesByHostElement.get(x);Se&&Se.id!==A&&Se.removeNode(x,B)}else this._onRemovalComplete(x,B)}markElementAsRemoved(A,x,B,X,Se){this.collectedLeaveElements.push(x),x[Bs]={namespaceId:A,setForRemoval:X,hasAnimation:B,removedBeforeQueried:!1,previousTriggersValues:Se}}listen(A,x,B,X,Se){return Co(x)?this._fetchNamespace(A).listen(x,B,X,Se):()=>{}}_buildInstruction(A,x,B,X,Se){return A.transition.build(this.driver,A.element,A.fromState.value,A.toState.value,B,X,A.fromState.options,A.toState.options,x,Se)}destroyInnerAnimations(A){let x=this.driver.query(A,di,!0);x.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(x=this.driver.query(A,ns,!0),x.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(A){const x=this.playersByElement.get(A);x&&x.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(A){const x=this.playersByQueriedElement.get(A);x&&x.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(A=>{if(this.players.length)return Is(this.players).onDone(()=>A());A()})}processLeaveNode(A){const x=A[Bs];if(x&&x.setForRemoval){if(A[Bs]=Xo,x.namespaceId){this.destroyInnerAnimations(A);const B=this._fetchNamespace(x.namespaceId);B&&B.clearElementCache(A)}this._onRemovalComplete(A,x.setForRemoval)}A.classList?.contains(Va)&&this.markElementAsDisabled(A,!1),this.driver.query(A,".ng-animate-disabled",!0).forEach(B=>{this.markElementAsDisabled(B,!1)})}flush(A=-1){let x=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,X)=>this._balanceNamespaceList(B,X)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)De(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{x=this._flushAnimations(B,A)}finally{for(let X=0;X<B.length;X++)B[X]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],x.length?Is(x).onDone(()=>{B.forEach(X=>X())}):B.forEach(X=>X())}}reportError(A){throw function Mi(re){return new w.vHH(3402,!1)}()}_flushAnimations(A,x){const B=new Mr,X=[],Se=new Map,wt=[],Vt=new Map,on=new Map,Dn=new Map,li=new Set;this.disabledNodes.forEach(oe=>{li.add(oe);const Ce=this.driver.query(oe,".ng-animate-queued",!0);for(let Je=0;Je<Ce.length;Je++)li.add(Ce[Je])});const mi=this.bodyNode,Cr=Array.from(this.statesByElement.keys()),Xi=j(Cr,this.collectedEnterElements),ln=new Map;let Nn=0;Xi.forEach((oe,Ce)=>{const Je=As+Nn++;ln.set(Ce,Je),oe.forEach(Yt=>De(Yt,Je))});const Ys=[],vi=new Set,er=new Set;for(let oe=0;oe<this.collectedLeaveElements.length;oe++){const Ce=this.collectedLeaveElements[oe],Je=Ce[Bs];Je&&Je.setForRemoval&&(Ys.push(Ce),vi.add(Ce),Je.hasAnimation?this.driver.query(Ce,".ng-star-inserted",!0).forEach(Yt=>vi.add(Yt)):er.add(Ce))}const Vr=new Map,Si=j(Cr,Array.from(vi));Si.forEach((oe,Ce)=>{const Je=ki+Nn++;Vr.set(Ce,Je),oe.forEach(Yt=>De(Yt,Je))}),A.push(()=>{Xi.forEach((oe,Ce)=>{const Je=ln.get(Ce);oe.forEach(Yt=>ie(Yt,Je))}),Si.forEach((oe,Ce)=>{const Je=Vr.get(Ce);oe.forEach(Yt=>ie(Yt,Je))}),Ys.forEach(oe=>{this.processLeaveNode(oe)})});const ii=[],Fo=[];for(let oe=this._namespaceList.length-1;oe>=0;oe--)this._namespaceList[oe].drainQueuedTransitions(x).forEach(Je=>{const Yt=Je.player,qt=Je.element;if(ii.push(Yt),this.collectedEnterElements.length){const Ks=qt[Bs];if(Ks&&Ks.setForMove){if(Ks.previousTriggersValues&&Ks.previousTriggersValues.has(Je.triggerName)){const Xs=Ks.previousTriggersValues.get(Je.triggerName),_o=this.statesByElement.get(Je.element);if(_o&&_o.has(Je.triggerName)){const Ua=_o.get(Je.triggerName);Ua.value=Xs,_o.set(Je.triggerName,Ua)}}return void Yt.destroy()}}const ei=!mi||!this.driver.containsElement(mi,qt),Ai=Vr.get(qt),tr=ln.get(qt),Ei=this._buildInstruction(Je,B,tr,Ai,ei);if(Ei.errors&&Ei.errors.length)return void Fo.push(Ei);if(ei)return Yt.onStart(()=>Qs(qt,Ei.fromStyles)),Yt.onDestroy(()=>mr(qt,Ei.toStyles)),void X.push(Yt);if(Je.isFallbackTransition)return Yt.onStart(()=>Qs(qt,Ei.fromStyles)),Yt.onDestroy(()=>mr(qt,Ei.toStyles)),void X.push(Yt);const na=[];Ei.timelines.forEach(Ks=>{Ks.stretchStartingKeyframe=!0,this.disabledNodes.has(Ks.element)||na.push(Ks)}),Ei.timelines=na,B.append(qt,Ei.timelines),wt.push({instruction:Ei,player:Yt,element:qt}),Ei.queriedElements.forEach(Ks=>ir(Vt,Ks,[]).push(Yt)),Ei.preStyleProps.forEach((Ks,Xs)=>{if(Ks.size){let _o=on.get(Xs);_o||on.set(Xs,_o=new Set),Ks.forEach((Ua,Ha)=>_o.add(Ha))}}),Ei.postStyleProps.forEach((Ks,Xs)=>{let _o=Dn.get(Xs);_o||Dn.set(Xs,_o=new Set),Ks.forEach((Ua,Ha)=>_o.add(Ha))})});if(Fo.length){const oe=[];Fo.forEach(Ce=>{oe.push(function Hs(re,A){return new w.vHH(3505,!1)}())}),ii.forEach(Ce=>Ce.destroy()),this.reportError(oe)}const Wi=new Map,Qa=new Map;wt.forEach(oe=>{const Ce=oe.element;B.has(Ce)&&(Qa.set(Ce,Ce),this._beforeAnimationBuild(oe.player.namespaceId,oe.instruction,Wi))}),X.forEach(oe=>{const Ce=oe.element;this._getPreviousPlayers(Ce,!1,oe.namespaceId,oe.triggerName,null).forEach(Yt=>{ir(Wi,Ce,[]).push(Yt),Yt.destroy()})});const Xr=Ys.filter(oe=>hi(oe,on,Dn)),Gn=new Map;ta(Gn,this.driver,er,Dn,zn.l3).forEach(oe=>{hi(oe,on,Dn)&&Xr.push(oe)});const U=new Map;Xi.forEach((oe,Ce)=>{ta(U,this.driver,new Set(oe),on,zn.k1)}),Xr.forEach(oe=>{const Ce=Gn.get(oe),Je=U.get(oe);Gn.set(oe,new Map([...Ce?.entries()??[],...Je?.entries()??[]]))});const Q=[],L=[],K={};wt.forEach(oe=>{const{element:Ce,player:Je,instruction:Yt}=oe;if(B.has(Ce)){if(li.has(Ce))return Je.onDestroy(()=>mr(Ce,Yt.toStyles)),Je.disabled=!0,Je.overrideTotalTime(Yt.totalTime),void X.push(Je);let qt=K;if(Qa.size>1){let Ai=Ce;const tr=[];for(;Ai=Ai.parentNode;){const Ei=Qa.get(Ai);if(Ei){qt=Ei;break}tr.push(Ai)}tr.forEach(Ei=>Qa.set(Ei,qt))}const ei=this._buildAnimation(Je.namespaceId,Yt,Wi,Se,U,Gn);if(Je.setRealPlayer(ei),qt===K)Q.push(Je);else{const Ai=this.playersByElement.get(qt);Ai&&Ai.length&&(Je.parentPlayer=Is(Ai)),X.push(Je)}}else Qs(Ce,Yt.fromStyles),Je.onDestroy(()=>mr(Ce,Yt.toStyles)),L.push(Je),li.has(Ce)&&X.push(Je)}),L.forEach(oe=>{const Ce=Se.get(oe.element);if(Ce&&Ce.length){const Je=Is(Ce);oe.setRealPlayer(Je)}}),X.forEach(oe=>{oe.parentPlayer?oe.syncPlayerEvents(oe.parentPlayer):oe.destroy()});for(let oe=0;oe<Ys.length;oe++){const Ce=Ys[oe],Je=Ce[Bs];if(ie(Ce,ki),Je&&Je.hasAnimation)continue;let Yt=[];if(Vt.size){let ei=Vt.get(Ce);ei&&ei.length&&Yt.push(...ei);let Ai=this.driver.query(Ce,ns,!0);for(let tr=0;tr<Ai.length;tr++){let Ei=Vt.get(Ai[tr]);Ei&&Ei.length&&Yt.push(...Ei)}}const qt=Yt.filter(ei=>!ei.destroyed);qt.length?me(this,Ce,qt):this.processLeaveNode(Ce)}return Ys.length=0,Q.forEach(oe=>{this.players.push(oe),oe.onDone(()=>{oe.destroy();const Ce=this.players.indexOf(oe);this.players.splice(Ce,1)}),oe.play()}),Q}afterFlush(A){this._flushFns.push(A)}afterFlushAnimationsDone(A){this._whenQuietFns.push(A)}_getPreviousPlayers(A,x,B,X,Se){let wt=[];if(x){const Vt=this.playersByQueriedElement.get(A);Vt&&(wt=Vt)}else{const Vt=this.playersByElement.get(A);if(Vt){const on=!Se||Se==ea;Vt.forEach(Dn=>{Dn.queued||!on&&Dn.triggerName!=X||wt.push(Dn)})}}return(B||X)&&(wt=wt.filter(Vt=>!(B&&B!=Vt.namespaceId||X&&X!=Vt.triggerName))),wt}_beforeAnimationBuild(A,x,B){const Se=x.element,wt=x.isRemovalTransition?void 0:A,Vt=x.isRemovalTransition?void 0:x.triggerName;for(const on of x.timelines){const Dn=on.element,li=Dn!==Se,mi=ir(B,Dn,[]);this._getPreviousPlayers(Dn,li,wt,Vt,x.toState).forEach(Xi=>{const ln=Xi.getRealPlayer();ln.beforeDestroy&&ln.beforeDestroy(),Xi.destroy(),mi.push(Xi)})}Qs(Se,x.fromStyles)}_buildAnimation(A,x,B,X,Se,wt){const Vt=x.triggerName,on=x.element,Dn=[],li=new Set,mi=new Set,Cr=x.timelines.map(ln=>{const Nn=ln.element;li.add(Nn);const Ys=Nn[Bs];if(Ys&&Ys.removedBeforeQueried)return new zn.ZN(ln.duration,ln.delay);const vi=Nn!==on,er=function _t(re){const A=[];return cn(re,A),A}((B.get(Nn)||ma).map(Wi=>Wi.getRealPlayer())).filter(Wi=>!!Wi.element&&Wi.element===Nn),Vr=Se.get(Nn),Si=wt.get(Nn),ii=no(this._normalizer,ln.keyframes,Vr,Si),Fo=this._buildPlayer(ln,ii,er);if(ln.subTimeline&&X&&mi.add(Nn),vi){const Wi=new po(A,Vt,Nn);Wi.setRealPlayer(Fo),Dn.push(Wi)}return Fo});Dn.forEach(ln=>{ir(this.playersByQueriedElement,ln.element,[]).push(ln),ln.onDone(()=>function ol(re,A,x){let B=re.get(A);if(B){if(B.length){const X=B.indexOf(x);B.splice(X,1)}0==B.length&&re.delete(A)}return B}(this.playersByQueriedElement,ln.element,ln))}),li.forEach(ln=>De(ln,Ar));const Xi=Is(Cr);return Xi.onDestroy(()=>{li.forEach(ln=>ie(ln,Ar)),mr(on,x.toStyles)}),mi.forEach(ln=>{ir(X,ln,[]).push(Xi)}),Xi}_buildPlayer(A,x,B){return x.length>0?this.driver.animate(A.element,x,A.duration,A.delay,A.easing,B):new zn.ZN(A.duration,A.delay)}}class po{constructor(A,x,B){this.namespaceId=A,this.triggerName=x,this.element=B,this._player=new zn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(A){this._containsRealPlayer||(this._player=A,this._queuedCallbacks.forEach((x,B)=>{x.forEach(X=>xr(A,B,void 0,X))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(A.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(A){this.totalTime=A}syncPlayerEvents(A){const x=this._player;x.triggerCallback&&A.onStart(()=>x.triggerCallback("start")),A.onDone(()=>this.finish()),A.onDestroy(()=>this.destroy())}_queueEvent(A,x){ir(this._queuedCallbacks,A,[]).push(x)}onDone(A){this.queued&&this._queueEvent("done",A),this._player.onDone(A)}onStart(A){this.queued&&this._queueEvent("start",A),this._player.onStart(A)}onDestroy(A){this.queued&&this._queueEvent("destroy",A),this._player.onDestroy(A)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(A){this.queued||this._player.setPosition(A)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(A){const x=this._player;x.triggerCallback&&x.triggerCallback(A)}}function Co(re){return re&&1===re.nodeType}function Ws(re,A){const x=re.style.display;return re.style.display=A??"none",x}function ta(re,A,x,B,X){const Se=[];x.forEach(on=>Se.push(Ws(on)));const wt=[];B.forEach((on,Dn)=>{const li=new Map;on.forEach(mi=>{const Cr=A.computeStyle(Dn,mi,X);li.set(mi,Cr),(!Cr||0==Cr.length)&&(Dn[Bs]=Sa,wt.push(Dn))}),re.set(Dn,li)});let Vt=0;return x.forEach(on=>Ws(on,Se[Vt++])),wt}function j(re,A){const x=new Map;if(re.forEach(Vt=>x.set(Vt,[])),0==A.length)return x;const X=new Set(A),Se=new Map;function wt(Vt){if(!Vt)return 1;let on=Se.get(Vt);if(on)return on;const Dn=Vt.parentNode;return on=x.has(Dn)?Dn:X.has(Dn)?1:wt(Dn),Se.set(Vt,on),on}return A.forEach(Vt=>{const on=wt(Vt);1!==on&&x.get(on).push(Vt)}),x}function De(re,A){re.classList?.add(A)}function ie(re,A){re.classList?.remove(A)}function me(re,A,x){Is(x).onDone(()=>re.processLeaveNode(A))}function cn(re,A){for(let x=0;x<re.length;x++){const B=re[x];B instanceof zn.ZE?cn(B.players,A):A.push(B)}}function hi(re,A,x){const B=x.get(re);if(!B)return!1;let X=A.get(re);return X?B.forEach(Se=>X.add(Se)):A.set(re,B),x.delete(re),!0}class dr{constructor(A,x,B){this.bodyNode=A,this._driver=x,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(X,Se)=>{},this._transitionEngine=new Za(A,x,B),this._timelineEngine=new hl(A,x,B),this._transitionEngine.onRemovalComplete=(X,Se)=>this.onRemovalComplete(X,Se)}registerTrigger(A,x,B,X,Se){const wt=A+"-"+X;let Vt=this._triggerCache[wt];if(!Vt){const on=[],li=fa(this._driver,Se,on,[]);if(on.length)throw function _i(re,A){return new w.vHH(3404,!1)}();Vt=function wo(re,A,x){return new fo(re,A,x)}(X,li,this._normalizer),this._triggerCache[wt]=Vt}this._transitionEngine.registerTrigger(x,X,Vt)}register(A,x){this._transitionEngine.register(A,x)}destroy(A,x){this._transitionEngine.destroy(A,x)}onInsert(A,x,B,X){this._transitionEngine.insertNode(A,x,B,X)}onRemove(A,x,B){this._transitionEngine.removeNode(A,x,B)}disableAnimations(A,x){this._transitionEngine.markElementAsDisabled(A,x)}process(A,x,B,X){if("@"==B.charAt(0)){const[Se,wt]=Po(B);this._timelineEngine.command(Se,x,wt,X)}else this._transitionEngine.trigger(A,x,B,X)}listen(A,x,B,X,Se){if("@"==B.charAt(0)){const[wt,Vt]=Po(B);return this._timelineEngine.listen(wt,x,Vt,Se)}return this._transitionEngine.listen(A,x,B,X,Se)}flush(A=-1){this._transitionEngine.flush(A)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(A){this._transitionEngine.afterFlushAnimationsDone(A)}}let Bi=(()=>{class re{static#e=this.initialStylesByElement=new WeakMap;constructor(x,B,X){this._element=x,this._startStyles=B,this._endStyles=X,this._state=0;let Se=re.initialStylesByElement.get(x);Se||re.initialStylesByElement.set(x,Se=new Map),this._initialStyles=Se}start(){this._state<1&&(this._startStyles&&mr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mr(this._element,this._initialStyles),this._endStyles&&(mr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(re.initialStylesByElement.delete(this._element),this._startStyles&&(Qs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qs(this._element,this._endStyles),this._endStyles=null),mr(this._element,this._initialStyles),this._state=3)}}return re})();function pi(re){let A=null;return re.forEach((x,B)=>{(function Or(re){return"display"===re||"position"===re})(B)&&(A=A||new Map,A.set(B,x))}),A}class Er{constructor(A,x,B,X){this.element=A,this.keyframes=x,this.options=B,this._specialStyles=X,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(A=>A()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const A=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,A,this.options),this._finalKeyframe=A.length?A[A.length-1]:new Map;const x=()=>this._onFinish();this.domPlayer.addEventListener("finish",x),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",x)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(A){const x=[];return A.forEach(B=>{x.push(Object.fromEntries(B))}),x}_triggerWebAnimation(A,x,B){return A.animate(this._convertKeyframesToObject(x),B)}onStart(A){this._originalOnStartFns.push(A),this._onStartFns.push(A)}onDone(A){this._originalOnDoneFns.push(A),this._onDoneFns.push(A)}onDestroy(A){this._onDestroyFns.push(A)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(A=>A()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(A=>A()),this._onDestroyFns=[])}setPosition(A){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=A*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const A=new Map;this.hasStarted()&&this._finalKeyframe.forEach((B,X)=>{"offset"!==X&&A.set(X,this._finished?B:Eo(this.element,X))}),this.currentSnapshot=A}triggerCallback(A){const x="start"===A?this._onStartFns:this._onDoneFns;x.forEach(B=>B()),x.length=0}}class se{validateStyleProperty(A){return!0}validateAnimatableStyleProperty(A){return!0}matchesElement(A,x){return!1}containsElement(A,x){return io(A,x)}getParentElement(A){return lo(A)}query(A,x,B){return Zi(A,x,B)}computeStyle(A,x,B){return window.getComputedStyle(A)[x]}animate(A,x,B,X,Se,wt=[]){const on={duration:B,delay:X,fill:0==X?"both":"forwards"};Se&&(on.easing=Se);const Dn=new Map,li=wt.filter(Xi=>Xi instanceof Er);(function Ji(re,A){return 0===re||0===A})(B,X)&&li.forEach(Xi=>{Xi.currentSnapshot.forEach((ln,Nn)=>Dn.set(Nn,ln))});let mi=function Yn(re){return re.length?re[0]instanceof Map?re:re.map(A=>Qi(A)):[]}(x).map(Xi=>Vi(Xi));mi=function Dr(re,A,x){if(x.size&&A.length){let B=A[0],X=[];if(x.forEach((Se,wt)=>{B.has(wt)||X.push(wt),B.set(wt,Se)}),X.length)for(let Se=1;Se<A.length;Se++){let wt=A[Se];X.forEach(Vt=>wt.set(Vt,Eo(re,Vt)))}}return A}(A,mi,Dn);const Cr=function _r(re,A){let x=null,B=null;return Array.isArray(A)&&A.length?(x=pi(A[0]),A.length>1&&(B=pi(A[A.length-1]))):A instanceof Map&&(x=pi(A)),x||B?new Bi(re,x,B):null}(A,mi);return new Er(A,mi,on,Cr)}}let xt=(()=>{class re extends zn._j{constructor(x,B){super(),this._nextAnimationId=0,this._renderer=x.createRenderer(B.body,{id:"0",encapsulation:w.ifc.None,styles:[],data:{animation:[]}})}build(x){const B=this._nextAnimationId.toString();this._nextAnimationId++;const X=Array.isArray(x)?(0,zn.vP)(x):x;return le(this._renderer,null,B,"register",[X]),new T(B,this._renderer)}static#e=this.\u0275fac=function(B){return new(B||re)(w.LFG(w.FYo),w.LFG($e.K0))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();class T extends zn.LC{constructor(A,x){super(),this._id=A,this._renderer=x}create(A,x){return new Z(this._id,A,x||{},this._renderer)}}class Z{constructor(A,x,B,X){this.id=A,this.element=x,this._renderer=X,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",B)}_listen(A,x){return this._renderer.listen(this.element,`@@${this.id}:${A}`,x)}_command(A,...x){return le(this._renderer,this.element,this.id,A,x)}onDone(A){this._listen("done",A)}onStart(A){this._listen("start",A)}onDestroy(A){this._listen("destroy",A)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(A){this._command("setPosition",A)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function le(re,A,x,B,X){return re.setProperty(A,`@@${x}:${B}`,X)}const Tt="@.disabled";let fn=(()=>{class re{constructor(x,B,X){this.delegate=x,this.engine=B,this._zone=X,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,B.onRemovalComplete=(Se,wt)=>{const Vt=wt?.parentNode(Se);Vt&&wt.removeChild(Vt,Se)}}createRenderer(x,B){const Se=this.delegate.createRenderer(x,B);if(!(x&&B&&B.data&&B.data.animation)){let li=this._rendererCache.get(Se);return li||(li=new Di("",Se,this.engine,()=>this._rendererCache.delete(Se)),this._rendererCache.set(Se,li)),li}const wt=B.id,Vt=B.id+"-"+this._currentId;this._currentId++,this.engine.register(Vt,x);const on=li=>{Array.isArray(li)?li.forEach(on):this.engine.registerTrigger(wt,Vt,x,li.name,li)};return B.data.animation.forEach(on),new bi(this,Vt,Se,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(x,B,X){x>=0&&x<this._microtaskId?this._zone.run(()=>B(X)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Se=>{const[wt,Vt]=Se;wt(Vt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([B,X]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(B){return new(B||re)(w.LFG(w.FYo),w.LFG(dr),w.LFG(w.R0b))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();class Di{constructor(A,x,B,X){this.namespaceId=A,this.delegate=x,this.engine=B,this._onDestroy=X}get data(){return this.delegate.data}destroyNode(A){this.delegate.destroyNode?.(A)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(A,x){return this.delegate.createElement(A,x)}createComment(A){return this.delegate.createComment(A)}createText(A){return this.delegate.createText(A)}appendChild(A,x){this.delegate.appendChild(A,x),this.engine.onInsert(this.namespaceId,x,A,!1)}insertBefore(A,x,B,X=!0){this.delegate.insertBefore(A,x,B),this.engine.onInsert(this.namespaceId,x,A,X)}removeChild(A,x,B){this.engine.onRemove(this.namespaceId,x,this.delegate)}selectRootElement(A,x){return this.delegate.selectRootElement(A,x)}parentNode(A){return this.delegate.parentNode(A)}nextSibling(A){return this.delegate.nextSibling(A)}setAttribute(A,x,B,X){this.delegate.setAttribute(A,x,B,X)}removeAttribute(A,x,B){this.delegate.removeAttribute(A,x,B)}addClass(A,x){this.delegate.addClass(A,x)}removeClass(A,x){this.delegate.removeClass(A,x)}setStyle(A,x,B,X){this.delegate.setStyle(A,x,B,X)}removeStyle(A,x,B){this.delegate.removeStyle(A,x,B)}setProperty(A,x,B){"@"==x.charAt(0)&&x==Tt?this.disableAnimations(A,!!B):this.delegate.setProperty(A,x,B)}setValue(A,x){this.delegate.setValue(A,x)}listen(A,x,B){return this.delegate.listen(A,x,B)}disableAnimations(A,x){this.engine.disableAnimations(A,x)}}class bi extends Di{constructor(A,x,B,X,Se){super(x,B,X,Se),this.factory=A,this.namespaceId=x}setProperty(A,x,B){"@"==x.charAt(0)?"."==x.charAt(1)&&x==Tt?this.disableAnimations(A,B=void 0===B||!!B):this.engine.process(this.namespaceId,A,x.slice(1),B):this.delegate.setProperty(A,x,B)}listen(A,x,B){if("@"==x.charAt(0)){const X=function wr(re){switch(re){case"body":return document.body;case"document":return document;case"window":return window;default:return re}}(A);let Se=x.slice(1),wt="";return"@"!=Se.charAt(0)&&([Se,wt]=function as(re){const A=re.indexOf(".");return[re.substring(0,A),re.slice(A+1)]}(Se)),this.engine.listen(this.namespaceId,X,Se,wt,Vt=>{this.factory.scheduleListenerCallback(Vt._data||-1,B,Vt)})}return this.delegate.listen(A,x,B)}}const ga=[{provide:zn._j,useClass:xt},{provide:Wr,useFactory:function fl(){return new ms}},{provide:dr,useClass:(()=>{class re extends dr{constructor(x,B,X,Se){super(x.body,B,X)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(B){return new(B||re)(w.LFG($e.K0),w.LFG(Tr),w.LFG(Wr),w.LFG(w.z2F))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})()},{provide:w.FYo,useFactory:function wl(re,A,x){return new fn(re,A,x)},deps:[a.se,dr,w.R0b]}],$i=[{provide:Tr,useFactory:()=>new se},{provide:w.QbO,useValue:"BrowserAnimations"},...ga],Go=[{provide:Tr,useClass:Oi},{provide:w.QbO,useValue:"NoopAnimations"},...ga];let Ba=(()=>{class re{static withConfig(x){return{ngModule:re,providers:x.disableAnimations?Go:$i}}static#e=this.\u0275fac=function(B){return new(B||re)};static#t=this.\u0275mod=w.oAB({type:re});static#n=this.\u0275inj=w.cJS({providers:$i,imports:[a.b2]})}return re})();var Mo=R(9397);class _a{intercept(A,x){return x.handle(A).pipe((0,Mo.b)(B=>{}))}}var ql=R(5983);let ui=(()=>{class re{static#e=this.\u0275fac=function(B){return new(B||re)};static#t=this.\u0275mod=w.oAB({type:re,bootstrap:[xn]});static#n=this.\u0275inj=w.cJS({providers:[{provide:Pt.TP,useClass:_a,multi:!0},we.xI],imports:[a.b2,ai,ne.UX,Pt.JF,Ie.hO.initializeApp(At_firebaseConfig),xe.JS,mt.ww,je.yb,Ve.TE,Ba,ql.m,we.HK]})}return re})();a.q6().bootstrapModule(ui).catch(re=>console.error(re))},5619:(Sn,Et,R)=>{R.d(Et,{X:()=>ne});var a=R(8645);class ne extends a.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const we=super._subscribe(w);return!we.closed&&w.next(this._value),we}getValue(){const{hasError:w,thrownError:we,_value:Ge}=this;if(w)throw we;return this._throwIfClosed(),Ge}next(w){super.next(this._value=w)}}},5592:(Sn,Et,R)=>{R.d(Et,{y:()=>Le});var a=R(305),ne=R(7394),O=R(4850),w=R(8407),we=R(2653),Ge=R(4674),$e=R(1441);let Le=(()=>{class Ye{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Xe=new Ye;return Xe.source=this,Xe.operator=ke,Xe}subscribe(ke,Xe,ut){const ht=function Fe(Ye){return Ye&&Ye instanceof a.Lv||function H(Ye){return Ye&&(0,Ge.m)(Ye.next)&&(0,Ge.m)(Ye.error)&&(0,Ge.m)(Ye.complete)}(Ye)&&(0,ne.Nn)(Ye)}(ke)?ke:new a.Hp(ke,Xe,ut);return(0,$e.x)(()=>{const{operator:Ot,source:en}=this;ht.add(Ot?Ot.call(ht,en):en?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Xe){ke.error(Xe)}}forEach(ke,Xe){return new(Xe=ze(Xe))((ut,ht)=>{const Ot=new a.Hp({next:en=>{try{ke(en)}catch(Ke){ht(Ke),Ot.unsubscribe()}},error:ht,complete:ut});this.subscribe(Ot)})}_subscribe(ke){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(ke)}[O.L](){return this}pipe(...ke){return(0,w.U)(ke)(this)}toPromise(ke){return new(ke=ze(ke))((Xe,ut)=>{let ht;this.subscribe(Ot=>ht=Ot,Ot=>ut(Ot),()=>Xe(ht))})}}return Ye.create=yt=>new Ye(yt),Ye})();function ze(Ye){var yt;return null!==(yt=Ye??we.config.Promise)&&void 0!==yt?yt:Promise}},8645:(Sn,Et,R)=>{R.d(Et,{x:()=>$e});var a=R(5592),ne=R(7394);const w=(0,R(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=R(9039),Ge=R(1441);let $e=(()=>{class ze extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Fe){const Ye=new Le(this,this);return Ye.operator=Fe,Ye}_throwIfClosed(){if(this.closed)throw new w}next(Fe){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ye of this.currentObservers)Ye.next(Fe)}})}error(Fe){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Fe;const{observers:Ye}=this;for(;Ye.length;)Ye.shift().error(Fe)}})}complete(){(0,Ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Fe;return(null===(Fe=this.observers)||void 0===Fe?void 0:Fe.length)>0}_trySubscribe(Fe){return this._throwIfClosed(),super._trySubscribe(Fe)}_subscribe(Fe){return this._throwIfClosed(),this._checkFinalizedStatuses(Fe),this._innerSubscribe(Fe)}_innerSubscribe(Fe){const{hasError:Ye,isStopped:yt,observers:ke}=this;return Ye||yt?ne.Lc:(this.currentObservers=null,ke.push(Fe),new ne.w0(()=>{this.currentObservers=null,(0,we.P)(ke,Fe)}))}_checkFinalizedStatuses(Fe){const{hasError:Ye,thrownError:yt,isStopped:ke}=this;Ye?Fe.error(yt):ke&&Fe.complete()}asObservable(){const Fe=new a.y;return Fe.source=this,Fe}}return ze.create=(H,Fe)=>new Le(H,Fe),ze})();class Le extends $e{constructor(H,Fe){super(),this.destination=H,this.source=Fe}next(H){var Fe,Ye;null===(Ye=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.next)||void 0===Ye||Ye.call(Fe,H)}error(H){var Fe,Ye;null===(Ye=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.error)||void 0===Ye||Ye.call(Fe,H)}complete(){var H,Fe;null===(Fe=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===Fe||Fe.call(H)}_subscribe(H){var Fe,Ye;return null!==(Ye=null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(H))&&void 0!==Ye?Ye:ne.Lc}}},305:(Sn,Et,R)=>{R.d(Et,{Hp:()=>ut,Lv:()=>Ye});var a=R(4674),ne=R(7394),O=R(2653),w=R(3894),we=R(2420);const Ge=ze("C",void 0,void 0);function ze(ye,rt,W){return{kind:ye,value:rt,error:W}}var H=R(7599),Fe=R(1441);class Ye extends ne.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,ne.Nn)(rt)&&rt.add(this)):this.destination=Ke}static create(rt,W,Pe){return new ut(rt,W,Pe)}next(rt){this.isStopped?en(function Le(ye){return ze("N",ye,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?en(function $e(ye){return ze("E",void 0,ye)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?en(Ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function ke(ye,rt){return yt.call(ye,rt)}class Xe{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:W}=this;if(W.next)try{W.next(rt)}catch(Pe){ht(Pe)}}error(rt){const{partialObserver:W}=this;if(W.error)try{W.error(rt)}catch(Pe){ht(Pe)}else ht(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(W){ht(W)}}}class ut extends Ye{constructor(rt,W,Pe){let qe;if(super(),(0,a.m)(rt)||!rt)qe={next:rt??void 0,error:W??void 0,complete:Pe??void 0};else{let Ee;this&&O.config.useDeprecatedNextContext?(Ee=Object.create(rt),Ee.unsubscribe=()=>this.unsubscribe(),qe={next:rt.next&&ke(rt.next,Ee),error:rt.error&&ke(rt.error,Ee),complete:rt.complete&&ke(rt.complete,Ee)}):qe=rt}this.destination=new Xe(qe)}}function ht(ye){O.config.useDeprecatedSynchronousErrorHandling?(0,Fe.O)(ye):(0,w.h)(ye)}function en(ye,rt){const{onStoppedNotification:W}=O.config;W&&H.z.setTimeout(()=>W(ye,rt))}const Ke={closed:!0,next:we.Z,error:function Ot(ye){throw ye},complete:we.Z}},7394:(Sn,Et,R)=>{R.d(Et,{Lc:()=>Ge,w0:()=>we,Nn:()=>$e});var a=R(4674);const O=(0,R(2306).d)(ze=>function(Fe){ze(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((Ye,yt)=>`${yt+1}) ${Ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe});var w=R(9039);class we{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:Fe}=this;if(Fe)if(this._parentage=null,Array.isArray(Fe))for(const ke of Fe)ke.remove(this);else Fe.remove(this);const{initialTeardown:Ye}=this;if((0,a.m)(Ye))try{Ye()}catch(ke){H=ke instanceof O?ke.errors:[ke]}const{_finalizers:yt}=this;if(yt){this._finalizers=null;for(const ke of yt)try{Le(ke)}catch(Xe){H=H??[],Xe instanceof O?H=[...H,...Xe.errors]:H.push(Xe)}}if(H)throw new O(H)}}add(H){var Fe;if(H&&H!==this)if(this.closed)Le(H);else{if(H instanceof we){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(Fe=this._finalizers)&&void 0!==Fe?Fe:[]).push(H)}}_hasParent(H){const{_parentage:Fe}=this;return Fe===H||Array.isArray(Fe)&&Fe.includes(H)}_addParent(H){const{_parentage:Fe}=this;this._parentage=Array.isArray(Fe)?(Fe.push(H),Fe):Fe?[Fe,H]:H}_removeParent(H){const{_parentage:Fe}=this;Fe===H?this._parentage=null:Array.isArray(Fe)&&(0,w.P)(Fe,H)}remove(H){const{_finalizers:Fe}=this;Fe&&(0,w.P)(Fe,H),H instanceof we&&H._removeParent(this)}}we.EMPTY=(()=>{const ze=new we;return ze.closed=!0,ze})();const Ge=we.EMPTY;function $e(ze){return ze instanceof we||ze&&"closed"in ze&&(0,a.m)(ze.remove)&&(0,a.m)(ze.add)&&(0,a.m)(ze.unsubscribe)}function Le(ze){(0,a.m)(ze)?ze():ze.unsubscribe()}},2653:(Sn,Et,R)=>{R.d(Et,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Sn,Et,R)=>{R.d(Et,{c:()=>Ge});var a=R(5592),ne=R(7394),O=R(6196),w=R(8251),we=R(9360);class Ge extends a.y{constructor(Le,ze){super(),this.source=Le,this.subjectFactory=ze,this._subject=null,this._refCount=0,this._connection=null,(0,we.A)(Le)&&(this.lift=Le.lift)}_subscribe(Le){return this.getSubject().subscribe(Le)}getSubject(){const Le=this._subject;return(!Le||Le.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Le}=this;this._subject=this._connection=null,Le?.unsubscribe()}connect(){let Le=this._connection;if(!Le){Le=this._connection=new ne.w0;const ze=this.getSubject();Le.add(this.source.subscribe((0,w.x)(ze,void 0,()=>{this._teardown(),ze.complete()},H=>{this._teardown(),ze.error(H)},()=>this._teardown()))),Le.closed&&(this._connection=null,Le=ne.w0.EMPTY)}return Le}refCount(){return(0,O.x)()(this)}}},2572:(Sn,Et,R)=>{R.d(Et,{a:()=>H});var a=R(5592),ne=R(7453),O=R(2459),w=R(2737),we=R(7400),Ge=R(9940),$e=R(2714),Le=R(8251),ze=R(7103);function H(...yt){const ke=(0,Ge.yG)(yt),Xe=(0,Ge.jO)(yt),{args:ut,keys:ht}=(0,ne.D)(yt);if(0===ut.length)return(0,O.D)([],ke);const Ot=new a.y(function Fe(yt,ke,Xe=w.y){return ut=>{Ye(ke,()=>{const{length:ht}=yt,Ot=new Array(ht);let en=ht,Ke=ht;for(let ye=0;ye<ht;ye++)Ye(ke,()=>{const rt=(0,O.D)(yt[ye],ke);let W=!1;rt.subscribe((0,Le.x)(ut,Pe=>{Ot[ye]=Pe,W||(W=!0,Ke--),Ke||ut.next(Xe(Ot.slice()))},()=>{--en||ut.complete()}))},ut)},ut)}}(ut,ke,ht?en=>(0,$e.n)(ht,en):w.y));return Xe?Ot.pipe((0,we.Z)(Xe)):Ot}function Ye(yt,ke,Xe){yt?(0,ze.f)(Xe,yt,ke):ke()}},5211:(Sn,Et,R)=>{R.d(Et,{z:()=>we});var a=R(7537),O=R(9940),w=R(2459);function we(...Ge){return function ne(){return(0,a.J)(1)}()((0,w.D)(Ge,(0,O.yG)(Ge)))}},4911:(Sn,Et,R)=>{R.d(Et,{P:()=>O});var a=R(5592),ne=R(4829);function O(w){return new a.y(we=>{(0,ne.Xf)(w()).subscribe(we)})}},6232:(Sn,Et,R)=>{R.d(Et,{E:()=>ne});const ne=new(R(5592).y)(we=>we.complete())},9315:(Sn,Et,R)=>{R.d(Et,{D:()=>Le});var a=R(5592),ne=R(7453),O=R(4829),w=R(9940),we=R(8251),Ge=R(7400),$e=R(2714);function Le(...ze){const H=(0,w.jO)(ze),{args:Fe,keys:Ye}=(0,ne.D)(ze),yt=new a.y(ke=>{const{length:Xe}=Fe;if(!Xe)return void ke.complete();const ut=new Array(Xe);let ht=Xe,Ot=Xe;for(let en=0;en<Xe;en++){let Ke=!1;(0,O.Xf)(Fe[en]).subscribe((0,we.x)(ke,ye=>{Ke||(Ke=!0,Ot--),ut[en]=ye},()=>ht--,void 0,()=>{(!ht||!Ke)&&(Ot||ke.next(Ye?(0,$e.n)(Ye,ut):ut),ke.complete())}))}});return H?yt.pipe((0,Ge.Z)(H)):yt}},2459:(Sn,Et,R)=>{R.d(Et,{D:()=>rt});var a=R(4829),ne=R(3093),O=R(5137),Ge=R(5592),Le=R(4971),ze=R(4674),H=R(7103);function Ye(W,Pe){if(!W)throw new Error("Iterable cannot be null");return new Ge.y(qe=>{(0,H.f)(qe,Pe,()=>{const Ee=W[Symbol.asyncIterator]();(0,H.f)(qe,Pe,()=>{Ee.next().then(It=>{It.done?qe.complete():qe.next(It.value)})},0,!0)})})}var yt=R(8382),ke=R(4026),Xe=R(4266),ut=R(3664),ht=R(5726),Ot=R(9853),en=R(541);function rt(W,Pe){return Pe?function ye(W,Pe){if(null!=W){if((0,yt.c)(W))return function w(W,Pe){return(0,a.Xf)(W).pipe((0,O.R)(Pe),(0,ne.Q)(Pe))}(W,Pe);if((0,Xe.z)(W))return function $e(W,Pe){return new Ge.y(qe=>{let Ee=0;return Pe.schedule(function(){Ee===W.length?qe.complete():(qe.next(W[Ee++]),qe.closed||this.schedule())})})}(W,Pe);if((0,ke.t)(W))return function we(W,Pe){return(0,a.Xf)(W).pipe((0,O.R)(Pe),(0,ne.Q)(Pe))}(W,Pe);if((0,ht.D)(W))return Ye(W,Pe);if((0,ut.T)(W))return function Fe(W,Pe){return new Ge.y(qe=>{let Ee;return(0,H.f)(qe,Pe,()=>{Ee=W[Le.h](),(0,H.f)(qe,Pe,()=>{let It,Ht;try{({value:It,done:Ht}=Ee.next())}catch(Nt){return void qe.error(Nt)}Ht?qe.complete():qe.next(It)},0,!0)}),()=>(0,ze.m)(Ee?.return)&&Ee.return()})}(W,Pe);if((0,en.L)(W))return function Ke(W,Pe){return Ye((0,en.Q)(W),Pe)}(W,Pe)}throw(0,Ot.z)(W)}(W,Pe):(0,a.Xf)(W)}},2438:(Sn,Et,R)=>{R.d(Et,{R:()=>H});var a=R(4829),ne=R(5592),O=R(1631),w=R(4266),we=R(4674),Ge=R(7400);const $e=["addListener","removeListener"],Le=["addEventListener","removeEventListener"],ze=["on","off"];function H(Xe,ut,ht,Ot){if((0,we.m)(ht)&&(Ot=ht,ht=void 0),Ot)return H(Xe,ut,ht).pipe((0,Ge.Z)(Ot));const[en,Ke]=function ke(Xe){return(0,we.m)(Xe.addEventListener)&&(0,we.m)(Xe.removeEventListener)}(Xe)?Le.map(ye=>rt=>Xe[ye](ut,rt,ht)):function Ye(Xe){return(0,we.m)(Xe.addListener)&&(0,we.m)(Xe.removeListener)}(Xe)?$e.map(Fe(Xe,ut)):function yt(Xe){return(0,we.m)(Xe.on)&&(0,we.m)(Xe.off)}(Xe)?ze.map(Fe(Xe,ut)):[];if(!en&&(0,w.z)(Xe))return(0,O.z)(ye=>H(ye,ut,ht))((0,a.Xf)(Xe));if(!en)throw new TypeError("Invalid event target");return new ne.y(ye=>{const rt=(...W)=>ye.next(1<W.length?W:W[0]);return en(rt),()=>Ke(rt)})}function Fe(Xe,ut){return ht=>Ot=>Xe[ht](ut,Ot)}},4829:(Sn,Et,R)=>{R.d(Et,{Xf:()=>yt});var a=R(7582),ne=R(4266),O=R(4026),w=R(5592),we=R(8382),Ge=R(5726),$e=R(9853),Le=R(3664),ze=R(541),H=R(4674),Fe=R(3894),Ye=R(4850);function yt(ye){if(ye instanceof w.y)return ye;if(null!=ye){if((0,we.c)(ye))return function ke(ye){return new w.y(rt=>{const W=ye[Ye.L]();if((0,H.m)(W.subscribe))return W.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,ne.z)(ye))return function Xe(ye){return new w.y(rt=>{for(let W=0;W<ye.length&&!rt.closed;W++)rt.next(ye[W]);rt.complete()})}(ye);if((0,O.t)(ye))return function ut(ye){return new w.y(rt=>{ye.then(W=>{rt.closed||(rt.next(W),rt.complete())},W=>rt.error(W)).then(null,Fe.h)})}(ye);if((0,Ge.D)(ye))return Ot(ye);if((0,Le.T)(ye))return function ht(ye){return new w.y(rt=>{for(const W of ye)if(rt.next(W),rt.closed)return;rt.complete()})}(ye);if((0,ze.L)(ye))return function en(ye){return Ot((0,ze.Q)(ye))}(ye)}throw(0,$e.z)(ye)}function Ot(ye){return new w.y(rt=>{(function Ke(ye,rt){var W,Pe,qe,Ee;return(0,a.mG)(this,void 0,void 0,function*(){try{for(W=(0,a.KL)(ye);!(Pe=yield W.next()).done;)if(rt.next(Pe.value),rt.closed)return}catch(It){qe={error:It}}finally{try{Pe&&!Pe.done&&(Ee=W.return)&&(yield Ee.call(W))}finally{if(qe)throw qe.error}}rt.complete()})})(ye,rt).catch(W=>rt.error(W))})}},3019:(Sn,Et,R)=>{R.d(Et,{T:()=>Ge});var a=R(7537),ne=R(4829),O=R(6232),w=R(9940),we=R(2459);function Ge(...$e){const Le=(0,w.yG)($e),ze=(0,w._6)($e,1/0),H=$e;return H.length?1===H.length?(0,ne.Xf)(H[0]):(0,a.J)(ze)((0,we.D)(H,Le)):O.E}},2096:(Sn,Et,R)=>{R.d(Et,{of:()=>O});var a=R(9940),ne=R(2459);function O(...w){const we=(0,a.yG)(w);return(0,ne.D)(w,we)}},8504:(Sn,Et,R)=>{R.d(Et,{_:()=>O});var a=R(5592),ne=R(4674);function O(w,we){const Ge=(0,ne.m)(w)?w:()=>w,$e=Le=>Le.error(Ge());return new a.y(we?Le=>we.schedule($e,0,Le):$e)}},4825:(Sn,Et,R)=>{R.d(Et,{H:()=>we});var a=R(5592),ne=R(6321),O=R(671);function we(Ge=0,$e,Le=ne.P){let ze=-1;return null!=$e&&((0,O.K)($e)?Le=$e:ze=$e),new a.y(H=>{let Fe=function w(Ge){return Ge instanceof Date&&!isNaN(Ge)}(Ge)?+Ge-Le.now():Ge;Fe<0&&(Fe=0);let Ye=0;return Le.schedule(function(){H.closed||(H.next(Ye++),0<=ze?this.schedule(void 0,ze):H.complete())},Fe)})}},8251:(Sn,Et,R)=>{R.d(Et,{x:()=>ne});var a=R(305);function ne(w,we,Ge,$e,Le){return new O(w,we,Ge,$e,Le)}class O extends a.Lv{constructor(we,Ge,$e,Le,ze,H){super(we),this.onFinalize=ze,this.shouldUnsubscribe=H,this._next=Ge?function(Fe){try{Ge(Fe)}catch(Ye){we.error(Ye)}}:super._next,this._error=Le?function(Fe){try{Le(Fe)}catch(Ye){we.error(Ye)}finally{this.unsubscribe()}}:super._error,this._complete=$e?function(){try{$e()}catch(Fe){we.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ge}=this;super.unsubscribe(),!Ge&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},6306:(Sn,Et,R)=>{R.d(Et,{K:()=>w});var a=R(4829),ne=R(8251),O=R(9360);function w(we){return(0,O.e)((Ge,$e)=>{let H,Le=null,ze=!1;Le=Ge.subscribe((0,ne.x)($e,void 0,void 0,Fe=>{H=(0,a.Xf)(we(Fe,w(we)(Ge))),Le?(Le.unsubscribe(),Le=null,H.subscribe($e)):ze=!0})),ze&&(Le.unsubscribe(),Le=null,H.subscribe($e))})}},6328:(Sn,Et,R)=>{R.d(Et,{b:()=>O});var a=R(1631),ne=R(4674);function O(w,we){return(0,ne.m)(we)?(0,a.z)(w,we,1):(0,a.z)(w,1)}},3620:(Sn,Et,R)=>{R.d(Et,{b:()=>w});var a=R(6321),ne=R(9360),O=R(8251);function w(we,Ge=a.z){return(0,ne.e)(($e,Le)=>{let ze=null,H=null,Fe=null;const Ye=()=>{if(ze){ze.unsubscribe(),ze=null;const ke=H;H=null,Le.next(ke)}};function yt(){const ke=Fe+we,Xe=Ge.now();if(Xe<ke)return ze=this.schedule(void 0,ke-Xe),void Le.add(ze);Ye()}$e.subscribe((0,O.x)(Le,ke=>{H=ke,Fe=Ge.now(),ze||(ze=Ge.schedule(yt,we),Le.add(ze))},()=>{Ye(),Le.complete()},void 0,()=>{H=ze=null}))})}},3572:(Sn,Et,R)=>{R.d(Et,{d:()=>O});var a=R(9360),ne=R(8251);function O(w){return(0,a.e)((we,Ge)=>{let $e=!1;we.subscribe((0,ne.x)(Ge,Le=>{$e=!0,Ge.next(Le)},()=>{$e||Ge.next(w),Ge.complete()}))})}},3997:(Sn,Et,R)=>{R.d(Et,{x:()=>w});var a=R(2737),ne=R(9360),O=R(8251);function w(Ge,$e=a.y){return Ge=Ge??we,(0,ne.e)((Le,ze)=>{let H,Fe=!0;Le.subscribe((0,O.x)(ze,Ye=>{const yt=$e(Ye);(Fe||!Ge(H,yt))&&(Fe=!1,H=yt,ze.next(Ye))}))})}function we(Ge,$e){return Ge===$e}},2181:(Sn,Et,R)=>{R.d(Et,{h:()=>O});var a=R(9360),ne=R(8251);function O(w,we){return(0,a.e)((Ge,$e)=>{let Le=0;Ge.subscribe((0,ne.x)($e,ze=>w.call(we,ze,Le++)&&$e.next(ze)))})}},4716:(Sn,Et,R)=>{R.d(Et,{x:()=>ne});var a=R(9360);function ne(O){return(0,a.e)((w,we)=>{try{w.subscribe(we)}finally{we.add(O)}})}},1374:(Sn,Et,R)=>{R.d(Et,{P:()=>$e});var a=R(6973),ne=R(2181),O=R(8180),w=R(3572),we=R(3026),Ge=R(2737);function $e(Le,ze){const H=arguments.length>=2;return Fe=>Fe.pipe(Le?(0,ne.h)((Ye,yt)=>Le(Ye,yt,Fe)):Ge.y,(0,O.q)(1),H?(0,w.d)(ze):(0,we.T)(()=>new a.K))}},7398:(Sn,Et,R)=>{R.d(Et,{U:()=>O});var a=R(9360),ne=R(8251);function O(w,we){return(0,a.e)((Ge,$e)=>{let Le=0;Ge.subscribe((0,ne.x)($e,ze=>{$e.next(w.call(we,ze,Le++))}))})}},975:(Sn,Et,R)=>{R.d(Et,{h:()=>ne});var a=R(7398);function ne(O){return(0,a.U)(()=>O)}},7537:(Sn,Et,R)=>{R.d(Et,{J:()=>O});var a=R(1631),ne=R(2737);function O(w=1/0){return(0,a.z)(ne.y,w)}},1631:(Sn,Et,R)=>{R.d(Et,{z:()=>Le});var a=R(7398),ne=R(4829),O=R(9360),w=R(7103),we=R(8251),$e=R(4674);function Le(ze,H,Fe=1/0){return(0,$e.m)(H)?Le((Ye,yt)=>(0,a.U)((ke,Xe)=>H(Ye,ke,yt,Xe))((0,ne.Xf)(ze(Ye,yt))),Fe):("number"==typeof H&&(Fe=H),(0,O.e)((Ye,yt)=>function Ge(ze,H,Fe,Ye,yt,ke,Xe,ut){const ht=[];let Ot=0,en=0,Ke=!1;const ye=()=>{Ke&&!ht.length&&!Ot&&H.complete()},rt=Pe=>Ot<Ye?W(Pe):ht.push(Pe),W=Pe=>{ke&&H.next(Pe),Ot++;let qe=!1;(0,ne.Xf)(Fe(Pe,en++)).subscribe((0,we.x)(H,Ee=>{yt?.(Ee),ke?rt(Ee):H.next(Ee)},()=>{qe=!0},void 0,()=>{if(qe)try{for(Ot--;ht.length&&Ot<Ye;){const Ee=ht.shift();Xe?(0,w.f)(H,Xe,()=>W(Ee)):W(Ee)}ye()}catch(Ee){H.error(Ee)}}))};return ze.subscribe((0,we.x)(H,rt,()=>{Ke=!0,ye()})),()=>{ut?.()}}(Ye,yt,ze,Fe)))}},3093:(Sn,Et,R)=>{R.d(Et,{Q:()=>w});var a=R(7103),ne=R(9360),O=R(8251);function w(we,Ge=0){return(0,ne.e)(($e,Le)=>{$e.subscribe((0,O.x)(Le,ze=>(0,a.f)(Le,we,()=>Le.next(ze),Ge),()=>(0,a.f)(Le,we,()=>Le.complete(),Ge),ze=>(0,a.f)(Le,we,()=>Le.error(ze),Ge)))})}},6196:(Sn,Et,R)=>{R.d(Et,{x:()=>O});var a=R(9360),ne=R(8251);function O(){return(0,a.e)((w,we)=>{let Ge=null;w._refCount++;const $e=(0,ne.x)(we,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(Ge=null);const Le=w._connection,ze=Ge;Ge=null,Le&&(!ze||Le===ze)&&Le.unsubscribe(),we.unsubscribe()});w.subscribe($e),$e.closed||(Ge=w.connect())})}},6699:(Sn,Et,R)=>{R.d(Et,{R:()=>w});var a=R(9360),ne=R(8251);function w(we,Ge){return(0,a.e)(function O(we,Ge,$e,Le,ze){return(H,Fe)=>{let Ye=$e,yt=Ge,ke=0;H.subscribe((0,ne.x)(Fe,Xe=>{const ut=ke++;yt=Ye?we(yt,Xe,ut):(Ye=!0,Xe),Le&&Fe.next(yt)},ze&&(()=>{Ye&&Fe.next(yt),Fe.complete()})))}}(we,Ge,arguments.length>=2,!0))}},3020:(Sn,Et,R)=>{R.d(Et,{B:()=>we});var a=R(4829),ne=R(8645),O=R(305),w=R(9360);function we($e={}){const{connector:Le=(()=>new ne.x),resetOnError:ze=!0,resetOnComplete:H=!0,resetOnRefCountZero:Fe=!0}=$e;return Ye=>{let yt,ke,Xe,ut=0,ht=!1,Ot=!1;const en=()=>{ke?.unsubscribe(),ke=void 0},Ke=()=>{en(),yt=Xe=void 0,ht=Ot=!1},ye=()=>{const rt=yt;Ke(),rt?.unsubscribe()};return(0,w.e)((rt,W)=>{ut++,!Ot&&!ht&&en();const Pe=Xe=Xe??Le();W.add(()=>{ut--,0===ut&&!Ot&&!ht&&(ke=Ge(ye,Fe))}),Pe.subscribe(W),!yt&&ut>0&&(yt=new O.Hp({next:qe=>Pe.next(qe),error:qe=>{Ot=!0,en(),ke=Ge(Ke,ze,qe),Pe.error(qe)},complete:()=>{ht=!0,en(),ke=Ge(Ke,H),Pe.complete()}}),(0,a.Xf)(rt).subscribe(yt))})(Ye)}}function Ge($e,Le,...ze){if(!0===Le)return void $e();if(!1===Le)return;const H=new O.Hp({next:()=>{H.unsubscribe(),$e()}});return(0,a.Xf)(Le(...ze)).subscribe(H)}},940:(Sn,Et,R)=>{R.d(Et,{d:()=>we});var a=R(8645),ne=R(4552);class O extends a.x{constructor($e=1/0,Le=1/0,ze=ne.l){super(),this._bufferSize=$e,this._windowTime=Le,this._timestampProvider=ze,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Le===1/0,this._bufferSize=Math.max(1,$e),this._windowTime=Math.max(1,Le)}next($e){const{isStopped:Le,_buffer:ze,_infiniteTimeWindow:H,_timestampProvider:Fe,_windowTime:Ye}=this;Le||(ze.push($e),!H&&ze.push(Fe.now()+Ye)),this._trimBuffer(),super.next($e)}_subscribe($e){this._throwIfClosed(),this._trimBuffer();const Le=this._innerSubscribe($e),{_infiniteTimeWindow:ze,_buffer:H}=this,Fe=H.slice();for(let Ye=0;Ye<Fe.length&&!$e.closed;Ye+=ze?1:2)$e.next(Fe[Ye]);return this._checkFinalizedStatuses($e),Le}_trimBuffer(){const{_bufferSize:$e,_timestampProvider:Le,_buffer:ze,_infiniteTimeWindow:H}=this,Fe=(H?1:2)*$e;if($e<1/0&&Fe<ze.length&&ze.splice(0,ze.length-Fe),!H){const Ye=Le.now();let yt=0;for(let ke=1;ke<ze.length&&ze[ke]<=Ye;ke+=2)yt=ke;yt&&ze.splice(0,yt+1)}}}var w=R(3020);function we(Ge,$e,Le){let ze,H=!1;return Ge&&"object"==typeof Ge?({bufferSize:ze=1/0,windowTime:$e=1/0,refCount:H=!1,scheduler:Le}=Ge):ze=Ge??1/0,(0,w.B)({connector:()=>new O(ze,$e,Le),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:H})}},836:(Sn,Et,R)=>{R.d(Et,{T:()=>ne});var a=R(2181);function ne(O){return(0,a.h)((w,we)=>O<=we)}},7921:(Sn,Et,R)=>{R.d(Et,{O:()=>w});var a=R(5211),ne=R(9940),O=R(9360);function w(...we){const Ge=(0,ne.yG)(we);return(0,O.e)(($e,Le)=>{(Ge?(0,a.z)(we,$e,Ge):(0,a.z)(we,$e)).subscribe(Le)})}},5137:(Sn,Et,R)=>{R.d(Et,{R:()=>ne});var a=R(9360);function ne(O,w=0){return(0,a.e)((we,Ge)=>{Ge.add(O.schedule(()=>we.subscribe(Ge),w))})}},4664:(Sn,Et,R)=>{R.d(Et,{w:()=>w});var a=R(4829),ne=R(9360),O=R(8251);function w(we,Ge){return(0,ne.e)(($e,Le)=>{let ze=null,H=0,Fe=!1;const Ye=()=>Fe&&!ze&&Le.complete();$e.subscribe((0,O.x)(Le,yt=>{ze?.unsubscribe();let ke=0;const Xe=H++;(0,a.Xf)(we(yt,Xe)).subscribe(ze=(0,O.x)(Le,ut=>Le.next(Ge?Ge(yt,ut,Xe,ke++):ut),()=>{ze=null,Ye()}))},()=>{Fe=!0,Ye()}))})}},8180:(Sn,Et,R)=>{R.d(Et,{q:()=>w});var a=R(6232),ne=R(9360),O=R(8251);function w(we){return we<=0?()=>a.E:(0,ne.e)((Ge,$e)=>{let Le=0;Ge.subscribe((0,O.x)($e,ze=>{++Le<=we&&($e.next(ze),we<=Le&&$e.complete())}))})}},9773:(Sn,Et,R)=>{R.d(Et,{R:()=>we});var a=R(9360),ne=R(8251),O=R(4829),w=R(2420);function we(Ge){return(0,a.e)(($e,Le)=>{(0,O.Xf)(Ge).subscribe((0,ne.x)(Le,()=>Le.complete(),w.Z)),!Le.closed&&$e.subscribe(Le)})}},9397:(Sn,Et,R)=>{R.d(Et,{b:()=>we});var a=R(4674),ne=R(9360),O=R(8251),w=R(2737);function we(Ge,$e,Le){const ze=(0,a.m)(Ge)||$e||Le?{next:Ge,error:$e,complete:Le}:Ge;return ze?(0,ne.e)((H,Fe)=>{var Ye;null===(Ye=ze.subscribe)||void 0===Ye||Ye.call(ze);let yt=!0;H.subscribe((0,O.x)(Fe,ke=>{var Xe;null===(Xe=ze.next)||void 0===Xe||Xe.call(ze,ke),Fe.next(ke)},()=>{var ke;yt=!1,null===(ke=ze.complete)||void 0===ke||ke.call(ze),Fe.complete()},ke=>{var Xe;yt=!1,null===(Xe=ze.error)||void 0===Xe||Xe.call(ze,ke),Fe.error(ke)},()=>{var ke,Xe;yt&&(null===(ke=ze.unsubscribe)||void 0===ke||ke.call(ze)),null===(Xe=ze.finalize)||void 0===Xe||Xe.call(ze)}))}):w.y}},3026:(Sn,Et,R)=>{R.d(Et,{T:()=>w});var a=R(6973),ne=R(9360),O=R(8251);function w(Ge=we){return(0,ne.e)(($e,Le)=>{let ze=!1;$e.subscribe((0,O.x)(Le,H=>{ze=!0,Le.next(H)},()=>ze?Le.complete():Le.error(Ge())))})}function we(){return new a.K}},2460:(Sn,Et,R)=>{R.d(Et,{M:()=>$e});var a=R(9360),ne=R(8251),O=R(4829),w=R(2737),we=R(2420),Ge=R(9940);function $e(...Le){const ze=(0,Ge.jO)(Le);return(0,a.e)((H,Fe)=>{const Ye=Le.length,yt=new Array(Ye);let ke=Le.map(()=>!1),Xe=!1;for(let ut=0;ut<Ye;ut++)(0,O.Xf)(Le[ut]).subscribe((0,ne.x)(Fe,ht=>{yt[ut]=ht,!Xe&&!ke[ut]&&(ke[ut]=!0,(Xe=ke.every(w.y))&&(ke=null))},we.Z));H.subscribe((0,ne.x)(Fe,ut=>{if(Xe){const ht=[ut,...yt];Fe.next(ze?ze(...ht):ht)}}))})}},1954:(Sn,Et,R)=>{R.d(Et,{o:()=>we});var a=R(7394);class ne extends a.w0{constructor($e,Le){super()}schedule($e,Le=0){return this}}const O={setInterval(Ge,$e,...Le){const{delegate:ze}=O;return ze?.setInterval?ze.setInterval(Ge,$e,...Le):setInterval(Ge,$e,...Le)},clearInterval(Ge){const{delegate:$e}=O;return($e?.clearInterval||clearInterval)(Ge)},delegate:void 0};var w=R(9039);class we extends ne{constructor($e,Le){super($e,Le),this.scheduler=$e,this.work=Le,this.pending=!1}schedule($e,Le=0){var ze;if(this.closed)return this;this.state=$e;const H=this.id,Fe=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(Fe,H,Le)),this.pending=!0,this.delay=Le,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(Fe,this.id,Le),this}requestAsyncId($e,Le,ze=0){return O.setInterval($e.flush.bind($e,this),ze)}recycleAsyncId($e,Le,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return Le;null!=Le&&O.clearInterval(Le)}execute($e,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute($e,Le);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($e,Le){let H,ze=!1;try{this.work($e)}catch(Fe){ze=!0,H=Fe||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:$e,scheduler:Le}=this,{actions:ze}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,w.P)(ze,this),null!=$e&&(this.id=this.recycleAsyncId(Le,$e,null)),this.delay=null,super.unsubscribe()}}}},2631:(Sn,Et,R)=>{R.d(Et,{v:()=>O});var a=R(4552);class ne{constructor(we,Ge=ne.now){this.schedulerActionCtor=we,this.now=Ge}schedule(we,Ge=0,$e){return new this.schedulerActionCtor(this,we).schedule($e,Ge)}}ne.now=a.l.now;class O extends ne{constructor(we,Ge=ne.now){super(we,Ge),this.actions=[],this._active=!1}flush(we){const{actions:Ge}=this;if(this._active)return void Ge.push(we);let $e;this._active=!0;do{if($e=we.execute(we.state,we.delay))break}while(we=Ge.shift());if(this._active=!1,$e){for(;we=Ge.shift();)we.unsubscribe();throw $e}}}},6321:(Sn,Et,R)=>{R.d(Et,{P:()=>w,z:()=>O});var a=R(1954);const O=new(R(2631).v)(a.o),w=O},4552:(Sn,Et,R)=>{R.d(Et,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(Sn,Et,R)=>{R.d(Et,{z:()=>a});const a={setTimeout(ne,O,...w){const{delegate:we}=a;return we?.setTimeout?we.setTimeout(ne,O,...w):setTimeout(ne,O,...w)},clearTimeout(ne){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4971:(Sn,Et,R)=>{R.d(Et,{h:()=>ne});const ne=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Sn,Et,R)=>{R.d(Et,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Sn,Et,R)=>{R.d(Et,{K:()=>ne});const ne=(0,R(2306).d)(O=>function(){O(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Sn,Et,R)=>{R.d(Et,{_6:()=>Ge,jO:()=>w,yG:()=>we});var a=R(4674),ne=R(671);function O($e){return $e[$e.length-1]}function w($e){return(0,a.m)(O($e))?$e.pop():void 0}function we($e){return(0,ne.K)(O($e))?$e.pop():void 0}function Ge($e,Le){return"number"==typeof O($e)?$e.pop():Le}},7453:(Sn,Et,R)=>{R.d(Et,{D:()=>we});const{isArray:a}=Array,{getPrototypeOf:ne,prototype:O,keys:w}=Object;function we($e){if(1===$e.length){const Le=$e[0];if(a(Le))return{args:Le,keys:null};if(function Ge($e){return $e&&"object"==typeof $e&&ne($e)===O}(Le)){const ze=w(Le);return{args:ze.map(H=>Le[H]),keys:ze}}}return{args:$e,keys:null}}},9039:(Sn,Et,R)=>{function a(ne,O){if(ne){const w=ne.indexOf(O);0<=w&&ne.splice(w,1)}}R.d(Et,{P:()=>a})},2306:(Sn,Et,R)=>{function a(ne){const w=ne(we=>{Error.call(we),we.stack=(new Error).stack});return w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w}R.d(Et,{d:()=>a})},2714:(Sn,Et,R)=>{function a(ne,O){return ne.reduce((w,we,Ge)=>(w[we]=O[Ge],w),{})}R.d(Et,{n:()=>a})},1441:(Sn,Et,R)=>{R.d(Et,{O:()=>w,x:()=>O});var a=R(2653);let ne=null;function O(we){if(a.config.useDeprecatedSynchronousErrorHandling){const Ge=!ne;if(Ge&&(ne={errorThrown:!1,error:null}),we(),Ge){const{errorThrown:$e,error:Le}=ne;if(ne=null,$e)throw Le}}else we()}function w(we){a.config.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=we)}},7103:(Sn,Et,R)=>{function a(ne,O,w,we=0,Ge=!1){const $e=O.schedule(function(){w(),Ge?ne.add(this.schedule(null,we)):this.unsubscribe()},we);if(ne.add($e),!Ge)return $e}R.d(Et,{f:()=>a})},2737:(Sn,Et,R)=>{function a(ne){return ne}R.d(Et,{y:()=>a})},4266:(Sn,Et,R)=>{R.d(Et,{z:()=>a});const a=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},5726:(Sn,Et,R)=>{R.d(Et,{D:()=>ne});var a=R(4674);function ne(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},4674:(Sn,Et,R)=>{function a(ne){return"function"==typeof ne}R.d(Et,{m:()=>a})},8382:(Sn,Et,R)=>{R.d(Et,{c:()=>O});var a=R(4850),ne=R(4674);function O(w){return(0,ne.m)(w[a.L])}},3664:(Sn,Et,R)=>{R.d(Et,{T:()=>O});var a=R(4971),ne=R(4674);function O(w){return(0,ne.m)(w?.[a.h])}},2664:(Sn,Et,R)=>{R.d(Et,{b:()=>O});var a=R(5592),ne=R(4674);function O(w){return!!w&&(w instanceof a.y||(0,ne.m)(w.lift)&&(0,ne.m)(w.subscribe))}},4026:(Sn,Et,R)=>{R.d(Et,{t:()=>ne});var a=R(4674);function ne(O){return(0,a.m)(O?.then)}},541:(Sn,Et,R)=>{R.d(Et,{L:()=>w,Q:()=>O});var a=R(7582),ne=R(4674);function O(we){return(0,a.FC)(this,arguments,function*(){const $e=we.getReader();try{for(;;){const{value:Le,done:ze}=yield(0,a.qq)($e.read());if(ze)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Le)}}finally{$e.releaseLock()}})}function w(we){return(0,ne.m)(we?.getReader)}},671:(Sn,Et,R)=>{R.d(Et,{K:()=>ne});var a=R(4674);function ne(O){return O&&(0,a.m)(O.schedule)}},9360:(Sn,Et,R)=>{R.d(Et,{A:()=>ne,e:()=>O});var a=R(4674);function ne(w){return(0,a.m)(w?.lift)}function O(w){return we=>{if(ne(we))return we.lift(function(Ge){try{return w(Ge,this)}catch($e){this.error($e)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Sn,Et,R)=>{R.d(Et,{Z:()=>w});var a=R(7398);const{isArray:ne}=Array;function w(we){return(0,a.U)(Ge=>function O(we,Ge){return ne(Ge)?we(...Ge):we(Ge)}(we,Ge))}},2420:(Sn,Et,R)=>{function a(){}R.d(Et,{Z:()=>a})},8407:(Sn,Et,R)=>{R.d(Et,{U:()=>O,z:()=>ne});var a=R(2737);function ne(...w){return O(w)}function O(w){return 0===w.length?a.y:1===w.length?w[0]:function(Ge){return w.reduce(($e,Le)=>Le($e),Ge)}}},3894:(Sn,Et,R)=>{R.d(Et,{h:()=>O});var a=R(2653),ne=R(7599);function O(w){ne.z.setTimeout(()=>{const{onUnhandledError:we}=a.config;if(!we)throw w;we(w)})}},9853:(Sn,Et,R)=>{function a(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Et,{z:()=>a})},6825:(Sn,Et,R)=>{R.d(Et,{F4:()=>H,IO:()=>Xe,LC:()=>ne,SB:()=>ze,X$:()=>w,ZE:()=>Ot,ZN:()=>ht,_j:()=>a,eR:()=>Fe,jt:()=>we,k1:()=>en,l3:()=>O,oB:()=>Le,pV:()=>yt,ru:()=>Ge,vP:()=>$e});class a{}class ne{}const O="*";function w(Ke,ye){return{type:7,name:Ke,definitions:ye,options:{}}}function we(Ke,ye=null){return{type:4,styles:ye,timings:Ke}}function Ge(Ke,ye=null){return{type:3,steps:Ke,options:ye}}function $e(Ke,ye=null){return{type:2,steps:Ke,options:ye}}function Le(Ke){return{type:6,styles:Ke,offset:null}}function ze(Ke,ye,rt){return{type:0,name:Ke,styles:ye,options:rt}}function H(Ke){return{type:5,steps:Ke}}function Fe(Ke,ye,rt=null){return{type:1,expr:Ke,animation:ye,options:rt}}function yt(Ke=null){return{type:9,options:Ke}}function Xe(Ke,ye,rt=null){return{type:11,selector:Ke,animation:ye,options:rt}}class ht{constructor(ye=0,rt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ye+rt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ye=>ye()),this._onDoneFns=[])}onStart(ye){this._originalOnStartFns.push(ye),this._onStartFns.push(ye)}onDone(ye){this._originalOnDoneFns.push(ye),this._onDoneFns.push(ye)}onDestroy(ye){this._onDestroyFns.push(ye)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ye=>ye()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ye=>ye()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ye){this._position=this.totalTime?ye*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ye){const rt="start"==ye?this._onStartFns:this._onDoneFns;rt.forEach(W=>W()),rt.length=0}}class Ot{constructor(ye){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ye;let rt=0,W=0,Pe=0;const qe=this.players.length;0==qe?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ee=>{Ee.onDone(()=>{++rt==qe&&this._onFinish()}),Ee.onDestroy(()=>{++W==qe&&this._onDestroy()}),Ee.onStart(()=>{++Pe==qe&&this._onStart()})}),this.totalTime=this.players.reduce((Ee,It)=>Math.max(Ee,It.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ye=>ye()),this._onDoneFns=[])}init(){this.players.forEach(ye=>ye.init())}onStart(ye){this._onStartFns.push(ye)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ye=>ye()),this._onStartFns=[])}onDone(ye){this._onDoneFns.push(ye)}onDestroy(ye){this._onDestroyFns.push(ye)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ye=>ye.play())}pause(){this.players.forEach(ye=>ye.pause())}restart(){this.players.forEach(ye=>ye.restart())}finish(){this._onFinish(),this.players.forEach(ye=>ye.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ye=>ye.destroy()),this._onDestroyFns.forEach(ye=>ye()),this._onDestroyFns=[])}reset(){this.players.forEach(ye=>ye.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ye){const rt=ye*this.totalTime;this.players.forEach(W=>{const Pe=W.totalTime?Math.min(1,rt/W.totalTime):1;W.setPosition(Pe)})}getPosition(){const ye=this.players.reduce((rt,W)=>null===rt||W.totalTime>rt.totalTime?W:rt,null);return null!=ye?ye.getPosition():0}beforeDestroy(){this.players.forEach(ye=>{ye.beforeDestroy&&ye.beforeDestroy()})}triggerCallback(ye){const rt="start"==ye?this._onStartFns:this._onDoneFns;rt.forEach(W=>W()),rt.length=0}}const en="!"},4191:(Sn,Et,R)=>{R.d(Et,{rt:()=>gt,s1:()=>St,$s:()=>Be,Em:()=>Bt,tE:()=>Dt,qV:()=>xe,qm:()=>be,ic:()=>Ut,Kd:()=>xn,Zf:()=>wn,X6:()=>gn,yG:()=>Hn,iD:()=>Ln});var a=R(6814),ne=R(5879),O=R(2831),w=R(8645),we=R(7394),Ge=R(5619),$e=R(2096),Le=R(6028),ze=R(9397),H=R(3620),Fe=R(2181),Ye=R(7398),yt=R(8180),ke=R(836),Xe=R(3997),ut=R(9773),ht=R(2495),Ot=R(7131),en=R(2572),Ke=R(5211),ye=R(5592),rt=R(7921);const Pe=new Set;let qe,Ee=(()=>{class nt{constructor(Me,We){this._platform=Me,this._nonce=We,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ht}matchMedia(Me){return(this._platform.WEBKIT||this._platform.BLINK)&&function It(nt,ot){if(!Pe.has(nt))try{qe||(qe=document.createElement("style"),ot&&(qe.nonce=ot),qe.setAttribute("type","text/css"),document.head.appendChild(qe)),qe.sheet&&(qe.sheet.insertRule(`@media ${nt} {body{ }}`,0),Pe.add(nt))}catch(Me){console.error(Me)}}(Me,this._nonce),this._matchMedia(Me)}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(O.t4),ne.LFG(ne.Ojb,8))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function Ht(nt){return{matches:"all"===nt||""===nt,media:nt,addListener:()=>{},removeListener:()=>{}}}let Nt=(()=>{class nt{constructor(Me,We){this._mediaMatcher=Me,this._zone=We,this._queries=new Map,this._destroySubject=new w.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Me){return Cn((0,ht.Eq)(Me)).some(st=>this._registerQuery(st).mql.matches)}observe(Me){const st=Cn((0,ht.Eq)(Me)).map(Qe=>this._registerQuery(Qe).observable);let Jt=(0,en.a)(st);return Jt=(0,Ke.z)(Jt.pipe((0,yt.q)(1)),Jt.pipe((0,ke.T)(1),(0,H.b)(0))),Jt.pipe((0,Ye.U)(Qe=>{const et={matches:!1,breakpoints:{}};return Qe.forEach(({matches:vt,query:tt})=>{et.matches=et.matches||vt,et.breakpoints[tt]=vt}),et}))}_registerQuery(Me){if(this._queries.has(Me))return this._queries.get(Me);const We=this._mediaMatcher.matchMedia(Me),Jt={observable:new ye.y(Qe=>{const et=vt=>this._zone.run(()=>Qe.next(vt));return We.addListener(et),()=>{We.removeListener(et)}}).pipe((0,rt.O)(We),(0,Ye.U)(({matches:Qe})=>({query:Me,matches:Qe})),(0,ut.R)(this._destroySubject)),mql:We};return this._queries.set(Me,Jt),Jt}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(Ee),ne.LFG(ne.R0b))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function Cn(nt){return nt.map(ot=>ot.split(",")).reduce((ot,Me)=>ot.concat(Me)).map(ot=>ot.trim())}const ni=" ";function wn(nt,ot,Me){const We=jn(nt,ot);We.some(st=>st.trim()==Me.trim())||(We.push(Me.trim()),nt.setAttribute(ot,We.join(ni)))}function Ln(nt,ot,Me){const st=jn(nt,ot).filter(Jt=>Jt!=Me.trim());st.length?nt.setAttribute(ot,st.join(ni)):nt.removeAttribute(ot)}function jn(nt,ot){return(nt.getAttribute(ot)||"").match(/\S+/g)||[]}const pt="cdk-describedby-message",bt="cdk-describedby-host";let Rt=0,Be=(()=>{class nt{constructor(Me,We){this._platform=We,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Rt++,this._document=Me,this._id=(0,ne.f3M)(ne.AFp)+"-"+Rt++}describe(Me,We,st){if(!this._canBeDescribed(Me,We))return;const Jt=Te(We,st);"string"!=typeof We?(Mt(We,this._id),this._messageRegistry.set(Jt,{messageElement:We,referenceCount:0})):this._messageRegistry.has(Jt)||this._createMessageElement(We,st),this._isElementDescribedByMessage(Me,Jt)||this._addMessageReference(Me,Jt)}removeDescription(Me,We,st){if(!We||!this._isElementNode(Me))return;const Jt=Te(We,st);if(this._isElementDescribedByMessage(Me,Jt)&&this._removeMessageReference(Me,Jt),"string"==typeof We){const Qe=this._messageRegistry.get(Jt);Qe&&0===Qe.referenceCount&&this._deleteMessageElement(Jt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Me=this._document.querySelectorAll(`[${bt}="${this._id}"]`);for(let We=0;We<Me.length;We++)this._removeCdkDescribedByReferenceIds(Me[We]),Me[We].removeAttribute(bt);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Me,We){const st=this._document.createElement("div");Mt(st,this._id),st.textContent=Me,We&&st.setAttribute("role",We),this._createMessagesContainer(),this._messagesContainer.appendChild(st),this._messageRegistry.set(Te(Me,We),{messageElement:st,referenceCount:0})}_deleteMessageElement(Me){this._messageRegistry.get(Me)?.messageElement?.remove(),this._messageRegistry.delete(Me)}_createMessagesContainer(){if(this._messagesContainer)return;const Me="cdk-describedby-message-container",We=this._document.querySelectorAll(`.${Me}[platform="server"]`);for(let Jt=0;Jt<We.length;Jt++)We[Jt].remove();const st=this._document.createElement("div");st.style.visibility="hidden",st.classList.add(Me),st.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&st.setAttribute("platform","server"),this._document.body.appendChild(st),this._messagesContainer=st}_removeCdkDescribedByReferenceIds(Me){const We=jn(Me,"aria-describedby").filter(st=>0!=st.indexOf(pt));Me.setAttribute("aria-describedby",We.join(" "))}_addMessageReference(Me,We){const st=this._messageRegistry.get(We);wn(Me,"aria-describedby",st.messageElement.id),Me.setAttribute(bt,this._id),st.referenceCount++}_removeMessageReference(Me,We){const st=this._messageRegistry.get(We);st.referenceCount--,Ln(Me,"aria-describedby",st.messageElement.id),Me.removeAttribute(bt)}_isElementDescribedByMessage(Me,We){const st=jn(Me,"aria-describedby"),Jt=this._messageRegistry.get(We),Qe=Jt&&Jt.messageElement.id;return!!Qe&&-1!=st.indexOf(Qe)}_canBeDescribed(Me,We){if(!this._isElementNode(Me))return!1;if(We&&"object"==typeof We)return!0;const st=null==We?"":`${We}`.trim(),Jt=Me.getAttribute("aria-label");return!(!st||Jt&&Jt.trim()===st)}_isElementNode(Me){return Me.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(a.K0),ne.LFG(O.t4))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function Te(nt,ot){return"string"==typeof nt?`${ot||""}/${nt}`:nt}function Mt(nt,ot){nt.id||(nt.id=`${pt}-${ot}-${Rt++}`)}class Ze{constructor(ot){this._items=ot,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new w.x,this._typeaheadSubscription=we.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Me=>Me.disabled,this._pressedLetters=[],this.tabOut=new w.x,this.change=new w.x,ot instanceof ne.n_E&&(this._itemChangesSubscription=ot.changes.subscribe(Me=>{if(this._activeItem){const st=Me.toArray().indexOf(this._activeItem);st>-1&&st!==this._activeItemIndex&&(this._activeItemIndex=st)}}))}skipPredicate(ot){return this._skipPredicateFn=ot,this}withWrap(ot=!0){return this._wrap=ot,this}withVerticalOrientation(ot=!0){return this._vertical=ot,this}withHorizontalOrientation(ot){return this._horizontal=ot,this}withAllowedModifierKeys(ot){return this._allowedModifierKeys=ot,this}withTypeAhead(ot=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ze.b)(Me=>this._pressedLetters.push(Me)),(0,H.b)(ot),(0,Fe.h)(()=>this._pressedLetters.length>0),(0,Ye.U)(()=>this._pressedLetters.join(""))).subscribe(Me=>{const We=this._getItemsArray();for(let st=1;st<We.length+1;st++){const Jt=(this._activeItemIndex+st)%We.length,Qe=We[Jt];if(!this._skipPredicateFn(Qe)&&0===Qe.getLabel().toUpperCase().trim().indexOf(Me)){this.setActiveItem(Jt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ot=!0){return this._homeAndEnd=ot,this}withPageUpDown(ot=!0,Me=10){return this._pageUpAndDown={enabled:ot,delta:Me},this}setActiveItem(ot){const Me=this._activeItem;this.updateActiveItem(ot),this._activeItem!==Me&&this.change.next(this._activeItemIndex)}onKeydown(ot){const Me=ot.keyCode,st=["altKey","ctrlKey","metaKey","shiftKey"].every(Jt=>!ot[Jt]||this._allowedModifierKeys.indexOf(Jt)>-1);switch(Me){case Le.Mf:return void this.tabOut.next();case Le.JH:if(this._vertical&&st){this.setNextItemActive();break}return;case Le.LH:if(this._vertical&&st){this.setPreviousItemActive();break}return;case Le.SV:if(this._horizontal&&st){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Le.oh:if(this._horizontal&&st){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Le.Sd:if(this._homeAndEnd&&st){this.setFirstItemActive();break}return;case Le.uR:if(this._homeAndEnd&&st){this.setLastItemActive();break}return;case Le.Ku:if(this._pageUpAndDown.enabled&&st){const Jt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Jt>0?Jt:0,1);break}return;case Le.VM:if(this._pageUpAndDown.enabled&&st){const Jt=this._activeItemIndex+this._pageUpAndDown.delta,Qe=this._getItemsArray().length;this._setActiveItemByIndex(Jt<Qe?Jt:Qe-1,-1);break}return;default:return void((st||(0,Le.Vb)(ot,"shiftKey"))&&(ot.key&&1===ot.key.length?this._letterKeyStream.next(ot.key.toLocaleUpperCase()):(Me>=Le.A&&Me<=Le.Z||Me>=Le.xE&&Me<=Le.aO)&&this._letterKeyStream.next(String.fromCharCode(Me))))}this._pressedLetters=[],ot.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ot){const Me=this._getItemsArray(),We="number"==typeof ot?ot:Me.indexOf(ot);this._activeItem=Me[We]??null,this._activeItemIndex=We}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ot){this._wrap?this._setActiveInWrapMode(ot):this._setActiveInDefaultMode(ot)}_setActiveInWrapMode(ot){const Me=this._getItemsArray();for(let We=1;We<=Me.length;We++){const st=(this._activeItemIndex+ot*We+Me.length)%Me.length;if(!this._skipPredicateFn(Me[st]))return void this.setActiveItem(st)}}_setActiveInDefaultMode(ot){this._setActiveItemByIndex(this._activeItemIndex+ot,ot)}_setActiveItemByIndex(ot,Me){const We=this._getItemsArray();if(We[ot]){for(;this._skipPredicateFn(We[ot]);)if(!We[ot+=Me])return;this.setActiveItem(ot)}}_getItemsArray(){return this._items instanceof ne.n_E?this._items.toArray():this._items}}class St extends Ze{setActiveItem(ot){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ot),this.activeItem&&this.activeItem.setActiveStyles()}}class Bt extends Ze{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ot){return this._origin=ot,this}setActiveItem(ot){super.setActiveItem(ot),this.activeItem&&this.activeItem.focus(this._origin)}}let Ut=(()=>{class nt{constructor(Me){this._platform=Me}isDisabled(Me){return Me.hasAttribute("disabled")}isVisible(Me){return function Lt(nt){return!!(nt.offsetWidth||nt.offsetHeight||"function"==typeof nt.getClientRects&&nt.getClientRects().length)}(Me)&&"visible"===getComputedStyle(Me).visibility}isTabbable(Me){if(!this._platform.isBrowser)return!1;const We=function Pn(nt){try{return nt.frameElement}catch{return null}}(function Pt(nt){return nt.ownerDocument&&nt.ownerDocument.defaultView||window}(Me));if(We&&(-1===dn(We)||!this.isVisible(We)))return!1;let st=Me.nodeName.toLowerCase(),Jt=dn(Me);return Me.hasAttribute("contenteditable")?-1!==Jt:!("iframe"===st||"object"===st||this._platform.WEBKIT&&this._platform.IOS&&!function Qn(nt){let ot=nt.nodeName.toLowerCase(),Me="input"===ot&&nt.type;return"text"===Me||"password"===Me||"select"===ot||"textarea"===ot}(Me))&&("audio"===st?!!Me.hasAttribute("controls")&&-1!==Jt:"video"===st?-1!==Jt&&(null!==Jt||this._platform.FIREFOX||Me.hasAttribute("controls")):Me.tabIndex>=0)}isFocusable(Me,We){return function ai(nt){return!function _e(nt){return function at(nt){return"input"==nt.nodeName.toLowerCase()}(nt)&&"hidden"==nt.type}(nt)&&(function Wt(nt){let ot=nt.nodeName.toLowerCase();return"input"===ot||"select"===ot||"button"===ot||"textarea"===ot}(nt)||function Ue(nt){return function $t(nt){return"a"==nt.nodeName.toLowerCase()}(nt)&&nt.hasAttribute("href")}(nt)||nt.hasAttribute("contenteditable")||pn(nt))}(Me)&&!this.isDisabled(Me)&&(We?.ignoreVisibility||this.isVisible(Me))}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(O.t4))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function pn(nt){if(!nt.hasAttribute("tabindex")||void 0===nt.tabIndex)return!1;let ot=nt.getAttribute("tabindex");return!(!ot||isNaN(parseInt(ot,10)))}function dn(nt){if(!pn(nt))return null;const ot=parseInt(nt.getAttribute("tabindex")||"",10);return isNaN(ot)?-1:ot}class Ie{get enabled(){return this._enabled}set enabled(ot){this._enabled=ot,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ot,this._startAnchor),this._toggleAnchorTabIndex(ot,this._endAnchor))}constructor(ot,Me,We,st,Jt=!1){this._element=ot,this._checker=Me,this._ngZone=We,this._document=st,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Jt||this.attachAnchors()}destroy(){const ot=this._startAnchor,Me=this._endAnchor;ot&&(ot.removeEventListener("focus",this.startAnchorListener),ot.remove()),Me&&(Me.removeEventListener("focus",this.endAnchorListener),Me.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ot){return new Promise(Me=>{this._executeOnStable(()=>Me(this.focusInitialElement(ot)))})}focusFirstTabbableElementWhenReady(ot){return new Promise(Me=>{this._executeOnStable(()=>Me(this.focusFirstTabbableElement(ot)))})}focusLastTabbableElementWhenReady(ot){return new Promise(Me=>{this._executeOnStable(()=>Me(this.focusLastTabbableElement(ot)))})}_getRegionBoundary(ot){const Me=this._element.querySelectorAll(`[cdk-focus-region-${ot}], [cdkFocusRegion${ot}], [cdk-focus-${ot}]`);return"start"==ot?Me.length?Me[0]:this._getFirstTabbableElement(this._element):Me.length?Me[Me.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ot){const Me=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Me){if(!this._checker.isFocusable(Me)){const We=this._getFirstTabbableElement(Me);return We?.focus(ot),!!We}return Me.focus(ot),!0}return this.focusFirstTabbableElement(ot)}focusFirstTabbableElement(ot){const Me=this._getRegionBoundary("start");return Me&&Me.focus(ot),!!Me}focusLastTabbableElement(ot){const Me=this._getRegionBoundary("end");return Me&&Me.focus(ot),!!Me}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ot){if(this._checker.isFocusable(ot)&&this._checker.isTabbable(ot))return ot;const Me=ot.children;for(let We=0;We<Me.length;We++){const st=Me[We].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Me[We]):null;if(st)return st}return null}_getLastTabbableElement(ot){if(this._checker.isFocusable(ot)&&this._checker.isTabbable(ot))return ot;const Me=ot.children;for(let We=Me.length-1;We>=0;We--){const st=Me[We].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Me[We]):null;if(st)return st}return null}_createAnchor(){const ot=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ot),ot.classList.add("cdk-visually-hidden"),ot.classList.add("cdk-focus-trap-anchor"),ot.setAttribute("aria-hidden","true"),ot}_toggleAnchorTabIndex(ot,Me){ot?Me.setAttribute("tabindex","0"):Me.removeAttribute("tabindex")}toggleAnchors(ot){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ot,this._startAnchor),this._toggleAnchorTabIndex(ot,this._endAnchor))}_executeOnStable(ot){this._ngZone.isStable?ot():this._ngZone.onStable.pipe((0,yt.q)(1)).subscribe(ot)}}let xe=(()=>{class nt{constructor(Me,We,st){this._checker=Me,this._ngZone=We,this._document=st}create(Me,We=!1){return new Ie(Me,this._checker,this._ngZone,this._document,We)}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(Ut),ne.LFG(ne.R0b),ne.LFG(a.K0))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function gn(nt){return 0===nt.buttons||0===nt.detail}function Hn(nt){const ot=nt.touches&&nt.touches[0]||nt.changedTouches&&nt.changedTouches[0];return!(!ot||-1!==ot.identifier||null!=ot.radiusX&&1!==ot.radiusX||null!=ot.radiusY&&1!==ot.radiusY)}const An=new ne.OlP("cdk-input-modality-detector-options"),Ci={ignoreKeys:[Le.zL,Le.jx,Le.b2,Le.MW,Le.JU]},Li=(0,O.i$)({passive:!0,capture:!0});let zi=(()=>{class nt{get mostRecentModality(){return this._modality.value}constructor(Me,We,st,Jt){this._platform=Me,this._mostRecentTarget=null,this._modality=new Ge.X(null),this._lastTouchMs=0,this._onKeydown=Qe=>{this._options?.ignoreKeys?.some(et=>et===Qe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,O.sA)(Qe))},this._onMousedown=Qe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gn(Qe)?"keyboard":"mouse"),this._mostRecentTarget=(0,O.sA)(Qe))},this._onTouchstart=Qe=>{Hn(Qe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,O.sA)(Qe))},this._options={...Ci,...Jt},this.modalityDetected=this._modality.pipe((0,ke.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Xe.x)()),Me.isBrowser&&We.runOutsideAngular(()=>{st.addEventListener("keydown",this._onKeydown,Li),st.addEventListener("mousedown",this._onMousedown,Li),st.addEventListener("touchstart",this._onTouchstart,Li)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Li),document.removeEventListener("mousedown",this._onMousedown,Li),document.removeEventListener("touchstart",this._onTouchstart,Li))}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(O.t4),ne.LFG(ne.R0b),ne.LFG(a.K0),ne.LFG(An,8))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const sn=new ne.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ci(){return null}}),tn=new ne.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let kn=0,xn=(()=>{class nt{constructor(Me,We,st,Jt){this._ngZone=We,this._defaultOptions=Jt,this._document=st,this._liveElement=Me||this._createLiveElement()}announce(Me,...We){const st=this._defaultOptions;let Jt,Qe;return 1===We.length&&"number"==typeof We[0]?Qe=We[0]:[Jt,Qe]=We,this.clear(),clearTimeout(this._previousTimeout),Jt||(Jt=st&&st.politeness?st.politeness:"polite"),null==Qe&&st&&(Qe=st.duration),this._liveElement.setAttribute("aria-live",Jt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(et=>this._currentResolve=et)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Me,"number"==typeof Qe&&(this._previousTimeout=setTimeout(()=>this.clear(),Qe)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Me="cdk-live-announcer-element",We=this._document.getElementsByClassName(Me),st=this._document.createElement("div");for(let Jt=0;Jt<We.length;Jt++)We[Jt].remove();return st.classList.add(Me),st.classList.add("cdk-visually-hidden"),st.setAttribute("aria-atomic","true"),st.setAttribute("aria-live","polite"),st.id="cdk-live-announcer-"+kn++,this._document.body.appendChild(st),st}_exposeAnnouncerToModals(Me){const We=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let st=0;st<We.length;st++){const Jt=We[st],Qe=Jt.getAttribute("aria-owns");Qe?-1===Qe.indexOf(Me)&&Jt.setAttribute("aria-owns",Qe+" "+Me):Jt.setAttribute("aria-owns",Me)}}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(sn,8),ne.LFG(ne.R0b),ne.LFG(a.K0),ne.LFG(tn,8))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const Ri=new ne.OlP("cdk-focus-monitor-default-options"),Yi=(0,O.i$)({passive:!0,capture:!0});let Dt=(()=>{class nt{constructor(Me,We,st,Jt,Qe){this._ngZone=Me,this._platform=We,this._inputModalityDetector=st,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new w.x,this._rootNodeFocusAndBlurListener=et=>{for(let tt=(0,O.sA)(et);tt;tt=tt.parentElement)"focus"===et.type?this._onFocus(et,tt):this._onBlur(et,tt)},this._document=Jt,this._detectionMode=Qe?.detectionMode||0}monitor(Me,We=!1){const st=(0,ht.fI)(Me);if(!this._platform.isBrowser||1!==st.nodeType)return(0,$e.of)();const Jt=(0,O.kV)(st)||this._getDocument(),Qe=this._elementInfo.get(st);if(Qe)return We&&(Qe.checkChildren=!0),Qe.subject;const et={checkChildren:We,subject:new w.x,rootNode:Jt};return this._elementInfo.set(st,et),this._registerGlobalListeners(et),et.subject}stopMonitoring(Me){const We=(0,ht.fI)(Me),st=this._elementInfo.get(We);st&&(st.subject.complete(),this._setClasses(We),this._elementInfo.delete(We),this._removeGlobalListeners(st))}focusVia(Me,We,st){const Jt=(0,ht.fI)(Me);Jt===this._getDocument().activeElement?this._getClosestElementsInfo(Jt).forEach(([et,vt])=>this._originChanged(et,We,vt)):(this._setOrigin(We),"function"==typeof Jt.focus&&Jt.focus(st))}ngOnDestroy(){this._elementInfo.forEach((Me,We)=>this.stopMonitoring(We))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Me){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Me)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Me&&this._isLastInteractionFromInputLabel(Me)?"mouse":"program"}_shouldBeAttributedToTouch(Me){return 1===this._detectionMode||!!Me?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Me,We){Me.classList.toggle("cdk-focused",!!We),Me.classList.toggle("cdk-touch-focused","touch"===We),Me.classList.toggle("cdk-keyboard-focused","keyboard"===We),Me.classList.toggle("cdk-mouse-focused","mouse"===We),Me.classList.toggle("cdk-program-focused","program"===We)}_setOrigin(Me,We=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Me,this._originFromTouchInteraction="touch"===Me&&We,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Me,We){const st=this._elementInfo.get(We),Jt=(0,O.sA)(Me);!st||!st.checkChildren&&We!==Jt||this._originChanged(We,this._getFocusOrigin(Jt),st)}_onBlur(Me,We){const st=this._elementInfo.get(We);!st||st.checkChildren&&Me.relatedTarget instanceof Node&&We.contains(Me.relatedTarget)||(this._setClasses(We),this._emitOrigin(st,null))}_emitOrigin(Me,We){Me.subject.observers.length&&this._ngZone.run(()=>Me.subject.next(We))}_registerGlobalListeners(Me){if(!this._platform.isBrowser)return;const We=Me.rootNode,st=this._rootNodeFocusListenerCount.get(We)||0;st||this._ngZone.runOutsideAngular(()=>{We.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yi),We.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yi)}),this._rootNodeFocusListenerCount.set(We,st+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ut.R)(this._stopInputModalityDetector)).subscribe(Jt=>{this._setOrigin(Jt,!0)}))}_removeGlobalListeners(Me){const We=Me.rootNode;if(this._rootNodeFocusListenerCount.has(We)){const st=this._rootNodeFocusListenerCount.get(We);st>1?this._rootNodeFocusListenerCount.set(We,st-1):(We.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yi),We.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yi),this._rootNodeFocusListenerCount.delete(We))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Me,We,st){this._setClasses(Me,We),this._emitOrigin(st,We),this._lastFocusOrigin=We}_getClosestElementsInfo(Me){const We=[];return this._elementInfo.forEach((st,Jt)=>{(Jt===Me||st.checkChildren&&Jt.contains(Me))&&We.push([Jt,st])}),We}_isLastInteractionFromInputLabel(Me){const{_mostRecentTarget:We,mostRecentModality:st}=this._inputModalityDetector;if("mouse"!==st||!We||We===Me||"INPUT"!==Me.nodeName&&"TEXTAREA"!==Me.nodeName||Me.disabled)return!1;const Jt=Me.labels;if(Jt)for(let Qe=0;Qe<Jt.length;Qe++)if(Jt[Qe].contains(We))return!0;return!1}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(ne.R0b),ne.LFG(O.t4),ne.LFG(zi),ne.LFG(a.K0,8),ne.LFG(Ri,8))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const J="cdk-high-contrast-black-on-white",F="cdk-high-contrast-white-on-black",G="cdk-high-contrast-active";let be=(()=>{class nt{constructor(Me,We){this._platform=Me,this._document=We,this._breakpointSubscription=(0,ne.f3M)(Nt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Me=this._document.createElement("div");Me.style.backgroundColor="rgb(1,2,3)",Me.style.position="absolute",this._document.body.appendChild(Me);const We=this._document.defaultView||window,st=We&&We.getComputedStyle?We.getComputedStyle(Me):null,Jt=(st&&st.backgroundColor||"").replace(/ /g,"");switch(Me.remove(),Jt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Me=this._document.body.classList;Me.remove(G,J,F),this._hasCheckedHighContrastMode=!0;const We=this.getHighContrastMode();1===We?Me.add(G,J):2===We&&Me.add(G,F)}}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(O.t4),ne.LFG(a.K0))};static#t=this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),gt=(()=>{class nt{constructor(Me){Me._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(We){return new(We||nt)(ne.LFG(be))};static#t=this.\u0275mod=ne.oAB({type:nt});static#n=this.\u0275inj=ne.cJS({imports:[Ot.Q8]})}return nt})()},9388:(Sn,Et,R)=>{R.d(Et,{Is:()=>$e,vT:()=>ze});var a=R(5879),ne=R(6814);const O=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function w(){return(0,a.f3M)(ne.K0)}}),we=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $e=(()=>{class H{constructor(Ye){this.value="ltr",this.change=new a.vpe,Ye&&(this.value=function Ge(H){const Fe=H?.toLowerCase()||"";return"auto"===Fe&&typeof navigator<"u"&&navigator?.language?we.test(navigator.language)?"rtl":"ltr":"rtl"===Fe?"rtl":"ltr"}((Ye.body?Ye.body.dir:null)||(Ye.documentElement?Ye.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(yt){return new(yt||H)(a.LFG(O,8))};static#t=this.\u0275prov=a.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),ze=(()=>{class H{static#e=this.\u0275fac=function(yt){return new(yt||H)};static#t=this.\u0275mod=a.oAB({type:H});static#n=this.\u0275inj=a.cJS({})}return H})()},2495:(Sn,Et,R)=>{R.d(Et,{Eq:()=>we,HM:()=>Ge,Ig:()=>ne,fI:()=>$e,su:()=>O});var a=R(5879);function ne(ze){return null!=ze&&"false"!=`${ze}`}function O(ze,H=0){return function w(ze){return!isNaN(parseFloat(ze))&&!isNaN(Number(ze))}(ze)?Number(ze):H}function we(ze){return Array.isArray(ze)?ze:[ze]}function Ge(ze){return null==ze?"":"string"==typeof ze?ze:`${ze}px`}function $e(ze){return ze instanceof a.SBq?ze.nativeElement:ze}},8337:(Sn,Et,R)=>{R.d(Et,{A8:()=>Fe,Ov:()=>ze,Z9:()=>we,eX:()=>Le,k:()=>Ye,yy:()=>$e});var a=R(3168),ne=R(8645),O=R(5879);function we(yt){return yt&&"function"==typeof yt.connect&&!(yt instanceof a.c)}class $e{applyChanges(ke,Xe,ut,ht,Ot){ke.forEachOperation((en,Ke,ye)=>{let rt,W;if(null==en.previousIndex){const Pe=ut(en,Ke,ye);rt=Xe.createEmbeddedView(Pe.templateRef,Pe.context,Pe.index),W=1}else null==ye?(Xe.remove(Ke),W=3):(rt=Xe.get(Ke),Xe.move(rt,ye),W=2);Ot&&Ot({context:rt?.context,operation:W,record:en})})}detach(){}}class Le{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(ke,Xe,ut,ht,Ot){ke.forEachOperation((en,Ke,ye)=>{let rt,W;null==en.previousIndex?(rt=this._insertView(()=>ut(en,Ke,ye),ye,Xe,ht(en)),W=rt?1:0):null==ye?(this._detachAndCacheView(Ke,Xe),W=3):(rt=this._moveView(Ke,ye,Xe,ht(en)),W=2),Ot&&Ot({context:rt?.context,operation:W,record:en})})}detach(){for(const ke of this._viewCache)ke.destroy();this._viewCache=[]}_insertView(ke,Xe,ut,ht){const Ot=this._insertViewFromCache(Xe,ut);if(Ot)return void(Ot.context.$implicit=ht);const en=ke();return ut.createEmbeddedView(en.templateRef,en.context,en.index)}_detachAndCacheView(ke,Xe){const ut=Xe.detach(ke);this._maybeCacheView(ut,Xe)}_moveView(ke,Xe,ut,ht){const Ot=ut.get(ke);return ut.move(Ot,Xe),Ot.context.$implicit=ht,Ot}_maybeCacheView(ke,Xe){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(ke);else{const ut=Xe.indexOf(ke);-1===ut?ke.destroy():Xe.remove(ut)}}_insertViewFromCache(ke,Xe){const ut=this._viewCache.pop();return ut&&Xe.insert(ut,ke),ut||null}}class ze{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(ke=!1,Xe,ut=!0,ht){this._multiple=ke,this._emitChanges=ut,this.compareWith=ht,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ne.x,Xe&&Xe.length&&(ke?Xe.forEach(Ot=>this._markSelected(Ot)):this._markSelected(Xe[0]),this._selectedToEmit.length=0)}select(...ke){this._verifyValueAssignment(ke),ke.forEach(ut=>this._markSelected(ut));const Xe=this._hasQueuedChanges();return this._emitChangeEvent(),Xe}deselect(...ke){this._verifyValueAssignment(ke),ke.forEach(ut=>this._unmarkSelected(ut));const Xe=this._hasQueuedChanges();return this._emitChangeEvent(),Xe}setSelection(...ke){this._verifyValueAssignment(ke);const Xe=this.selected,ut=new Set(ke);ke.forEach(Ot=>this._markSelected(Ot)),Xe.filter(Ot=>!ut.has(Ot)).forEach(Ot=>this._unmarkSelected(Ot));const ht=this._hasQueuedChanges();return this._emitChangeEvent(),ht}toggle(ke){return this.isSelected(ke)?this.deselect(ke):this.select(ke)}clear(ke=!0){this._unmarkAll();const Xe=this._hasQueuedChanges();return ke&&this._emitChangeEvent(),Xe}isSelected(ke){return this._selection.has(this._getConcreteValue(ke))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(ke){this._multiple&&this.selected&&this._selected.sort(ke)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)||(this._multiple||this._unmarkAll(),this.isSelected(ke)||this._selection.add(ke),this._emitChanges&&this._selectedToEmit.push(ke))}_unmarkSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)&&(this._selection.delete(ke),this._emitChanges&&this._deselectedToEmit.push(ke))}_unmarkAll(){this.isEmpty()||this._selection.forEach(ke=>this._unmarkSelected(ke))}_verifyValueAssignment(ke){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(ke){if(this.compareWith){for(let Xe of this._selection)if(this.compareWith(ke,Xe))return Xe;return ke}return ke}}let Fe=(()=>{class yt{constructor(){this._listeners=[]}notify(Xe,ut){for(let ht of this._listeners)ht(Xe,ut)}listen(Xe){return this._listeners.push(Xe),()=>{this._listeners=this._listeners.filter(ut=>Xe!==ut)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ut){return new(ut||yt)};static#t=this.\u0275prov=O.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();const Ye=new O.OlP("_ViewRepeater")},6028:(Sn,Et,R)=>{R.d(Et,{A:()=>Rt,JH:()=>Ke,JU:()=>Ge,K5:()=>we,Ku:()=>yt,LH:()=>Ot,L_:()=>Ye,MW:()=>At,Mf:()=>O,SV:()=>en,Sd:()=>ut,VM:()=>ke,Vb:()=>no,Z:()=>mt,aO:()=>Ln,b2:()=>Is,hY:()=>Fe,jx:()=>$e,oh:()=>ht,uR:()=>Xe,xE:()=>qe,zL:()=>Le});const O=9,we=13,Ge=16,$e=17,Le=18,Fe=27,Ye=32,yt=33,ke=34,Xe=35,ut=36,ht=37,Ot=38,en=39,Ke=40,qe=48,Ln=57,Rt=65,mt=90,At=91,Is=224;function no(xr,...us){return us.length?us.some(zr=>xr[zr]):xr.altKey||xr.shiftKey||xr.ctrlKey||xr.metaKey}},7131:(Sn,Et,R)=>{R.d(Et,{Q8:()=>we});var a=R(5879);let ne=(()=>{class Ge{create(Le){return typeof MutationObserver>"u"?null:new MutationObserver(Le)}static#e=this.\u0275fac=function(ze){return new(ze||Ge)};static#t=this.\u0275prov=a.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),we=(()=>{class Ge{static#e=this.\u0275fac=function(ze){return new(ze||Ge)};static#t=this.\u0275mod=a.oAB({type:Ge});static#n=this.\u0275inj=a.cJS({providers:[ne]})}return Ge})()},3651:(Sn,Et,R)=>{R.d(Et,{pI:()=>$t,xu:()=>at,aV:()=>Wt,X_:()=>It,Xj:()=>kt,U8:()=>Qn,Iu:()=>pt});var a=R(799),ne=R(6814),O=R(5879),w=R(2495),we=R(2831),Ge=R(2181),$e=R(8180),Le=R(9773),ze=R(9360),H=R(8251),Ye=R(9388),yt=R(8484),ke=R(8645),Xe=R(7394),ut=R(3019),ht=R(6028);const Ot=(0,we.Mq)();class en{constructor(Ie,xe){this._viewportRuler=Ie,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=xe}attach(){}enable(){if(this._canBeEnabled()){const Ie=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ie.style.left||"",this._previousHTMLStyles.top=Ie.style.top||"",Ie.style.left=(0,w.HM)(-this._previousScrollPosition.left),Ie.style.top=(0,w.HM)(-this._previousScrollPosition.top),Ie.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ie=this._document.documentElement,Ve=Ie.style,je=this._document.body.style,mt=Ve.scrollBehavior||"",At=je.scrollBehavior||"";this._isEnabled=!1,Ve.left=this._previousHTMLStyles.left,Ve.top=this._previousHTMLStyles.top,Ie.classList.remove("cdk-global-scrollblock"),Ot&&(Ve.scrollBehavior=je.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ot&&(Ve.scrollBehavior=mt,je.scrollBehavior=At)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const xe=this._document.body,Ve=this._viewportRuler.getViewportSize();return xe.scrollHeight>Ve.height||xe.scrollWidth>Ve.width}}class ye{constructor(Ie,xe,Ve,je){this._scrollDispatcher=Ie,this._ngZone=xe,this._viewportRuler=Ve,this._config=je,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ie){this._overlayRef=Ie}enable(){if(this._scrollSubscription)return;const Ie=this._scrollDispatcher.scrolled(0).pipe((0,Ge.h)(xe=>!xe||!this._overlayRef.overlayElement.contains(xe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ie.subscribe(()=>{const xe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(xe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ie.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rt{enable(){}disable(){}attach(){}}function W(Pt,Ie){return Ie.some(xe=>Pt.bottom<xe.top||Pt.top>xe.bottom||Pt.right<xe.left||Pt.left>xe.right)}function Pe(Pt,Ie){return Ie.some(xe=>Pt.top<xe.top||Pt.bottom>xe.bottom||Pt.left<xe.left||Pt.right>xe.right)}class qe{constructor(Ie,xe,Ve,je){this._scrollDispatcher=Ie,this._viewportRuler=xe,this._ngZone=Ve,this._config=je,this._scrollSubscription=null}attach(Ie){this._overlayRef=Ie}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const xe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ve,height:je}=this._viewportRuler.getViewportSize();W(xe,[{width:Ve,height:je,bottom:je,right:Ve,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ee=(()=>{class Pt{constructor(xe,Ve,je,mt){this._scrollDispatcher=xe,this._viewportRuler=Ve,this._ngZone=je,this.noop=()=>new rt,this.close=At=>new ye(this._scrollDispatcher,this._ngZone,this._viewportRuler,At),this.block=()=>new en(this._viewportRuler,this._document),this.reposition=At=>new qe(this._scrollDispatcher,this._viewportRuler,this._ngZone,At),this._document=mt}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.LFG(a.mF),O.LFG(a.rL),O.LFG(O.R0b),O.LFG(ne.K0))};static#t=this.\u0275prov=O.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})();class It{constructor(Ie){if(this.scrollStrategy=new rt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ie){const xe=Object.keys(Ie);for(const Ve of xe)void 0!==Ie[Ve]&&(this[Ve]=Ie[Ve])}}}class Cn{constructor(Ie,xe){this.connectionPair=Ie,this.scrollableViewProperties=xe}}let wn=(()=>{class Pt{constructor(xe){this._attachedOverlays=[],this._document=xe}ngOnDestroy(){this.detach()}add(xe){this.remove(xe),this._attachedOverlays.push(xe)}remove(xe){const Ve=this._attachedOverlays.indexOf(xe);Ve>-1&&this._attachedOverlays.splice(Ve,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.LFG(ne.K0))};static#t=this.\u0275prov=O.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})(),Ln=(()=>{class Pt extends wn{constructor(xe,Ve){super(xe),this._ngZone=Ve,this._keydownListener=je=>{const mt=this._attachedOverlays;for(let At=mt.length-1;At>-1;At--)if(mt[At]._keydownEvents.observers.length>0){const rn=mt[At]._keydownEvents;this._ngZone?this._ngZone.run(()=>rn.next(je)):rn.next(je);break}}}add(xe){super.add(xe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.LFG(ne.K0),O.LFG(O.R0b,8))};static#t=this.\u0275prov=O.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})(),jn=(()=>{class Pt extends wn{constructor(xe,Ve,je){super(xe),this._platform=Ve,this._ngZone=je,this._cursorStyleIsSet=!1,this._pointerDownListener=mt=>{this._pointerDownEventTarget=(0,we.sA)(mt)},this._clickListener=mt=>{const At=(0,we.sA)(mt),rn="click"===mt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:At;this._pointerDownEventTarget=null;const Fn=this._attachedOverlays.slice();for(let gn=Fn.length-1;gn>-1;gn--){const Hn=Fn[gn];if(Hn._outsidePointerEvents.observers.length<1||!Hn.hasAttached())continue;if(Hn.overlayElement.contains(At)||Hn.overlayElement.contains(rn))break;const An=Hn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>An.next(mt)):An.next(mt)}}}add(xe){if(super.add(xe),!this._isAttached){const Ve=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ve)):this._addEventListeners(Ve),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ve.style.cursor,Ve.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const xe=this._document.body;xe.removeEventListener("pointerdown",this._pointerDownListener,!0),xe.removeEventListener("click",this._clickListener,!0),xe.removeEventListener("auxclick",this._clickListener,!0),xe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(xe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(xe){xe.addEventListener("pointerdown",this._pointerDownListener,!0),xe.addEventListener("click",this._clickListener,!0),xe.addEventListener("auxclick",this._clickListener,!0),xe.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.LFG(ne.K0),O.LFG(we.t4),O.LFG(O.R0b,8))};static#t=this.\u0275prov=O.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})(),kt=(()=>{class Pt{constructor(xe,Ve){this._platform=Ve,this._document=xe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe="cdk-overlay-container";if(this._platform.isBrowser||(0,we.Oy)()){const je=this._document.querySelectorAll(`.${xe}[platform="server"], .${xe}[platform="test"]`);for(let mt=0;mt<je.length;mt++)je[mt].remove()}const Ve=this._document.createElement("div");Ve.classList.add(xe),(0,we.Oy)()?Ve.setAttribute("platform","test"):this._platform.isBrowser||Ve.setAttribute("platform","server"),this._document.body.appendChild(Ve),this._containerElement=Ve}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.LFG(ne.K0),O.LFG(we.t4))};static#t=this.\u0275prov=O.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})();class pt{constructor(Ie,xe,Ve,je,mt,At,rn,Fn,gn,Hn=!1){this._portalOutlet=Ie,this._host=xe,this._pane=Ve,this._config=je,this._ngZone=mt,this._keyboardDispatcher=At,this._document=rn,this._location=Fn,this._outsideClickDispatcher=gn,this._animationsDisabled=Hn,this._backdropElement=null,this._backdropClick=new ke.x,this._attachments=new ke.x,this._detachments=new ke.x,this._locationChanges=Xe.w0.EMPTY,this._backdropClickHandler=An=>this._backdropClick.next(An),this._backdropTransitionendHandler=An=>{this._disposeBackdrop(An.target)},this._keydownEvents=new ke.x,this._outsidePointerEvents=new ke.x,je.scrollStrategy&&(this._scrollStrategy=je.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=je.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ie){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const xe=this._portalOutlet.attach(Ie);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,$e.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof xe?.onDestroy&&xe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),xe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ie=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ie}dispose(){const Ie=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ie&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ie){Ie!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ie,this.hasAttached()&&(Ie.attach(this),this.updatePosition()))}updateSize(Ie){this._config={...this._config,...Ie},this._updateElementSize()}setDirection(Ie){this._config={...this._config,direction:Ie},this._updateElementDirection()}addPanelClass(Ie){this._pane&&this._toggleClasses(this._pane,Ie,!0)}removePanelClass(Ie){this._pane&&this._toggleClasses(this._pane,Ie,!1)}getDirection(){const Ie=this._config.direction;return Ie?"string"==typeof Ie?Ie:Ie.value:"ltr"}updateScrollStrategy(Ie){Ie!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ie,this.hasAttached()&&(Ie.attach(this),Ie.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ie=this._pane.style;Ie.width=(0,w.HM)(this._config.width),Ie.height=(0,w.HM)(this._config.height),Ie.minWidth=(0,w.HM)(this._config.minWidth),Ie.minHeight=(0,w.HM)(this._config.minHeight),Ie.maxWidth=(0,w.HM)(this._config.maxWidth),Ie.maxHeight=(0,w.HM)(this._config.maxHeight)}_togglePointerEvents(Ie){this._pane.style.pointerEvents=Ie?"":"none"}_attachBackdrop(){const Ie="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ie)})}):this._backdropElement.classList.add(Ie)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ie=this._backdropElement;if(Ie){if(this._animationsDisabled)return void this._disposeBackdrop(Ie);Ie.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ie.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ie.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ie)},500))}}_toggleClasses(Ie,xe,Ve){const je=(0,w.Eq)(xe||[]).filter(mt=>!!mt);je.length&&(Ve?Ie.classList.add(...je):Ie.classList.remove(...je))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Ie=this._ngZone.onStable.pipe((0,Le.R)((0,ut.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ie.unsubscribe())})})}_disposeScrollStrategy(){const Ie=this._scrollStrategy;Ie&&(Ie.disable(),Ie.detach&&Ie.detach())}_disposeBackdrop(Ie){Ie&&(Ie.removeEventListener("click",this._backdropClickHandler),Ie.removeEventListener("transitionend",this._backdropTransitionendHandler),Ie.remove(),this._backdropElement===Ie&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bt="cdk-overlay-connected-position-bounding-box",Rt=/([A-Za-z%]+)$/;class Be{get positions(){return this._preferredPositions}constructor(Ie,xe,Ve,je,mt){this._viewportRuler=xe,this._document=Ve,this._platform=je,this._overlayContainer=mt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke.x,this._resizeSubscription=Xe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ie)}attach(Ie){this._validatePositions(),Ie.hostElement.classList.add(bt),this._overlayRef=Ie,this._boundingBox=Ie.hostElement,this._pane=Ie.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ie=this._originRect,xe=this._overlayRect,Ve=this._viewportRect,je=this._containerRect,mt=[];let At;for(let rn of this._preferredPositions){let Fn=this._getOriginPoint(Ie,je,rn),gn=this._getOverlayPoint(Fn,xe,rn),Hn=this._getOverlayFit(gn,xe,Ve,rn);if(Hn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(rn,Fn);this._canFitWithFlexibleDimensions(Hn,gn,Ve)?mt.push({position:rn,origin:Fn,overlayRect:xe,boundingBoxRect:this._calculateBoundingBoxRect(Fn,rn)}):(!At||At.overlayFit.visibleArea<Hn.visibleArea)&&(At={overlayFit:Hn,overlayPoint:gn,originPoint:Fn,position:rn,overlayRect:xe})}if(mt.length){let rn=null,Fn=-1;for(const gn of mt){const Hn=gn.boundingBoxRect.width*gn.boundingBoxRect.height*(gn.position.weight||1);Hn>Fn&&(Fn=Hn,rn=gn)}return this._isPushed=!1,void this._applyPosition(rn.position,rn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(At.position,At.originPoint);this._applyPosition(At.position,At.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Te(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ie=this._lastPosition;if(Ie){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const xe=this._getOriginPoint(this._originRect,this._containerRect,Ie);this._applyPosition(Ie,xe)}else this.apply()}withScrollableContainers(Ie){return this._scrollables=Ie,this}withPositions(Ie){return this._preferredPositions=Ie,-1===Ie.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ie){return this._viewportMargin=Ie,this}withFlexibleDimensions(Ie=!0){return this._hasFlexibleDimensions=Ie,this}withGrowAfterOpen(Ie=!0){return this._growAfterOpen=Ie,this}withPush(Ie=!0){return this._canPush=Ie,this}withLockedPosition(Ie=!0){return this._positionLocked=Ie,this}setOrigin(Ie){return this._origin=Ie,this}withDefaultOffsetX(Ie){return this._offsetX=Ie,this}withDefaultOffsetY(Ie){return this._offsetY=Ie,this}withTransformOriginOn(Ie){return this._transformOriginSelector=Ie,this}_getOriginPoint(Ie,xe,Ve){let je,mt;if("center"==Ve.originX)je=Ie.left+Ie.width/2;else{const At=this._isRtl()?Ie.right:Ie.left,rn=this._isRtl()?Ie.left:Ie.right;je="start"==Ve.originX?At:rn}return xe.left<0&&(je-=xe.left),mt="center"==Ve.originY?Ie.top+Ie.height/2:"top"==Ve.originY?Ie.top:Ie.bottom,xe.top<0&&(mt-=xe.top),{x:je,y:mt}}_getOverlayPoint(Ie,xe,Ve){let je,mt;return je="center"==Ve.overlayX?-xe.width/2:"start"===Ve.overlayX?this._isRtl()?-xe.width:0:this._isRtl()?0:-xe.width,mt="center"==Ve.overlayY?-xe.height/2:"top"==Ve.overlayY?0:-xe.height,{x:Ie.x+je,y:Ie.y+mt}}_getOverlayFit(Ie,xe,Ve,je){const mt=Ze(xe);let{x:At,y:rn}=Ie,Fn=this._getOffset(je,"x"),gn=this._getOffset(je,"y");Fn&&(At+=Fn),gn&&(rn+=gn);let Ci=0-rn,xi=rn+mt.height-Ve.height,Li=this._subtractOverflows(mt.width,0-At,At+mt.width-Ve.width),zi=this._subtractOverflows(mt.height,Ci,xi),sn=Li*zi;return{visibleArea:sn,isCompletelyWithinViewport:mt.width*mt.height===sn,fitsInViewportVertically:zi===mt.height,fitsInViewportHorizontally:Li==mt.width}}_canFitWithFlexibleDimensions(Ie,xe,Ve){if(this._hasFlexibleDimensions){const je=Ve.bottom-xe.y,mt=Ve.right-xe.x,At=Mt(this._overlayRef.getConfig().minHeight),rn=Mt(this._overlayRef.getConfig().minWidth);return(Ie.fitsInViewportVertically||null!=At&&At<=je)&&(Ie.fitsInViewportHorizontally||null!=rn&&rn<=mt)}return!1}_pushOverlayOnScreen(Ie,xe,Ve){if(this._previousPushAmount&&this._positionLocked)return{x:Ie.x+this._previousPushAmount.x,y:Ie.y+this._previousPushAmount.y};const je=Ze(xe),mt=this._viewportRect,At=Math.max(Ie.x+je.width-mt.width,0),rn=Math.max(Ie.y+je.height-mt.height,0),Fn=Math.max(mt.top-Ve.top-Ie.y,0),gn=Math.max(mt.left-Ve.left-Ie.x,0);let Hn=0,An=0;return Hn=je.width<=mt.width?gn||-At:Ie.x<this._viewportMargin?mt.left-Ve.left-Ie.x:0,An=je.height<=mt.height?Fn||-rn:Ie.y<this._viewportMargin?mt.top-Ve.top-Ie.y:0,this._previousPushAmount={x:Hn,y:An},{x:Ie.x+Hn,y:Ie.y+An}}_applyPosition(Ie,xe){if(this._setTransformOrigin(Ie),this._setOverlayElementStyles(xe,Ie),this._setBoundingBoxStyles(xe,Ie),Ie.panelClass&&this._addPanelClasses(Ie.panelClass),this._lastPosition=Ie,this._positionChanges.observers.length){const Ve=this._getScrollVisibility(),je=new Cn(Ie,Ve);this._positionChanges.next(je)}this._isInitialRender=!1}_setTransformOrigin(Ie){if(!this._transformOriginSelector)return;const xe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ve,je=Ie.overlayY;Ve="center"===Ie.overlayX?"center":this._isRtl()?"start"===Ie.overlayX?"right":"left":"start"===Ie.overlayX?"left":"right";for(let mt=0;mt<xe.length;mt++)xe[mt].style.transformOrigin=`${Ve} ${je}`}_calculateBoundingBoxRect(Ie,xe){const Ve=this._viewportRect,je=this._isRtl();let mt,At,rn,Hn,An,Ci;if("top"===xe.overlayY)At=Ie.y,mt=Ve.height-At+this._viewportMargin;else if("bottom"===xe.overlayY)rn=Ve.height-Ie.y+2*this._viewportMargin,mt=Ve.height-rn+this._viewportMargin;else{const xi=Math.min(Ve.bottom-Ie.y+Ve.top,Ie.y),Li=this._lastBoundingBoxSize.height;mt=2*xi,At=Ie.y-xi,mt>Li&&!this._isInitialRender&&!this._growAfterOpen&&(At=Ie.y-Li/2)}if("end"===xe.overlayX&&!je||"start"===xe.overlayX&&je)Ci=Ve.width-Ie.x+this._viewportMargin,Hn=Ie.x-this._viewportMargin;else if("start"===xe.overlayX&&!je||"end"===xe.overlayX&&je)An=Ie.x,Hn=Ve.right-Ie.x;else{const xi=Math.min(Ve.right-Ie.x+Ve.left,Ie.x),Li=this._lastBoundingBoxSize.width;Hn=2*xi,An=Ie.x-xi,Hn>Li&&!this._isInitialRender&&!this._growAfterOpen&&(An=Ie.x-Li/2)}return{top:At,left:An,bottom:rn,right:Ci,width:Hn,height:mt}}_setBoundingBoxStyles(Ie,xe){const Ve=this._calculateBoundingBoxRect(Ie,xe);!this._isInitialRender&&!this._growAfterOpen&&(Ve.height=Math.min(Ve.height,this._lastBoundingBoxSize.height),Ve.width=Math.min(Ve.width,this._lastBoundingBoxSize.width));const je={};if(this._hasExactPosition())je.top=je.left="0",je.bottom=je.right=je.maxHeight=je.maxWidth="",je.width=je.height="100%";else{const mt=this._overlayRef.getConfig().maxHeight,At=this._overlayRef.getConfig().maxWidth;je.height=(0,w.HM)(Ve.height),je.top=(0,w.HM)(Ve.top),je.bottom=(0,w.HM)(Ve.bottom),je.width=(0,w.HM)(Ve.width),je.left=(0,w.HM)(Ve.left),je.right=(0,w.HM)(Ve.right),je.alignItems="center"===xe.overlayX?"center":"end"===xe.overlayX?"flex-end":"flex-start",je.justifyContent="center"===xe.overlayY?"center":"bottom"===xe.overlayY?"flex-end":"flex-start",mt&&(je.maxHeight=(0,w.HM)(mt)),At&&(je.maxWidth=(0,w.HM)(At))}this._lastBoundingBoxSize=Ve,Te(this._boundingBox.style,je)}_resetBoundingBoxStyles(){Te(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Te(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ie,xe){const Ve={},je=this._hasExactPosition(),mt=this._hasFlexibleDimensions,At=this._overlayRef.getConfig();if(je){const Hn=this._viewportRuler.getViewportScrollPosition();Te(Ve,this._getExactOverlayY(xe,Ie,Hn)),Te(Ve,this._getExactOverlayX(xe,Ie,Hn))}else Ve.position="static";let rn="",Fn=this._getOffset(xe,"x"),gn=this._getOffset(xe,"y");Fn&&(rn+=`translateX(${Fn}px) `),gn&&(rn+=`translateY(${gn}px)`),Ve.transform=rn.trim(),At.maxHeight&&(je?Ve.maxHeight=(0,w.HM)(At.maxHeight):mt&&(Ve.maxHeight="")),At.maxWidth&&(je?Ve.maxWidth=(0,w.HM)(At.maxWidth):mt&&(Ve.maxWidth="")),Te(this._pane.style,Ve)}_getExactOverlayY(Ie,xe,Ve){let je={top:"",bottom:""},mt=this._getOverlayPoint(xe,this._overlayRect,Ie);return this._isPushed&&(mt=this._pushOverlayOnScreen(mt,this._overlayRect,Ve)),"bottom"===Ie.overlayY?je.bottom=this._document.documentElement.clientHeight-(mt.y+this._overlayRect.height)+"px":je.top=(0,w.HM)(mt.y),je}_getExactOverlayX(Ie,xe,Ve){let At,je={left:"",right:""},mt=this._getOverlayPoint(xe,this._overlayRect,Ie);return this._isPushed&&(mt=this._pushOverlayOnScreen(mt,this._overlayRect,Ve)),At=this._isRtl()?"end"===Ie.overlayX?"left":"right":"end"===Ie.overlayX?"right":"left","right"===At?je.right=this._document.documentElement.clientWidth-(mt.x+this._overlayRect.width)+"px":je.left=(0,w.HM)(mt.x),je}_getScrollVisibility(){const Ie=this._getOriginRect(),xe=this._pane.getBoundingClientRect(),Ve=this._scrollables.map(je=>je.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Pe(Ie,Ve),isOriginOutsideView:W(Ie,Ve),isOverlayClipped:Pe(xe,Ve),isOverlayOutsideView:W(xe,Ve)}}_subtractOverflows(Ie,...xe){return xe.reduce((Ve,je)=>Ve-Math.max(je,0),Ie)}_getNarrowedViewportRect(){const Ie=this._document.documentElement.clientWidth,xe=this._document.documentElement.clientHeight,Ve=this._viewportRuler.getViewportScrollPosition();return{top:Ve.top+this._viewportMargin,left:Ve.left+this._viewportMargin,right:Ve.left+Ie-this._viewportMargin,bottom:Ve.top+xe-this._viewportMargin,width:Ie-2*this._viewportMargin,height:xe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ie,xe){return"x"===xe?null==Ie.offsetX?this._offsetX:Ie.offsetX:null==Ie.offsetY?this._offsetY:Ie.offsetY}_validatePositions(){}_addPanelClasses(Ie){this._pane&&(0,w.Eq)(Ie).forEach(xe=>{""!==xe&&-1===this._appliedPanelClasses.indexOf(xe)&&(this._appliedPanelClasses.push(xe),this._pane.classList.add(xe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ie=>{this._pane.classList.remove(Ie)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ie=this._origin;if(Ie instanceof O.SBq)return Ie.nativeElement.getBoundingClientRect();if(Ie instanceof Element)return Ie.getBoundingClientRect();const xe=Ie.width||0,Ve=Ie.height||0;return{top:Ie.y,bottom:Ie.y+Ve,left:Ie.x,right:Ie.x+xe,height:Ve,width:xe}}}function Te(Pt,Ie){for(let xe in Ie)Ie.hasOwnProperty(xe)&&(Pt[xe]=Ie[xe]);return Pt}function Mt(Pt){if("number"!=typeof Pt&&null!=Pt){const[Ie,xe]=Pt.split(Rt);return xe&&"px"!==xe?null:parseFloat(Ie)}return Pt||null}function Ze(Pt){return{top:Math.floor(Pt.top),right:Math.floor(Pt.right),bottom:Math.floor(Pt.bottom),left:Math.floor(Pt.left),width:Math.floor(Pt.width),height:Math.floor(Pt.height)}}const yn="cdk-global-overlay-wrapper";class Ut{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ie){const xe=Ie.getConfig();this._overlayRef=Ie,this._width&&!xe.width&&Ie.updateSize({width:this._width}),this._height&&!xe.height&&Ie.updateSize({height:this._height}),Ie.hostElement.classList.add(yn),this._isDisposed=!1}top(Ie=""){return this._bottomOffset="",this._topOffset=Ie,this._alignItems="flex-start",this}left(Ie=""){return this._xOffset=Ie,this._xPosition="left",this}bottom(Ie=""){return this._topOffset="",this._bottomOffset=Ie,this._alignItems="flex-end",this}right(Ie=""){return this._xOffset=Ie,this._xPosition="right",this}start(Ie=""){return this._xOffset=Ie,this._xPosition="start",this}end(Ie=""){return this._xOffset=Ie,this._xPosition="end",this}width(Ie=""){return this._overlayRef?this._overlayRef.updateSize({width:Ie}):this._width=Ie,this}height(Ie=""){return this._overlayRef?this._overlayRef.updateSize({height:Ie}):this._height=Ie,this}centerHorizontally(Ie=""){return this.left(Ie),this._xPosition="center",this}centerVertically(Ie=""){return this.top(Ie),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ie=this._overlayRef.overlayElement.style,xe=this._overlayRef.hostElement.style,Ve=this._overlayRef.getConfig(),{width:je,height:mt,maxWidth:At,maxHeight:rn}=Ve,Fn=!("100%"!==je&&"100vw"!==je||At&&"100%"!==At&&"100vw"!==At),gn=!("100%"!==mt&&"100vh"!==mt||rn&&"100%"!==rn&&"100vh"!==rn),Hn=this._xPosition,An=this._xOffset,Ci="rtl"===this._overlayRef.getConfig().direction;let xi="",Li="",zi="";Fn?zi="flex-start":"center"===Hn?(zi="center",Ci?Li=An:xi=An):Ci?"left"===Hn||"end"===Hn?(zi="flex-end",xi=An):("right"===Hn||"start"===Hn)&&(zi="flex-start",Li=An):"left"===Hn||"start"===Hn?(zi="flex-start",xi=An):("right"===Hn||"end"===Hn)&&(zi="flex-end",Li=An),Ie.position=this._cssPosition,Ie.marginLeft=Fn?"0":xi,Ie.marginTop=gn?"0":this._topOffset,Ie.marginBottom=this._bottomOffset,Ie.marginRight=Fn?"0":Li,xe.justifyContent=zi,xe.alignItems=gn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ie=this._overlayRef.overlayElement.style,xe=this._overlayRef.hostElement,Ve=xe.style;xe.classList.remove(yn),Ve.justifyContent=Ve.alignItems=Ie.marginTop=Ie.marginBottom=Ie.marginLeft=Ie.marginRight=Ie.position="",this._overlayRef=null,this._isDisposed=!0}}let Pn=(()=>{class Pt{constructor(xe,Ve,je,mt){this._viewportRuler=xe,this._document=Ve,this._platform=je,this._overlayContainer=mt}global(){return new Ut}flexibleConnectedTo(xe){return new Be(xe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.LFG(a.rL),O.LFG(ne.K0),O.LFG(we.t4),O.LFG(kt))};static#t=this.\u0275prov=O.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})(),Lt=0,Wt=(()=>{class Pt{constructor(xe,Ve,je,mt,At,rn,Fn,gn,Hn,An,Ci,xi){this.scrollStrategies=xe,this._overlayContainer=Ve,this._componentFactoryResolver=je,this._positionBuilder=mt,this._keyboardDispatcher=At,this._injector=rn,this._ngZone=Fn,this._document=gn,this._directionality=Hn,this._location=An,this._outsideClickDispatcher=Ci,this._animationsModuleType=xi}create(xe){const Ve=this._createHostElement(),je=this._createPaneElement(Ve),mt=this._createPortalOutlet(je),At=new It(xe);return At.direction=At.direction||this._directionality.value,new pt(mt,Ve,je,At,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(xe){const Ve=this._document.createElement("div");return Ve.id="cdk-overlay-"+Lt++,Ve.classList.add("cdk-overlay-pane"),xe.appendChild(Ve),Ve}_createHostElement(){const xe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(xe),xe}_createPortalOutlet(xe){return this._appRef||(this._appRef=this._injector.get(O.z2F)),new yt.u0(xe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.LFG(Ee),O.LFG(kt),O.LFG(O._Vd),O.LFG(Pn),O.LFG(Ln),O.LFG(O.zs3),O.LFG(O.R0b),O.LFG(ne.K0),O.LFG(Ye.Is),O.LFG(ne.Ye),O.LFG(jn),O.LFG(O.QbO,8))};static#t=this.\u0275prov=O.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})();const _e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ue=new O.OlP("cdk-connected-overlay-scroll-strategy");let at=(()=>{class Pt{constructor(xe){this.elementRef=xe}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.Y36(O.SBq))};static#t=this.\u0275dir=O.lG2({type:Pt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Pt})(),$t=(()=>{class Pt{get offsetX(){return this._offsetX}set offsetX(xe){this._offsetX=xe,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(xe){this._offsetY=xe,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(xe){this._hasBackdrop=(0,w.Ig)(xe)}get lockPosition(){return this._lockPosition}set lockPosition(xe){this._lockPosition=(0,w.Ig)(xe)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(xe){this._flexibleDimensions=(0,w.Ig)(xe)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(xe){this._growAfterOpen=(0,w.Ig)(xe)}get push(){return this._push}set push(xe){this._push=(0,w.Ig)(xe)}constructor(xe,Ve,je,mt,At){this._overlay=xe,this._dir=At,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Xe.w0.EMPTY,this._attachSubscription=Xe.w0.EMPTY,this._detachSubscription=Xe.w0.EMPTY,this._positionSubscription=Xe.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new O.vpe,this.positionChange=new O.vpe,this.attach=new O.vpe,this.detach=new O.vpe,this.overlayKeydown=new O.vpe,this.overlayOutsideClick=new O.vpe,this._templatePortal=new yt.UE(Ve,je),this._scrollStrategyFactory=mt,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(xe){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),xe.origin&&this.open&&this._position.apply()),xe.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=_e);const xe=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=xe.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=xe.detachments().subscribe(()=>this.detach.emit()),xe.keydownEvents().subscribe(Ve=>{this.overlayKeydown.next(Ve),Ve.keyCode===ht.hY&&!this.disableClose&&!(0,ht.Vb)(Ve)&&(Ve.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ve=>{this.overlayOutsideClick.next(Ve)})}_buildConfig(){const xe=this._position=this.positionStrategy||this._createPositionStrategy(),Ve=new It({direction:this._dir,positionStrategy:xe,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ve.width=this.width),(this.height||0===this.height)&&(Ve.height=this.height),(this.minWidth||0===this.minWidth)&&(Ve.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ve.minHeight=this.minHeight),this.backdropClass&&(Ve.backdropClass=this.backdropClass),this.panelClass&&(Ve.panelClass=this.panelClass),Ve}_updatePositionStrategy(xe){const Ve=this.positions.map(je=>({originX:je.originX,originY:je.originY,overlayX:je.overlayX,overlayY:je.overlayY,offsetX:je.offsetX||this.offsetX,offsetY:je.offsetY||this.offsetY,panelClass:je.panelClass||void 0}));return xe.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ve).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const xe=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(xe),xe}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof at?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(xe=>{this.backdropClick.emit(xe)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Fe(Pt,Ie=!1){return(0,ze.e)((xe,Ve)=>{let je=0;xe.subscribe((0,H.x)(Ve,mt=>{const At=Pt(mt,je++);(At||Ie)&&Ve.next(mt),!At&&Ve.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(xe=>{this.positionChange.emit(xe),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)(O.Y36(Wt),O.Y36(O.Rgc),O.Y36(O.s_b),O.Y36(Ue),O.Y36(Ye.Is,8))};static#t=this.\u0275dir=O.lG2({type:Pt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[O.TTD]})}return Pt})();const dn={provide:Ue,deps:[Wt],useFactory:function pn(Pt){return()=>Pt.scrollStrategies.reposition()}};let Qn=(()=>{class Pt{static#e=this.\u0275fac=function(Ve){return new(Ve||Pt)};static#t=this.\u0275mod=O.oAB({type:Pt});static#n=this.\u0275inj=O.cJS({providers:[Wt,dn],imports:[Ye.vT,yt.eL,a.Cl,a.Cl]})}return Pt})()},2831:(Sn,Et,R)=>{R.d(Et,{Mq:()=>ke,Oy:()=>ye,ht:()=>en,i$:()=>Fe,kV:()=>Ot,qK:()=>Le,sA:()=>Ke,t4:()=>w});var a=R(5879),ne=R(6814);let O;try{O=typeof Intl<"u"&&Intl.v8BreakIterator}catch{O=!1}let Ge,w=(()=>{class rt{constructor(Pe){this._platformId=Pe,this.isBrowser=this._platformId?(0,ne.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!O)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(qe){return new(qe||rt)(a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();const $e=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Le(){if(Ge)return Ge;if("object"!=typeof document||!document)return Ge=new Set($e),Ge;let rt=document.createElement("input");return Ge=new Set($e.filter(W=>(rt.setAttribute("type",W),rt.type===W))),Ge}let ze,yt,ut;function Fe(rt){return function H(){if(null==ze&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ze=!0}))}finally{ze=ze||!1}return ze}()?rt:!!rt.capture}function ke(){if(null==yt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return yt=!1,yt;if("scrollBehavior"in document.documentElement.style)yt=!0;else{const rt=Element.prototype.scrollTo;yt=!!rt&&!/\{\s*\[native code\]\s*\}/.test(rt.toString())}}return yt}function Ot(rt){if(function ht(){if(null==ut){const rt=typeof document<"u"?document.head:null;ut=!(!rt||!rt.createShadowRoot&&!rt.attachShadow)}return ut}()){const W=rt.getRootNode?rt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&W instanceof ShadowRoot)return W}return null}function en(){let rt=typeof document<"u"&&document?document.activeElement:null;for(;rt&&rt.shadowRoot;){const W=rt.shadowRoot.activeElement;if(W===rt)break;rt=W}return rt}function Ke(rt){return rt.composedPath?rt.composedPath()[0]:rt.target}function ye(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(Sn,Et,R)=>{R.d(Et,{C5:()=>H,Pl:()=>en,UE:()=>Fe,eL:()=>ye,en:()=>yt,u0:()=>Xe});var a=R(5879),ne=R(6814);class ze{attach(Pe){return this._attachedHost=Pe,Pe.attach(this)}detach(){let Pe=this._attachedHost;null!=Pe&&(this._attachedHost=null,Pe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Pe){this._attachedHost=Pe}}class H extends ze{constructor(Pe,qe,Ee,It,Ht){super(),this.component=Pe,this.viewContainerRef=qe,this.injector=Ee,this.componentFactoryResolver=It,this.projectableNodes=Ht}}class Fe extends ze{constructor(Pe,qe,Ee,It){super(),this.templateRef=Pe,this.viewContainerRef=qe,this.context=Ee,this.injector=It}get origin(){return this.templateRef.elementRef}attach(Pe,qe=this.context){return this.context=qe,super.attach(Pe)}detach(){return this.context=void 0,super.detach()}}class Ye extends ze{constructor(Pe){super(),this.element=Pe instanceof a.SBq?Pe.nativeElement:Pe}}class yt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Pe){return Pe instanceof H?(this._attachedPortal=Pe,this.attachComponentPortal(Pe)):Pe instanceof Fe?(this._attachedPortal=Pe,this.attachTemplatePortal(Pe)):this.attachDomPortal&&Pe instanceof Ye?(this._attachedPortal=Pe,this.attachDomPortal(Pe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Pe){this._disposeFn=Pe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xe extends yt{constructor(Pe,qe,Ee,It,Ht){super(),this.outletElement=Pe,this._componentFactoryResolver=qe,this._appRef=Ee,this._defaultInjector=It,this.attachDomPortal=Nt=>{const Cn=Nt.element,Mn=this._document.createComment("dom-portal");Cn.parentNode.insertBefore(Mn,Cn),this.outletElement.appendChild(Cn),this._attachedPortal=Nt,super.setDisposeFn(()=>{Mn.parentNode&&Mn.parentNode.replaceChild(Cn,Mn)})},this._document=Ht}attachComponentPortal(Pe){const Ee=(Pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Pe.component);let It;return Pe.viewContainerRef?(It=Pe.viewContainerRef.createComponent(Ee,Pe.viewContainerRef.length,Pe.injector||Pe.viewContainerRef.injector,Pe.projectableNodes||void 0),this.setDisposeFn(()=>It.destroy())):(It=Ee.create(Pe.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(It.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(It.hostView),It.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(It)),this._attachedPortal=Pe,It}attachTemplatePortal(Pe){let qe=Pe.viewContainerRef,Ee=qe.createEmbeddedView(Pe.templateRef,Pe.context,{injector:Pe.injector});return Ee.rootNodes.forEach(It=>this.outletElement.appendChild(It)),Ee.detectChanges(),this.setDisposeFn(()=>{let It=qe.indexOf(Ee);-1!==It&&qe.remove(It)}),this._attachedPortal=Pe,Ee}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Pe){return Pe.hostView.rootNodes[0]}}let en=(()=>{class W extends yt{constructor(qe,Ee,It){super(),this._componentFactoryResolver=qe,this._viewContainerRef=Ee,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=Ht=>{const Nt=Ht.element,Cn=this._document.createComment("dom-portal");Ht.setAttachedHost(this),Nt.parentNode.insertBefore(Cn,Nt),this._getRootNode().appendChild(Nt),this._attachedPortal=Ht,super.setDisposeFn(()=>{Cn.parentNode&&Cn.parentNode.replaceChild(Nt,Cn)})},this._document=It}get portal(){return this._attachedPortal}set portal(qe){this.hasAttached()&&!qe&&!this._isInitialized||(this.hasAttached()&&super.detach(),qe&&super.attach(qe),this._attachedPortal=qe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(qe){qe.setAttachedHost(this);const Ee=null!=qe.viewContainerRef?qe.viewContainerRef:this._viewContainerRef,Ht=(qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(qe.component),Nt=Ee.createComponent(Ht,Ee.length,qe.injector||Ee.injector,qe.projectableNodes||void 0);return Ee!==this._viewContainerRef&&this._getRootNode().appendChild(Nt.hostView.rootNodes[0]),super.setDisposeFn(()=>Nt.destroy()),this._attachedPortal=qe,this._attachedRef=Nt,this.attached.emit(Nt),Nt}attachTemplatePortal(qe){qe.setAttachedHost(this);const Ee=this._viewContainerRef.createEmbeddedView(qe.templateRef,qe.context,{injector:qe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=qe,this._attachedRef=Ee,this.attached.emit(Ee),Ee}_getRootNode(){const qe=this._viewContainerRef.element.nativeElement;return qe.nodeType===qe.ELEMENT_NODE?qe:qe.parentNode}static#e=this.\u0275fac=function(Ee){return new(Ee||W)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ne.K0))};static#t=this.\u0275dir=a.lG2({type:W,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]})}return W})(),ye=(()=>{class W{static#e=this.\u0275fac=function(Ee){return new(Ee||W)};static#t=this.\u0275mod=a.oAB({type:W});static#n=this.\u0275inj=a.cJS({})}return W})()},799:(Sn,Et,R)=>{R.d(Et,{ZD:()=>Pt,mF:()=>yn,Cl:()=>Ie,rL:()=>Lt});var a=R(2495),ne=R(5879),O=R(8645),w=R(2096),we=R(5592),Ge=R(2438),$e=R(1954),Le=R(7394);const ze={schedule(xe){let Ve=requestAnimationFrame,je=cancelAnimationFrame;const{delegate:mt}=ze;mt&&(Ve=mt.requestAnimationFrame,je=mt.cancelAnimationFrame);const At=Ve(rn=>{je=void 0,xe(rn)});return new Le.w0(()=>je?.(At))},requestAnimationFrame(...xe){const{delegate:Ve}=ze;return(Ve?.requestAnimationFrame||requestAnimationFrame)(...xe)},cancelAnimationFrame(...xe){const{delegate:Ve}=ze;return(Ve?.cancelAnimationFrame||cancelAnimationFrame)(...xe)},delegate:void 0};var Fe=R(2631);new class Ye extends Fe.v{flush(Ve){this._active=!0;const je=this._scheduled;this._scheduled=void 0;const{actions:mt}=this;let At;Ve=Ve||mt.shift();do{if(At=Ve.execute(Ve.state,Ve.delay))break}while((Ve=mt[0])&&Ve.id===je&&mt.shift());if(this._active=!1,At){for(;(Ve=mt[0])&&Ve.id===je&&mt.shift();)Ve.unsubscribe();throw At}}}(class H extends $e.o{constructor(Ve,je){super(Ve,je),this.scheduler=Ve,this.work=je}requestAsyncId(Ve,je,mt=0){return null!==mt&&mt>0?super.requestAsyncId(Ve,je,mt):(Ve.actions.push(this),Ve._scheduled||(Ve._scheduled=ze.requestAnimationFrame(()=>Ve.flush(void 0))))}recycleAsyncId(Ve,je,mt=0){var At;if(null!=mt?mt>0:this.delay>0)return super.recycleAsyncId(Ve,je,mt);const{actions:rn}=Ve;null!=je&&(null===(At=rn[rn.length-1])||void 0===At?void 0:At.id)!==je&&(ze.cancelAnimationFrame(je),Ve._scheduled=void 0)}});let ut,Xe=1;const ht={};function Ot(xe){return xe in ht&&(delete ht[xe],!0)}const en={setImmediate(xe){const Ve=Xe++;return ht[Ve]=!0,ut||(ut=Promise.resolve()),ut.then(()=>Ot(Ve)&&xe()),Ve},clearImmediate(xe){Ot(xe)}},{setImmediate:ye,clearImmediate:rt}=en,W={setImmediate(...xe){const{delegate:Ve}=W;return(Ve?.setImmediate||ye)(...xe)},clearImmediate(xe){const{delegate:Ve}=W;return(Ve?.clearImmediate||rt)(xe)},delegate:void 0};new class qe extends Fe.v{flush(Ve){this._active=!0;const je=this._scheduled;this._scheduled=void 0;const{actions:mt}=this;let At;Ve=Ve||mt.shift();do{if(At=Ve.execute(Ve.state,Ve.delay))break}while((Ve=mt[0])&&Ve.id===je&&mt.shift());if(this._active=!1,At){for(;(Ve=mt[0])&&Ve.id===je&&mt.shift();)Ve.unsubscribe();throw At}}}(class Pe extends $e.o{constructor(Ve,je){super(Ve,je),this.scheduler=Ve,this.work=je}requestAsyncId(Ve,je,mt=0){return null!==mt&&mt>0?super.requestAsyncId(Ve,je,mt):(Ve.actions.push(this),Ve._scheduled||(Ve._scheduled=W.setImmediate(Ve.flush.bind(Ve,void 0))))}recycleAsyncId(Ve,je,mt=0){var At;if(null!=mt?mt>0:this.delay>0)return super.recycleAsyncId(Ve,je,mt);const{actions:rn}=Ve;null!=je&&(null===(At=rn[rn.length-1])||void 0===At?void 0:At.id)!==je&&(W.clearImmediate(je),Ve._scheduled===je&&(Ve._scheduled=void 0))}});var Ht=R(6321),Nt=R(9360),Cn=R(4829),Mn=R(8251),wn=R(4825);function Ln(xe,Ve=Ht.z){return function ni(xe){return(0,Nt.e)((Ve,je)=>{let mt=!1,At=null,rn=null,Fn=!1;const gn=()=>{if(rn?.unsubscribe(),rn=null,mt){mt=!1;const An=At;At=null,je.next(An)}Fn&&je.complete()},Hn=()=>{rn=null,Fn&&je.complete()};Ve.subscribe((0,Mn.x)(je,An=>{mt=!0,At=An,rn||(0,Cn.Xf)(xe(An)).subscribe(rn=(0,Mn.x)(je,gn,Hn))},()=>{Fn=!0,(!mt||!rn||rn.closed)&&je.complete()}))})}(()=>(0,wn.H)(xe,Ve))}var jn=R(2181),kt=R(2831),pt=R(6814),bt=R(9388);let yn=(()=>{class xe{constructor(je,mt,At){this._ngZone=je,this._platform=mt,this._scrolled=new O.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=At}register(je){this.scrollContainers.has(je)||this.scrollContainers.set(je,je.elementScrolled().subscribe(()=>this._scrolled.next(je)))}deregister(je){const mt=this.scrollContainers.get(je);mt&&(mt.unsubscribe(),this.scrollContainers.delete(je))}scrolled(je=20){return this._platform.isBrowser?new we.y(mt=>{this._globalSubscription||this._addGlobalListener();const At=je>0?this._scrolled.pipe(Ln(je)).subscribe(mt):this._scrolled.subscribe(mt);return this._scrolledCount++,()=>{At.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,w.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((je,mt)=>this.deregister(mt)),this._scrolled.complete()}ancestorScrolled(je,mt){const At=this.getAncestorScrollContainers(je);return this.scrolled(mt).pipe((0,jn.h)(rn=>!rn||At.indexOf(rn)>-1))}getAncestorScrollContainers(je){const mt=[];return this.scrollContainers.forEach((At,rn)=>{this._scrollableContainsElement(rn,je)&&mt.push(rn)}),mt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(je,mt){let At=(0,a.fI)(mt),rn=je.getElementRef().nativeElement;do{if(At==rn)return!0}while(At=At.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const je=this._getWindow();return(0,Ge.R)(je.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(mt){return new(mt||xe)(ne.LFG(ne.R0b),ne.LFG(kt.t4),ne.LFG(pt.K0,8))};static#t=this.\u0275prov=ne.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})(),Lt=(()=>{class xe{constructor(je,mt,At){this._platform=je,this._change=new O.x,this._changeListener=rn=>{this._change.next(rn)},this._document=At,mt.runOutsideAngular(()=>{if(je.isBrowser){const rn=this._getWindow();rn.addEventListener("resize",this._changeListener),rn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const je=this._getWindow();je.removeEventListener("resize",this._changeListener),je.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const je={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),je}getViewportRect(){const je=this.getViewportScrollPosition(),{width:mt,height:At}=this.getViewportSize();return{top:je.top,left:je.left,bottom:je.top+At,right:je.left+mt,height:At,width:mt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const je=this._document,mt=this._getWindow(),At=je.documentElement,rn=At.getBoundingClientRect();return{top:-rn.top||je.body.scrollTop||mt.scrollY||At.scrollTop||0,left:-rn.left||je.body.scrollLeft||mt.scrollX||At.scrollLeft||0}}change(je=20){return je>0?this._change.pipe(Ln(je)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const je=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:je.innerWidth,height:je.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(mt){return new(mt||xe)(ne.LFG(kt.t4),ne.LFG(ne.R0b),ne.LFG(pt.K0,8))};static#t=this.\u0275prov=ne.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})(),Pt=(()=>{class xe{static#e=this.\u0275fac=function(mt){return new(mt||xe)};static#t=this.\u0275mod=ne.oAB({type:xe});static#n=this.\u0275inj=ne.cJS({})}return xe})(),Ie=(()=>{class xe{static#e=this.\u0275fac=function(mt){return new(mt||xe)};static#t=this.\u0275mod=ne.oAB({type:xe});static#n=this.\u0275inj=ne.cJS({imports:[bt.vT,Pt,bt.vT,Pt]})}return xe})()},6814:(Sn,Et,R)=>{R.d(Et,{Do:()=>ut,ED:()=>Po,EM:()=>gr,HT:()=>w,JF:()=>Ls,K0:()=>Ge,Mn:()=>ni,Mx:()=>Hr,NF:()=>Es,O5:()=>Is,PM:()=>Rs,RF:()=>zr,S$:()=>yt,Tn:()=>Ee,UT:()=>wn,V_:()=>Le,Ye:()=>ht,ax:()=>Zr,b0:()=>Xe,bD:()=>Rr,ez:()=>Ta,mk:()=>cr,n9:()=>ir,p6:()=>Ve,q:()=>O,sg:()=>Zr,tP:()=>ys,uU:()=>di,w_:()=>we,x:()=>qe});var a=R(5879);let ne=null;function O(){return ne}function w(j){ne||(ne=j)}class we{}const Ge=new a.OlP("DocumentToken");let $e=(()=>{class j{historyGo(ie){throw new Error("Not implemented")}static#e=this.\u0275fac=function(me){return new(me||j)};static#t=this.\u0275prov=a.Yz7({token:j,factory:function(){return(0,a.f3M)(ze)},providedIn:"platform"})}return j})();const Le=new a.OlP("Location Initialized");let ze=(()=>{class j extends $e{constructor(){super(),this._doc=(0,a.f3M)(Ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(ie){const me=O().getGlobalEventTarget(this._doc,"window");return me.addEventListener("popstate",ie,!1),()=>me.removeEventListener("popstate",ie)}onHashChange(ie){const me=O().getGlobalEventTarget(this._doc,"window");return me.addEventListener("hashchange",ie,!1),()=>me.removeEventListener("hashchange",ie)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ie){this._location.pathname=ie}pushState(ie,me,_t){this._history.pushState(ie,me,_t)}replaceState(ie,me,_t){this._history.replaceState(ie,me,_t)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ie=0){this._history.go(ie)}getState(){return this._history.state}static#e=this.\u0275fac=function(me){return new(me||j)};static#t=this.\u0275prov=a.Yz7({token:j,factory:function(){return new j},providedIn:"platform"})}return j})();function H(j,De){if(0==j.length)return De;if(0==De.length)return j;let ie=0;return j.endsWith("/")&&ie++,De.startsWith("/")&&ie++,2==ie?j+De.substring(1):1==ie?j+De:j+"/"+De}function Fe(j){const De=j.match(/#|\?|$/),ie=De&&De.index||j.length;return j.slice(0,ie-("/"===j[ie-1]?1:0))+j.slice(ie)}function Ye(j){return j&&"?"!==j[0]?"?"+j:j}let yt=(()=>{class j{historyGo(ie){throw new Error("Not implemented")}static#e=this.\u0275fac=function(me){return new(me||j)};static#t=this.\u0275prov=a.Yz7({token:j,factory:function(){return(0,a.f3M)(Xe)},providedIn:"root"})}return j})();const ke=new a.OlP("appBaseHref");let Xe=(()=>{class j extends yt{constructor(ie,me){super(),this._platformLocation=ie,this._removeListenerFns=[],this._baseHref=me??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ie){this._removeListenerFns.push(this._platformLocation.onPopState(ie),this._platformLocation.onHashChange(ie))}getBaseHref(){return this._baseHref}prepareExternalUrl(ie){return H(this._baseHref,ie)}path(ie=!1){const me=this._platformLocation.pathname+Ye(this._platformLocation.search),_t=this._platformLocation.hash;return _t&&ie?`${me}${_t}`:me}pushState(ie,me,_t,cn){const In=this.prepareExternalUrl(_t+Ye(cn));this._platformLocation.pushState(ie,me,In)}replaceState(ie,me,_t,cn){const In=this.prepareExternalUrl(_t+Ye(cn));this._platformLocation.replaceState(ie,me,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ie=0){this._platformLocation.historyGo?.(ie)}static#e=this.\u0275fac=function(me){return new(me||j)(a.LFG($e),a.LFG(ke,8))};static#t=this.\u0275prov=a.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),ut=(()=>{class j extends yt{constructor(ie,me){super(),this._platformLocation=ie,this._baseHref="",this._removeListenerFns=[],null!=me&&(this._baseHref=me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ie){this._removeListenerFns.push(this._platformLocation.onPopState(ie),this._platformLocation.onHashChange(ie))}getBaseHref(){return this._baseHref}path(ie=!1){let me=this._platformLocation.hash;return null==me&&(me="#"),me.length>0?me.substring(1):me}prepareExternalUrl(ie){const me=H(this._baseHref,ie);return me.length>0?"#"+me:me}pushState(ie,me,_t,cn){let In=this.prepareExternalUrl(_t+Ye(cn));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.pushState(ie,me,In)}replaceState(ie,me,_t,cn){let In=this.prepareExternalUrl(_t+Ye(cn));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.replaceState(ie,me,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ie=0){this._platformLocation.historyGo?.(ie)}static#e=this.\u0275fac=function(me){return new(me||j)(a.LFG($e),a.LFG(ke,8))};static#t=this.\u0275prov=a.Yz7({token:j,factory:j.\u0275fac})}return j})(),ht=(()=>{class j{constructor(ie){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ie;const me=this._locationStrategy.getBaseHref();this._basePath=function ye(j){if(new RegExp("^(https?:)?//").test(j)){const[,ie]=j.split(/\/\/[^\/]+/);return ie}return j}(Fe(Ke(me))),this._locationStrategy.onPopState(_t=>{this._subject.emit({url:this.path(!0),pop:!0,state:_t.state,type:_t.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ie=!1){return this.normalize(this._locationStrategy.path(ie))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ie,me=""){return this.path()==this.normalize(ie+Ye(me))}normalize(ie){return j.stripTrailingSlash(function en(j,De){if(!j||!De.startsWith(j))return De;const ie=De.substring(j.length);return""===ie||["/",";","?","#"].includes(ie[0])?ie:De}(this._basePath,Ke(ie)))}prepareExternalUrl(ie){return ie&&"/"!==ie[0]&&(ie="/"+ie),this._locationStrategy.prepareExternalUrl(ie)}go(ie,me="",_t=null){this._locationStrategy.pushState(_t,"",ie,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(ie+Ye(me)),_t)}replaceState(ie,me="",_t=null){this._locationStrategy.replaceState(_t,"",ie,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(ie+Ye(me)),_t)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ie=0){this._locationStrategy.historyGo?.(ie)}onUrlChange(ie){return this._urlChangeListeners.push(ie),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(me=>{this._notifyUrlChangeListeners(me.url,me.state)})),()=>{const me=this._urlChangeListeners.indexOf(ie);this._urlChangeListeners.splice(me,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ie="",me){this._urlChangeListeners.forEach(_t=>_t(ie,me))}subscribe(ie,me,_t){return this._subject.subscribe({next:ie,error:me,complete:_t})}static#e=this.normalizeQueryParams=Ye;static#t=this.joinWithSlash=H;static#n=this.stripTrailingSlash=Fe;static#i=this.\u0275fac=function(me){return new(me||j)(a.LFG(yt))};static#r=this.\u0275prov=a.Yz7({token:j,factory:function(){return function Ot(){return new ht((0,a.LFG)(yt))}()},providedIn:"root"})}return j})();function Ke(j){return j.replace(/\/index.html$/,"")}var qe=function(j){return j[j.Format=0]="Format",j[j.Standalone=1]="Standalone",j}(qe||{}),Ee=function(j){return j[j.Narrow=0]="Narrow",j[j.Abbreviated=1]="Abbreviated",j[j.Wide=2]="Wide",j[j.Short=3]="Short",j}(Ee||{}),It=function(j){return j[j.Short=0]="Short",j[j.Medium=1]="Medium",j[j.Long=2]="Long",j[j.Full=3]="Full",j}(It||{}),Ht=function(j){return j[j.Decimal=0]="Decimal",j[j.Group=1]="Group",j[j.List=2]="List",j[j.PercentSign=3]="PercentSign",j[j.PlusSign=4]="PlusSign",j[j.MinusSign=5]="MinusSign",j[j.Exponential=6]="Exponential",j[j.SuperscriptingExponent=7]="SuperscriptingExponent",j[j.PerMille=8]="PerMille",j[j.Infinity=9]="Infinity",j[j.NaN=10]="NaN",j[j.TimeSeparator=11]="TimeSeparator",j[j.CurrencyDecimal=12]="CurrencyDecimal",j[j.CurrencyGroup=13]="CurrencyGroup",j}(Ht||{});function ni(j,De,ie){const me=(0,a.cg1)(j),cn=_e([me[a.wAp.DaysFormat],me[a.wAp.DaysStandalone]],De);return _e(cn,ie)}function wn(j,De,ie){const me=(0,a.cg1)(j),cn=_e([me[a.wAp.MonthsFormat],me[a.wAp.MonthsStandalone]],De);return _e(cn,ie)}function pt(j,De){return _e((0,a.cg1)(j)[a.wAp.DateFormat],De)}function bt(j,De){return _e((0,a.cg1)(j)[a.wAp.TimeFormat],De)}function Rt(j,De){return _e((0,a.cg1)(j)[a.wAp.DateTimeFormat],De)}function Be(j,De){const ie=(0,a.cg1)(j),me=ie[a.wAp.NumberSymbols][De];if(typeof me>"u"){if(De===Ht.CurrencyDecimal)return ie[a.wAp.NumberSymbols][Ht.Decimal];if(De===Ht.CurrencyGroup)return ie[a.wAp.NumberSymbols][Ht.Group]}return me}function Ut(j){if(!j[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${j[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _e(j,De){for(let ie=De;ie>-1;ie--)if(typeof j[ie]<"u")return j[ie];throw new Error("Locale data API: locale data undefined")}function Ue(j){const[De,ie]=j.split(":");return{hours:+De,minutes:+ie}}const dn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qn={},ai=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=function(j){return j[j.Short=0]="Short",j[j.ShortGMT=1]="ShortGMT",j[j.Long=2]="Long",j[j.Extended=3]="Extended",j}(Pt||{}),Ie=function(j){return j[j.FullYear=0]="FullYear",j[j.Month=1]="Month",j[j.Date=2]="Date",j[j.Hours=3]="Hours",j[j.Minutes=4]="Minutes",j[j.Seconds=5]="Seconds",j[j.FractionalSeconds=6]="FractionalSeconds",j[j.Day=7]="Day",j}(Ie||{}),xe=function(j){return j[j.DayPeriods=0]="DayPeriods",j[j.Days=1]="Days",j[j.Months=2]="Months",j[j.Eras=3]="Eras",j}(xe||{});function Ve(j,De,ie,me){let _t=function ue(j){if(F(j))return j;if("number"==typeof j&&!isNaN(j))return new Date(j);if("string"==typeof j){if(j=j.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(j)){const[_t,cn=1,In=1]=j.split("-").map(hi=>+hi);return je(_t,cn-1,In)}const ie=parseFloat(j);if(!isNaN(j-ie))return new Date(ie);let me;if(me=j.match(dn))return function J(j){const De=new Date(0);let ie=0,me=0;const _t=j[8]?De.setUTCFullYear:De.setFullYear,cn=j[8]?De.setUTCHours:De.setHours;j[9]&&(ie=Number(j[9]+j[10]),me=Number(j[9]+j[11])),_t.call(De,Number(j[1]),Number(j[2])-1,Number(j[3]));const In=Number(j[4]||0)-ie,hi=Number(j[5]||0)-me,dr=Number(j[6]||0),_r=Math.floor(1e3*parseFloat("0."+(j[7]||0)));return cn.call(De,In,hi,dr,_r),De}(me)}const De=new Date(j);if(!F(De))throw new Error(`Unable to convert "${j}" into a date`);return De}(j);De=mt(ie,De)||De;let hi,In=[];for(;De;){if(hi=ai.exec(De),!hi){In.push(De);break}{In=In.concat(hi.slice(1));const Bi=In.pop();if(!Bi)break;De=Bi}}let dr=_t.getTimezoneOffset();me&&(dr=Ri(me,dr),_t=function Dt(j,De,ie){const me=ie?-1:1,_t=j.getTimezoneOffset();return function Yi(j,De){return(j=new Date(j.getTime())).setMinutes(j.getMinutes()+De),j}(j,me*(Ri(De,_t)-_t))}(_t,me,!0));let _r="";return In.forEach(Bi=>{const pi=function zn(j){if(xn[j])return xn[j];let De;switch(j){case"G":case"GG":case"GGG":De=An(xe.Eras,Ee.Abbreviated);break;case"GGGG":De=An(xe.Eras,Ee.Wide);break;case"GGGGG":De=An(xe.Eras,Ee.Narrow);break;case"y":De=gn(Ie.FullYear,1,0,!1,!0);break;case"yy":De=gn(Ie.FullYear,2,0,!0,!0);break;case"yyy":De=gn(Ie.FullYear,3,0,!1,!0);break;case"yyyy":De=gn(Ie.FullYear,4,0,!1,!0);break;case"Y":De=kn(1);break;case"YY":De=kn(2,!0);break;case"YYY":De=kn(3);break;case"YYYY":De=kn(4);break;case"M":case"L":De=gn(Ie.Month,1,1);break;case"MM":case"LL":De=gn(Ie.Month,2,1);break;case"MMM":De=An(xe.Months,Ee.Abbreviated);break;case"MMMM":De=An(xe.Months,Ee.Wide);break;case"MMMMM":De=An(xe.Months,Ee.Narrow);break;case"LLL":De=An(xe.Months,Ee.Abbreviated,qe.Standalone);break;case"LLLL":De=An(xe.Months,Ee.Wide,qe.Standalone);break;case"LLLLL":De=An(xe.Months,Ee.Narrow,qe.Standalone);break;case"w":De=tn(1);break;case"ww":De=tn(2);break;case"W":De=tn(1,!0);break;case"d":De=gn(Ie.Date,1);break;case"dd":De=gn(Ie.Date,2);break;case"c":case"cc":De=gn(Ie.Day,1);break;case"ccc":De=An(xe.Days,Ee.Abbreviated,qe.Standalone);break;case"cccc":De=An(xe.Days,Ee.Wide,qe.Standalone);break;case"ccccc":De=An(xe.Days,Ee.Narrow,qe.Standalone);break;case"cccccc":De=An(xe.Days,Ee.Short,qe.Standalone);break;case"E":case"EE":case"EEE":De=An(xe.Days,Ee.Abbreviated);break;case"EEEE":De=An(xe.Days,Ee.Wide);break;case"EEEEE":De=An(xe.Days,Ee.Narrow);break;case"EEEEEE":De=An(xe.Days,Ee.Short);break;case"a":case"aa":case"aaa":De=An(xe.DayPeriods,Ee.Abbreviated);break;case"aaaa":De=An(xe.DayPeriods,Ee.Wide);break;case"aaaaa":De=An(xe.DayPeriods,Ee.Narrow);break;case"b":case"bb":case"bbb":De=An(xe.DayPeriods,Ee.Abbreviated,qe.Standalone,!0);break;case"bbbb":De=An(xe.DayPeriods,Ee.Wide,qe.Standalone,!0);break;case"bbbbb":De=An(xe.DayPeriods,Ee.Narrow,qe.Standalone,!0);break;case"B":case"BB":case"BBB":De=An(xe.DayPeriods,Ee.Abbreviated,qe.Format,!0);break;case"BBBB":De=An(xe.DayPeriods,Ee.Wide,qe.Format,!0);break;case"BBBBB":De=An(xe.DayPeriods,Ee.Narrow,qe.Format,!0);break;case"h":De=gn(Ie.Hours,1,-12);break;case"hh":De=gn(Ie.Hours,2,-12);break;case"H":De=gn(Ie.Hours,1);break;case"HH":De=gn(Ie.Hours,2);break;case"m":De=gn(Ie.Minutes,1);break;case"mm":De=gn(Ie.Minutes,2);break;case"s":De=gn(Ie.Seconds,1);break;case"ss":De=gn(Ie.Seconds,2);break;case"S":De=gn(Ie.FractionalSeconds,1);break;case"SS":De=gn(Ie.FractionalSeconds,2);break;case"SSS":De=gn(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":De=xi(Pt.Short);break;case"ZZZZZ":De=xi(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":De=xi(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":De=xi(Pt.Long);break;default:return null}return xn[j]=De,De}(Bi);_r+=pi?pi(_t,ie,dr):"''"===Bi?"'":Bi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_r}function je(j,De,ie){const me=new Date(0);return me.setFullYear(j,De,ie),me.setHours(0,0,0),me}function mt(j,De){const ie=function Cn(j){return(0,a.cg1)(j)[a.wAp.LocaleId]}(j);if(Qn[ie]=Qn[ie]||{},Qn[ie][De])return Qn[ie][De];let me="";switch(De){case"shortDate":me=pt(j,It.Short);break;case"mediumDate":me=pt(j,It.Medium);break;case"longDate":me=pt(j,It.Long);break;case"fullDate":me=pt(j,It.Full);break;case"shortTime":me=bt(j,It.Short);break;case"mediumTime":me=bt(j,It.Medium);break;case"longTime":me=bt(j,It.Long);break;case"fullTime":me=bt(j,It.Full);break;case"short":const _t=mt(j,"shortTime"),cn=mt(j,"shortDate");me=At(Rt(j,It.Short),[_t,cn]);break;case"medium":const In=mt(j,"mediumTime"),hi=mt(j,"mediumDate");me=At(Rt(j,It.Medium),[In,hi]);break;case"long":const dr=mt(j,"longTime"),_r=mt(j,"longDate");me=At(Rt(j,It.Long),[dr,_r]);break;case"full":const Bi=mt(j,"fullTime"),pi=mt(j,"fullDate");me=At(Rt(j,It.Full),[Bi,pi])}return me&&(Qn[ie][De]=me),me}function At(j,De){return De&&(j=j.replace(/\{([^}]+)}/g,function(ie,me){return null!=De&&me in De?De[me]:ie})),j}function rn(j,De,ie="-",me,_t){let cn="";(j<0||_t&&j<=0)&&(_t?j=1-j:(j=-j,cn=ie));let In=String(j);for(;In.length<De;)In="0"+In;return me&&(In=In.slice(In.length-De)),cn+In}function gn(j,De,ie=0,me=!1,_t=!1){return function(cn,In){let hi=function Hn(j,De){switch(j){case Ie.FullYear:return De.getFullYear();case Ie.Month:return De.getMonth();case Ie.Date:return De.getDate();case Ie.Hours:return De.getHours();case Ie.Minutes:return De.getMinutes();case Ie.Seconds:return De.getSeconds();case Ie.FractionalSeconds:return De.getMilliseconds();case Ie.Day:return De.getDay();default:throw new Error(`Unknown DateType value "${j}".`)}}(j,cn);if((ie>0||hi>-ie)&&(hi+=ie),j===Ie.Hours)0===hi&&-12===ie&&(hi=12);else if(j===Ie.FractionalSeconds)return function Fn(j,De){return rn(j,3).substring(0,De)}(hi,De);const dr=Be(In,Ht.MinusSign);return rn(hi,De,dr,me,_t)}}function An(j,De,ie=qe.Format,me=!1){return function(_t,cn){return function Ci(j,De,ie,me,_t,cn){switch(ie){case xe.Months:return wn(De,_t,me)[j.getMonth()];case xe.Days:return ni(De,_t,me)[j.getDay()];case xe.DayPeriods:const In=j.getHours(),hi=j.getMinutes();if(cn){const _r=function Pn(j){const De=(0,a.cg1)(j);return Ut(De),(De[a.wAp.ExtraData][2]||[]).map(me=>"string"==typeof me?Ue(me):[Ue(me[0]),Ue(me[1])])}(De),Bi=function Lt(j,De,ie){const me=(0,a.cg1)(j);Ut(me);const cn=_e([me[a.wAp.ExtraData][0],me[a.wAp.ExtraData][1]],De)||[];return _e(cn,ie)||[]}(De,_t,me),pi=_r.findIndex(Or=>{if(Array.isArray(Or)){const[Er,se]=Or,xt=In>=Er.hours&&hi>=Er.minutes,T=In<se.hours||In===se.hours&&hi<se.minutes;if(Er.hours<se.hours){if(xt&&T)return!0}else if(xt||T)return!0}else if(Or.hours===In&&Or.minutes===hi)return!0;return!1});if(-1!==pi)return Bi[pi]}return function Mn(j,De,ie){const me=(0,a.cg1)(j),cn=_e([me[a.wAp.DayPeriodsFormat],me[a.wAp.DayPeriodsStandalone]],De);return _e(cn,ie)}(De,_t,me)[In<12?0:1];case xe.Eras:return function Ln(j,De){return _e((0,a.cg1)(j)[a.wAp.Eras],De)}(De,me)[j.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ie}`)}}(_t,cn,j,De,ie,me)}}function xi(j){return function(De,ie,me){const _t=-1*me,cn=Be(ie,Ht.MinusSign),In=_t>0?Math.floor(_t/60):Math.ceil(_t/60);switch(j){case Pt.Short:return(_t>=0?"+":"")+rn(In,2,cn)+rn(Math.abs(_t%60),2,cn);case Pt.ShortGMT:return"GMT"+(_t>=0?"+":"")+rn(In,1,cn);case Pt.Long:return"GMT"+(_t>=0?"+":"")+rn(In,2,cn)+":"+rn(Math.abs(_t%60),2,cn);case Pt.Extended:return 0===me?"Z":(_t>=0?"+":"")+rn(In,2,cn)+":"+rn(Math.abs(_t%60),2,cn);default:throw new Error(`Unknown zone width "${j}"`)}}}const Li=0,zi=4;function ci(j){return je(j.getFullYear(),j.getMonth(),j.getDate()+(zi-j.getDay()))}function tn(j,De=!1){return function(ie,me){let _t;if(De){const cn=new Date(ie.getFullYear(),ie.getMonth(),1).getDay()-1,In=ie.getDate();_t=1+Math.floor((In+cn)/7)}else{const cn=ci(ie),In=function sn(j){const De=je(j,Li,1).getDay();return je(j,0,1+(De<=zi?zi:zi+7)-De)}(cn.getFullYear()),hi=cn.getTime()-In.getTime();_t=1+Math.round(hi/6048e5)}return rn(_t,j,Be(me,Ht.MinusSign))}}function kn(j,De=!1){return function(ie,me){return rn(ci(ie).getFullYear(),j,Be(me,Ht.MinusSign),De)}}const xn={};function Ri(j,De){j=j.replace(/:/g,"");const ie=Date.parse("Jan 01, 1970 00:00:00 "+j)/6e4;return isNaN(ie)?De:ie}function F(j){return j instanceof Date&&!isNaN(j.valueOf())}function Hr(j,De){De=encodeURIComponent(De);for(const ie of j.split(";")){const me=ie.indexOf("="),[_t,cn]=-1==me?[ie,""]:[ie.slice(0,me),ie.slice(me+1)];if(_t.trim()===De)return decodeURIComponent(cn)}return null}const qs=/\s+/,or=[];let cr=(()=>{class j{constructor(ie,me,_t,cn){this._iterableDiffers=ie,this._keyValueDiffers=me,this._ngEl=_t,this._renderer=cn,this.initialClasses=or,this.stateMap=new Map}set klass(ie){this.initialClasses=null!=ie?ie.trim().split(qs):or}set ngClass(ie){this.rawClass="string"==typeof ie?ie.trim().split(qs):ie}ngDoCheck(){for(const me of this.initialClasses)this._updateState(me,!0);const ie=this.rawClass;if(Array.isArray(ie)||ie instanceof Set)for(const me of ie)this._updateState(me,!0);else if(null!=ie)for(const me of Object.keys(ie))this._updateState(me,!!ie[me]);this._applyStateDiff()}_updateState(ie,me){const _t=this.stateMap.get(ie);void 0!==_t?(_t.enabled!==me&&(_t.changed=!0,_t.enabled=me),_t.touched=!0):this.stateMap.set(ie,{enabled:me,changed:!0,touched:!0})}_applyStateDiff(){for(const ie of this.stateMap){const me=ie[0],_t=ie[1];_t.changed?(this._toggleClass(me,_t.enabled),_t.changed=!1):_t.touched||(_t.enabled&&this._toggleClass(me,!1),this.stateMap.delete(me)),_t.touched=!1}}_toggleClass(ie,me){(ie=ie.trim()).length>0&&ie.split(qs).forEach(_t=>{me?this._renderer.addClass(this._ngEl.nativeElement,_t):this._renderer.removeClass(this._ngEl.nativeElement,_t)})}static#e=this.\u0275fac=function(me){return new(me||j)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return j})();class Mi{constructor(De,ie,me,_t){this.$implicit=De,this.ngForOf=ie,this.index=me,this.count=_t}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zr=(()=>{class j{set ngForOf(ie){this._ngForOf=ie,this._ngForOfDirty=!0}set ngForTrackBy(ie){this._trackByFn=ie}get ngForTrackBy(){return this._trackByFn}constructor(ie,me,_t){this._viewContainer=ie,this._template=me,this._differs=_t,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ie){ie&&(this._template=ie)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ie=this._ngForOf;!this._differ&&ie&&(this._differ=this._differs.find(ie).create(this.ngForTrackBy))}if(this._differ){const ie=this._differ.diff(this._ngForOf);ie&&this._applyChanges(ie)}}_applyChanges(ie){const me=this._viewContainer;ie.forEachOperation((_t,cn,In)=>{if(null==_t.previousIndex)me.createEmbeddedView(this._template,new Mi(_t.item,this._ngForOf,-1,-1),null===In?void 0:In);else if(null==In)me.remove(null===cn?void 0:cn);else if(null!==cn){const hi=me.get(cn);me.move(hi,In),Hs(hi,_t)}});for(let _t=0,cn=me.length;_t<cn;_t++){const hi=me.get(_t).context;hi.index=_t,hi.count=cn,hi.ngForOf=this._ngForOf}ie.forEachIdentityChange(_t=>{Hs(me.get(_t.currentIndex),_t)})}static ngTemplateContextGuard(ie,me){return!0}static#e=this.\u0275fac=function(me){return new(me||j)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return j})();function Hs(j,De){j.context.$implicit=De.item}let Is=(()=>{class j{constructor(ie,me){this._viewContainer=ie,this._context=new no,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=me}set ngIf(ie){this._context.$implicit=this._context.ngIf=ie,this._updateView()}set ngIfThen(ie){xr("ngIfThen",ie),this._thenTemplateRef=ie,this._thenViewRef=null,this._updateView()}set ngIfElse(ie){xr("ngIfElse",ie),this._elseTemplateRef=ie,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ie,me){return!0}static#e=this.\u0275fac=function(me){return new(me||j)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return j})();class no{constructor(){this.$implicit=null,this.ngIf=null}}function xr(j,De){if(De&&!De.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,a.AaK)(De)}'.`)}class us{constructor(De,ie){this._viewContainerRef=De,this._templateRef=ie,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(De){De&&!this._created?this.create():!De&&this._created&&this.destroy()}}let zr=(()=>{class j{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ie){this._ngSwitch=ie,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ie){this._defaultViews.push(ie)}_matchCase(ie){const me=ie==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||me,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),me}_updateDefaultCases(ie){if(this._defaultViews.length>0&&ie!==this._defaultUsed){this._defaultUsed=ie;for(const me of this._defaultViews)me.enforceState(ie)}}static#e=this.\u0275fac=function(me){return new(me||j)};static#t=this.\u0275dir=a.lG2({type:j,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return j})(),ir=(()=>{class j{constructor(ie,me,_t){this.ngSwitch=_t,_t._addCase(),this._view=new us(ie,me)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(me){return new(me||j)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(zr,9))};static#t=this.\u0275dir=a.lG2({type:j,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return j})(),Po=(()=>{class j{constructor(ie,me,_t){_t._addDefault(new us(ie,me))}static#e=this.\u0275fac=function(me){return new(me||j)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(zr,9))};static#t=this.\u0275dir=a.lG2({type:j,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return j})(),ys=(()=>{class j{constructor(ie){this._viewContainerRef=ie,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ie){if(ie.ngTemplateOutlet||ie.ngTemplateOutletInjector){const me=this._viewContainerRef;if(this._viewRef&&me.remove(me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:_t,ngTemplateOutletContext:cn,ngTemplateOutletInjector:In}=this;this._viewRef=me.createEmbeddedView(_t,cn,In?{injector:In}:void 0)}else this._viewRef=null}else this._viewRef&&ie.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(me){return new(me||j)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return j})();const ki=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Hi=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let di=(()=>{class j{constructor(ie,me,_t){this.locale=ie,this.defaultTimezone=me,this.defaultOptions=_t}transform(ie,me,_t,cn){if(null==ie||""===ie||ie!=ie)return null;try{return Ve(ie,me??this.defaultOptions?.dateFormat??"mediumDate",cn||this.locale,_t??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(In){throw function br(j,De){return new a.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(me){return new(me||j)(a.Y36(a.soG,16),a.Y36(ki,24),a.Y36(Hi,24))};static#t=this.\u0275pipe=a.Yjl({name:"date",type:j,pure:!0,standalone:!0})}return j})(),Ta=(()=>{class j{static#e=this.\u0275fac=function(me){return new(me||j)};static#t=this.\u0275mod=a.oAB({type:j});static#n=this.\u0275inj=a.cJS({})}return j})();const Rr="browser",js="server";function Es(j){return j===Rr}function Rs(j){return j===js}let gr=(()=>{class j{static#e=this.\u0275prov=(0,a.Yz7)({token:j,providedIn:"root",factory:()=>new Eo((0,a.LFG)(Ge),window)})}return j})();class Eo{constructor(De,ie){this.document=De,this.window=ie,this.offset=()=>[0,0]}setOffset(De){this.offset=Array.isArray(De)?()=>De:De}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(De){this.supportsScrolling()&&this.window.scrollTo(De[0],De[1])}scrollToAnchor(De){if(!this.supportsScrolling())return;const ie=function Qr(j,De){const ie=j.getElementById(De)||j.getElementsByName(De)[0];if(ie)return ie;if("function"==typeof j.createTreeWalker&&j.body&&"function"==typeof j.body.attachShadow){const me=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let _t=me.currentNode;for(;_t;){const cn=_t.shadowRoot;if(cn){const In=cn.getElementById(De)||cn.querySelector(`[name="${De}"]`);if(In)return In}_t=me.nextNode()}}return null}(this.document,De);ie&&(this.scrollToElement(ie),ie.focus())}setHistoryScrollRestoration(De){this.supportsScrolling()&&(this.window.history.scrollRestoration=De)}scrollToElement(De){const ie=De.getBoundingClientRect(),me=ie.left+this.window.pageXOffset,_t=ie.top+this.window.pageYOffset,cn=this.offset();this.window.scrollTo(me-cn[0],_t-cn[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ls{}},9862:(Sn,Et,R)=>{R.d(Et,{JF:()=>G,TP:()=>Ut,WM:()=>yt,dt:()=>Cn,eN:()=>kt});var a=R(5879),ne=R(2096),O=R(2459),w=R(5592),we=R(6328),Ge=R(2181),$e=R(7398),Le=R(4716),ze=R(4664),H=R(6814);class Fe{}class Ye{}class yt{constructor(et){this.normalizedNames=new Map,this.lazyUpdate=null,et?"string"==typeof et?this.lazyInit=()=>{this.headers=new Map,et.split("\n").forEach(vt=>{const tt=vt.indexOf(":");if(tt>0){const dt=vt.slice(0,tt),Gt=dt.toLowerCase(),an=vt.slice(tt+1).trim();this.maybeSetNormalizedName(dt,Gt),this.headers.has(Gt)?this.headers.get(Gt).push(an):this.headers.set(Gt,[an])}})}:typeof Headers<"u"&&et instanceof Headers?(this.headers=new Map,et.forEach((vt,tt)=>{this.setHeaderEntries(tt,vt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(et).forEach(([vt,tt])=>{this.setHeaderEntries(vt,tt)})}:this.headers=new Map}has(et){return this.init(),this.headers.has(et.toLowerCase())}get(et){this.init();const vt=this.headers.get(et.toLowerCase());return vt&&vt.length>0?vt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(et){return this.init(),this.headers.get(et.toLowerCase())||null}append(et,vt){return this.clone({name:et,value:vt,op:"a"})}set(et,vt){return this.clone({name:et,value:vt,op:"s"})}delete(et,vt){return this.clone({name:et,value:vt,op:"d"})}maybeSetNormalizedName(et,vt){this.normalizedNames.has(vt)||this.normalizedNames.set(vt,et)}init(){this.lazyInit&&(this.lazyInit instanceof yt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(et=>this.applyUpdate(et)),this.lazyUpdate=null))}copyFrom(et){et.init(),Array.from(et.headers.keys()).forEach(vt=>{this.headers.set(vt,et.headers.get(vt)),this.normalizedNames.set(vt,et.normalizedNames.get(vt))})}clone(et){const vt=new yt;return vt.lazyInit=this.lazyInit&&this.lazyInit instanceof yt?this.lazyInit:this,vt.lazyUpdate=(this.lazyUpdate||[]).concat([et]),vt}applyUpdate(et){const vt=et.name.toLowerCase();switch(et.op){case"a":case"s":let tt=et.value;if("string"==typeof tt&&(tt=[tt]),0===tt.length)return;this.maybeSetNormalizedName(et.name,vt);const dt=("a"===et.op?this.headers.get(vt):void 0)||[];dt.push(...tt),this.headers.set(vt,dt);break;case"d":const Gt=et.value;if(Gt){let an=this.headers.get(vt);if(!an)return;an=an.filter(Kn=>-1===Gt.indexOf(Kn)),0===an.length?(this.headers.delete(vt),this.normalizedNames.delete(vt)):this.headers.set(vt,an)}else this.headers.delete(vt),this.normalizedNames.delete(vt)}}setHeaderEntries(et,vt){const tt=(Array.isArray(vt)?vt:[vt]).map(Gt=>Gt.toString()),dt=et.toLowerCase();this.headers.set(dt,tt),this.maybeSetNormalizedName(et,dt)}forEach(et){this.init(),Array.from(this.normalizedNames.keys()).forEach(vt=>et(this.normalizedNames.get(vt),this.headers.get(vt)))}}class Xe{encodeKey(et){return en(et)}encodeValue(et){return en(et)}decodeKey(et){return decodeURIComponent(et)}decodeValue(et){return decodeURIComponent(et)}}const ht=/%(\d[a-f0-9])/gi,Ot={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function en(Qe){return encodeURIComponent(Qe).replace(ht,(et,vt)=>Ot[vt]??et)}function Ke(Qe){return`${Qe}`}class ye{constructor(et={}){if(this.updates=null,this.cloneFrom=null,this.encoder=et.encoder||new Xe,et.fromString){if(et.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ut(Qe,et){const vt=new Map;return Qe.length>0&&Qe.replace(/^\?/,"").split("&").forEach(dt=>{const Gt=dt.indexOf("="),[an,Kn]=-1==Gt?[et.decodeKey(dt),""]:[et.decodeKey(dt.slice(0,Gt)),et.decodeValue(dt.slice(Gt+1))],bn=vt.get(an)||[];bn.push(Kn),vt.set(an,bn)}),vt}(et.fromString,this.encoder)}else et.fromObject?(this.map=new Map,Object.keys(et.fromObject).forEach(vt=>{const tt=et.fromObject[vt],dt=Array.isArray(tt)?tt.map(Ke):[Ke(tt)];this.map.set(vt,dt)})):this.map=null}has(et){return this.init(),this.map.has(et)}get(et){this.init();const vt=this.map.get(et);return vt?vt[0]:null}getAll(et){return this.init(),this.map.get(et)||null}keys(){return this.init(),Array.from(this.map.keys())}append(et,vt){return this.clone({param:et,value:vt,op:"a"})}appendAll(et){const vt=[];return Object.keys(et).forEach(tt=>{const dt=et[tt];Array.isArray(dt)?dt.forEach(Gt=>{vt.push({param:tt,value:Gt,op:"a"})}):vt.push({param:tt,value:dt,op:"a"})}),this.clone(vt)}set(et,vt){return this.clone({param:et,value:vt,op:"s"})}delete(et,vt){return this.clone({param:et,value:vt,op:"d"})}toString(){return this.init(),this.keys().map(et=>{const vt=this.encoder.encodeKey(et);return this.map.get(et).map(tt=>vt+"="+this.encoder.encodeValue(tt)).join("&")}).filter(et=>""!==et).join("&")}clone(et){const vt=new ye({encoder:this.encoder});return vt.cloneFrom=this.cloneFrom||this,vt.updates=(this.updates||[]).concat(et),vt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(et=>this.map.set(et,this.cloneFrom.map.get(et))),this.updates.forEach(et=>{switch(et.op){case"a":case"s":const vt=("a"===et.op?this.map.get(et.param):void 0)||[];vt.push(Ke(et.value)),this.map.set(et.param,vt);break;case"d":if(void 0===et.value){this.map.delete(et.param);break}{let tt=this.map.get(et.param)||[];const dt=tt.indexOf(Ke(et.value));-1!==dt&&tt.splice(dt,1),tt.length>0?this.map.set(et.param,tt):this.map.delete(et.param)}}}),this.cloneFrom=this.updates=null)}}class W{constructor(){this.map=new Map}set(et,vt){return this.map.set(et,vt),this}get(et){return this.map.has(et)||this.map.set(et,et.defaultValue()),this.map.get(et)}delete(et){return this.map.delete(et),this}has(et){return this.map.has(et)}keys(){return this.map.keys()}}function qe(Qe){return typeof ArrayBuffer<"u"&&Qe instanceof ArrayBuffer}function Ee(Qe){return typeof Blob<"u"&&Qe instanceof Blob}function It(Qe){return typeof FormData<"u"&&Qe instanceof FormData}class Nt{constructor(et,vt,tt,dt){let Gt;if(this.url=vt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=et.toUpperCase(),function Pe(Qe){switch(Qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||dt?(this.body=void 0!==tt?tt:null,Gt=dt):Gt=tt,Gt&&(this.reportProgress=!!Gt.reportProgress,this.withCredentials=!!Gt.withCredentials,Gt.responseType&&(this.responseType=Gt.responseType),Gt.headers&&(this.headers=Gt.headers),Gt.context&&(this.context=Gt.context),Gt.params&&(this.params=Gt.params)),this.headers||(this.headers=new yt),this.context||(this.context=new W),this.params){const an=this.params.toString();if(0===an.length)this.urlWithParams=vt;else{const Kn=vt.indexOf("?");this.urlWithParams=vt+(-1===Kn?"?":Kn<vt.length-1?"&":"")+an}}else this.params=new ye,this.urlWithParams=vt}serializeBody(){return null===this.body?null:qe(this.body)||Ee(this.body)||It(this.body)||function Ht(Qe){return typeof URLSearchParams<"u"&&Qe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||It(this.body)?null:Ee(this.body)?this.body.type||null:qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(et={}){const vt=et.method||this.method,tt=et.url||this.url,dt=et.responseType||this.responseType,Gt=void 0!==et.body?et.body:this.body,an=void 0!==et.withCredentials?et.withCredentials:this.withCredentials,Kn=void 0!==et.reportProgress?et.reportProgress:this.reportProgress;let bn=et.headers||this.headers,_i=et.params||this.params;const ur=et.context??this.context;return void 0!==et.setHeaders&&(bn=Object.keys(et.setHeaders).reduce((Ki,pr)=>Ki.set(pr,et.setHeaders[pr]),bn)),et.setParams&&(_i=Object.keys(et.setParams).reduce((Ki,pr)=>Ki.set(pr,et.setParams[pr]),_i)),new Nt(vt,tt,Gt,{params:_i,headers:bn,context:ur,reportProgress:Kn,responseType:dt,withCredentials:an})}}var Cn=function(Qe){return Qe[Qe.Sent=0]="Sent",Qe[Qe.UploadProgress=1]="UploadProgress",Qe[Qe.ResponseHeader=2]="ResponseHeader",Qe[Qe.DownloadProgress=3]="DownloadProgress",Qe[Qe.Response=4]="Response",Qe[Qe.User=5]="User",Qe}(Cn||{});class Mn{constructor(et,vt=200,tt="OK"){this.headers=et.headers||new yt,this.status=void 0!==et.status?et.status:vt,this.statusText=et.statusText||tt,this.url=et.url||null,this.ok=this.status>=200&&this.status<300}}class ni extends Mn{constructor(et={}){super(et),this.type=Cn.ResponseHeader}clone(et={}){return new ni({headers:et.headers||this.headers,status:void 0!==et.status?et.status:this.status,statusText:et.statusText||this.statusText,url:et.url||this.url||void 0})}}class wn extends Mn{constructor(et={}){super(et),this.type=Cn.Response,this.body=void 0!==et.body?et.body:null}clone(et={}){return new wn({body:void 0!==et.body?et.body:this.body,headers:et.headers||this.headers,status:void 0!==et.status?et.status:this.status,statusText:et.statusText||this.statusText,url:et.url||this.url||void 0})}}class Ln extends Mn{constructor(et){super(et,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${et.url||"(unknown url)"}`:`Http failure response for ${et.url||"(unknown url)"}: ${et.status} ${et.statusText}`,this.error=et.error||null}}function jn(Qe,et){return{body:et,headers:Qe.headers,context:Qe.context,observe:Qe.observe,params:Qe.params,reportProgress:Qe.reportProgress,responseType:Qe.responseType,withCredentials:Qe.withCredentials}}let kt=(()=>{class Qe{constructor(vt){this.handler=vt}request(vt,tt,dt={}){let Gt;if(vt instanceof Nt)Gt=vt;else{let bn,_i;bn=dt.headers instanceof yt?dt.headers:new yt(dt.headers),dt.params&&(_i=dt.params instanceof ye?dt.params:new ye({fromObject:dt.params})),Gt=new Nt(vt,tt,void 0!==dt.body?dt.body:null,{headers:bn,context:dt.context,params:_i,reportProgress:dt.reportProgress,responseType:dt.responseType||"json",withCredentials:dt.withCredentials})}const an=(0,ne.of)(Gt).pipe((0,we.b)(bn=>this.handler.handle(bn)));if(vt instanceof Nt||"events"===dt.observe)return an;const Kn=an.pipe((0,Ge.h)(bn=>bn instanceof wn));switch(dt.observe||"body"){case"body":switch(Gt.responseType){case"arraybuffer":return Kn.pipe((0,$e.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bn.body}));case"blob":return Kn.pipe((0,$e.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof Blob))throw new Error("Response is not a Blob.");return bn.body}));case"text":return Kn.pipe((0,$e.U)(bn=>{if(null!==bn.body&&"string"!=typeof bn.body)throw new Error("Response is not a string.");return bn.body}));default:return Kn.pipe((0,$e.U)(bn=>bn.body))}case"response":return Kn;default:throw new Error(`Unreachable: unhandled observe type ${dt.observe}}`)}}delete(vt,tt={}){return this.request("DELETE",vt,tt)}get(vt,tt={}){return this.request("GET",vt,tt)}head(vt,tt={}){return this.request("HEAD",vt,tt)}jsonp(vt,tt){return this.request("JSONP",vt,{params:(new ye).append(tt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(vt,tt={}){return this.request("OPTIONS",vt,tt)}patch(vt,tt,dt={}){return this.request("PATCH",vt,jn(dt,tt))}post(vt,tt,dt={}){return this.request("POST",vt,jn(dt,tt))}put(vt,tt,dt={}){return this.request("PUT",vt,jn(dt,tt))}static#e=this.\u0275fac=function(tt){return new(tt||Qe)(a.LFG(Fe))};static#t=this.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})();function St(Qe,et){return et(Qe)}function Bt(Qe,et){return(vt,tt)=>et.intercept(vt,{handle:dt=>Qe(dt,tt)})}const Ut=new a.OlP(""),Pn=new a.OlP(""),Lt=new a.OlP("");function Wt(){let Qe=null;return(et,vt)=>{null===Qe&&(Qe=((0,a.f3M)(Ut,{optional:!0})??[]).reduceRight(Bt,St));const tt=(0,a.f3M)(a.HDt),dt=tt.add();return Qe(et,vt).pipe((0,Le.x)(()=>tt.remove(dt)))}}let _e=(()=>{class Qe extends Fe{constructor(vt,tt){super(),this.backend=vt,this.injector=tt,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(vt){if(null===this.chain){const dt=Array.from(new Set([...this.injector.get(Pn),...this.injector.get(Lt,[])]));this.chain=dt.reduceRight((Gt,an)=>function yn(Qe,et,vt){return(tt,dt)=>vt.runInContext(()=>et(tt,Gt=>Qe(Gt,dt)))}(Gt,an,this.injector),St)}const tt=this.pendingTasks.add();return this.chain(vt,dt=>this.backend.handle(dt)).pipe((0,Le.x)(()=>this.pendingTasks.remove(tt)))}static#e=this.\u0275fac=function(tt){return new(tt||Qe)(a.LFG(Ye),a.LFG(a.lqb))};static#t=this.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})();const je=/^\)\]\}',?\n/;let At=(()=>{class Qe{constructor(vt){this.xhrFactory=vt}handle(vt){if("JSONP"===vt.method)throw new a.vHH(-2800,!1);const tt=this.xhrFactory;return(tt.\u0275loadImpl?(0,O.D)(tt.\u0275loadImpl()):(0,ne.of)(null)).pipe((0,ze.w)(()=>new w.y(Gt=>{const an=tt.build();if(an.open(vt.method,vt.urlWithParams),vt.withCredentials&&(an.withCredentials=!0),vt.headers.forEach((or,cr)=>an.setRequestHeader(or,cr.join(","))),vt.headers.has("Accept")||an.setRequestHeader("Accept","application/json, text/plain, */*"),!vt.headers.has("Content-Type")){const or=vt.detectContentTypeHeader();null!==or&&an.setRequestHeader("Content-Type",or)}if(vt.responseType){const or=vt.responseType.toLowerCase();an.responseType="json"!==or?or:"text"}const Kn=vt.serializeBody();let bn=null;const _i=()=>{if(null!==bn)return bn;const or=an.statusText||"OK",cr=new yt(an.getAllResponseHeaders()),ts=function mt(Qe){return"responseURL"in Qe&&Qe.responseURL?Qe.responseURL:/^X-Request-URL:/m.test(Qe.getAllResponseHeaders())?Qe.getResponseHeader("X-Request-URL"):null}(an)||vt.url;return bn=new ni({headers:cr,status:an.status,statusText:or,url:ts}),bn},ur=()=>{let{headers:or,status:cr,statusText:ts,url:jr}=_i(),Mi=null;204!==cr&&(Mi=typeof an.response>"u"?an.responseText:an.response),0===cr&&(cr=Mi?200:0);let Zr=cr>=200&&cr<300;if("json"===vt.responseType&&"string"==typeof Mi){const Hs=Mi;Mi=Mi.replace(je,"");try{Mi=""!==Mi?JSON.parse(Mi):null}catch(Gs){Mi=Hs,Zr&&(Zr=!1,Mi={error:Gs,text:Mi})}}Zr?(Gt.next(new wn({body:Mi,headers:or,status:cr,statusText:ts,url:jr||void 0})),Gt.complete()):Gt.error(new Ln({error:Mi,headers:or,status:cr,statusText:ts,url:jr||void 0}))},Ki=or=>{const{url:cr}=_i(),ts=new Ln({error:or,status:an.status||0,statusText:an.statusText||"Unknown Error",url:cr||void 0});Gt.error(ts)};let pr=!1;const Hr=or=>{pr||(Gt.next(_i()),pr=!0);let cr={type:Cn.DownloadProgress,loaded:or.loaded};or.lengthComputable&&(cr.total=or.total),"text"===vt.responseType&&an.responseText&&(cr.partialText=an.responseText),Gt.next(cr)},qs=or=>{let cr={type:Cn.UploadProgress,loaded:or.loaded};or.lengthComputable&&(cr.total=or.total),Gt.next(cr)};return an.addEventListener("load",ur),an.addEventListener("error",Ki),an.addEventListener("timeout",Ki),an.addEventListener("abort",Ki),vt.reportProgress&&(an.addEventListener("progress",Hr),null!==Kn&&an.upload&&an.upload.addEventListener("progress",qs)),an.send(Kn),Gt.next({type:Cn.Sent}),()=>{an.removeEventListener("error",Ki),an.removeEventListener("abort",Ki),an.removeEventListener("load",ur),an.removeEventListener("timeout",Ki),vt.reportProgress&&(an.removeEventListener("progress",Hr),null!==Kn&&an.upload&&an.upload.removeEventListener("progress",qs)),an.readyState!==an.DONE&&an.abort()}})))}static#e=this.\u0275fac=function(tt){return new(tt||Qe)(a.LFG(H.JF))};static#t=this.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})();const rn=new a.OlP("XSRF_ENABLED"),gn=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),An=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ci{}let xi=(()=>{class Qe{constructor(vt,tt,dt){this.doc=vt,this.platform=tt,this.cookieName=dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const vt=this.doc.cookie||"";return vt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,H.Mx)(vt,this.cookieName),this.lastCookieString=vt),this.lastToken}static#e=this.\u0275fac=function(tt){return new(tt||Qe)(a.LFG(H.K0),a.LFG(a.Lbi),a.LFG(gn))};static#t=this.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac})}return Qe})();function Li(Qe,et){const vt=Qe.url.toLowerCase();if(!(0,a.f3M)(rn)||"GET"===Qe.method||"HEAD"===Qe.method||vt.startsWith("http://")||vt.startsWith("https://"))return et(Qe);const tt=(0,a.f3M)(Ci).getToken(),dt=(0,a.f3M)(An);return null!=tt&&!Qe.headers.has(dt)&&(Qe=Qe.clone({headers:Qe.headers.set(dt,tt)})),et(Qe)}var sn=function(Qe){return Qe[Qe.Interceptors=0]="Interceptors",Qe[Qe.LegacyInterceptors=1]="LegacyInterceptors",Qe[Qe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Qe[Qe.NoXsrfProtection=3]="NoXsrfProtection",Qe[Qe.JsonpSupport=4]="JsonpSupport",Qe[Qe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Qe[Qe.Fetch=6]="Fetch",Qe}(sn||{});function tn(...Qe){const et=[kt,At,_e,{provide:Fe,useExisting:_e},{provide:Ye,useExisting:At},{provide:Pn,useValue:Li,multi:!0},{provide:rn,useValue:!0},{provide:Ci,useClass:xi}];for(const vt of Qe)et.push(...vt.\u0275providers);return(0,a.MR2)(et)}const xn=new a.OlP("LEGACY_INTERCEPTOR_FN");function zn(){return function ci(Qe,et){return{\u0275kind:Qe,\u0275providers:et}}(sn.LegacyInterceptors,[{provide:xn,useFactory:Wt},{provide:Pn,useExisting:xn,multi:!0}])}let G=(()=>{class Qe{static#e=this.\u0275fac=function(tt){return new(tt||Qe)};static#t=this.\u0275mod=a.oAB({type:Qe});static#n=this.\u0275inj=a.cJS({providers:[tn(zn())]})}return Qe})()},5879:(Sn,Et,R)=>{R.d(Et,{$8M:()=>Gc,$WT:()=>Ar,$Z:()=>Kh,AFp:()=>Tg,ALo:()=>tw,AaK:()=>Ye,Akn:()=>ad,AsE:()=>G_,B6R:()=>Zi,BQk:()=>rg,CHM:()=>Ys,CRH:()=>vw,DdM:()=>WE,EJc:()=>kx,EiD:()=>zs,EpF:()=>Gb,F$t:()=>my,F4k:()=>fy,FYo:()=>gp,FiY:()=>Ml,Gf:()=>gw,GfV:()=>vm,GkF:()=>sg,Gpc:()=>Xe,Gre:()=>o,HDt:()=>Hw,Hsn:()=>gy,Ikx:()=>l0,JOm:()=>Ac,JVY:()=>av,JZr:()=>Ke,KtG:()=>vi,L6k:()=>pf,LAX:()=>xd,LFG:()=>ot,LMc:()=>WT,LSH:()=>td,Lbi:()=>Ig,Lck:()=>CD,MAs:()=>ly,MGl:()=>og,MMx:()=>VE,MR2:()=>Nl,NdJ:()=>O_,O4$:()=>Bc,Ojb:()=>dv,OlP:()=>gn,Oqu:()=>hg,P3R:()=>ih,PXZ:()=>lT,Q2q:()=>Op,Q6J:()=>eg,QGY:()=>M_,QbO:()=>Xy,Qsj:()=>_p,R0b:()=>il,RDi:()=>nl,Rgc:()=>nv,SBq:()=>qd,SDv:()=>OE,Sil:()=>Fx,Suo:()=>_w,TTD:()=>pi,TgZ:()=>tg,Tol:()=>Bf,Udp:()=>Ll,VKq:()=>YE,VuI:()=>GT,W1O:()=>ww,WLB:()=>KE,X6Q:()=>gT,XFs:()=>Pt,Xpm:()=>io,Xq5:()=>w_,Xts:()=>nd,Y36:()=>hh,YKP:()=>FE,YNc:()=>Hb,Yjl:()=>As,Yz7:()=>Ut,Z0I:()=>_e,ZZ4:()=>H0,_Bn:()=>NE,_UZ:()=>A_,_Vd:()=>pp,_c5:()=>OT,_uU:()=>Oy,aQg:()=>j0,c2e:()=>Uw,cJS:()=>Lt,cg1:()=>c0,dDg:()=>rT,dqk:()=>At,eBb:()=>nh,eFA:()=>Qw,eJc:()=>x0,ekj:()=>dg,eoX:()=>Yw,f3M:()=>We,g9A:()=>am,gHi:()=>bm,h0i:()=>qp,hGG:()=>kT,hij:()=>Kp,iGM:()=>mw,ifc:()=>an,ip1:()=>Bw,jDz:()=>BE,kEZ:()=>ZE,kL8:()=>oE,kcU:()=>Uc,ktI:()=>bp,lG2:()=>co,lcZ:()=>nw,lnq:()=>$_,lqb:()=>kc,lri:()=>$w,mCW:()=>S,n5z:()=>Gl,n_E:()=>Uy,oAB:()=>Tr,oxw:()=>Zb,pB0:()=>nm,q3G:()=>Io,q4F:()=>ym,qFp:()=>YT,qLn:()=>Jd,qOj:()=>Uo,qZA:()=>ng,qzn:()=>Uh,rWj:()=>Ww,rg0:()=>cn,s9C:()=>_y,sBO:()=>_T,s_b:()=>zy,soG:()=>$y,tb:()=>N0,tp0:()=>vc,uIk:()=>C_,vHH:()=>ye,vpe:()=>rd,wAp:()=>pg,xi3:()=>iw,xp6:()=>Rm,ynx:()=>ig,z2F:()=>vg,z3N:()=>ed,zSh:()=>oh,zW0:()=>qv,zs3:()=>Id});var a=R(8645),ne=R(7394),O=R(5592),w=R(3019),we=R(5619),Ge=R(2096),$e=R(3020),Le=R(4664),ze=R(3997);function H(t){for(let i in t)if(t[i]===H)return i;throw Error("Could not find renamed property on target object.")}function Fe(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function Ye(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ye).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function yt(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const ke=H({__forward_ref__:H});function Xe(t){return t.__forward_ref__=Xe,t.toString=function(){return Ye(this())},t}function ut(t){return ht(t)?t():t}function ht(t){return"function"==typeof t&&t.hasOwnProperty(ke)&&t.__forward_ref__===Xe}function Ot(t){return t&&!!t.\u0275providers}const Ke="https://g.co/ng/security#xss";class ye extends Error{constructor(i,s){super(function rt(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,s)),this.code=i}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function Ht(t,i){throw new ye(-201,!1)}function Ze(t,i,s,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}function Ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wt(t){return Ue(t,pn)||Ue(t,Qn)}function _e(t){return null!==Wt(t)}function Ue(t,i){return t.hasOwnProperty(i)?t[i]:null}function $t(t){return t&&(t.hasOwnProperty(dn)||t.hasOwnProperty(ai))?t[dn]:null}const pn=H({\u0275prov:H}),dn=H({\u0275inj:H}),Qn=H({ngInjectableDef:H}),ai=H({ngInjectorDef:H});var Pt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Pt||{});let Ie;function xe(){return Ie}function Ve(t){const i=Ie;return Ie=t,i}function je(t,i,s){const l=Wt(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Pt.Optional?null:void 0!==i?i:void Ht(Ye(t))}const At=globalThis;class gn{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ut({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zn={},Ri="__NG_DI_FLAG__",Yi="ngTempTokenPath",ue=/\n/gm,F="__source";let G;function gt(t){const i=G;return G=t,i}function nt(t,i=Pt.Default){if(void 0===G)throw new ye(-203,!1);return null===G?je(t,void 0,i):G.get(t,i&Pt.Optional?null:void 0,i)}function ot(t,i=Pt.Default){return(xe()||nt)(ut(t),i)}function We(t,i=Pt.Default){return ot(t,st(i))}function st(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jt(t){const i=[];for(let s=0;s<t.length;s++){const l=ut(t[s]);if(Array.isArray(l)){if(0===l.length)throw new ye(900,!1);let f,v=Pt.Default;for(let I=0;I<l.length;I++){const V=l[I],Y=et(V);"number"==typeof Y?-1===Y?f=V.token:v|=Y:f=V}i.push(ot(f,v))}else i.push(ot(l))}return i}function Qe(t,i){return t[Ri]=i,t.prototype[Ri]=i,t}function et(t){return t[Ri]}function dt(t){return{toString:t}.toString()}var Gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gt||{}),an=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(an||{});const Kn={},bn=[],_i=H({\u0275cmp:H}),ur=H({\u0275dir:H}),Ki=H({\u0275pipe:H}),pr=H({\u0275mod:H}),Hr=H({\u0275fac:H}),qs=H({__NG_ELEMENT_ID__:H}),or=H({__NG_ENV_ID__:H});function cr(t,i,s){let l=t.length;for(;;){const f=t.indexOf(i,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const v=i.length;if(f+v===l||t.charCodeAt(f+v)<=32)return f}s=f+1}}function ts(t,i,s){let l=0;for(;l<s.length;){const f=s[l];if("number"==typeof f){if(0!==f)break;l++;const v=s[l++],I=s[l++],V=s[l++];t.setAttribute(i,I,V,v)}else{const v=f,I=s[++l];Mi(v)?t.setProperty(i,v,I):t.setAttribute(i,v,I),l++}}return l}function jr(t){return 3===t||4===t||6===t}function Mi(t){return 64===t.charCodeAt(0)}function Zr(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const f=i[l];"number"==typeof f?s=f:0===s||Hs(t,s,f,null,-1===s||2===s?i[++l]:null)}}return t}function Hs(t,i,s,l,f){let v=0,I=t.length;if(-1===i)I=-1;else for(;v<t.length;){const V=t[v++];if("number"==typeof V){if(V===i){I=-1;break}if(V>i){I=v-1;break}}}for(;v<t.length;){const V=t[v];if("number"==typeof V)break;if(V===s){if(null===l)return void(null!==f&&(t[v+1]=f));if(l===t[v+1])return void(t[v+2]=f)}v++,null!==l&&v++,null!==f&&v++}-1!==I&&(t.splice(I,0,i),v=I+1),t.splice(v++,0,s),null!==l&&t.splice(v++,0,l),null!==f&&t.splice(v++,0,f)}const Gs="ng-template";function Is(t,i,s){let l=0,f=!0;for(;l<t.length;){let v=t[l++];if("string"==typeof v&&f){const I=t[l++];if(s&&"class"===v&&-1!==cr(I.toLowerCase(),i,0))return!0}else{if(1===v){for(;l<t.length&&"string"==typeof(v=t[l++]);)if(v.toLowerCase()===i)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function no(t){return 4===t.type&&t.value!==Gs}function xr(t,i,s){return i===(4!==t.type||s?t.value:Gs)}function us(t,i,s){let l=4;const f=t.attrs||[],v=function lo(t){for(let i=0;i<t.length;i++)if(jr(t[i]))return i;return t.length}(f);let I=!1;for(let V=0;V<i.length;V++){const Y=i[V];if("number"!=typeof Y){if(!I)if(4&l){if(l=2|1&l,""!==Y&&!xr(t,Y,s)||""===Y&&1===i.length){if(zr(l))return!1;I=!0}}else{const he=8&l?Y:i[++V];if(8&l&&null!==t.attrs){if(!Is(t.attrs,he,s)){if(zr(l))return!1;I=!0}continue}const ft=ir(8&l?"class":Y,f,no(t),s);if(-1===ft){if(zr(l))return!1;I=!0;continue}if(""!==he){let Kt;Kt=ft>v?"":f[ft+1].toLowerCase();const nn=8&l?Kt:null;if(nn&&-1!==cr(nn,he,0)||2&l&&he!==Kt){if(zr(l))return!1;I=!0}}}}else{if(!I&&!zr(l)&&!zr(Y))return!1;if(I&&zr(Y))continue;I=!1,l=Y|1&l}}return zr(l)||I}function zr(t){return 0==(1&t)}function ir(t,i,s,l){if(null===i)return-1;let f=0;if(l||!s){let v=!1;for(;f<i.length;){const I=i[f];if(I===t)return f;if(3===I||6===I)v=!0;else{if(1===I||2===I){let V=i[++f];for(;"string"==typeof V;)V=i[++f];continue}if(4===I)break;if(0===I){f+=4;continue}}f+=v?1:2}return-1}return function Ss(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const l=t[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,t)}function Po(t,i,s=!1){for(let l=0;l<i.length;l++)if(us(t,i[l],s))return!0;return!1}function $s(t,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(t.length===l.length){for(let f=0;f<t.length;f++)if(t[f]!==l[f])continue e;return!0}}return!1}function ys(t,i){return t?":not("+i.trim()+")":i}function Zo(t){let i=t[0],s=1,l=2,f="",v=!1;for(;s<t.length;){let I=t[s];if("string"==typeof I)if(2&l){const V=t[++s];f+="["+I+(V.length>0?'="'+V+'"':"")+"]"}else 8&l?f+="."+I:4&l&&(f+=" "+I);else""!==f&&!zr(I)&&(i+=ys(v,f),f=""),l=I,v=v||!zr(l);s++}return""!==f&&(i+=ys(v,f)),i}function io(t){return dt(()=>{const i=is(t),s={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,styles:t.styles||bn,_:null,schemas:t.schemas||null,tView:null,id:""};bs(s);const l=t.dependencies;return s.directiveDefs=So(l,!1),s.pipeDefs=So(l,!0),s.id=function Ho(t){let i=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)i=Math.imul(31,i)+f.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(s),s})}function Zi(t,i,s){const l=t.\u0275cmp;l.directiveDefs=So(i,!1),l.pipeDefs=So(s,!0)}function Ui(t){return ki(t)||Hi(t)}function Oi(t){return null!==t}function Tr(t){return dt(()=>({type:t.type,bootstrap:t.bootstrap||bn,declarations:t.declarations||bn,imports:t.imports||bn,exports:t.exports||bn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Fs(t,i){if(null==t)return Kn;const s={};for(const l in t)if(t.hasOwnProperty(l)){let f=t[l],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),s[f]=l,i&&(i[f]=v)}return s}function co(t){return dt(()=>{const i=is(t);return bs(i),i})}function As(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ki(t){return t[_i]||null}function Hi(t){return t[ur]||null}function di(t){return t[Ki]||null}function Ar(t){const i=ki(t)||Hi(t)||di(t);return null!==i&&i.standalone}function ns(t,i){const s=t[pr]||null;if(!s&&!0===i)throw new Error(`Type ${Ye(t)} does not have '\u0275mod' property.`);return s}function is(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Kn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||bn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fs(t.inputs,i),outputs:Fs(t.outputs)}}function bs(t){t.features?.forEach(i=>i(t))}function So(t,i){if(!t)return null;const s=i?di:Ui;return()=>("function"==typeof t?t():t).map(l=>s(l)).filter(Oi)}const Qi=0,Yn=1,Ti=2,Vi=3,mr=4,Qs=5,qr=6,Ta=7,Rr=8,js=9,hs=10,Vn=11,Es=12,Rs=13,Ao=14,Ji=15,Dr=16,gr=17,Eo=18,Qr=19,ul=20,Ls=21,uo=22,ho=23,jo=24,yi=25,Lr=1,zo=2,Gr=7,fs=9,Pi=11;function rs(t){return Array.isArray(t)&&"object"==typeof t[Lr]}function Ir(t){return Array.isArray(t)&&!0===t[Lr]}function pa(t){return 0!=(4&t.flags)}function $r(t){return t.componentOffset>-1}function Ms(t){return 1==(1&t.flags)}function ss(t){return!!t.template}function Ni(t){return 0!=(512&t[Ti])}function os(t,i){return t.hasOwnProperty(Hr)?t[Hr]:null}let Jr=null,so=!1;function ps(t){const i=Jr;return Jr=t,i}const wo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function aa(t){if(!ma(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Va(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function hl(t){t.dirty=!0,function Jo(t){if(void 0===t.liveConsumerNode)return;const i=so;so=!0;try{for(const s of t.liveConsumerNode)s.dirty||hl(s)}finally{so=i}}(t),t.consumerMarkedDirty?.(t)}function Ya(t){return t&&(t.nextProducerIndex=0),ps(t)}function la(t,i){if(ps(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ma(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ia(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Va(t){Xo(t);for(let i=0;i<t.producerNode.length;i++){const s=t.producerNode[i],l=t.producerLastReadVersion[i];if(l!==s.version||(aa(s),l!==s.version))return!0}return!1}function Ro(t){if(Xo(t),ma(t))for(let i=0;i<t.producerNode.length;i++)Ia(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ia(t,i){if(function Sa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Xo(t),1===t.liveConsumerNode.length)for(let l=0;l<t.producerNode.length;l++)Ia(t.producerNode[l],t.producerIndexOfThis[l]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const l=t.liveConsumerIndexOfThis[i],f=t.liveConsumerNode[i];Xo(f),f.producerIndexOfThis[l]=i}}function ma(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let po=null;function cn(t){const i=ps(null);try{return t()}finally{ps(i)}}const hi=()=>{},dr=(()=>({...wo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:hi}))();class Bi{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function pi(){return Or}function Or(t){return t.type.prototype.ngOnChanges&&(t.setInput=se),Er}function Er(){const t=T(this),i=t?.current;if(i){const s=t.previous;if(s===Kn)t.previous=i;else for(let l in i)s[l]=i[l];t.current=null,this.ngOnChanges(i)}}function se(t,i,s,l){const f=this.declaredInputs[s],v=T(t)||function Z(t,i){return t[xt]=i}(t,{previous:Kn,current:null}),I=v.current||(v.current={}),V=v.previous,Y=V[f];I[f]=new Bi(Y&&Y.currentValue,i,V===Kn),t[l]=i}pi.ngInherit=!0;const xt="__ngSimpleChanges__";function T(t){return t[xt]||null}const Tt=function(t,i,s){},fn="svg";function bi(t){for(;Array.isArray(t);)t=t[Qi];return t}function as(t,i){return bi(i[t])}function kr(t,i){return bi(i[t.index])}function wl(t,i){return t.data[i]}function ga(t,i){return t[i]}function $i(t,i){const s=i[t];return rs(s)?s:s[Qi]}function Bl(t,i){return null==i?null:t[i]}function Bn(t){t[gr]=0}function Mo(t){1024&t[Ti]||(t[Ti]|=1024,ql(t,1))}function _a(t){1024&t[Ti]&&(t[Ti]&=-1025,ql(t,-1))}function ql(t,i){let s=t[Vi];if(null===s)return;s[Qs]+=i;let l=s;for(s=s[Vi];null!==s&&(1===i&&1===l[Qs]||-1===i&&0===l[Qs]);)s[Qs]+=i,l=s,s=s[Vi]}function ui(t,i){if(256==(256&t[Ti]))throw new ye(911,!1);null===t[Ls]&&(t[Ls]=[]),t[Ls].push(i)}const A={lFrame:Xs(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vt(){return A.bindingsEnabled}function on(){return null!==A.skipHydrationRootTNode}function ln(){return A.lFrame.lView}function Nn(){return A.lFrame.tView}function Ys(t){return A.lFrame.contextLView=t,t[Rr]}function vi(t){return A.lFrame.contextLView=null,t}function er(){let t=Vr();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vr(){return A.lFrame.currentTNode}function Si(){const t=A.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function ii(t,i){const s=A.lFrame;s.currentTNode=t,s.isParent=i}function Fo(){return A.lFrame.isParent}function Wi(){A.lFrame.isParent=!1}function Js(){const t=A.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function U(){return A.lFrame.bindingIndex}function L(){return A.lFrame.bindingIndex++}function K(t){const i=A.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}function Ce(t){A.lFrame.inI18n=t}function Je(t,i){const s=A.lFrame;s.bindingIndex=s.bindingRootIndex=t,qt(i)}function qt(t){A.lFrame.currentDirectiveIndex=t}function Ai(){return A.lFrame.currentQueryIndex}function tr(t){A.lFrame.currentQueryIndex=t}function Ei(t){const i=t[Yn];return 2===i.type?i.declTNode:1===i.type?t[qr]:null}function na(t,i,s){if(s&Pt.SkipSelf){let f=i,v=t;for(;!(f=f.parent,null!==f||s&Pt.Host||(f=Ei(v),null===f||(v=v[Ao],10&f.type))););if(null===f)return!1;i=f,t=v}const l=A.lFrame=Ks();return l.currentTNode=i,l.lView=t,!0}function Xt(t){const i=Ks(),s=t[Yn];A.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Ks(){const t=A.lFrame,i=null===t?null:t.child;return null===i?Xs(t):i}function Xs(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function _o(){const t=A.lFrame;return A.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ua=_o;function Ha(){const t=_o();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function va(){return A.lFrame.selectedIndex}function Ql(t){A.lFrame.selectedIndex=t}function Oo(){const t=A.lFrame;return wl(t.tView,t.selectedIndex)}function Bc(){A.lFrame.currentNamespace=fn}function Uc(){!function Cc(){A.lFrame.currentNamespace=null}()}let $o=!0;function hc(){return $o}function al(t){$o=t}function Dc(t,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const v=t.data[s].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:V,ngAfterViewInit:Y,ngAfterViewChecked:he,ngOnDestroy:Oe}=v;I&&(t.contentHooks??=[]).push(-s,I),V&&((t.contentHooks??=[]).push(s,V),(t.contentCheckHooks??=[]).push(s,V)),Y&&(t.viewHooks??=[]).push(-s,Y),he&&((t.viewHooks??=[]).push(s,he),(t.viewCheckHooks??=[]).push(s,he)),null!=Oe&&(t.destroyHooks??=[]).push(s,Oe)}}function Hl(t,i,s){xc(t,i,3,s)}function xl(t,i,s,l){(3&t[Ti])===s&&xc(t,i,s,l)}function Jl(t,i){let s=t[Ti];(3&s)===i&&(s&=8191,s+=1,t[Ti]=s)}function xc(t,i,s,l){const v=l??-1,I=i.length-1;let V=0;for(let Y=void 0!==l?65535&t[gr]:0;Y<I;Y++)if("number"==typeof i[Y+1]){if(V=i[Y],null!=l&&V>=l)break}else i[Y]<0&&(t[gr]+=65536),(V<v||-1==v)&&(Hc(t,s,i,Y),t[gr]=(4294901760&t[gr])+Y+2),Y++}function fc(t,i){Tt(4,t,i);const s=ps(null);try{i.call(t)}finally{ps(s),Tt(5,t,i)}}function Hc(t,i,s,l){const f=s[l]<0,v=s[l+1],V=t[f?-s[l]:s[l]];f?t[Ti]>>13<t[gr]>>16&&(3&t[Ti])===i&&(t[Ti]+=8192,fc(V,v)):fc(V,v)}const Xl=-1;class jl{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Tl(t){return t!==Xl}function ec(t){return 32767&t}function pc(t,i){let s=function ud(t){return t>>16}(t),l=i;for(;s>0;)l=l[Ao],s--;return l}let ml=!0;function Ja(t){const i=ml;return ml=t,i}const Do=255,iu=5;let Il=0;const Xa={};function ll(t,i){const s=xs(t,i);if(-1!==s)return s;const l=i[Yn];l.firstCreatePass&&(t.injectorIndex=i.length,Lo(l.data,t),Lo(i,null),Lo(l.blueprint,null));const f=jc(t,i),v=t.injectorIndex;if(Tl(f)){const I=ec(f),V=pc(f,i),Y=V[Yn].data;for(let he=0;he<8;he++)i[v+he]=V[I+he]|Y[I+he]}return i[v+8]=f,v}function Lo(t,i){t.push(0,0,0,0,0,0,0,0,i)}function xs(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function jc(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,l=null,f=i;for(;null!==f;){if(l=vo(f),null===l)return Xl;if(s++,f=f[Ao],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return Xl}function gl(t,i,s){!function eo(t,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(qs)&&(l=s[qs]),null==l&&(l=s[qs]=Il++);const f=l&Do;i.data[t+(f>>iu)]|=1<<f}(t,i,s)}function zc(t,i,s){if(s&Pt.Optional||void 0!==t)return t;Ht()}function Sl(t,i,s,l){if(s&Pt.Optional&&void 0===l&&(l=null),!(s&(Pt.Self|Pt.Host))){const f=t[js],v=Ve(void 0);try{return f?f.get(i,l,s&Pt.Optional):je(i,l,s&Pt.Optional)}finally{Ve(v)}}return zc(l,0,s)}function ia(t,i,s,l=Pt.Default,f){if(null!==t){if(2048&i[Ti]&&!(l&Pt.Self)){const I=function tc(t,i,s,l,f){let v=t,I=i;for(;null!==v&&null!==I&&2048&I[Ti]&&!(512&I[Ti]);){const V=mc(v,I,s,l|Pt.Self,Xa);if(V!==Xa)return V;let Y=v.parent;if(!Y){const he=I[ul];if(he){const Oe=he.get(s,Xa,l);if(Oe!==Xa)return Oe}Y=vo(I),I=I[Ao]}v=Y}return f}(t,i,s,l,Xa);if(I!==Xa)return I}const v=mc(t,i,s,l,Xa);if(v!==Xa)return v}return Sl(i,s,l,f)}function mc(t,i,s,l,f){const v=function Tc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(qs)?t[qs]:void 0;return"number"==typeof i?i>=0?i&Do:Ic:i}(s);if("function"==typeof v){if(!na(i,t,l))return l&Pt.Host?zc(f,0,l):Sl(i,s,l,f);try{let I;if(I=v(l),null!=I||l&Pt.Optional)return I;Ht()}finally{Ua()}}else if("number"==typeof v){let I=null,V=xs(t,i),Y=Xl,he=l&Pt.Host?i[Ji][qr]:null;for((-1===V||l&Pt.SkipSelf)&&(Y=-1===V?jc(t,i):i[V+8],Y!==Xl&&_l(l,!1)?(I=i[Yn],V=ec(Y),i=pc(Y,i)):V=-1);-1!==V;){const Oe=i[Yn];if(Ts(v,V,Oe.data)){const ft=Vo(V,i,s,I,l,he);if(ft!==Xa)return ft}Y=i[V+8],Y!==Xl&&_l(l,i[Yn].data[V+8]===he)&&Ts(v,V,i)?(I=Oe,V=ec(Y),i=pc(Y,i)):V=-1}}return f}function Vo(t,i,s,l,f,v){const I=i[Yn],V=I.data[t+8],Oe=Zs(V,I,s,null==l?$r(V)&&ml:l!=I&&0!=(3&V.type),f&Pt.Host&&v===V);return null!==Oe?ja(i,I,Oe,V):Xa}function Zs(t,i,s,l,f){const v=t.providerIndexes,I=i.data,V=1048575&v,Y=t.directiveStart,Oe=v>>20,Kt=f?V+Oe:t.directiveEnd;for(let nn=l?V:V+Oe;nn<Kt;nn++){const Rn=I[nn];if(nn<Y&&s===Rn||nn>=Y&&Rn.type===s)return nn}if(f){const nn=I[Y];if(nn&&ss(nn)&&nn.type===s)return Y}return null}function ja(t,i,s,l){let f=t[s];const v=i.data;if(function Hu(t){return t instanceof jl}(f)){const I=f;I.resolving&&function qe(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new ye(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}(v[s]));const V=Ja(I.canSeeViewProviders);I.resolving=!0;const he=I.injectImpl?Ve(I.injectImpl):null;na(t,l,Pt.Default);try{f=t[s]=I.factory(void 0,v,t,l),i.firstCreatePass&&s>=l.directiveStart&&function Ul(t,i,s){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:v}=i.type.prototype;if(l){const I=Or(i);(s.preOrderHooks??=[]).push(t,I),(s.preOrderCheckHooks??=[]).push(t,I)}f&&(s.preOrderHooks??=[]).push(0-t,f),v&&((s.preOrderHooks??=[]).push(t,v),(s.preOrderCheckHooks??=[]).push(t,v))}(s,v[s],i)}finally{null!==he&&Ve(he),Ja(V),I.resolving=!1,Ua()}}return f}function Ts(t,i,s){return!!(s[i+(t>>iu)]&1<<t)}function _l(t,i){return!(t&Pt.Self||t&Pt.Host&&i)}class ls{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return ia(this._tNode,this._lView,i,st(l),s)}}function Ic(){return new ls(er(),ln())}function Gl(t){return dt(()=>{const i=t.prototype.constructor,s=i[Hr]||Ca(i),l=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==l;){const v=f[Hr]||Ca(f);if(v&&v!==s)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function Ca(t){return ht(t)?()=>{const i=Ca(ut(t));return i&&i()}:os(t)}function vo(t){const i=t[Yn],s=i.type;return 2===s?i.declTNode:1===s?t[qr]:null}function Gc(t){return function Ma(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const l=s.length;let f=0;for(;f<l;){const v=s[f];if(jr(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<l&&"string"==typeof s[f];)f++;else{if(v===i)return s[f+1];f+=2}}}return null}(er(),t)}const Al="__parameters__";function el(t,i,s){return dt(()=>{const l=function $c(t){return function(...s){if(t){const l=t(...s);for(const f in l)this[f]=l[f]}}}(i);function f(...v){if(this instanceof f)return l.apply(this,v),this;const I=new f(...v);return V.annotation=I,V;function V(Y,he,Oe){const ft=Y.hasOwnProperty(Al)?Y[Al]:Object.defineProperty(Y,Al,{value:[]})[Al];for(;ft.length<=Oe;)ft.push(null);return(ft[Oe]=ft[Oe]||[]).push(I),Y}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function gc(t,i){t.forEach(s=>Array.isArray(s)?gc(s,i):i(s))}function cu(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function vr(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Pr(t,i){const s=[];for(let l=0;l<t;l++)s.push(i);return s}function da(t,i,s){let l=rc(t,i);return l>=0?t[1|l]=s:(l=~l,function md(t,i,s,l){let f=t.length;if(f==i)t.push(s,l);else if(1===f)t.push(l,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>i;)t[f]=t[f-2],f--;t[i]=s,t[i+1]=l}}(t,l,i,s)),l}function gd(t,i){const s=rc(t,i);if(s>=0)return t[1|s]}function rc(t,i){return function Fd(t,i,s){let l=0,f=t.length>>s;for(;f!==l;){const v=l+(f-l>>1),I=t[v<<s];if(i===I)return v<<s;I>i?f=v:l=v+1}return~(f<<s)}(t,i,1)}const Ml=Qe(el("Optional"),8),vc=Qe(el("SkipSelf"),4);function lc(t){return 128==(128&t.flags)}var Ac=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ac||{});const gu=/^>|^->|<!--|-->|--!>|<!-$/g,$f=/(<|>)/g,Ud="\u200b$1\u200b";const Ah=new Map;let xo=0;const cc="__ngContext__";function Ga(t,i){rs(i)?(t[cc]=i[Qr],function Wu(t){Ah.set(t[Qr],t)}(i)):t[cc]=i}let Oh;function kh(t,i){return Oh(t,i)}function Eu(t){const i=t[Vi];return Ir(i)?i[Vi]:i}function Zu(t){return Cd(t[Es])}function wu(t){return Cd(t[mr])}function Cd(t){for(;null!==t&&!Ir(t);)t=t[mr];return t}function dc(t,i,s,l,f){if(null!=l){let v,I=!1;Ir(l)?v=l:rs(l)&&(I=!0,l=l[Qi]);const V=bi(l);0===t&&null!==s?null==f?xu(i,s,V):Xc(i,s,V,f||null,!0):1===t&&null!==s?Xc(i,s,V,f||null,!0):2===t?function Iu(t,i,s){const l=Dd(t,i);l&&function Lh(t,i,s,l){t.removeChild(i,s,l)}(t,l,i,s)}(i,V,I):3===t&&i.destroyNode(V),null!=v&&function k(t,i,s,l,f){const v=s[Gr];v!==bi(s)&&dc(i,t,l,v,f);for(let V=Pi;V<s.length;V++){const Y=s[V];u(Y[Yn],Y,t,i,l,v)}}(i,t,v,s,f)}}function Rc(t,i){return t.createText(i)}function ua(t,i){return t.createComment(function Oa(t){return t.replace(gu,i=>i.replace($f,Ud))}(i))}function ka(t,i,s){return t.createElement(i,s)}function Du(t,i){const s=t[fs],l=s.indexOf(i);_a(i),s.splice(l,1)}function Fh(t,i){if(t.length<=Pi)return;const s=Pi+i,l=t[s];if(l){const f=l[Dr];null!==f&&f!==t&&Du(f,l),i>0&&(t[s-1][mr]=l[mr]);const v=vr(t,Pi+i);!function Cu(t,i){u(t,i,i[Vn],2,null,null),i[Qi]=null,i[qr]=null}(l[Yn],l);const I=v[Eo];null!==I&&I.detachView(v[Yn]),l[Vi]=null,l[mr]=null,l[Ti]&=-129}return l}function qu(t,i){if(!(256&i[Ti])){const s=i[Vn];i[ho]&&Ro(i[ho]),i[jo]&&Ro(i[jo]),s.destroyNode&&u(t,i,s,3,null,null),function df(t){let i=t[Es];if(!i)return Jc(t[Yn],t);for(;i;){let s=null;if(rs(i))s=i[Es];else{const l=i[Pi];l&&(s=l)}if(!s){for(;i&&!i[mr]&&i!==t;)rs(i)&&Jc(i[Yn],i),i=i[Vi];null===i&&(i=t),rs(i)&&Jc(i[Yn],i),s=i&&i[mr]}i=s}}(i)}}function Jc(t,i){if(!(256&i[Ti])){i[Ti]&=-129,i[Ti]|=256,function Zf(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let l=0;l<s.length;l+=2){const f=i[s[l]];if(!(f instanceof jl)){const v=s[l+1];if(Array.isArray(v))for(let I=0;I<v.length;I+=2){const V=f[v[I]],Y=v[I+1];Tt(4,V,Y);try{Y.call(V)}finally{Tt(5,V,Y)}}else{Tt(4,f,v);try{v.call(f)}finally{Tt(5,f,v)}}}}}(t,i),function Qu(t,i){const s=t.cleanup,l=i[Ta];if(null!==s)for(let v=0;v<s.length-1;v+=2)if("string"==typeof s[v]){const I=s[v+3];I>=0?l[I]():l[-I].unsubscribe(),v+=2}else s[v].call(l[s[v+1]]);null!==l&&(i[Ta]=null);const f=i[Ls];if(null!==f){i[Ls]=null;for(let v=0;v<f.length;v++)(0,f[v])()}}(t,i),1===i[Yn].type&&i[Vn].destroy();const s=i[Dr];if(null!==s&&Ir(i[Vi])){s!==i[Vi]&&Du(s,i);const l=i[Eo];null!==l&&l.detachView(t)}!function Wf(t){Ah.delete(t[Qr])}(i)}}function Wo(t,i,s){return Gd(t,i.parent,s)}function Gd(t,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[Qi];{const{componentOffset:f}=l;if(f>-1){const{encapsulation:v}=t.data[l.directiveStart+f];if(v===an.None||v===an.Emulated)return null}return kr(l,s)}}function Xc(t,i,s,l,f){t.insertBefore(i,s,l,f)}function xu(t,i,s){t.appendChild(i,s)}function Wl(t,i,s,l,f){null!==l?Xc(t,i,s,l,f):xu(t,i,s)}function Dd(t,i){return t.parentNode(i)}function Vh(t,i,s){return Qf(t,i,s)}function hf(t,i,s){return 40&t.type?kr(t,s):null}let Bh,Ct,To,Ec,Qf=hf;function Tu(t,i){Qf=t,Bh=i}function $d(t,i,s,l){const f=Wo(t,l,i),v=i[Vn],V=Vh(l.parent||i[qr],l,i);if(null!=f)if(Array.isArray(s))for(let Y=0;Y<s.length;Y++)Wl(v,f,s[Y],V,!1);else Wl(v,f,s,V,!1);void 0!==Bh&&Bh(v,l,i,s,f)}function Wd(t,i){if(null!==i){const s=i.type;if(3&s)return kr(i,t);if(4&s)return Ju(-1,t[i.index]);if(8&s){const l=i.child;if(null!==l)return Wd(t,l);{const f=t[i.index];return Ir(f)?Ju(-1,f):bi(f)}}if(32&s)return kh(i,t)()||bi(t[i.index]);{const l=ff(t,i);return null!==l?Array.isArray(l)?l[0]:Wd(Eu(t[Ji]),l):Wd(t,i.next)}}return null}function ff(t,i){return null!==i?t[Ji][qr].projection[i.projection]:null}function Ju(t,i){const s=Pi+t+1;if(s<i.length){const l=i[s],f=l[Yn].firstChild;if(null!==f)return Wd(l,f)}return i[Gr]}function g(t,i,s,l,f,v,I){for(;null!=s;){const V=l[s.index],Y=s.type;if(I&&0===i&&(V&&Ga(bi(V),l),s.flags|=2),32!=(32&s.flags))if(8&Y)g(t,i,s.child,l,f,v,!1),dc(i,t,f,V,v);else if(32&Y){const he=kh(s,l);let Oe;for(;Oe=he();)dc(i,t,f,Oe,v);dc(i,t,f,V,v)}else 16&Y?E(t,i,l,s,f,v):dc(i,t,f,V,v);s=I?s.projectionNext:s.next}}function u(t,i,s,l,f,v){g(s,l,t.firstChild,i,f,v,!1)}function E(t,i,s,l,f,v){const I=s[Ji],Y=I[qr].projection[l.projection];if(Array.isArray(Y))for(let he=0;he<Y.length;he++)dc(i,t,f,Y[he],v);else{let he=Y;const Oe=I[Vi];lc(l)&&(he.flags|=128),g(t,i,he,Oe,f,v,!0)}}function Ne(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function lt(t,i,s){const{mergedAttrs:l,classes:f,styles:v}=s;null!==l&&ts(t,i,l),null!==f&&Ne(t,i,f),null!==v&&function ce(t,i,s){t.setAttribute(i,"style",s)}(t,i,v)}function En(t){return function vn(){if(void 0===Ct&&(Ct=null,At.trustedTypes))try{Ct=At.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ct}()?.createHTML(t)||t}function nl(t){To=t}function bl(){if(void 0!==To)return To;if(typeof document<"u")return document;throw new ye(210,!1)}function bg(t){return function Xu(){if(void 0===Ec&&(Ec=null,At.trustedTypes))try{Ec=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ec}()?.createScriptURL(t)||t}class Su{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ke})`}}class Eg extends Su{getTypeName(){return"HTML"}}class ep extends Su{getTypeName(){return"Style"}}class eh extends Su{getTypeName(){return"Script"}}class th extends Su{getTypeName(){return"URL"}}class sv extends Su{getTypeName(){return"ResourceURL"}}function ed(t){return t instanceof Su?t.changingThisBreaksApplicationSecurity:t}function Uh(t,i){const s=function ov(t){return t instanceof Su&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Ke})`)}return s===i}function av(t){return new Eg(t)}function pf(t){return new ep(t)}function nh(t){return new eh(t)}function xd(t){return new th(t)}function nm(t){return new sv(t)}function tp(t){const i=new P(t);return function d(){try{return!!(new window.DOMParser).parseFromString(En(""),"text/html")}catch{return!1}}()?new p(i):i}class p{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(En(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class P{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=En(i),s}}const _=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function S(t){return(t=String(t)).match(_)?t:"unsafe:"+t}function ae(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function ve(...t){const i={};for(const s of t)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const Ft=ae("area,br,col,hr,img,wbr"),Qt=ae("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_n=ae("rp,rt"),ti=ve(Ft,ve(Qt,ae("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ve(_n,ae("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ve(_n,Qt)),lr=ae("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gs=ve(lr,ae("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ae("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_s=ae("script,style,template");class cs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let f=this.checkClobberedElement(s,s.nextSibling);if(f){s=f;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!ti.hasOwnProperty(s))return this.sanitizedSomething=!0,!_s.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let f=0;f<l.length;f++){const v=l.item(f),I=v.name,V=I.toLowerCase();if(!gs.hasOwnProperty(V)){this.sanitizedSomething=!0;continue}let Y=v.value;lr[V]&&(Y=S(Y)),this.buf.push(" ",I,'="',Us(Y),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();ti.hasOwnProperty(s)&&!Ft.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Us(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const ds=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ks=/([^\#-~ |!])/g;function Us(t){return t.replace(/&/g,"&amp;").replace(ds,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(ks,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yo;function zs(t,i){let s=null;try{yo=yo||tp(t);let l=i?String(i):"";s=yo.getInertBodyElement(l);let f=5,v=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=v,v=s.innerHTML,s=yo.getInertBodyElement(l)}while(l!==v);return En((new cs).sanitizeChildren(Yo(s)||s))}finally{if(s){const l=Yo(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Yo(t){return"content"in t&&function Pa(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Io=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Io||{});function td(t){const i=Td();return i?i.sanitize(Io.URL,t)||"":Uh(t,"URL")?ed(t):S(W(t))}function Pl(t){const i=Td();if(i)return bg(i.sanitize(Io.RESOURCE_URL,t)||"");if(Uh(t,"ResourceURL"))return bg(ed(t));throw new ye(904,!1)}function ih(t,i,s){return function Au(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?Pl:td}(i,s)(t)}function Td(){const t=ln();return t&&t[hs].sanitizer}const nd=new gn("ENVIRONMENT_INITIALIZER"),id=new gn("INJECTOR",-1),rh=new gn("INJECTOR_DEF_TYPES");class Mu{get(i,s=zn){if(s===zn){const l=new Error(`NullInjectorError: No provider for ${Ye(i)}!`);throw l.name="NullInjectorError",l}return s}}function Nl(t){return{\u0275providers:t}}function Ou(...t){return{\u0275providers:np(0,t),\u0275fromNgModule:!0}}function np(t,...i){const s=[],l=new Set;let f;const v=I=>{s.push(I)};return gc(i,I=>{const V=I;mf(V,v,[],l)&&(f||=[],f.push(V))}),void 0!==f&&jh(f,v),s}function jh(t,i){for(let s=0;s<t.length;s++){const{ngModule:l,providers:f}=t[s];ip(f,v=>{i(v,l)})}}function mf(t,i,s,l){if(!(t=ut(t)))return!1;let f=null,v=$t(t);const I=!v&&ki(t);if(v||I){if(I&&!I.standalone)return!1;f=t}else{const Y=t.ngModule;if(v=$t(Y),!v)return!1;f=Y}const V=l.has(f);if(I){if(V)return!1;if(l.add(f),I.dependencies){const Y="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const he of Y)mf(he,i,s,l)}}else{if(!v)return!1;{if(null!=v.imports&&!V){let he;l.add(f);try{gc(v.imports,Oe=>{mf(Oe,i,s,l)&&(he||=[],he.push(Oe))})}finally{}void 0!==he&&jh(he,i)}if(!V){const he=os(f)||(()=>new f);i({provide:f,useFactory:he,deps:bn},f),i({provide:rh,useValue:f,multi:!0},f),i({provide:nd,useValue:()=>ot(f),multi:!0},f)}const Y=v.providers;if(null!=Y&&!V){const he=t;ip(Y,Oe=>{i(Oe,he)})}}}return f!==t&&void 0!==t.providers}function ip(t,i){for(let s of t)Ot(s)&&(s=s.\u0275providers),Array.isArray(s)?ip(s,i):i(s)}const wg=H({provide:String,useValue:H});function sh(t){return null!==t&&"object"==typeof t&&wg in t}function ku(t){return"function"==typeof t}const oh=new gn("Set Injector scope."),Nu={},om={};let Yd;function Kd(){return void 0===Yd&&(Yd=new Mu),Yd}class kc{}class Zd extends kc{get destroyed(){return this._destroyed}constructor(i,s,l,f){super(),this.parent=s,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xg(i,I=>this.processProvider(I)),this.records.set(id,lh(void 0,this)),f.has("environment")&&this.records.set(kc,lh(void 0,this));const v=this.records.get(oh);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(rh.multi,bn,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=gt(this),l=Ve(void 0);try{return i()}finally{gt(s),Ve(l)}}get(i,s=zn,l=Pt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(or))return i[or](this);l=st(l);const v=gt(this),I=Ve(void 0);try{if(!(l&Pt.SkipSelf)){let Y=this.records.get(i);if(void 0===Y){const he=function lv(t){return"function"==typeof t||"object"==typeof t&&t instanceof gn}(i)&&Wt(i);Y=he&&this.injectableDefInScope(he)?lh(ah(i),Nu):null,this.records.set(i,Y)}if(null!=Y)return this.hydrate(i,Y)}return(l&Pt.Self?Kd():this.parent).get(i,s=l&Pt.Optional&&s===zn?null:s)}catch(V){if("NullInjectorError"===V.name){if((V[Yi]=V[Yi]||[]).unshift(Ye(i)),v)throw V;return function vt(t,i,s,l){const f=t[Yi];throw i[F]&&f.unshift(i[F]),t.message=function tt(t,i,s,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Ye(i);if(Array.isArray(i))f=i.map(Ye).join(" -> ");else if("object"==typeof i){let v=[];for(let I in i)if(i.hasOwnProperty(I)){let V=i[I];v.push(I+":"+("string"==typeof V?JSON.stringify(V):Ye(V)))}f=`{${v.join(", ")}}`}return`${s}${l?"("+l+")":""}[${f}]: ${t.replace(ue,"\n  ")}`}("\n"+t.message,f,s,l),t.ngTokenPath=f,t[Yi]=null,t}(V,i,"R3InjectorError",this.source)}throw V}finally{Ve(I),gt(v)}}resolveInjectorInitializers(){const i=gt(this),s=Ve(void 0);try{const f=this.get(nd.multi,bn,Pt.Self);for(const v of f)v()}finally{gt(i),Ve(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(Ye(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(i){let s=ku(i=ut(i))?i:ut(i&&i.provide);const l=function rp(t){return sh(t)?lh(void 0,t.useValue):lh(sp(t),Nu)}(i);if(ku(i)||!0!==i.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=lh(void 0,Nu,!0),f.factory=()=>Jt(f.multi),this.records.set(s,f)),s=i,f.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===Nu&&(s.value=om,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ut(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function ah(t){const i=Wt(t),s=null!==i?i.factory:os(t);if(null!==s)return s;if(t instanceof gn)throw new ye(204,!1);if(t instanceof Function)return function Cg(t){const i=t.length;if(i>0)throw Pr(i,"?"),new ye(204,!1);const s=function at(t){return t&&(t[pn]||t[Qn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ye(204,!1)}function sp(t,i,s){let l;if(ku(t)){const f=ut(t);return os(f)||ah(f)}if(sh(t))l=()=>ut(t.useValue);else if(function sm(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...Jt(t.deps||[]));else if(function Fa(t){return!(!t||!t.useExisting)}(t))l=()=>ot(ut(t.useExisting));else{const f=ut(t&&(t.useClass||t.provide));if(!function Dg(t){return!!t.deps}(t))return os(f)||ah(f);l=()=>new f(...Jt(t.deps))}return l}function lh(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function xg(t,i){for(const s of t)Array.isArray(s)?xg(s,i):s&&Ot(s)?xg(s.\u0275providers,i):i(s)}const Tg=new gn("AppId",{providedIn:"root",factory:()=>cv}),cv="ng",am=new gn("Platform Initializer"),Ig=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xy=new gn("AnimationModuleType"),dv=new gn("CSP nonce",{providedIn:"root",factory:()=>bl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fm=(t,i,s)=>null;function pm(t,i,s=!1){return fm(t,i,s)}class ib{}class hv{}class sb{resolveComponentFactory(i){throw function rb(t){const i=Error(`No component factory found for ${Ye(t)}.`);return i.ngComponent=t,i}(i)}}let pp=(()=>{class t{static#e=this.NULL=new sb}return t})();function mp(){return ch(er(),ln())}function ch(t,i){return new qd(kr(t,i))}let qd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=mp}return t})();function Mg(t){return t instanceof qd?t.nativeElement:t}class gp{}let _p=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Og(){const t=ln(),s=$i(er().index,t);return(rs(s)?s:t)[Vn]}()}return t})(),mv=(()=>{class t{static#e=this.\u0275prov=Ut({token:t,providedIn:"root",factory:()=>null})}return t})();class vm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ym=new vm("16.2.12"),Qd={};function bm(t){if(!xe()&&!function be(){return G}())throw new ye(-203,!1)}function wm(t,i=null,s=null,l){const f=vv(t,i,s,l);return f.resolveInjectorInitializers(),f}function vv(t,i=null,s=null,l,f=new Set){const v=[s||bn,Ou(t)];return l=l||("object"==typeof t?void 0:Ye(t)),new Zd(v,i||Kd(),l||null,f)}let Id=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=zn;static#t=this.NULL=new Mu;static create(s,l){if(Array.isArray(s))return wm({name:""},l,s,"");{const f=s.name??"";return wm({name:f},s.parent,s.providers,f)}}static#n=this.\u0275prov=Ut({token:t,providedIn:"any",factory:()=>ot(id)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function Lg(t){return t.ngOriginalError}class Jd{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Lg(i);for(;s&&Lg(s);)s=Lg(s);return s||null}}let bp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=cb;static#t=this.__NG_ENV_ID__=s=>s}return t})();class Vg extends bp{constructor(i){super(),this._lView=i}onDestroy(i){return ui(this._lView,i),()=>function re(t,i){if(null===t[Ls])return;const s=t[Ls].indexOf(i);-1!==s&&t[Ls].splice(s,1)}(this._lView,i)}}function cb(){return new Vg(ln())}function Ug(t){return i=>{setTimeout(t,void 0,i)}}const rd=class Bg extends a.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let f=i,v=s||(()=>null),I=l;if(i&&"object"==typeof i){const Y=i;f=Y.next?.bind(Y),v=Y.error?.bind(Y),I=Y.complete?.bind(Y)}this.__isAsync&&(v=Ug(v),f&&(f=Ug(f)),I&&(I=Ug(I)));const V=super.subscribe({next:f,error:v,complete:I});return i instanceof ne.w0&&i.add(V),V}};function Hg(...t){}class il{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rd(!1),this.onMicrotaskEmpty=new rd(!1),this.onStable=new rd(!1),this.onError=new rd(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&s,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function jg(){const t="function"==typeof At.requestAnimationFrame;let i=At[t?"requestAnimationFrame":"setTimeout"],s=At[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ef(t){const i=()=>{!function zg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dh(t),t.isCheckStableRunning=!0,Xd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,f,v,I,V)=>{if(function $g(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(V))return s.invokeTask(f,v,I,V);try{return Gg(t),s.invokeTask(f,v,I,V)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||t.shouldCoalesceRunChangeDetection)&&i(),Yh(t)}},onInvoke:(s,l,f,v,I,V,Y)=>{try{return Gg(t),s.invoke(f,v,I,V,Y)}finally{t.shouldCoalesceRunChangeDetection&&i(),Yh(t)}},onHasTask:(s,l,f,v)=>{s.hasTask(f,v),l===f&&("microTask"==v.change?(t._hasPendingMicrotasks=v.microTask,dh(t),Xd(t)):"macroTask"==v.change&&(t.hasPendingMacrotasks=v.macroTask))},onHandleError:(s,l,f,v)=>(s.handleError(f,v),t.runOutsideAngular(()=>t.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!il.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(il.isInAngularZone())throw new ye(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,f){const v=this._inner,I=v.scheduleEventTask("NgZoneEvent: "+f,i,bf,Hg,Hg);try{return v.runTask(I,s,l)}finally{v.cancelTask(I)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const bf={};function Xd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Gg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yh(t){t._nesting--,Xd(t)}class db{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rd,this.onMicrotaskEmpty=new rd,this.onStable=new rd,this.onError=new rd}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,f){return i.apply(s,l)}}const bv=new gn("",{providedIn:"root",factory:Cm});function Cm(){const t=We(il);let i=!0;const s=new O.y(f=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(i),f.complete()})}),l=new O.y(f=>{let v;t.runOutsideAngular(()=>{v=t.onStable.subscribe(()=>{il.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,f.next(!0))})})});const I=t.onUnstable.subscribe(()=>{il.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{v.unsubscribe(),I.unsubscribe()}});return(0,w.T)(s,l.pipe((0,$e.B)()))}function Sd(t){return t instanceof Function?t():t}let Dm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ut({token:t,providedIn:"root",factory:()=>new t})}return t})();function Cf(t){for(;t;){t[Ti]|=64;const i=Eu(t);if(Ni(t)&&!i)return t;t=i}return null}const xv=new gn("",{providedIn:"root",factory:()=>!1});let Im=null;function Sm(t,i){return t[i]??Am()}function Iv(t,i){const s=Am();s.producerNode?.length&&(t[i]=Im,s.lView=t,Im=Sv())}const Xg={...wo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Cf(t.lView)},lView:null};function Sv(){return Object.create(Xg)}function Am(){return Im??=Sv(),Im}const Kr={};function Rm(t){Mm(Nn(),ln(),va()+t,!1)}function Mm(t,i,s,l){if(!l)if(3==(3&i[Ti])){const v=t.preOrderCheckHooks;null!==v&&Hl(i,v,s)}else{const v=t.preOrderHooks;null!==v&&xl(i,v,0,s)}Ql(s)}function hh(t,i=Pt.Default){const s=ln();return null===s?ot(t,i):ia(er(),s,ut(t),i)}function Kh(){throw new Error("invalid")}function Df(t,i,s,l,f,v,I,V,Y,he,Oe){const ft=i.blueprint.slice();return ft[Qi]=f,ft[Ti]=140|l,(null!==he||t&&2048&t[Ti])&&(ft[Ti]|=2048),Bn(ft),ft[Vi]=ft[Ao]=t,ft[Rr]=s,ft[hs]=I||t&&t[hs],ft[Vn]=V||t&&t[Vn],ft[js]=Y||t&&t[js]||null,ft[qr]=v,ft[Qr]=function Hd(){return xo++}(),ft[uo]=Oe,ft[ul]=he,ft[Ji]=2==i.type?t[Ji]:ft,ft}function xf(t,i,s,l,f){let v=t.data[i];if(null===v)v=wp(t,i,s,l,f),function oe(){return A.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=s,v.value=l,v.attrs=f;const I=Si();v.injectorIndex=null===I?-1:I.injectorIndex}return ii(v,!0),v}function wp(t,i,s,l,f){const v=Vr(),I=Fo(),Y=t.data[i]=function r_(t,i,s,l,f,v){let I=i?i.injectorIndex:-1,V=0;return on()&&(V|=128),{type:s,index:l,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:V,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?v:v&&v.parent,s,i,l,f);return null===t.firstChild&&(t.firstChild=Y),null!==v&&(I?null==v.child&&null!==Y.parent&&(v.child=Y):null===v.next&&(v.next=Y,Y.prev=v)),Y}function Pc(t,i,s,l){if(0===s)return-1;const f=i.length;for(let v=0;v<s;v++)i.push(l),t.blueprint.push(l),t.data.push(null);return f}function Om(t,i,s,l,f){const v=Sm(i,ho),I=va(),V=2&l;try{Ql(-1),V&&i.length>yi&&Mm(t,i,yi,!1),Tt(V?2:0,f);const he=V?v:null,Oe=Ya(he);try{null!==he&&(he.dirty=!1),s(l,f)}finally{la(he,Oe)}}finally{V&&null===i[ho]&&Iv(i,ho),Ql(I),Tt(V?3:1,f)}}function e_(t,i,s){if(pa(i)){const l=ps(null);try{const v=i.directiveEnd;for(let I=i.directiveStart;I<v;I++){const V=t.data[I];V.contentQueries&&V.contentQueries(1,s[I],I)}}finally{ps(l)}}}function Cp(t,i,s){Vt()&&(function Pv(t,i,s,l){const f=s.directiveStart,v=s.directiveEnd;$r(s)&&function h_(t,i,s){const l=kr(i,t),f=Rv(s);let I=16;s.signals?I=4096:s.onPush&&(I=64);const V=Ip(t,Df(t,f,null,I,l,i,null,t[hs].rendererFactory.createRenderer(l,s),null,null,null));t[i.index]=V}(i,s,t.data[f+s.componentOffset]),t.firstCreatePass||ll(s,i),Ga(l,i);const I=s.initialInputs;for(let V=f;V<v;V++){const Y=t.data[V],he=ja(i,t,V,s);Ga(he,i),null!==I&&Fv(0,V-f,he,Y,0,I),ss(Y)&&($i(s.index,i)[Rr]=ja(i,t,V,s))}}(t,i,s,kr(s,i)),64==(64&s.flags)&&Zh(t,i,s))}function t_(t,i,s=kr){const l=i.localNames;if(null!==l){let f=i.index+1;for(let v=0;v<l.length;v+=2){const I=l[v+1],V=-1===I?s(i,t):t[I];t[f++]=V}}}function Rv(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Dp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Dp(t,i,s,l,f,v,I,V,Y,he,Oe){const ft=yi+l,Kt=ft+f,nn=function mb(t,i){const s=[];for(let l=0;l<i;l++)s.push(l<t?null:Kr);return s}(ft,Kt),Rn="function"==typeof he?he():he;return nn[Yn]={type:t,blueprint:nn,template:s,queries:null,viewQuery:V,declTNode:i,data:nn.slice().fill(null,ft),bindingStartIndex:ft,expandoStartIndex:Kt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:Y,consts:Rn,incompleteFirstPass:!1,ssrId:Oe}}let km=t=>null;function s_(t,i,s,l){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const v=t[f];null===l?Ov(s,i,f,v):l.hasOwnProperty(f)&&Ov(s,i,l[f],v)}return s}function Ov(t,i,s,l){t.hasOwnProperty(s)?t[s].push(i,l):t[s]=[i,l]}function Nc(t,i,s,l,f,v,I,V){const Y=kr(i,s);let Oe,he=i.inputs;!V&&null!=he&&(Oe=he[l])?(m_(t,s,Oe,l,f),$r(i)&&function a_(t,i){const s=$i(i,t);16&s[Ti]||(s[Ti]|=64)}(s,i.index)):3&i.type&&(l=function o_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),f=null!=I?I(f,i.value||"",l):f,v.setProperty(Y,l,f))}function c_(t,i,s,l){if(Vt()){const f=null===l?null:{"":-1},v=function Pm(t,i){const s=t.directiveRegistry;let l=null,f=null;if(s)for(let v=0;v<s.length;v++){const I=s[v];if(Po(i,I.selectors,!1))if(l||(l=[]),ss(I))if(null!==I.findHostDirectiveDefs){const V=[];f=f||new Map,I.findHostDirectiveDefs(I,V,f),l.unshift(...V,I),u_(t,i,V.length)}else l.unshift(I),u_(t,i,0);else f=f||new Map,I.findHostDirectiveDefs?.(I,l,f),l.push(I)}return null===l?null:[l,f]}(t,s);let I,V;null===v?I=V=null:[I,V]=v,null!==I&&Tf(t,i,s,I,f,V),f&&function bb(t,i,s){if(i){const l=t.localNames=[];for(let f=0;f<i.length;f+=2){const v=s[i[f+1]];if(null==v)throw new ye(-301,!1);l.push(i[f],v)}}}(s,l,f)}s.mergedAttrs=Zr(s.mergedAttrs,s.attrs)}function Tf(t,i,s,l,f,v){for(let he=0;he<l.length;he++)gl(ll(s,i),t,l[he].type);!function wb(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,l.length);for(let he=0;he<l.length;he++){const Oe=l[he];Oe.providersResolver&&Oe.providersResolver(Oe)}let I=!1,V=!1,Y=Pc(t,i,l.length,null);for(let he=0;he<l.length;he++){const Oe=l[he];s.mergedAttrs=Zr(s.mergedAttrs,Oe.hostAttrs),Nm(t,s,i,Y,Oe),Eb(Y,Oe,f),null!==Oe.contentQueries&&(s.flags|=4),(null!==Oe.hostBindings||null!==Oe.hostAttrs||0!==Oe.hostVars)&&(s.flags|=64);const ft=Oe.type.prototype;!I&&(ft.ngOnChanges||ft.ngOnInit||ft.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),I=!0),!V&&(ft.ngOnChanges||ft.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),V=!0),Y++}!function vb(t,i,s){const f=i.directiveEnd,v=t.data,I=i.attrs,V=[];let Y=null,he=null;for(let Oe=i.directiveStart;Oe<f;Oe++){const ft=v[Oe],Kt=s?s.get(ft):null,Rn=Kt?Kt.outputs:null;Y=s_(ft.inputs,Oe,Y,Kt?Kt.inputs:null),he=s_(ft.outputs,Oe,he,Rn);const Jn=null===Y||null===I||no(i)?null:f_(Y,Oe,I);V.push(Jn)}null!==Y&&(Y.hasOwnProperty("class")&&(i.flags|=8),Y.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=V,i.inputs=Y,i.outputs=he}(t,s,v)}function Zh(t,i,s){const l=s.directiveStart,f=s.directiveEnd,v=s.index,I=function Yt(){return A.lFrame.currentDirectiveIndex}();try{Ql(v);for(let V=l;V<f;V++){const Y=t.data[V],he=i[V];qt(V),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&Nv(Y,he)}}finally{Ql(-1),qt(I)}}function Nv(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function u_(t,i,s){i.componentOffset=s,(t.components??=[]).push(i.index)}function Eb(t,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=t;ss(i)&&(s[""]=t)}}function Nm(t,i,s,l,f){t.data[l]=f;const v=f.factory||(f.factory=os(f.type)),I=new jl(v,ss(f),hh);t.blueprint[l]=I,s[l]=I,function yb(t,i,s,l,f){const v=f.hostBindings;if(v){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const V=~i.index;(function d_(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(I)!=V&&I.push(V),I.push(s,l,v)}}(t,i,l,Pc(t,s,f.hostVars,Kr),f)}function sd(t,i,s,l,f,v){const I=kr(t,i);!function xp(t,i,s,l,f,v,I){if(null==v)t.removeAttribute(i,f,s);else{const V=null==I?W(v):I(v,l||"",f);t.setAttribute(i,f,V,s)}}(i[Vn],I,v,t.value,s,l,f)}function Fv(t,i,s,l,f,v){const I=v[i];if(null!==I)for(let V=0;V<I.length;)Fm(l,s,I[V++],I[V++],I[V++])}function Fm(t,i,s,l,f){const v=ps(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(l)&&(f=I[l].call(i,f)),null!==t.setInput?t.setInput(i,f,s,l):i[l]=f}finally{ps(v)}}function f_(t,i,s){let l=null,f=0;for(;f<s.length;){const v=s[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(t.hasOwnProperty(v)){null===l&&(l=[]);const I=t[v];for(let V=0;V<I.length;V+=2)if(I[V]===i){l.push(v,I[V+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return l}function Tp(t,i,s,l){return[t,!0,!1,i,null,0,l,s,null,null,null]}function Lm(t,i){const s=t.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const v=s[l+1];if(-1!==v){const I=t.data[v];tr(s[l]),I.contentQueries(2,i[v],v)}}}function Ip(t,i){return t[Es]?t[Rs][mr]=i:t[Es]=i,t[Rs]=i,i}function fh(t,i,s){tr(0);const l=ps(null);try{i(t,s)}finally{ps(l)}}function Vm(t){return t[Ta]||(t[Ta]=[])}function p_(t){return t.cleanup||(t.cleanup=[])}function Bm(t,i){const s=t[js],l=s?s.get(Jd,null):null;l&&l.handleError(i)}function m_(t,i,s,l,f){for(let v=0;v<s.length;){const I=s[v++],V=s[v++];Fm(t.data[I],i[I],l,V,f)}}function Fu(t,i,s){const l=as(i,t);!function kl(t,i,s){t.setValue(i,s)}(t[Vn],l,s)}function Db(t,i){const s=$i(i,t),l=s[Yn];!function Lv(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])}(l,s);const f=s[Qi];null!==f&&null===s[uo]&&(s[uo]=pm(f,s[js])),g_(l,s,s[Rr])}function g_(t,i,s){Xt(i);try{const l=t.viewQuery;null!==l&&fh(1,l,s);const f=t.template;null!==f&&Om(t,i,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Lm(t,i),t.staticViewQueries&&fh(2,t.viewQuery,s);const v=t.components;null!==v&&function Vv(t,i){for(let s=0;s<i.length;s++)Db(t,i[s])}(i,v)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{i[Ti]&=-5,Ha()}}let Bv=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,l,f){const v=typeof Zone>"u"?null:Zone.current,I=function In(t,i,s){const l=Object.create(dr);s&&(l.consumerAllowSignalWrites=!0),l.fn=t,l.schedule=i;const f=I=>{l.cleanupFn=I};return l.ref={notify:()=>hl(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Va(l))return;l.hasRun=!0;const I=Ya(l);try{l.cleanupFn(),l.cleanupFn=hi,l.fn(f)}finally{la(l,I)}},cleanup:()=>l.cleanupFn()},l.ref}(s,he=>{this.all.has(he)&&this.queue.set(he,v)},f);let V;this.all.add(I),I.notify();const Y=()=>{I.cleanup(),V?.(),this.all.delete(I),this.queue.delete(I)};return V=l?.onDestroy(Y),{destroy:Y}}flush(){if(0!==this.queue.size)for(const[s,l]of this.queue)this.queue.delete(s),l?l.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ut({token:t,providedIn:"root",factory:()=>new t})}return t})();function Um(t,i,s){let l=s?t.styles:null,f=s?t.classes:null,v=0;if(null!==i)for(let I=0;I<i.length;I++){const V=i[I];"number"==typeof V?v=V:1==v?f=yt(f,V):2==v&&(l=yt(l,V+": "+i[++I]+";"))}s?t.styles=l:t.stylesWithoutHost=l,s?t.classes=f:t.classesWithoutHost=f}function Sp(t,i,s,l,f=!1){for(;null!==s;){const v=i[s.index];null!==v&&l.push(bi(v)),Ir(v)&&Uv(v,l);const I=s.type;if(8&I)Sp(t,i,s.child,l);else if(32&I){const V=kh(s,i);let Y;for(;Y=V();)l.push(Y)}else if(16&I){const V=ff(i,s);if(Array.isArray(V))l.push(...V);else{const Y=Eu(i[Ji]);Sp(Y[Yn],Y,V,l,!0)}}s=f?s.projectionNext:s.next}return l}function Uv(t,i){for(let s=Pi;s<t.length;s++){const l=t[s],f=l[Yn].firstChild;null!==f&&Sp(l[Yn],l,f,i)}t[Gr]!==t[Qi]&&i.push(t[Gr])}function Hm(t,i,s,l=!0){const f=i[hs],v=f.rendererFactory,I=f.afterRenderEventManager;v.begin?.(),I?.begin();try{jm(t,i,t.template,s)}catch(Y){throw l&&Bm(i,Y),Y}finally{v.end?.(),f.effectManager?.flush(),I?.end()}}function jm(t,i,s,l){const f=i[Ti];if(256!=(256&f)){i[hs].effectManager?.flush(),Xt(i);try{Bn(i),function Q(t){return A.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Om(t,i,s,2,l);const I=3==(3&f);if(I){const he=t.preOrderCheckHooks;null!==he&&Hl(i,he,null)}else{const he=t.preOrderHooks;null!==he&&xl(i,he,0,null),Jl(i,0)}if(function jv(t){for(let i=Zu(t);null!==i;i=wu(i)){if(!i[zo])continue;const s=i[fs];for(let l=0;l<s.length;l++){Mo(s[l])}}}(i),__(i,2),null!==t.contentQueries&&Lm(t,i),I){const he=t.contentCheckHooks;null!==he&&Hl(i,he)}else{const he=t.contentHooks;null!==he&&xl(i,he,1),Jl(i,1)}!function Av(t,i){const s=t.hostBindingOpCodes;if(null===s)return;const l=Sm(i,jo);try{for(let f=0;f<s.length;f++){const v=s[f];if(v<0)Ql(~v);else{const I=v,V=s[++f],Y=s[++f];Je(V,I),l.dirty=!1;const he=Ya(l);try{Y(2,i[I])}finally{la(l,he)}}}}finally{null===i[jo]&&Iv(i,jo),Ql(-1)}}(t,i);const V=t.components;null!==V&&Ps(i,V,0);const Y=t.viewQuery;if(null!==Y&&fh(2,Y,l),I){const he=t.viewCheckHooks;null!==he&&Hl(i,he)}else{const he=t.viewHooks;null!==he&&xl(i,he,2),Jl(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Ti]&=-73,_a(i)}finally{Ha()}}}function __(t,i){for(let s=Zu(t);null!==s;s=wu(s))for(let l=Pi;l<s.length;l++)Ap(s[l],i)}function zv(t,i,s){Ap($i(i,t),s)}function Ap(t,i){if(!function Ba(t){return 128==(128&t[Ti])}(t))return;const s=t[Yn],l=t[Ti];if(80&l&&0===i||1024&l||2===i)jm(s,t,s.template,t[Rr]);else if(t[Qs]>0){__(t,1);const f=s.components;null!==f&&Ps(t,f,1)}}function Ps(t,i,s){for(let l=0;l<i.length;l++)zv(t,i[l],s)}class If{get rootNodes(){const i=this._lView,s=i[Yn];return Sp(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(i){this._lView[Rr]=i}get destroyed(){return 256==(256&this._lView[Ti])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Vi];if(Ir(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(Fh(i,l),vr(s,l))}this._attachedToViewContainer=!1}qu(this._lView[Yn],this._lView)}onDestroy(i){ui(this._lView,i)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ti]&=-129}reattach(){this._lView[Ti]|=128}detectChanges(){Hm(this._lView[Yn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Nh(t,i){u(t,i,i[Vn],2,null,null)}(this._lView[Yn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=i}}class Gv extends If{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Hm(i[Yn],i,i[Rr],!1)}checkNoChanges(){}get context(){return null}}class Sf extends pp{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=ki(i);return new wc(s,this.ngModule)}}function v_(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class ha{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=st(l);const f=this.injector.get(i,Qd,l);return f!==Qd||s===Qd?f:this.parentInjector.get(i,s,l)}}class wc extends hv{get inputs(){const i=this.componentDef,s=i.inputTransforms,l=v_(i.inputs);if(null!==s)for(const f of l)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return l}get outputs(){return v_(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function br(t){return t.map(Zo).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,f){let v=(f=f||this.ngModule)instanceof kc?f:f?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const I=v?new ha(i,v):i,V=I.get(gp,null);if(null===V)throw new ye(407,!1);const ft={rendererFactory:V,sanitizer:I.get(mv,null),effectManager:I.get(Bv,null),afterRenderEventManager:I.get(Dm,null)},Kt=V.createRenderer(null,this.componentDef),nn=this.componentDef.selectors[0][0]||"div",Rn=l?function n_(t,i,s,l){const v=l.get(xv,!1)||s===an.ShadowDom,I=t.selectRootElement(i,v);return function gb(t){km(t)}(I),I}(Kt,l,this.componentDef.encapsulation,I):ka(Kt,nn,function Fl(t){const i=t.toLowerCase();return"svg"===i?fn:"math"===i?"math":null}(nn)),qi=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $n=null;null!==Rn&&($n=pm(Rn,I,!0));const Ur=Dp(0,null,null,1,0,null,null,null,null,null,null),Ns=Df(null,Ur,null,qi,null,null,ft,Kt,I,null,$n);let Ko,dd;Xt(Ns);try{const sf=this.componentDef;let yg,G0=null;sf.findHostDirectiveDefs?(yg=[],G0=new Map,sf.findHostDirectiveDefs(sf,yg,G0),yg.push(sf)):yg=[sf];const KT=function Ib(t,i){const s=t[Yn],l=yi;return t[l]=i,xf(s,l,2,"#host",null)}(Ns,Rn),ZT=function zm(t,i,s,l,f,v,I){const V=f[Yn];!function Wv(t,i,s,l){for(const f of t)i.mergedAttrs=Zr(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(Um(i,i.mergedAttrs,!0),null!==s&&lt(l,s,i))}(l,t,i,I);let Y=null;null!==i&&(Y=pm(i,f[js]));const he=v.rendererFactory.createRenderer(i,s);let Oe=16;s.signals?Oe=4096:s.onPush&&(Oe=64);const ft=Df(f,Rv(s),null,Oe,f[t.index],t,v,he,null,null,Y);return V.firstCreatePass&&u_(V,t,l.length-1),Ip(f,ft),f[t.index]=ft}(KT,Rn,sf,yg,Ns,ft,Kt);dd=wl(Ur,yi),Rn&&function Sb(t,i,s,l){if(l)ts(t,s,["ng-version",ym.full]);else{const{attrs:f,classes:v}=function bo(t){const i=[],s=[];let l=1,f=2;for(;l<t.length;){let v=t[l];if("string"==typeof v)2===f?""!==v&&i.push(v,t[++l]):8===f&&s.push(v);else{if(!zr(f))break;f=v}l++}return{attrs:i,classes:s}}(i.selectors[0]);f&&ts(t,s,f),v&&v.length>0&&Ne(t,s,v.join(" "))}}(Kt,sf,Rn,l),void 0!==s&&function b_(t,i,s){const l=t.projection=[];for(let f=0;f<i.length;f++){const v=s[f];l.push(null!=v?Array.from(v):null)}}(dd,this.ngContentSelectors,s),Ko=function y_(t,i,s,l,f,v){const I=er(),V=f[Yn],Y=kr(I,f);Tf(V,f,I,s,null,l);for(let Oe=0;Oe<s.length;Oe++)Ga(ja(f,V,I.directiveStart+Oe,I),f);Zh(V,f,I),Y&&Ga(Y,f);const he=ja(f,V,I.directiveStart+I.componentOffset,I);if(t[Rr]=f[Rr]=he,null!==v)for(const Oe of v)Oe(he,i);return e_(V,I,t),he}(ZT,sf,yg,G0,Ns,[Ab]),g_(Ur,Ns,null)}finally{Ha()}return new $v(this.componentType,Ko,ch(dd,Ns),Ns,dd)}}class $v extends ib{constructor(i,s,l,f,v){super(),this.location=l,this._rootLView=f,this._tNode=v,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Gv(f),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const v=this._rootLView;m_(v[Yn],v,f,i,s),this.previousInputValues.set(i,s),Cf($i(this._tNode.index,v))}}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ab(){const t=er();Dc(ln()[Yn],t)}function Uo(t){let i=function Yv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const l=[t];for(;i;){let f;if(ss(t))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ye(903,!1);f=i.\u0275dir}if(f){if(s){l.push(f);const I=t;I.inputs=E_(t.inputs),I.inputTransforms=E_(t.inputTransforms),I.declaredInputs=E_(t.declaredInputs),I.outputs=E_(t.outputs);const V=f.hostBindings;V&&Rb(t,V);const Y=f.viewQuery,he=f.contentQueries;if(Y&&La(t,Y),he&&Kv(t,he),Fe(t.inputs,f.inputs),Fe(t.declaredInputs,f.declaredInputs),Fe(t.outputs,f.outputs),null!==f.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),Fe(I.inputTransforms,f.inputTransforms)),ss(f)&&f.data.animation){const Oe=t.data;Oe.animation=(Oe.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let I=0;I<v.length;I++){const V=v[I];V&&V.ngInherit&&V(t),V===Uo&&(s=!1)}}i=Object.getPrototypeOf(i)}!function K0(t){let i=0,s=null;for(let l=t.length-1;l>=0;l--){const f=t[l];f.hostVars=i+=f.hostVars,f.hostAttrs=Zr(f.hostAttrs,s=Zr(s,f.hostAttrs))}}(l)}function E_(t){return t===Kn?{}:t===bn?[]:t}function La(t,i){const s=t.viewQuery;t.viewQuery=s?(l,f)=>{i(l,f),s(l,f)}:i}function Kv(t,i){const s=t.contentQueries;t.contentQueries=s?(l,f,v)=>{i(l,f,v),s(l,f,v)}:i}function Rb(t,i){const s=t.hostBindings;t.hostBindings=s?(l,f)=>{i(l,f),s(l,f)}:i}function qv(t){return i=>{i.findHostDirectiveDefs=Qv,i.hostDirectives=(Array.isArray(t)?t:t()).map(s=>"function"==typeof s?{directive:ut(s),inputs:Kn,outputs:Kn}:{directive:ut(s.directive),inputs:Jv(s.inputs),outputs:Jv(s.outputs)})}}function Qv(t,i,s){if(null!==t.hostDirectives)for(const l of t.hostDirectives){const f=Hi(l.directive);Z0(f.declaredInputs,l.inputs),Qv(f,i,s),s.set(f,l),i.push(f)}}function Jv(t){if(void 0===t||0===t.length)return Kn;const i={};for(let s=0;s<t.length;s+=2)i[t[s]]=t[s+1];return i}function Z0(t,i){for(const s in i)i.hasOwnProperty(s)&&(t[i[s]]=t[s])}function w_(t){const i=t.inputConfig,s={};for(const l in i)if(i.hasOwnProperty(l)){const f=i[l];Array.isArray(f)&&f[2]&&(s[l]=f[2])}t.inputTransforms=s}function $m(t){return!!ey(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ey(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fc(t,i,s){return t[i]=s}function Zl(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function ph(t,i,s,l){const f=Zl(t,i,s);return Zl(t,i+1,l)||f}function Mp(t,i,s,l,f){const v=ph(t,i,s,l);return Zl(t,i+2,f)||v}function C_(t,i,s,l){const f=ln();return Zl(f,L(),i)&&(Nn(),sd(Oo(),f,t,i,s,l)),C_}function Vu(t,i,s,l){return Zl(t,L(),s)?i+W(s)+l:Kr}function Op(t,i,s,l,f,v){const I=ln(),V=Vu(I,i,s,l);return V!==Kr&&sd(Oo(),I,t,V,f,v),Op}function Hb(t,i,s,l,f,v,I,V){const Y=ln(),he=Nn(),Oe=t+yi,ft=he.firstCreatePass?function Ub(t,i,s,l,f,v,I,V,Y){const he=i.consts,Oe=xf(i,t,4,I||null,Bl(he,V));c_(i,s,Oe,Bl(he,Y)),Dc(i,Oe);const ft=Oe.tView=Dp(2,Oe,l,f,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,he,null);return null!==i.queries&&(i.queries.template(i,Oe),ft.queries=i.queries.embeddedTView(Oe)),Oe}(Oe,he,Y,i,s,l,f,v,I):he.data[Oe];ii(ft,!1);const Kt=jb(he,Y,ft,t);hc()&&$d(he,Y,Kt,ft),Ga(Kt,Y),Ip(Y,Y[Oe]=Tp(Kt,Y,Kt,ft)),Ms(ft)&&Cp(he,Y,ft),null!=I&&t_(Y,ft,V)}let jb=function vh(t,i,s,l){return al(!0),i[Vn].createComment("")};function ly(t){return ga(function Qa(){return A.lFrame.contextLView}(),yi+t)}function eg(t,i,s){const l=ln();return Zl(l,L(),i)&&Nc(Nn(),Oo(),l,t,i,l[Vn],s,!1),eg}function S_(t,i,s,l,f){const I=f?"class":"style";m_(t,s,i.inputs[I],I,l)}function tg(t,i,s,l){const f=ln(),v=Nn(),I=yi+t,V=f[Vn],Y=v.firstCreatePass?function bh(t,i,s,l,f,v){const I=i.consts,Y=xf(i,t,2,l,Bl(I,f));return c_(i,s,Y,Bl(I,v)),null!==Y.attrs&&Um(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Um(Y,Y.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,Y),Y}(I,v,f,i,s,l):v.data[I],he=cy(v,f,Y,V,i,t);f[I]=he;const Oe=Ms(Y);return ii(Y,!0),lt(V,he,Y),32!=(32&Y.flags)&&hc()&&$d(v,f,he,Y),0===function X(){return A.lFrame.elementDepthCount}()&&Ga(he,f),function Se(){A.lFrame.elementDepthCount++}(),Oe&&(Cp(v,f,Y),e_(v,Y,f)),null!==l&&t_(f,Y),tg}function ng(){let t=er();Fo()?Wi():(t=t.parent,ii(t,!1));const i=t;(function Dn(t){return A.skipHydrationRootTNode===t})(i)&&function Xi(){A.skipHydrationRootTNode=null}(),function wt(){A.lFrame.elementDepthCount--}();const s=Nn();return s.firstCreatePass&&(Dc(s,t),pa(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function nu(t){return 0!=(8&t.flags)}(i)&&S_(s,i,ln(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function kd(t){return 0!=(16&t.flags)}(i)&&S_(s,i,ln(),i.stylesWithoutHost,!1),ng}function A_(t,i,s,l){return tg(t,i,s,l),ng(),A_}let cy=(t,i,s,l,f,v)=>(al(!0),ka(l,f,function pl(){return A.lFrame.currentNamespace}()));function ig(t,i,s){const l=ln(),f=Nn(),v=t+yi,I=f.firstCreatePass?function uy(t,i,s,l,f){const v=i.consts,I=Bl(v,l),V=xf(i,t,8,"ng-container",I);return null!==I&&Um(V,I,!0),c_(i,s,V,Bl(v,f)),null!==i.queries&&i.queries.elementStart(i,V),V}(v,f,l,i,s):f.data[v];ii(I,!0);const V=hy(f,l,I,t);return l[v]=V,hc()&&$d(f,l,V,I),Ga(V,l),Ms(I)&&(Cp(f,l,I),e_(f,I,l)),null!=s&&t_(l,I),ig}function rg(){let t=er();const i=Nn();return Fo()?Wi():(t=t.parent,ii(t,!1)),i.firstCreatePass&&(Dc(i,t),pa(t)&&i.queries.elementEnd(t)),rg}function sg(t,i,s){return ig(t,i,s),rg(),sg}let hy=(t,i,s,l)=>(al(!0),ua(i[Vn],""));function Gb(){return ln()}function M_(t){return!!t&&"function"==typeof t.then}function fy(t){return!!t&&"function"==typeof t.subscribe}function O_(t,i,s,l){const f=ln(),v=Nn(),I=er();return function Wb(t,i,s,l,f,v,I){const V=Ms(l),he=t.firstCreatePass&&p_(t),Oe=i[Rr],ft=Vm(i);let Kt=!0;if(3&l.type||I){const Jn=kr(l,i),wi=I?I(Jn):Jn,qi=ft.length,$n=I?Ns=>I(bi(Ns[l.index])):l.index;let Ur=null;if(!I&&V&&(Ur=function $b(t,i,s,l){const f=t.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const I=f[v];if(I===s&&f[v+1]===l){const V=i[Ta],Y=f[v+2];return V.length>Y?V[Y]:null}"string"==typeof I&&(v+=2)}return null}(t,i,f,l.index)),null!==Ur)(Ur.__ngLastListenerFn__||Ur).__ngNextListenerFn__=v,Ur.__ngLastListenerFn__=v,Kt=!1;else{v=Kb(l,i,Oe,v,!1);const Ns=s.listen(wi,f,v);ft.push(v,Ns),he&&he.push(f,$n,qi,qi+1)}}else v=Kb(l,i,Oe,v,!1);const nn=l.outputs;let Rn;if(Kt&&null!==nn&&(Rn=nn[f])){const Jn=Rn.length;if(Jn)for(let wi=0;wi<Jn;wi+=2){const Ko=i[Rn[wi]][Rn[wi+1]].subscribe(v),dd=ft.length;ft.push(v,Ko),he&&he.push(f,l.index,dd,-(dd+1))}}}(v,f,f[Vn],I,t,i,l),O_}function Yb(t,i,s,l){try{return Tt(6,i,s),!1!==s(l)}catch(f){return Bm(t,f),!1}finally{Tt(7,i,s)}}function Kb(t,i,s,l,f){return function v(I){if(I===Function)return l;Cf(t.componentOffset>-1?$i(t.index,i):i);let Y=Yb(i,s,l,I),he=v.__ngNextListenerFn__;for(;he;)Y=Yb(i,s,he,I)&&Y,he=he.__ngNextListenerFn__;return f&&!1===Y&&I.preventDefault(),Y}}function Zb(t=1){return function Cl(t){return(A.lFrame.contextLView=function Dl(t,i){for(;t>0;)i=i[Ao],t--;return i}(t,A.lFrame.contextLView))[Rr]}(t)}function qb(t,i){let s=null;const l=function ao(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let f=0;f<i.length;f++){const v=i[f];if("*"!==v){if(null===l?Po(t,v,!0):$s(l,v))return f}else s=f}return s}function my(t){const i=ln()[Ji][qr];if(!i.projection){const l=i.projection=Pr(t?t.length:1,null),f=l.slice();let v=i.child;for(;null!==v;){const I=t?qb(v,t):0;null!==I&&(f[I]?f[I].projectionNext=v:l[I]=v,f[I]=v),v=v.next}}}function gy(t,i=0,s){const l=ln(),f=Nn(),v=xf(f,yi+t,16,null,s||null);null===v.projection&&(v.projection=i),Wi(),(!l[uo]||on())&&32!=(32&v.flags)&&function h(t,i,s){E(i[Vn],0,i,s,Wo(t,s,i),Vh(s.parent||i[qr],s,i))}(f,l,v)}function _y(t,i,s){return og(t,"",i,"",s),_y}function og(t,i,s,l,f){const v=ln(),I=Vu(v,i,s,l);return I!==Kr&&Nc(Nn(),Oo(),v,t,I,v[Vn],f,!1),og}function ag(t,i){return t<<17|i<<2}function ef(t){return t>>17&32767}function P_(t){return 2|t}function Lf(t){return(131068&t)>>2}function xy(t,i){return-131069&t|i<<2}function Ty(t){return 1|t}function zp(t,i,s,l,f){const v=t[s+1],I=null===i;let V=l?ef(v):Lf(v),Y=!1;for(;0!==V&&(!1===Y||I);){const Oe=t[V+1];Xb(t[V],i)&&(Y=!0,t[V+1]=l?Ty(Oe):P_(Oe)),V=l?ef(Oe):Lf(Oe)}Y&&(t[s+1]=l?P_(v):Ty(v))}function Xb(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&rc(t,i)>=0}const dl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lg(t){return t.substring(dl.key,dl.keyEnd)}function Iy(t){return t.substring(dl.value,dl.valueEnd)}function Vf(t,i){const s=dl.textEnd;return s===i?-1:(i=dl.keyEnd=function cg(t,i,s){for(;i<s&&t.charCodeAt(i)>32;)i++;return i}(t,dl.key=i,s),tf(t,i,s))}function Ay(t,i){const s=dl.textEnd;let l=dl.key=tf(t,i,s);return s===l?-1:(l=dl.keyEnd=function e0(t,i,s){let l;for(;i<s&&(45===(l=t.charCodeAt(i))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)i++;return i}(t,l,s),l=L_(t,l,s),l=dl.value=tf(t,l,s),l=dl.valueEnd=function My(t,i,s){let l=-1,f=-1,v=-1,I=i,V=I;for(;I<s;){const Y=t.charCodeAt(I++);if(59===Y)return V;34===Y||39===Y?V=I=Eh(t,Y,I,s):i===I-4&&85===v&&82===f&&76===l&&40===Y?V=I=Eh(t,41,I,s):Y>32&&(V=I),v=f,f=l,l=-33&Y}return V}(t,l,s),L_(t,l,s))}function Ry(t){dl.key=0,dl.keyEnd=0,dl.value=0,dl.valueEnd=0,dl.textEnd=t.length}function tf(t,i,s){for(;i<s&&t.charCodeAt(i)<=32;)i++;return i}function L_(t,i,s,l){return(i=tf(t,i,s))<s&&i++,i}function Eh(t,i,s,l){let f=-1,v=s;for(;v<l;){const I=t.charCodeAt(v++);if(I==i&&92!==f)return v;f=92==I&&92===f?0:I}throw new Error}function Ll(t,i,s){return Rd(t,i,s,!1),Ll}function dg(t,i){return Rd(t,i,null,!0),dg}function ad(t){Lc(U_,Gp,t,!1)}function Gp(t,i){for(let s=function F_(t){return Ry(t),Ay(t,tf(t,0,dl.textEnd))}(i);s>=0;s=Ay(i,s))U_(t,lg(i),Iy(i))}function Bf(t){Lc(s0,wa,t,!0)}function wa(t,i){for(let s=function Sy(t){return Ry(t),Vf(t,tf(t,0,dl.textEnd))}(i);s>=0;s=Vf(i,s))da(t,lg(i),!0)}function Rd(t,i,s,l){const f=ln(),v=Nn(),I=K(2);v.firstUpdatePass&&wh(v,t,I,l),i!==Kr&&Zl(f,I,i)&&j_(v,v.data[va()],f,f[Vn],t,f[I+1]=function o0(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Ye(ed(t)))),t}(i,s),l,I)}function Lc(t,i,s,l){const f=Nn(),v=K(2);f.firstUpdatePass&&wh(f,null,v,l);const I=ln();if(s!==Kr&&Zl(I,v,s)){const V=f.data[va()];if(ug(V,l)&&!nf(f,v)){let Y=l?V.classesWithoutHost:V.stylesWithoutHost;null!==Y&&(s=yt(Y,s||"")),S_(f,V,I,s,l)}else!function H_(t,i,s,l,f,v,I,V){f===Kr&&(f=bn);let Y=0,he=0,Oe=0<f.length?f[0]:null,ft=0<v.length?v[0]:null;for(;null!==Oe||null!==ft;){const Kt=Y<f.length?f[Y+1]:void 0,nn=he<v.length?v[he+1]:void 0;let Jn,Rn=null;Oe===ft?(Y+=2,he+=2,Kt!==nn&&(Rn=ft,Jn=nn)):null===ft||null!==Oe&&Oe<ft?(Y+=2,Rn=Oe):(he+=2,Rn=ft,Jn=nn),null!==Rn&&j_(t,i,s,l,Rn,Jn,I,V),Oe=Y<f.length?f[Y]:null,ft=he<v.length?v[he]:null}}(f,V,I,I[Vn],I[v+1],I[v+1]=function r0(t,i,s){if(null==s||""===s)return bn;const l=[],f=ed(s);if(Array.isArray(f))for(let v=0;v<f.length;v++)t(l,f[v],!0);else if("object"==typeof f)for(const v in f)f.hasOwnProperty(v)&&t(l,v,f[v]);else"string"==typeof f&&i(l,f);return l}(t,i,s),l,v)}}function nf(t,i){return i>=t.expandoStartIndex}function wh(t,i,s,l){const f=t.data;if(null===f[s+1]){const v=f[va()],I=nf(t,s);ug(v,l)&&null===i&&!I&&(i=!1),i=function V_(t,i,s,l){const f=function ei(t){const i=A.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let v=l?i.residualClasses:i.residualStyles;if(null===f)0===(l?i.classBindings:i.styleBindings)&&(s=$p(s=B_(null,t,i,s,l),i.attrs,l),v=null);else{const I=i.directiveStylingLast;if(-1===I||t[I]!==f)if(s=B_(f,t,i,s,l),null===v){let Y=function rf(t,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Lf(l))return t[ef(l)]}(t,i,l);void 0!==Y&&Array.isArray(Y)&&(Y=B_(null,t,i,Y[1],l),Y=$p(Y,i.attrs,l),function t0(t,i,s,l){t[ef(s?i.classBindings:i.styleBindings)]=l}(t,i,l,Y))}else v=function n0(t,i,s){let l;const f=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<f;v++)l=$p(l,t[v].hostAttrs,s);return $p(l,i.attrs,s)}(t,i,l)}return void 0!==v&&(l?i.residualClasses=v:i.residualStyles=v),s}(f,v,i,l),function tE(t,i,s,l,f,v){let I=v?i.classBindings:i.styleBindings,V=ef(I),Y=Lf(I);t[l]=s;let Oe,he=!1;if(Array.isArray(s)?(Oe=s[1],(null===Oe||rc(s,Oe)>0)&&(he=!0)):Oe=s,f)if(0!==Y){const Kt=ef(t[V+1]);t[l+1]=ag(Kt,V),0!==Kt&&(t[Kt+1]=xy(t[Kt+1],l)),t[V+1]=function Dy(t,i){return 131071&t|i<<17}(t[V+1],l)}else t[l+1]=ag(V,0),0!==V&&(t[V+1]=xy(t[V+1],l)),V=l;else t[l+1]=ag(Y,0),0===V?V=l:t[Y+1]=xy(t[Y+1],l),Y=l;he&&(t[l+1]=P_(t[l+1])),zp(t,Oe,l,!0),zp(t,Oe,l,!1),function N_(t,i,s,l,f){const v=f?t.residualClasses:t.residualStyles;null!=v&&"string"==typeof i&&rc(v,i)>=0&&(s[l+1]=Ty(s[l+1]))}(i,Oe,t,l,v),I=ag(V,Y),v?i.classBindings=I:i.styleBindings=I}(f,v,i,s,I,l)}}function B_(t,i,s,l,f){let v=null;const I=s.directiveEnd;let V=s.directiveStylingLast;for(-1===V?V=s.directiveStart:V++;V<I&&(v=i[V],l=$p(l,v.hostAttrs,f),v!==t);)V++;return null!==t&&(s.directiveStylingLast=V),l}function $p(t,i,s){const l=s?1:2;let f=-1;if(null!==i)for(let v=0;v<i.length;v++){const I=i[v];"number"==typeof I?f=I:f===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),da(t,I,!!s||i[++v]))}return void 0===t?null:t}function U_(t,i,s){da(t,i,ed(s))}function s0(t,i,s){const l=String(i);""!==l&&!l.includes(" ")&&da(t,l,s)}function j_(t,i,s,l,f,v,I,V){if(!(3&i.type))return;const Y=t.data,he=Y[V+1],Oe=function eE(t){return 1==(1&t)}(he)?Wp(Y,i,s,f,Lf(he),I):void 0;Yp(Oe)||(Yp(v)||function X0(t){return 2==(2&t)}(he)&&(v=Wp(Y,null,s,f,V,I)),function ee(t,i,s,l,f){if(i)f?t.addClass(s,l):t.removeClass(s,l);else{let v=-1===l.indexOf("-")?void 0:Ac.DashCase;null==f?t.removeStyle(s,l,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Ac.Important),t.setStyle(s,l,f,v))}}(l,I,as(va(),s),f,v))}function Wp(t,i,s,l,f,v){const I=null===i;let V;for(;f>0;){const Y=t[f],he=Array.isArray(Y),Oe=he?Y[1]:Y,ft=null===Oe;let Kt=s[f+1];Kt===Kr&&(Kt=ft?bn:void 0);let nn=ft?gd(Kt,l):Oe===l?Kt:void 0;if(he&&!Yp(nn)&&(nn=gd(Y,l)),Yp(nn)&&(V=nn,I))return V;const Rn=t[f+1];f=I?ef(Rn):Lf(Rn)}if(null!==i){let Y=v?i.residualClasses:i.residualStyles;null!=Y&&(V=gd(Y,l))}return V}function Yp(t){return void 0!==t}function ug(t,i){return 0!=(t.flags&(i?8:16))}function Oy(t,i=""){const s=ln(),l=Nn(),f=t+yi,v=l.firstCreatePass?xf(l,f,1,i,null):l.data[f],I=z_(l,s,v,i,t);s[f]=I,hc()&&$d(l,s,I,v),ii(v,!1)}let z_=(t,i,s,l,f)=>(al(!0),Rc(i[Vn],l));function hg(t){return Kp("",t,""),hg}function Kp(t,i,s){const l=ln(),f=Vu(l,t,i,s);return f!==Kr&&Fu(l,va(),f),Kp}function G_(t,i,s,l,f){const v=ln(),I=function tu(t,i,s,l,f,v){const V=ph(t,U(),s,f);return K(2),V?i+W(s)+l+W(f)+v:Kr}(v,t,i,s,l,f);return I!==Kr&&Fu(v,va(),I),G_}function $_(t,i,s,l,f,v,I){const V=ln(),Y=function Jh(t,i,s,l,f,v,I,V){const he=Mp(t,U(),s,f,I);return K(3),he?i+W(s)+l+W(f)+v+W(I)+V:Kr}(V,t,i,s,l,f,v,I);return Y!==Kr&&Fu(V,va(),Y),$_}function o(t,i,s){Lc(da,wa,Vu(ln(),t,i,s),!0)}function l0(t,i,s){const l=ln();return Zl(l,L(),i)&&Nc(Nn(),Oo(),l,t,i,l[Vn],s,!0),l0}const Zp=void 0;var DC=["en",[["a","p"],["AM","PM"],Zp],[["AM","PM"],Zp,Zp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zp,"{1} 'at' {0}",Zp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CC(t){const s=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let fg={};function c0(t){const i=function xC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=aE(i);if(s)return s;const l=i.split("-")[0];if(s=aE(l),s)return s;if("en"===l)return DC;throw new ye(701,!1)}function oE(t){return c0(t)[pg.PluralCase]}function aE(t){return t in fg||(fg[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),fg[t]}var pg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pg||{});const mg="en-US",Fy={marker:"element"},Ly={marker:"ICU"};var ld=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(ld||{});let lE=mg;function cE(t){(function Mt(t,i){null==t&&Ze(i,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(lE=t.toLowerCase().replace(/_/g,"-"))}function dE(t,i,s){const l=i.insertBeforeIndex,f=Array.isArray(l)?l[0]:l;return null===f?hf(t,0,s):bi(s[f])}function uE(t,i,s,l,f){const v=i.insertBeforeIndex;if(Array.isArray(v)){let I=l,V=null;if(3&i.type||(V=I,I=f),null!==I&&-1===i.componentOffset)for(let Y=1;Y<v.length;Y++)Xc(t,I,s[v[Y]],V,!1)}}function hE(t,i){if(t.push(i),t.length>1)for(let s=t.length-2;s>=0;s--){const l=t[s];fE(l)||RC(l,i)&&null===MC(l)&&OC(l,i.index)}}function fE(t){return!(64&t.type)}function RC(t,i){return fE(i)||t.index>i.index}function MC(t){const i=t.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function OC(t,i){const s=t.insertBeforeIndex;Array.isArray(s)?s[0]=i:(Tu(dE,uE),t.insertBeforeIndex=i)}function NC(t,i,s){const l=wp(t,s,64,null,null);return hE(i,l),l}function jC(){const t=[];let s,l,i=-1;function v(V,Y){i=0;const he=function Vy(t,i){const s=i[t.currentCaseLViewIndex];return null===s?s:s<0?~s:s}(V,Y);l=null!==he?V.remove[he]:bn}function I(){if(i<l.length){const V=l[i++];return V>0?s[V]:(t.push(i,l),v(s[Yn].data[~V],s),I())}return 0===t.length?null:(l=t.pop(),i=t.pop(),I())}return function f(V,Y){for(s=Y;t.length;)t.pop();return v(V.value,Y),I}}const By=/\ufffd(\d+):?\d*\ufffd/gi,GC=/\ufffd(\d+)\ufffd/,wE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,J_="\ufffd",$C=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,WC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,YC=/\uE500/g;function CE(t,i,s,l,f,v,I){const V=Pc(t,l,1,null);let Y=V<<ld.SHIFT,he=Si();i===he&&(he=null),null===he&&(Y|=ld.APPEND_EAGERLY),I&&(Y|=ld.COMMENT,function bu(t){void 0===Oh&&(Oh=t())}(jC)),f.push(Y,null===v?"":v);const Oe=wp(t,V,I?32:1,null===v?"":v,null);hE(s,Oe);const ft=Oe.index;return ii(Oe,!1),null!==he&&i!==he&&function PC(t,i){let s=t.insertBeforeIndex;null===s?(Tu(dE,uE),s=t.insertBeforeIndex=[null,i]):(function wn(t,i,s){t!=i&&Ze(s,t,i,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(i))}(he,ft),Oe}function qC(t,i,s,l,f,v,I){const V=I.match(By),Y=CE(t,i,s,v,l,V?null:I,!1);V&&X_(f,I,Y.index,null,0,null)}function X_(t,i,s,l,f,v){const I=t.length,V=I+1;t.push(null,null);const Y=I+2,he=i.split(By);let Oe=0;for(let ft=0;ft<he.length;ft++){const Kt=he[ft];if(1&ft){const nn=f+parseInt(Kt,10);t.push(-1-nn),Oe|=DE(nn)}else""!==Kt&&t.push(Kt)}return t.push(s<<2|(l?1:0)),l&&t.push(l,v),t[I]=Oe,t[V]=t.length-Y,Oe}function DE(t){return 1<<Math.min(t,31)}function xE(t){let i,v,s="",l=0,f=!1;for(;null!==(i=$C.exec(t));)f?i[0]===`${J_}/*${v}${J_}`&&(l=i.index,f=!1):(s+=t.substring(l,i.index+i[0].length),v=i[1],f=!0);return s+=t.slice(l),s}function TE(t,i,s,l,f,v){let I=0;const V={type:f.type,currentCaseLViewIndex:Pc(t,i,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function rD(t,i,s){t.push(DE(i.mainBinding),2,-1-i.mainBinding,s<<2|2)})(s,f,v),function kC(t,i,s){const l=t.data[i];null===l?t.data[i]=s:l.value=s}(t,v,V);const Y=f.values;for(let he=0;he<Y.length;he++){const Oe=Y[he],ft=[];for(let Kt=0;Kt<Oe.length;Kt++){const nn=Oe[Kt];if("string"!=typeof nn){const Rn=ft.push(nn)-1;Oe[Kt]=`\x3c!--\ufffd${Rn}\ufffd--\x3e`}}I=nD(t,V,i,s,l,f.cases[he],Oe.join(""),ft)|I}I&&function sD(t,i,s){t.push(i,1,s<<2|3)}(s,I,v)}function tD(t){const i=[],s=[];let l=1,f=0;const v=d0(t=t.replace(wE,function(I,V,Y){return l="select"===Y?0:1,f=parseInt(V.slice(1),10),""}));for(let I=0;I<v.length;){let V=v[I++].trim();1===l&&(V=V.replace(/\s*(?:=)?(\w+)\s*/,"$1")),V.length&&i.push(V);const Y=d0(v[I++]);i.length>s.length&&s.push(Y)}return{type:l,mainBinding:f,cases:i,values:s}}function d0(t){if(!t)return[];let i=0;const s=[],l=[],f=/[{}]/g;let v;for(f.lastIndex=0;v=f.exec(t);){const V=v.index;if("}"==v[0]){if(s.pop(),0==s.length){const Y=t.substring(i,V);wE.test(Y)?l.push(tD(Y)):l.push(Y),i=V+1}}else{if(0==s.length){const Y=t.substring(i,V);l.push(Y),i=V+1}s.push("{")}}const I=t.substring(i);return l.push(I),l}function nD(t,i,s,l,f,v,I,V){const Y=[],he=[],Oe=[];i.cases.push(v),i.create.push(Y),i.remove.push(he),i.update.push(Oe);const Kt=tp(bl()).getInertBodyElement(I),nn=Yo(Kt)||Kt;return nn?IE(t,i,s,l,Y,he,Oe,nn,f,V,0):0}function IE(t,i,s,l,f,v,I,V,Y,he,Oe){let ft=0,Kt=V.firstChild;for(;Kt;){const nn=Pc(t,s,1,null);switch(Kt.nodeType){case Node.ELEMENT_NODE:const Rn=Kt,Jn=Rn.tagName.toLowerCase();if(ti.hasOwnProperty(Jn)){u0(f,Fy,Jn,Y,nn),t.data[nn]=Jn;const Ur=Rn.attributes;for(let Ns=0;Ns<Ur.length;Ns++){const Ko=Ur.item(Ns),dd=Ko.name.toLowerCase();Ko.value.match(By)?gs.hasOwnProperty(dd)&&X_(I,Ko.value,nn,Ko.name,0,lr[dd]?S:null):oD(f,nn,Ko)}ft=IE(t,i,s,l,f,v,I,Kt,nn,he,Oe+1)|ft,SE(v,nn,Oe)}break;case Node.TEXT_NODE:const wi=Kt.textContent||"",qi=wi.match(By);u0(f,null,qi?"":wi,Y,nn),SE(v,nn,Oe),qi&&(ft=X_(I,wi,nn,null,0,null)|ft);break;case Node.COMMENT_NODE:const $n=GC.exec(Kt.textContent||"");if($n){const Ns=he[parseInt($n[1],10)];u0(f,Ly,"",Y,nn),TE(t,s,l,Y,Ns,nn),iD(v,nn,Oe)}}Kt=Kt.nextSibling}return ft}function SE(t,i,s){0===s&&t.push(i)}function iD(t,i,s){0===s&&(t.push(~i),t.push(i))}function u0(t,i,s,l,f){null!==i&&t.push(i),t.push(s,f,function FC(t,i,s){return t|i<<17|s<<1}(0,l,f))}function oD(t,i,s){t.push(i<<1|1,s.name,s.value)}function RE(t,i,s=-1){const l=Nn(),f=ln(),v=yi+t,I=Bl(l.consts,i),V=Si();l.firstCreatePass&&function ZC(t,i,s,l,f,v){const I=Si(),V=[],Y=[],he=[[]];f=function eD(t,i){if(function XC(t){return-1===t}(i))return xE(t);{const s=t.indexOf(`:${i}${J_}`)+2+i.toString().length,l=t.search(new RegExp(`${J_}\\/\\*\\d+:${i}${J_}`));return xE(t.substring(s,l))}}(f,v);const Oe=function KC(t){return t.replace(YC," ")}(f).split(WC);for(let ft=0;ft<Oe.length;ft++){let Kt=Oe[ft];if(1&ft){const nn=47===Kt.charCodeAt(0),Jn=(Kt.charCodeAt(nn?1:0),yi+Number.parseInt(Kt.substring(nn?2:1)));if(nn)he.shift(),ii(Si(),!1);else{const wi=NC(t,he[0],Jn);he.unshift([]),ii(wi,!0)}}else{const nn=d0(Kt);for(let Rn=0;Rn<nn.length;Rn++){let Jn=nn[Rn];if(1&Rn){const wi=Jn;if("object"!=typeof wi)throw new Error(`Unable to parse ICU expression in "${f}" message.`);TE(t,s,Y,i,wi,CE(t,I,he[0],s,V,"",!0).index)}else""!==Jn&&qC(t,I,he[0],V,Y,s,Jn)}}}t.data[l]={create:V,update:Y}}(l,null===V?0:V.index,f,v,I,s),2===l.type?f[Ji][Ti]|=32:f[Ti]|=32;const Y=l.data[v],Oe=Gd(l,V===f[qr]?null:V,f);(function BC(t,i,s,l){const f=t[Vn];for(let v=0;v<i.length;v++){const I=i[v++],V=i[v],he=(I&ld.APPEND_EAGERLY)===ld.APPEND_EAGERLY,Oe=I>>>ld.SHIFT;let ft=t[Oe];null===ft&&(ft=t[Oe]=(I&ld.COMMENT)===ld.COMMENT?f.createComment(V):Rc(f,V)),he&&null!==s&&Xc(f,s,ft,l,!1)}})(f,Y.create,Oe,V&&8&V.type?f[V.index]:null),Ce(!0)}function OE(t,i,s){RE(t,i,s),function ME(){Ce(!1)}()}function h0(t,i,s,l,f){if(t=ut(t),Array.isArray(t))for(let v=0;v<t.length;v++)h0(t[v],i,s,l,f);else{const v=Nn(),I=ln(),V=er();let Y=ku(t)?t:ut(t.provide);const he=sp(t),Oe=1048575&V.providerIndexes,ft=V.directiveStart,Kt=V.providerIndexes>>20;if(ku(t)||!t.multi){const nn=new jl(he,f,hh),Rn=p0(Y,i,f?Oe:Oe+Kt,ft);-1===Rn?(gl(ll(V,I),v,Y),f0(v,t,i.length),i.push(Y),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),s.push(nn),I.push(nn)):(s[Rn]=nn,I[Rn]=nn)}else{const nn=p0(Y,i,Oe+Kt,ft),Rn=p0(Y,i,Oe,Oe+Kt),wi=Rn>=0&&s[Rn];if(f&&!wi||!f&&!(nn>=0&&s[nn])){gl(ll(V,I),v,Y);const qi=function wD(t,i,s,l,f){const v=new jl(t,s,hh);return v.multi=[],v.index=i,v.componentProviders=0,PE(v,f,l&&!s),v}(f?ED:bD,s.length,f,l,he);!f&&wi&&(s[Rn].providerFactory=qi),f0(v,t,i.length,0),i.push(Y),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),s.push(qi),I.push(qi)}else f0(v,t,nn>-1?nn:Rn,PE(s[f?Rn:nn],he,!f&&l));!f&&l&&wi&&s[Rn].componentProviders++}}}function f0(t,i,s,l){const f=ku(i),v=function Pu(t){return!!t.useClass}(i);if(f||v){const Y=(v?ut(i.useClass):i).prototype.ngOnDestroy;if(Y){const he=t.destroyHooks||(t.destroyHooks=[]);if(!f&&i.multi){const Oe=he.indexOf(s);-1===Oe?he.push(s,[l,Y]):he[Oe+1].push(l,Y)}else he.push(s,Y)}}}function PE(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function p0(t,i,s,l){for(let f=s;f<l;f++)if(i[f]===t)return f;return-1}function bD(t,i,s,l){return m0(this.multi,[])}function ED(t,i,s,l){const f=this.multi;let v;if(this.providerFactory){const I=this.providerFactory.componentProviders,V=ja(s,s[Yn],this.providerFactory.index,l);v=V.slice(0,I),m0(f,v);for(let Y=I;Y<V.length;Y++)v.push(V[Y])}else v=[],m0(f,v);return v}function m0(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function NE(t,i=[]){return s=>{s.providersResolver=(l,f)=>function yD(t,i,s){const l=Nn();if(l.firstCreatePass){const f=ss(t);h0(s,l.data,l.blueprint,f,!0),h0(i,l.data,l.blueprint,f,!1)}}(l,f?f(t):t,i)}}class qp{}class FE{}function CD(t,i){return new g0(t,i??null,[])}class g0 extends qp{constructor(i,s,l){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sf(this);const f=ns(i);this._bootstrapComponents=Sd(f.bootstrap),this._r3Injector=vv(i,s,[{provide:qp,useValue:this},{provide:pp,useValue:this.componentFactoryResolver},...l],Ye(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class _0 extends FE{constructor(i){super(),this.moduleType=i}create(i){return new g0(this.moduleType,i,[])}}class LE extends qp{constructor(i){super(),this.componentFactoryResolver=new Sf(this),this.instance=null;const s=new Zd([...i.providers,{provide:qp,useValue:this},{provide:pp,useValue:this.componentFactoryResolver}],i.parent||Kd(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function VE(t,i,s=null){return new LE({providers:t,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let xD=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const l=np(0,s.type),f=l.length>0?VE([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ut({token:t,providedIn:"environment",factory:()=>new t(ot(kc))})}return t})();function BE(t){t.getStandaloneInjector=i=>i.get(xD).getOrCreateStandaloneInjector(t)}function WE(t,i,s){const l=Js()+t,f=ln();return f[l]===Kr?Fc(f,l,s?i.call(s):i()):function Rp(t,i){return t[i]}(f,l)}function YE(t,i,s,l){return qE(ln(),Js(),t,i,s,l)}function KE(t,i,s,l,f){return QE(ln(),Js(),t,i,s,l,f)}function ZE(t,i,s,l,f,v){return function JE(t,i,s,l,f,v,I,V){const Y=i+s;return Mp(t,Y,f,v,I)?Fc(t,Y+3,V?l.call(V,f,v,I):l(f,v,I)):ev(t,Y+3)}(ln(),Js(),t,i,s,l,f,v)}function ev(t,i){const s=t[i];return s===Kr?void 0:s}function qE(t,i,s,l,f,v){const I=i+s;return Zl(t,I,f)?Fc(t,I+1,v?l.call(v,f):l(f)):ev(t,I+1)}function QE(t,i,s,l,f,v,I){const V=i+s;return ph(t,V,f,v)?Fc(t,V+2,I?l.call(I,f,v):l(f,v)):ev(t,V+2)}function tw(t,i){const s=Nn();let l;const f=t+yi;s.firstCreatePass?(l=function UD(t,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(t===l.name)return l}}(i,s.pipeRegistry),s.data[f]=l,l.onDestroy&&(s.destroyHooks??=[]).push(f,l.onDestroy)):l=s.data[f];const v=l.factory||(l.factory=os(l.type)),V=Ve(hh);try{const Y=Ja(!1),he=v();return Ja(Y),function yh(t,i,s,l){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),i[s]=l}(s,ln(),f,he),he}finally{Ve(V)}}function nw(t,i,s){const l=t+yi,f=ln(),v=ga(f,l);return tv(f,l)?qE(f,Js(),i,v.transform,s,v):v.transform(s)}function iw(t,i,s,l){const f=t+yi,v=ln(),I=ga(v,f);return tv(v,f)?QE(v,Js(),i,I.transform,s,l,I):I.transform(s,l)}function tv(t,i){return t[Yn].data[i].pure}function GD(){return this._results[Symbol.iterator]()}class Uy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new rd)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Uy.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=GD)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const f=function ba(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function lu(t,i,s){if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++){let f=t[l],v=i[l];if(s&&(f=s(f),v=s(v)),v!==f)return!1}return!0}(l._results,f,s))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function WD(t,i,s,l=!0){const f=i[Yn];if(function Yf(t,i,s,l){const f=Pi+l,v=s.length;l>0&&(s[f-1][mr]=i),l<v-Pi?(i[mr]=s[f],cu(s,Pi+l,i)):(s.push(i),i[mr]=null),i[Vi]=s;const I=i[Dr];null!==I&&s!==I&&function Kf(t,i){const s=t[fs];i[Ji]!==i[Vi][Vi][Ji]&&(t[zo]=!0),null===s?t[fs]=[i]:s.push(i)}(I,i);const V=i[Eo];null!==V&&V.insertView(t),i[Ti]|=128}(f,i,t,s),l){const v=Ju(s,t),I=i[Vn],V=Dd(I,t[Gr]);null!==V&&function em(t,i,s,l,f,v){l[Qi]=f,l[qr]=i,u(t,l,s,1,f,v)}(f,t[qr],I,i,V,v)}}let nv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZD}return t})();const YD=nv,KD=class extends YD{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,l){const f=function $D(t,i,s,l){const f=i.tView,V=Df(t,f,s,4096&t[Ti]?4096:16,null,i,null,null,null,l?.injector??null,l?.hydrationInfo??null);V[Dr]=t[i.index];const he=t[Eo];return null!==he&&(V[Eo]=he.createEmbeddedView(f)),g_(f,V,s),V}(this._declarationLView,this._declarationTContainer,i,{injector:s,hydrationInfo:l});return new If(f)}};function ZD(){return Hy(er(),ln())}function Hy(t,i){return 4&t.type?new KD(i,t,ch(t,i)):null}let zy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tx}return t})();function tx(){return dw(er(),ln())}const nx=zy,lw=class extends nx{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){const i=jc(this._hostTNode,this._hostLView);if(Tl(i)){const s=pc(i,this._hostLView),l=ec(i);return new ls(s[Yn].data[l+8],s)}return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=cw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Pi}createEmbeddedView(i,s,l){let f,v;"number"==typeof l?f=l:null!=l&&(f=l.index,v=l.injector);const V=i.createEmbeddedViewImpl(s||{},v,null);return this.insertImpl(V,f,false),V}createComponent(i,s,l,f,v){const I=i&&!function ic(t){return"function"==typeof t}(i);let V;if(I)V=s;else{const Jn=s||{};V=Jn.index,l=Jn.injector,f=Jn.projectableNodes,v=Jn.environmentInjector||Jn.ngModuleRef}const Y=I?i:new wc(ki(i)),he=l||this.parentInjector;if(!v&&null==Y.ngModule){const wi=(I?he:this.parentInjector).get(kc,null);wi&&(v=wi)}ki(Y.componentType??{});const nn=Y.create(he,f,null,v);return this.insertImpl(nn.hostView,V,false),nn}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,l){const f=i._lView;if(function ca(t){return Ir(t[Vi])}(f)){const Y=this.indexOf(i);if(-1!==Y)this.detach(Y);else{const he=f[Vi],Oe=new lw(he,he[qr],he[Vi]);Oe.detach(Oe.indexOf(i))}}const I=this._adjustIndex(s),V=this._lContainer;return WD(V,f,I,!l),i.attachToViewContainerRef(),cu(y0(V),I,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=cw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Fh(this._lContainer,s);l&&(vr(y0(this._lContainer),s),qu(l[Yn],l))}detach(i){const s=this._adjustIndex(i,-1),l=Fh(this._lContainer,s);return l&&null!=vr(y0(this._lContainer),s)?new If(l):null}_adjustIndex(i,s=0){return i??this.length+s}};function cw(t){return t[8]}function y0(t){return t[8]||(t[8]=[])}function dw(t,i){let s;const l=i[t.index];return Ir(l)?s=l:(s=Tp(l,i,null,t),i[t.index]=s,Ip(i,s)),uw(s,i,t,l),new lw(s,t,i)}let uw=function hw(t,i,s,l){if(t[Gr])return;let f;f=8&s.type?bi(l):function ix(t,i){const s=t[Vn],l=s.createComment(""),f=kr(i,t);return Xc(s,Dd(s,f),l,function qf(t,i){return t.nextSibling(i)}(s,f),!1),l}(i,s),t[Gr]=f};class b0{constructor(i){this.queryList=i,this.matches=null}clone(){return new b0(this.queryList)}setDirty(){this.queryList.setDirty()}}class E0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,f=[];for(let v=0;v<l;v++){const I=s.getByIndex(v);f.push(this.queries[I.indexInDeclarationView].clone())}return new E0(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Ew(i,s).matches&&this.queries[s].setDirty()}}class fw{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class w0{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const f=null!==s?s.length:0,v=this.getByIndex(l).embeddedTView(i,f);v&&(v.indexInDeclarationView=l,null!==s?s.push(v):s=[v])}return null!==s?new w0(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class C0{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new C0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const v=l[f];this.matchTNodeWithReadOption(i,s,ox(s,v)),this.matchTNodeWithReadOption(i,s,Zs(s,i,v,!1,!1))}else l===nv?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Zs(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===qd||f===zy||f===nv&&4&s.type)this.addMatch(s.index,-2);else{const v=Zs(s,i,f,!1,!1);null!==v&&this.addMatch(s.index,v)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function ox(t,i){const s=t.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function lx(t,i,s,l){return-1===s?function ax(t,i){return 11&t.type?ch(t,i):4&t.type?Hy(t,i):null}(i,t):-2===s?function cx(t,i,s){return s===qd?ch(i,t):s===nv?Hy(i,t):s===zy?dw(i,t):void 0}(t,i,l):ja(t,t[Yn],s,i)}function pw(t,i,s,l){const f=i[Eo].queries[l];if(null===f.matches){const v=t.data,I=s.matches,V=[];for(let Y=0;Y<I.length;Y+=2){const he=I[Y];V.push(he<0?null:lx(i,v[he],I[Y+1],s.metadata.read))}f.matches=V}return f.matches}function D0(t,i,s,l){const f=t.queries.getByIndex(s),v=f.matches;if(null!==v){const I=pw(t,i,f,s);for(let V=0;V<v.length;V+=2){const Y=v[V];if(Y>0)l.push(I[V/2]);else{const he=v[V+1],Oe=i[-Y];for(let ft=Pi;ft<Oe.length;ft++){const Kt=Oe[ft];Kt[Dr]===Kt[Vi]&&D0(Kt[Yn],Kt,he,l)}if(null!==Oe[fs]){const ft=Oe[fs];for(let Kt=0;Kt<ft.length;Kt++){const nn=ft[Kt];D0(nn[Yn],nn,he,l)}}}}}return l}function mw(t){const i=ln(),s=Nn(),l=Ai();tr(l+1);const f=Ew(s,l);if(t.dirty&&function Go(t){return 4==(4&t[Ti])}(i)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const v=f.crossesNgTemplate?D0(s,i,l,[]):pw(s,i,f,l);t.reset(v,Mg),t.notifyOnChanges()}return!0}return!1}function gw(t,i,s){const l=Nn();l.firstCreatePass&&(bw(l,new fw(t,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),yw(l,ln(),i)}function _w(t,i,s,l){const f=Nn();if(f.firstCreatePass){const v=er();bw(f,new fw(i,s,l),v.index),function ux(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}yw(f,ln(),s)}function vw(){return function dx(t,i){return t[Eo].queries[i].queryList}(ln(),Ai())}function yw(t,i,s){const l=new Uy(4==(4&s));(function Mv(t,i,s,l){const f=Vm(i);f.push(s),t.firstCreatePass&&p_(t).push(l,f.length-1)})(t,i,l,l.destroy),null===i[Eo]&&(i[Eo]=new E0),i[Eo].queries.push(new b0(l))}function bw(t,i,s){null===t.queries&&(t.queries=new w0),t.queries.track(new C0(i,s))}function Ew(t,i){return t.queries.getByIndex(i)}function ww(t,i){return Hy(t,i)}function x0(t){return!!ns(t)}const Bw=new gn("Application Initializer");let R0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l}),this.appInits=We(Bw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const v=f();if(M_(v))s.push(v);else if(fy(v)){const I=new Promise((V,Y)=>{v.subscribe({complete:V,error:Y})});s.push(I)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(f=>{this.reject(f)}),0===s.length&&l(),this.initialized=!0}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const $y=new gn("LocaleId",{providedIn:"root",factory:()=>We($y,Pt.Optional|Pt.SkipSelf)||function Ox(){return typeof $localize<"u"&&$localize.locale||mg}()}),kx=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Hw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new we.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Nx{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let Fx=(()=>{class t{compileModuleSync(s){return new _0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),v=Sd(ns(s).declarations).reduce((I,V)=>{const Y=ki(V);return Y&&I.push(new wc(Y)),I},[]);return new Nx(l,v)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $w=new gn(""),Ww=new gn("");let k0,rT=(()=>{class t{constructor(s,l,f){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,k0||(function sT(t){k0=t}(f),f.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{il.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,f){let v=-1;l&&l>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==v),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:v,updateCb:f})}whenStable(s,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,f){return[]}static#e=this.\u0275fac=function(l){return new(l||t)(ot(il),ot(Yw),ot(Ww))};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac})}return t})(),Yw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return k0?.findTestabilityInTree(this,s,l)??null}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Uf=null;const Kw=new gn("AllowMultipleToken"),P0=new gn("PlatformDestroyListeners"),N0=new gn("appBootstrapListener");class lT{constructor(i,s){this.name=i,this.token=s}}function Qw(t,i,s=[]){const l=`Platform: ${i}`,f=new gn(l);return(v=[])=>{let I=F0();if(!I||I.injector.get(Kw,!1)){const V=[...s,...v,{provide:f,useValue:!0}];t?t(V):function cT(t){if(Uf&&!Uf.get(Kw,!1))throw new ye(400,!1);(function Zw(){!function qa(t){po=t}(()=>{throw new ye(600,!1)})})(),Uf=t;const i=t.get(Xw);(function qw(t){t.get(am,null)?.forEach(s=>s())})(t)}(function Jw(t=[],i){return Id.create({name:i,providers:[{provide:oh,useValue:"platform"},{provide:P0,useValue:new Set([()=>Uf=null])},...t]})}(V,l))}return function uT(t){const i=F0();if(!i)throw new ye(401,!1);return i}()}}function F0(){return Uf?.get(Xw)??null}let Xw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const f=function hT(t="zone.js",i){return"noop"===t?new db:"zone.js"===t?new il(i):t}(l?.ngZone,function eC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return f.run(()=>{const v=function DD(t,i,s){return new g0(t,i,s)}(s.moduleType,this.injector,function sC(t){return[{provide:il,useFactory:t},{provide:nd,multi:!0,useFactory:()=>{const i=We(pT,{optional:!0});return()=>i.initialize()}},{provide:rC,useFactory:fT},{provide:bv,useFactory:Cm}]}(()=>f)),I=v.injector.get(Jd,null);return f.runOutsideAngular(()=>{const V=f.onError.subscribe({next:Y=>{I.handleError(Y)}});v.onDestroy(()=>{Yy(this._modules,v),V.unsubscribe()})}),function tC(t,i,s){try{const l=s();return M_(l)?l.catch(f=>{throw i.runOutsideAngular(()=>t.handleError(f)),f}):l}catch(l){throw i.runOutsideAngular(()=>t.handleError(l)),l}}(I,f,()=>{const V=v.injector.get(R0);return V.runInitializers(),V.donePromise.then(()=>(cE(v.injector.get($y,mg)||mg),this._moduleDoBootstrap(v),v))})})}bootstrapModule(s,l=[]){const f=nC({},l);return function oT(t,i,s){const l=new _0(s);return Promise.resolve(l)}(0,0,s).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(s){const l=s.injector.get(vg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!s.instance.ngDoBootstrap)throw new ye(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(P0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(l){return new(l||t)(ot(Id))};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function nC(t,i){return Array.isArray(i)?i.reduce(nC,t):{...t,...i}}let vg=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=We(rC),this.zoneIsStable=We(bv),this.componentTypes=[],this.components=[],this.isStable=We(Hw).hasPendingTasks.pipe((0,Le.w)(s=>s?(0,Ge.of)(!1):this.zoneIsStable),(0,ze.x)(),(0,$e.B)()),this._injector=We(kc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const f=s instanceof hv;if(!this._injector.get(R0).done)throw!f&&Ar(s),new ye(405,!1);let I;I=f?s:this._injector.get(pp).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const V=function aT(t){return t.isBoundToModule}(I)?void 0:this._injector.get(qp),he=I.create(Id.NULL,[],l||I.selector,V),Oe=he.location.nativeElement,ft=he.injector.get($w,null);return ft?.registerApplication(Oe),he.onDestroy(()=>{this.detachView(he.hostView),Yy(this.components,he),ft?.unregisterApplication(Oe)}),this._loadComponent(he),he}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Yy(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(N0,[]);l.push(...this._bootstrapListeners),l.forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Yy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ye(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yy(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}const rC=new gn("",{providedIn:"root",factory:()=>We(Jd).handleError.bind(void 0)});function fT(){const t=We(il),i=We(Jd);return s=>t.runOutsideAngular(()=>i.handleError(s))}let pT=(()=>{class t{constructor(){this.zone=We(il),this.applicationRef=We(vg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=Ut({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gT(){return!1}let _T=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=vT}return t})();function vT(t){return function yT(t,i,s){if($r(t)&&!s){const l=$i(t.index,i);return new If(l,l)}return 47&t.type?new If(i[Ji],i):null}(er(),ln(),16==(16&t))}class cC{constructor(){}supports(i){return $m(i)}create(i){return new xT(i)}}const DT=(t,i)=>i;class xT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||DT}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,f=0,v=null;for(;s||l;){const I=!l||s&&s.currentIndex<uC(l,f,v)?s:l,V=uC(I,f,v),Y=I.currentIndex;if(I===l)f--,l=l._nextRemoved;else if(s=s._next,null==I.previousIndex)f++;else{v||(v=[]);const he=V-f,Oe=Y-f;if(he!=Oe){for(let Kt=0;Kt<he;Kt++){const nn=Kt<v.length?v[Kt]:v[Kt]=0,Rn=nn+Kt;Oe<=Rn&&Rn<he&&(v[Kt]=nn+1)}v[I.previousIndex]=Oe-he}}V!==Y&&i(I,V,Y)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!$m(i))throw new ye(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,v,I,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let V=0;V<this.length;V++)v=i[V],I=this._trackByFn(V,v),null!==s&&Object.is(s.trackById,I)?(l&&(s=this._verifyReinsertion(s,v,I,V)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,I,V),l=!0),s=s._next}else f=0,function Lu(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Symbol.iterator]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,V=>{I=this._trackByFn(f,V),null!==s&&Object.is(s.trackById,I)?(l&&(s=this._verifyReinsertion(s,V,I,f)),Object.is(s.item,V)||this._addIdentityChange(s,V)):(s=this._mismatch(s,V,I,f),l=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,f){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,v,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,v,f)):i=this._addAfter(new TT(s,l),v,f),i}_verifyReinsertion(i,s,l,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==v?i=this._reinsertAfter(v,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,v=i._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const f=null===s?this._itHead:s._next;return i._next=f,i._prev=s,null===f?this._itTail=i:f._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new dC),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class TT{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class dC{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new IT,this.map.set(s,l)),l.add(i)}get(i,s){const f=this.map.get(i);return f?f.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uC(t,i,s){const l=t.previousIndex;if(null===l)return l;let f=0;return s&&l<s.length&&(f=s[l]),l+i+f}class hC{constructor(){}supports(i){return i instanceof Map||ey(i)}create(){return new ST}}class ST{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||ey(i)))throw new ye(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const v=this._getOrCreateRecordForKey(f,l);s=this._insertBeforeOrAppend(s,v)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,s);const v=f._prev,I=f._next;return v&&(v._next=I),I&&(I._prev=v),f._next=null,f._prev=null,f}const l=new AT(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class AT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fC(){return new H0([new cC])}let H0=(()=>{class t{static#e=this.\u0275prov=Ut({token:t,providedIn:"root",factory:fC});constructor(s){this.factories=s}static create(s,l){if(null!=l){const f=l.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||fC()),deps:[[t,new vc,new Ml]]}}find(s){const l=this.factories.find(f=>f.supports(s));if(null!=l)return l;throw new ye(901,!1)}}return t})();function pC(){return new j0([new hC])}let j0=(()=>{class t{static#e=this.\u0275prov=Ut({token:t,providedIn:"root",factory:pC});constructor(s){this.factories=s}static create(s,l){if(l){const f=l.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||pC()),deps:[[t,new vc,new Ml]]}}find(s){const l=this.factories.find(f=>f.supports(s));if(l)return l;throw new ye(901,!1)}}return t})();const OT=Qw(null,"core",[]);let kT=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(l){return new(l||t)(ot(vg))};static#t=this.\u0275mod=Tr({type:t});static#n=this.\u0275inj=Lt({})}return t})();function GT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function WT(t,i){const s=ki(t),l=i.elementInjector||Kd();return new wc(s).create(l,i.projectableNodes,i.hostElement,i.environmentInjector)}function YT(t){const i=ki(t);if(!i)return null;const s=new wc(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},981:(Sn,Et,R)=>{R.d(Et,{zQ:()=>Nt,ww:()=>Cn,rT:()=>qe,f7:()=>It,L6:()=>W,_Q:()=>Pe,lh:()=>Ee,Qv:()=>rt,nw:()=>Ht}),R(6365);var ne=R(6814),O=R(5879),w=R(1920),we=R(7217),Ge=R(8645),$e=R(2096),Le=R(5592),ze=R(2459),H=R(3019),Fe=R(3093),Ye=R(4664),yt=R(7398),ke=R(940),Xe=R(1374),ut=R(4674);function ht(Mn,ni){return(0,ut.m)(ni)?(0,Ye.w)(()=>Mn,ni):(0,Ye.w)(()=>Mn)}var Ot=R(5137),en=R(2181),Ke=R(7142);const rt=new O.OlP("angularfire2.auth.use-emulator"),W=new O.OlP("angularfire2.auth.settings"),Pe=new O.OlP("angularfire2.auth.tenant-id"),qe=new O.OlP("angularfire2.auth.langugage-code"),Ee=new O.OlP("angularfire2.auth.use-device-language"),It=new O.OlP("angularfire.auth.persistence"),Ht=(Mn,ni,wn,Ln,jn,kt,pt,bt)=>(0,we.cc)(`${Mn.name}.auth`,"AngularFireAuth",Mn.name,()=>{const Rt=ni.runOutsideAngular(()=>Mn.auth());if(wn&&Rt.useEmulator(...wn),Ln&&(Rt.tenantId=Ln),Rt.languageCode=jn,kt&&Rt.useDeviceLanguage(),pt)for(const[Be,Te]of Object.entries(pt))Rt.settings[Be]=Te;return bt&&Rt.setPersistence(bt),Rt},[wn,Ln,jn,kt,pt,bt]);let Nt=(()=>{class Mn{authState;idToken;user;idTokenResult;credential;constructor(wn,Ln,jn,kt,pt,bt,Rt,Be,Te,Mt,Ze,St){const Bt=new Ge.x,yn=(0,$e.of)(void 0).pipe((0,Fe.Q)(pt.outsideAngular),(0,Ye.w)(()=>kt.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,6365)))),(0,yt.U)(()=>(0,we.on)(wn,kt,Ln)),(0,yt.U)(Ut=>Ht(Ut,kt,bt,Be,Te,Mt,Rt,Ze)),(0,ke.d)({bufferSize:1,refCount:!1}));if((0,ne.PM)(jn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$e.of)(null);else{yn.pipe((0,Xe.P)()).subscribe();const Ut=yn.pipe((0,Ye.w)(Wt=>Wt.getRedirectResult().then(_e=>_e,()=>null)),w.iC,(0,ke.d)({bufferSize:1,refCount:!1})),Pn=yn.pipe((0,Ye.w)(Wt=>new Le.y(_e=>({unsubscribe:kt.runOutsideAngular(()=>Wt.onAuthStateChanged(Ue=>_e.next(Ue),Ue=>_e.error(Ue),()=>_e.complete()))})))),Lt=yn.pipe((0,Ye.w)(Wt=>new Le.y(_e=>({unsubscribe:kt.runOutsideAngular(()=>Wt.onIdTokenChanged(Ue=>_e.next(Ue),Ue=>_e.error(Ue),()=>_e.complete()))}))));this.authState=Ut.pipe(ht(Pn),(0,Ot.R)(pt.outsideAngular),(0,Fe.Q)(pt.insideAngular)),this.user=Ut.pipe(ht(Lt),(0,Ot.R)(pt.outsideAngular),(0,Fe.Q)(pt.insideAngular)),this.idToken=this.user.pipe((0,Ye.w)(Wt=>Wt?(0,ze.D)(Wt.getIdToken()):(0,$e.of)(null))),this.idTokenResult=this.user.pipe((0,Ye.w)(Wt=>Wt?(0,ze.D)(Wt.getIdTokenResult()):(0,$e.of)(null))),this.credential=(0,H.T)(Ut,Bt,this.authState.pipe((0,en.h)(Wt=>!Wt))).pipe((0,yt.U)(Wt=>Wt?.user?Wt:null),(0,Ot.R)(pt.outsideAngular),(0,Fe.Q)(pt.insideAngular))}return(0,we.pX)(this,yn,kt,{spy:{apply:(Ut,Pn,Lt)=>{(Ut.startsWith("signIn")||Ut.startsWith("createUser"))&&Lt.then(Wt=>Bt.next(Wt))}}})}static \u0275fac=function(Ln){return new(Ln||Mn)(O.LFG(we.Dh),O.LFG(we.xv,8),O.LFG(O.Lbi),O.LFG(O.R0b),O.LFG(w.HU),O.LFG(rt,8),O.LFG(W,8),O.LFG(Pe,8),O.LFG(qe,8),O.LFG(Ee,8),O.LFG(It,8),O.LFG(w.Rf,8))};static \u0275prov=O.Yz7({token:Mn,factory:Mn.\u0275fac,providedIn:"any"})}return Mn})(),Cn=(()=>{class Mn{constructor(){Ke.Z.registerVersion("angularfire",w.q4.full,"auth-compat")}static \u0275fac=function(Ln){return new(Ln||Mn)};static \u0275mod=O.oAB({type:Mn});static \u0275inj=O.cJS({providers:[Nt]})}return Mn})()},6487:(Sn,Et,R)=>{R.d(Et,{KQ:()=>Iu,JS:()=>Jf});var a=R(5879),ne=R(1920),O=R(7217),w=R(981),we=R(7398),Ge=R(3020),$e=R(6699),Le=R(2460),ze=R(9360),H=R(8251),Ye=R(4664),yt=R(3997),ke=R(6321),Xe=R(5592),ut=R(3019),ht=R(2096),en=(R(6365),R(3106)),Ke=R(4537),ye=R(5861),rt=R(534),W=R(9058),Pe=R(7879);const qe="@firebase/database";let It="";function Ht(g){It=g}class Nt{constructor(u){this.domStorage_=u,this.prefix_="firebase:"}set(u,h){null==h?this.domStorage_.removeItem(this.prefixedName_(u)):this.domStorage_.setItem(this.prefixedName_(u),(0,W.Wl)(h))}get(u){const h=this.domStorage_.getItem(this.prefixedName_(u));return null==h?null:(0,W.cI)(h)}remove(u){this.domStorage_.removeItem(this.prefixedName_(u))}prefixedName_(u){return this.prefix_+u}toString(){return this.domStorage_.toString()}}class Cn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(u,h){null==h?delete this.cache_[u]:this.cache_[u]=h}get(u){return(0,W.r3)(this.cache_,u)?this.cache_[u]:null}remove(u){delete this.cache_[u]}}const Mn=function(g){try{if(typeof window<"u"&&typeof window[g]<"u"){const u=window[g];return u.setItem("firebase:sentinel","cache"),u.removeItem("firebase:sentinel"),new Nt(u)}}catch{}return new Cn},ni=Mn("localStorage"),wn=Mn("sessionStorage"),Ln=new Pe.Yd("@firebase/database"),jn=function(){let g=1;return function(){return g++}}(),kt=function(g){const u=(0,W.dS)(g),h=new W.gQ;h.update(u);const E=h.digest();return W.US.encodeByteArray(E)},pt=function(...g){let u="";for(let h=0;h<g.length;h++){const E=g[h];Array.isArray(E)||E&&"object"==typeof E&&"number"==typeof E.length?u+=pt.apply(null,E):u+="object"==typeof E?(0,W.Wl)(E):E,u+=" "}return u};let bt=null,Rt=!0;const Be=function(g,u){(0,W.hu)(!u||!0===g||!1===g,"Can't turn on custom loggers persistently."),!0===g?(Ln.logLevel=Pe.in.VERBOSE,bt=Ln.log.bind(Ln),u&&wn.set("logging_enabled",!0)):"function"==typeof g?bt=g:(bt=null,wn.remove("logging_enabled"))},Te=function(...g){if(!0===Rt&&(Rt=!1,null===bt&&!0===wn.get("logging_enabled")&&Be(!0)),bt){const u=pt.apply(null,g);bt(u)}},Mt=function(g){return function(...u){Te(g,...u)}},Ze=function(...g){const u="FIREBASE INTERNAL ERROR: "+pt(...g);Ln.error(u)},St=function(...g){const u=`FIREBASE FATAL ERROR: ${pt(...g)}`;throw Ln.error(u),new Error(u)},Bt=function(...g){const u="FIREBASE WARNING: "+pt(...g);Ln.warn(u)},Ut=function(g){return"number"==typeof g&&(g!=g||g===Number.POSITIVE_INFINITY||g===Number.NEGATIVE_INFINITY)},Lt="[MIN_NAME]",Wt="[MAX_NAME]",_e=function(g,u){if(g===u)return 0;if(g===Lt||u===Wt)return-1;if(u===Lt||g===Wt)return 1;{const h=mt(g),E=mt(u);return null!==h?null!==E?h-E==0?g.length-u.length:h-E:-1:null!==E?1:g<u?-1:1}},Ue=function(g,u){return g===u?0:g<u?-1:1},at=function(g,u){if(u&&g in u)return u[g];throw new Error("Missing required key ("+g+") in object: "+(0,W.Wl)(u))},$t=function(g){if("object"!=typeof g||null===g)return(0,W.Wl)(g);const u=[];for(const E in g)u.push(E);u.sort();let h="{";for(let E=0;E<u.length;E++)0!==E&&(h+=","),h+=(0,W.Wl)(u[E]),h+=":",h+=$t(g[u[E]]);return h+="}",h},pn=function(g,u){const h=g.length;if(h<=u)return[g];const E=[];for(let k=0;k<h;k+=u)E.push(g.substring(k,k+u>h?h:k+u));return E};function dn(g,u){for(const h in g)g.hasOwnProperty(h)&&u(h,g[h])}const Qn=function(g){(0,W.hu)(!Ut(g),"Invalid JSON number");const E=1023;let k,ee,ce,Ne,lt;0===g?(ee=0,ce=0,k=1/g==-1/0?1:0):(k=g<0,(g=Math.abs(g))>=Math.pow(2,1-E)?(Ne=Math.min(Math.floor(Math.log(g)/Math.LN2),E),ee=Ne+E,ce=Math.round(g*Math.pow(2,52-Ne)-Math.pow(2,52))):(ee=0,ce=Math.round(g/Math.pow(2,-1074))));const Ct=[];for(lt=52;lt;lt-=1)Ct.push(ce%2?1:0),ce=Math.floor(ce/2);for(lt=11;lt;lt-=1)Ct.push(ee%2?1:0),ee=Math.floor(ee/2);Ct.push(k?1:0),Ct.reverse();const vn=Ct.join("");let En="";for(lt=0;lt<64;lt+=8){let On=parseInt(vn.substr(lt,8),2).toString(16);1===On.length&&(On="0"+On),En+=On}return En.toLowerCase()},xe=new RegExp("^-?(0*)\\d{1,10}$"),mt=function(g){if(xe.test(g)){const u=Number(g);if(u>=-2147483648&&u<=2147483647)return u}return null},At=function(g){try{g()}catch(u){setTimeout(()=>{throw Bt("Exception was thrown by user callback.",u.stack||""),u},Math.floor(0))}},Fn=function(g,u){const h=setTimeout(g,u);return"number"==typeof h&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(h):"object"==typeof h&&h.unref&&h.unref(),h};class gn{constructor(u,h){this.appName_=u,this.appCheckProvider=h,this.appCheck=h?.getImmediate({optional:!0}),this.appCheck||h?.get().then(E=>this.appCheck=E)}getToken(u){return this.appCheck?this.appCheck.getToken(u):new Promise((h,E)=>{setTimeout(()=>{this.appCheck?this.getToken(u).then(h,E):h(null)},0)})}addTokenChangeListener(u){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(E=>E.addTokenListener(u))}notifyForInvalidToken(){Bt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Hn{constructor(u,h,E){this.appName_=u,this.firebaseOptions_=h,this.authProvider_=E,this.auth_=null,this.auth_=E.getImmediate({optional:!0}),this.auth_||E.onInit(k=>this.auth_=k)}getToken(u){return this.auth_?this.auth_.getToken(u).catch(h=>h&&"auth/token-not-initialized"===h.code?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)):new Promise((h,E)=>{setTimeout(()=>{this.auth_?this.getToken(u).then(h,E):h(null)},0)})}addTokenChangeListener(u){this.auth_?this.auth_.addAuthTokenListener(u):this.authProvider_.get().then(h=>h.addAuthTokenListener(u))}removeTokenChangeListener(u){this.authProvider_.get().then(h=>h.removeAuthTokenListener(u))}notifyForInvalidToken(){let u='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';u+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bt(u)}}let An=(()=>{class g{constructor(h){this.accessToken=h}getToken(h){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(h){h(this.accessToken)}removeTokenChangeListener(h){}notifyForInvalidToken(){}}return g.OWNER="owner",g})();const ci=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zn="websocket",Ri="long_polling";class Yi{constructor(u,h,E,k,ee=!1,ce="",Ne=!1,lt=!1){this.secure=h,this.namespace=E,this.webSocketOnly=k,this.nodeAdmin=ee,this.persistenceKey=ce,this.includeNamespaceInQueryParams=Ne,this.isUsingEmulator=lt,this._host=u.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ni.get("host:"+u)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(u){u!==this.internalHost&&(this.internalHost=u,this.isCacheableHost()&&ni.set("host:"+this._host,this.internalHost))}toString(){let u=this.toURLString();return this.persistenceKey&&(u+="<"+this.persistenceKey+">"),u}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ue(g,u,h){let E;if((0,W.hu)("string"==typeof u,"typeof type must == string"),(0,W.hu)("object"==typeof h,"typeof params must == object"),u===zn)E=(g.secure?"wss://":"ws://")+g.internalHost+"/.ws?";else{if(u!==Ri)throw new Error("Unknown connection type: "+u);E=(g.secure?"https://":"http://")+g.internalHost+"/.lp?"}(function Dt(g){return g.host!==g.internalHost||g.isCustomHost()||g.includeNamespaceInQueryParams})(g)&&(h.ns=g.namespace);const k=[];return dn(h,(ee,ce)=>{k.push(ee+"="+ce)}),E+k.join("&")}class J{constructor(){this.counters_={}}incrementCounter(u,h=1){(0,W.r3)(this.counters_,u)||(this.counters_[u]=0),this.counters_[u]+=h}get(){return(0,W.p$)(this.counters_)}}const F={},G={};function be(g){const u=g.toString();return F[u]||(F[u]=new J),F[u]}class nt{constructor(u){this.onMessage_=u,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(u,h){this.closeAfterResponse=u,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(u,h){for(this.pendingResponses[u]=h;this.pendingResponses[this.currentResponseNum];){const E=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let k=0;k<E.length;++k)E[k]&&At(()=>{this.onMessage_(E[k])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class pr{constructor(u,h,E,k,ee,ce,Ne){this.connId=u,this.repoInfo=h,this.applicationId=E,this.appCheckToken=k,this.authToken=ee,this.transportSessionId=ce,this.lastSessionId=Ne,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mt(u),this.stats_=be(h),this.urlFn=lt=>(this.appCheckToken&&(lt.ac=this.appCheckToken),ue(h,Ri,lt))}open(u,h){this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new nt(u),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(g){if((0,W.Yr)()||"complete"===document.readyState)g();else{let u=!1;const h=function(){document.body?u||(u=!0,g()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hr((...ee)=>{const[ce,Ne,lt,Ct,vn]=ee;if(this.incrementIncomingBytes_(ee),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===ce)this.id=Ne,this.password=lt;else{if("close"!==ce)throw new Error("Unrecognized command received: "+ce);Ne?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ne,()=>{this.onClosed_()})):this.onClosed_()}},(...ee)=>{const[ce,Ne]=ee;this.incrementIncomingBytes_(ee),this.myPacketOrderer.handleResponse(ce,Ne)},()=>{this.onClosed_()},this.urlFn);const E={start:"t"};E.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(E.cb=this.scriptTagHolder.uniqueCallbackIdentifier),E.v="5",this.transportSessionId&&(E.s=this.transportSessionId),this.lastSessionId&&(E.ls=this.lastSessionId),this.applicationId&&(E.p=this.applicationId),this.appCheckToken&&(E.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ci.test(location.hostname)&&(E.r="f");const k=this.urlFn(E);this.log_("Connecting via long-poll to "+k),this.scriptTagHolder.addTag(k,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pr.forceAllow_=!0}static forceDisallow(){pr.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!pr.forceAllow_&&(pr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(u){const h=(0,W.Wl)(u);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const E=(0,W.h$)(h),k=pn(E,1840);for(let ee=0;ee<k.length;ee++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,k.length,k[ee]),this.curSegmentNum++}addDisconnectPingFrame(u,h){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const E={dframe:"t"};E.id=u,E.pw=h,this.myDisconnFrame.src=this.urlFn(E),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(u){const h=(0,W.Wl)(u).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)}}class Hr{constructor(u,h,E,k){if(this.onDisconnect=E,this.urlFn=k,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=u,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=jn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=u,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=Hr.createIFrame_();let ee="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(ee='<script>document.domain="'+document.domain+'";<\/script>');const ce="<html><body>"+ee+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ce),this.myIFrame.doc.close()}catch(Ne){Te("frame writing exception"),Ne.stack&&Te(Ne.stack),Te(Ne)}}}static createIFrame_(){const u=document.createElement("iframe");if(u.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(u);try{u.contentWindow.document||Te("No IE domain setting required")}catch{const E=document.domain;u.src="javascript:void((function(){document.open();document.domain='"+E+"';document.close();})())"}return u.contentDocument?u.doc=u.contentDocument:u.contentWindow?u.doc=u.contentWindow.document:u.document&&(u.doc=u.document),u}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const u=this.onDisconnect;u&&(this.onDisconnect=null,u())}startLongPoll(u,h){for(this.myID=u,this.myPW=h,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const u={};u.id=this.myID,u.pw=this.myPW,u.ser=this.currentSerial;let h=this.urlFn(u),E="",k=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+E.length<=1870;){const ce=this.pendingSegs.shift();E=E+"&seg"+k+"="+ce.seg+"&ts"+k+"="+ce.ts+"&d"+k+"="+ce.d,k++}return h+=E,this.addLongPollTag_(h,this.currentSerial),!0}return!1}enqueueSegment(u,h,E){this.pendingSegs.push({seg:u,ts:h,d:E}),this.alive&&this.newRequest_()}addLongPollTag_(u,h){this.outstandingRequests.add(h);const E=()=>{this.outstandingRequests.delete(h),this.newRequest_()},k=setTimeout(E,Math.floor(25e3));this.addTag(u,()=>{clearTimeout(k),E()})}addTag(u,h){(0,W.Yr)()?this.doNodeLongPoll(u,h):setTimeout(()=>{try{if(!this.sendNewPolls)return;const E=this.myIFrame.doc.createElement("script");E.type="text/javascript",E.async=!0,E.src=u,E.onload=E.onreadystatechange=function(){const k=E.readyState;(!k||"loaded"===k||"complete"===k)&&(E.onload=E.onreadystatechange=null,E.parentNode&&E.parentNode.removeChild(E),h())},E.onerror=()=>{Te("Long-poll script failed to load: "+u),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(E)}catch{}},Math.floor(1))}}let cr=null;typeof MozWebSocket<"u"?cr=MozWebSocket:typeof WebSocket<"u"&&(cr=WebSocket);let ts=(()=>{class g{constructor(h,E,k,ee,ce,Ne,lt){this.connId=h,this.applicationId=k,this.appCheckToken=ee,this.authToken=ce,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mt(this.connId),this.stats_=be(E),this.connURL=g.connectionURL_(E,Ne,lt,ee,k),this.nodeAdmin=E.nodeAdmin}static connectionURL_(h,E,k,ee,ce){const Ne={v:"5"};return!(0,W.Yr)()&&typeof location<"u"&&location.hostname&&ci.test(location.hostname)&&(Ne.r="f"),E&&(Ne.s=E),k&&(Ne.ls=k),ee&&(Ne.ac=ee),ce&&(Ne.p=ce),ue(h,zn,Ne)}open(h,E){this.onDisconnect=E,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ni.set("previous_websocket_failure",!0);try{let k;if((0,W.Yr)()){k={headers:{"User-Agent":`Firebase/5/${It}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(k.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(k.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ce=process.env,Ne=0===this.connURL.indexOf("wss://")?ce.HTTPS_PROXY||ce.https_proxy:ce.HTTP_PROXY||ce.http_proxy;Ne&&(k.proxy={origin:Ne})}this.mySock=new cr(this.connURL,[],k)}catch(k){this.log_("Error instantiating WebSocket.");const ee=k.message||k.data;return ee&&this.log_(ee),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=k=>{this.handleIncomingFrame(k)},this.mySock.onerror=k=>{this.log_("WebSocket error.  Closing connection.");const ee=k.message||k.data;ee&&this.log_(ee),this.onClosed_()}}start(){}static forceDisallow(){g.forceDisallow_=!0}static isAvailable(){let h=!1;if(typeof navigator<"u"&&navigator.userAgent){const k=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);k&&k.length>1&&parseFloat(k[1])<4.4&&(h=!0)}return!h&&null!==cr&&!g.forceDisallow_}static previouslyFailed(){return ni.isInMemoryStorage||!0===ni.get("previous_websocket_failure")}markConnectionHealthy(){ni.remove("previous_websocket_failure")}appendFrame_(h){if(this.frames.push(h),this.frames.length===this.totalFrames){const E=this.frames.join("");this.frames=null;const k=(0,W.cI)(E);this.onMessage(k)}}handleNewFrameCount_(h){this.totalFrames=h,this.frames=[]}extractFrameCount_(h){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),h.length<=6){const E=Number(h);if(!isNaN(E))return this.handleNewFrameCount_(E),null}return this.handleNewFrameCount_(1),h}handleIncomingFrame(h){if(null===this.mySock)return;const E=h.data;if(this.bytesReceived+=E.length,this.stats_.incrementCounter("bytes_received",E.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(E);else{const k=this.extractFrameCount_(E);null!==k&&this.appendFrame_(k)}}send(h){this.resetKeepAlive();const E=(0,W.Wl)(h);this.bytesSent+=E.length,this.stats_.incrementCounter("bytes_sent",E.length);const k=pn(E,16384);k.length>1&&this.sendString_(String(k.length));for(let ee=0;ee<k.length;ee++)this.sendString_(k[ee])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(h){try{this.mySock.send(h)}catch(E){this.log_("Exception thrown from WebSocket.send():",E.message||E.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return g.responsesRequiredToBeHealthy=2,g.healthyTimeout=3e4,g})(),jr=(()=>{class g{constructor(h){this.initTransports_(h)}static get ALL_TRANSPORTS(){return[pr,ts]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(h){const E=ts&&ts.isAvailable();let k=E&&!ts.previouslyFailed();if(h.webSocketOnly&&(E||Bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),k=!0),k)this.transports_=[ts];else{const ee=this.transports_=[];for(const ce of g.ALL_TRANSPORTS)ce&&ce.isAvailable()&&ee.push(ce);g.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return g.globalTransportInitialized_=!1,g})();class $s{constructor(u,h,E,k,ee,ce,Ne,lt,Ct,vn){this.id=u,this.repoInfo_=h,this.applicationId_=E,this.appCheckToken_=k,this.authToken_=ee,this.onMessage_=ce,this.onReady_=Ne,this.onDisconnect_=lt,this.onKill_=Ct,this.lastSessionId=vn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mt("c:"+this.id+":"),this.transportManager_=new jr(h),this.log_("Connection created"),this.start_()}start_(){const u=this.transportManager_.initialTransport();this.conn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.conn_),E=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(h,E)},Math.floor(0));const k=u.healthyTimeout||0;k>0&&(this.healthyTimeout_=Fn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(k)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(u){return h=>{u===this.conn_?this.onConnectionLost_(h):u===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(u){return h=>{2!==this.state_&&(u===this.rx_?this.onPrimaryMessageReceived_(h):u===this.secondaryConn_?this.onSecondaryMessageReceived_(h):this.log_("message on old connection"))}}sendRequest(u){this.sendData_({t:"d",d:u})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(u){if("t"in u){const h=u.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(u){const h=at("t",u),E=at("d",u);if("c"===h)this.onSecondaryControl_(E);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(E)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(u){const h=at("t",u),E=at("d",u);"c"===h?this.onControl_(E):"d"===h&&this.onDataMessage_(E)}onDataMessage_(u){this.onPrimaryResponse_(),this.onMessage_(u)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(u){const h=at("t",u);if("d"in u){const E=u.d;if("h"===h){const k=Object.assign({},E);this.repoInfo_.isUsingEmulator&&(k.h=this.repoInfo_.host),this.onHandshake_(k)}else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let k=0;k<this.pendingDataMessages.length;++k)this.onDataMessage_(this.pendingDataMessages[k]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(E):"r"===h?this.onReset_(E):"e"===h?Ze("Server Error: "+E):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ze("Unknown control packet command: "+h)}}onHandshake_(u){const h=u.ts,E=u.v,k=u.h;this.sessionId=u.s,this.repoInfo_.host=k,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==E&&Bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const u=this.transportManager_.upgradeTransport();u&&this.startUpgrade_(u)}startUpgrade_(u){this.secondaryConn_=new u(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=u.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.secondaryConn_),E=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,E),Fn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(u){this.log_("Reset packet received.  New host: "+u),this.repoInfo_.host=u,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(u,h){this.log_("Realtime connection established."),this.conn_=u,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const u=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===u||this.rx_===u)&&this.close()}onConnectionLost_(u){this.conn_=null,u||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ni.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(u){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(u),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(u){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(u)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ys{put(u,h,E,k){}merge(u,h,E,k){}refreshAuthToken(u){}refreshAppCheckToken(u){}onDisconnectPut(u,h,E){}onDisconnectMerge(u,h,E){}onDisconnectCancel(u,h){}reportStats(u){}}class Zo{constructor(u){this.allowedEvents_=u,this.listeners_={},(0,W.hu)(Array.isArray(u)&&u.length>0,"Requires a non-empty array")}trigger(u,...h){if(Array.isArray(this.listeners_[u])){const E=[...this.listeners_[u]];for(let k=0;k<E.length;k++)E[k].callback.apply(E[k].context,h)}}on(u,h,E){this.validateEventType_(u),this.listeners_[u]=this.listeners_[u]||[],this.listeners_[u].push({callback:h,context:E});const k=this.getInitialEvent(u);k&&h.apply(E,k)}off(u,h,E){this.validateEventType_(u);const k=this.listeners_[u]||[];for(let ee=0;ee<k.length;ee++)if(k[ee].callback===h&&(!E||E===k[ee].context))return void k.splice(ee,1)}validateEventType_(u){(0,W.hu)(this.allowedEvents_.find(h=>h===u),"Unknown event: "+u)}}class br extends Zo{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new br}getInitialEvent(u){return(0,W.hu)("online"===u,"Unknown event type: "+u),[this.online_]}currentlyOnline(){return this.online_}}class Zi{constructor(u,h){if(void 0===h){this.pieces_=u.split("/");let E=0;for(let k=0;k<this.pieces_.length;k++)this.pieces_[k].length>0&&(this.pieces_[E]=this.pieces_[k],E++);this.pieces_.length=E,this.pieceNum_=0}else this.pieces_=u,this.pieceNum_=h}toString(){let u="";for(let h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(u+="/"+this.pieces_[h]);return u||"/"}}function Ui(){return new Zi("")}function Oi(g){return g.pieceNum_>=g.pieces_.length?null:g.pieces_[g.pieceNum_]}function Tr(g){return g.pieces_.length-g.pieceNum_}function ar(g){let u=g.pieceNum_;return u<g.pieces_.length&&u++,new Zi(g.pieces_,u)}function Fs(g){return g.pieceNum_<g.pieces_.length?g.pieces_[g.pieces_.length-1]:null}function As(g,u=0){return g.pieces_.slice(g.pieceNum_+u)}function ki(g){if(g.pieceNum_>=g.pieces_.length)return null;const u=[];for(let h=g.pieceNum_;h<g.pieces_.length-1;h++)u.push(g.pieces_[h]);return new Zi(u,0)}function Hi(g,u){const h=[];for(let E=g.pieceNum_;E<g.pieces_.length;E++)h.push(g.pieces_[E]);if(u instanceof Zi)for(let E=u.pieceNum_;E<u.pieces_.length;E++)h.push(u.pieces_[E]);else{const E=u.split("/");for(let k=0;k<E.length;k++)E[k].length>0&&h.push(E[k])}return new Zi(h,0)}function di(g){return g.pieceNum_>=g.pieces_.length}function Ar(g,u){const h=Oi(g),E=Oi(u);if(null===h)return u;if(h===E)return Ar(ar(g),ar(u));throw new Error("INTERNAL ERROR: innerPath ("+u+") is not within outerPath ("+g+")")}function ns(g,u){const h=As(g,0),E=As(u,0);for(let k=0;k<h.length&&k<E.length;k++){const ee=_e(h[k],E[k]);if(0!==ee)return ee}return h.length===E.length?0:h.length<E.length?-1:1}function is(g,u){if(Tr(g)!==Tr(u))return!1;for(let h=g.pieceNum_,E=u.pieceNum_;h<=g.pieces_.length;h++,E++)if(g.pieces_[h]!==u.pieces_[E])return!1;return!0}function bs(g,u){let h=g.pieceNum_,E=u.pieceNum_;if(Tr(g)>Tr(u))return!1;for(;h<g.pieces_.length;){if(g.pieces_[h]!==u.pieces_[E])return!1;++h,++E}return!0}class So{constructor(u,h){this.errorPrefix_=h,this.parts_=As(u,0),this.byteLength_=Math.max(1,this.parts_.length);for(let E=0;E<this.parts_.length;E++)this.byteLength_+=(0,W.ug)(this.parts_[E]);Qi(this)}}function Qi(g){if(g.byteLength_>768)throw new Error(g.errorPrefix_+"has a key path longer than 768 bytes ("+g.byteLength_+").");if(g.parts_.length>32)throw new Error(g.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yn(g))}function Yn(g){return 0===g.parts_.length?"":"in property '"+g.parts_.join(".")+"'"}class Ti extends Zo{constructor(){let u,h;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(h="visibilitychange",u="hidden"):typeof document.mozHidden<"u"?(h="mozvisibilitychange",u="mozHidden"):typeof document.msHidden<"u"?(h="msvisibilitychange",u="msHidden"):typeof document.webkitHidden<"u"&&(h="webkitvisibilitychange",u="webkitHidden")),this.visible_=!0,h&&document.addEventListener(h,()=>{const E=!document[u];E!==this.visible_&&(this.visible_=E,this.trigger("visible",E))},!1)}static getInstance(){return new Ti}getInitialEvent(u){return(0,W.hu)("visible"===u,"Unknown event type: "+u),[this.visible_]}}const Vi=1e3;let Rs,hs=(()=>{class g extends ys{constructor(h,E,k,ee,ce,Ne,lt,Ct){if(super(),this.repoInfo_=h,this.applicationId_=E,this.onDataUpdate_=k,this.onConnectStatus_=ee,this.onServerInfoUpdate_=ce,this.authTokenProvider_=Ne,this.appCheckTokenProvider_=lt,this.authOverride_=Ct,this.id=g.nextPersistentConnectionId_++,this.log_=Mt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ct&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ti.getInstance().on("visible",this.onVisible_,this),-1===h.host.indexOf("fblocal")&&br.getInstance().on("online",this.onOnline_,this)}sendRequest(h,E,k){const ee=++this.requestNumber_,ce={r:ee,a:h,b:E};this.log_((0,W.Wl)(ce)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ce),k&&(this.requestCBHash_[ee]=k)}get(h){this.initConnection_();const E=new W.BH,ee={action:"g",request:{p:h._path.toString(),q:h._queryObject},onComplete:Ne=>{const lt=Ne.d;"ok"===Ne.s?E.resolve(lt):E.reject(lt)}};return this.outstandingGets_.push(ee),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),E.promise}listen(h,E,k,ee){this.initConnection_();const ce=h._queryIdentifier,Ne=h._path.toString();this.log_("Listen called for "+Ne+" "+ce),this.listens.has(Ne)||this.listens.set(Ne,new Map),(0,W.hu)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get(Ne).has(ce),"listen() called twice for same path/queryId.");const lt={onComplete:ee,hashFn:E,query:h,tag:k};this.listens.get(Ne).set(ce,lt),this.connected_&&this.sendListen_(lt)}sendGet_(h){const E=this.outstandingGets_[h];this.sendRequest("g",E.request,k=>{delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),E.onComplete&&E.onComplete(k)})}sendListen_(h){const E=h.query,k=E._path.toString(),ee=E._queryIdentifier;this.log_("Listen on "+k+" for "+ee);const ce={p:k};h.tag&&(ce.q=E._queryObject,ce.t=h.tag),ce.h=h.hashFn(),this.sendRequest("q",ce,lt=>{const Ct=lt.d,vn=lt.s;g.warnOnListenWarnings_(Ct,E),(this.listens.get(k)&&this.listens.get(k).get(ee))===h&&(this.log_("listen response",lt),"ok"!==vn&&this.removeListen_(k,ee),h.onComplete&&h.onComplete(vn,Ct))})}static warnOnListenWarnings_(h,E){if(h&&"object"==typeof h&&(0,W.r3)(h,"w")){const k=(0,W.DV)(h,"w");if(Array.isArray(k)&&~k.indexOf("no_index")){const ee='".indexOn": "'+E._queryParams.getIndex().toString()+'"',ce=E._path.toString();Bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${ee} at ${ce} to your security rules for better performance.`)}}}refreshAuthToken(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(h)}reduceReconnectDelayIfAdminCredential_(h){(h&&40===h.length||(0,W.GJ)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const h=this.authToken_,E=(0,W.w9)(h)?"auth":"gauth",k={cred:h};null===this.authOverride_?k.noauth=!0:"object"==typeof this.authOverride_&&(k.authvar=this.authOverride_),this.sendRequest(E,k,ee=>{const ce=ee.s,Ne=ee.d||"error";this.authToken_===h&&("ok"===ce?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ce,Ne))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},h=>{const E=h.s,k=h.d||"error";"ok"===E?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(E,k)})}unlisten(h,E){const k=h._path.toString(),ee=h._queryIdentifier;this.log_("Unlisten called for "+k+" "+ee),(0,W.hu)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(k,ee)&&this.connected_&&this.sendUnlisten_(k,ee,h._queryObject,E)}sendUnlisten_(h,E,k,ee){this.log_("Unlisten on "+h+" for "+E);const ce={p:h};ee&&(ce.q=k,ce.t=ee),this.sendRequest("n",ce)}onDisconnectPut(h,E,k){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,E,k):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:E,onComplete:k})}onDisconnectMerge(h,E,k){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,E,k):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:E,onComplete:k})}onDisconnectCancel(h,E){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,E):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:E})}sendOnDisconnect_(h,E,k,ee){const ce={p:E,d:k};this.log_("onDisconnect "+h,ce),this.sendRequest(h,ce,Ne=>{ee&&setTimeout(()=>{ee(Ne.s,Ne.d)},Math.floor(0))})}put(h,E,k,ee){this.putInternal("p",h,E,k,ee)}merge(h,E,k,ee){this.putInternal("m",h,E,k,ee)}putInternal(h,E,k,ee,ce){this.initConnection_();const Ne={p:E,d:k};void 0!==ce&&(Ne.h=ce),this.outstandingPuts_.push({action:h,request:Ne,onComplete:ee}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+E)}sendPut_(h){const E=this.outstandingPuts_[h].action,k=this.outstandingPuts_[h].request,ee=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(E,k,ce=>{this.log_(E+" response",ce),delete this.outstandingPuts_[h],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),ee&&ee(ce.s,ce.d)})}reportStats(h){if(this.connected_){const E={c:h};this.log_("reportStats",E),this.sendRequest("s",E,k=>{"ok"!==k.s&&this.log_("reportStats","Error sending stats: "+k.d)})}}onDataMessage_(h){if("r"in h){this.log_("from server: "+(0,W.Wl)(h));const E=h.r,k=this.requestCBHash_[E];k&&(delete this.requestCBHash_[E],k(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}}onDataPush_(h,E){this.log_("handleServerMessage",h,E),"d"===h?this.onDataUpdate_(E.p,E.d,!1,E.t):"m"===h?this.onDataUpdate_(E.p,E.d,!0,E.t):"c"===h?this.onListenRevoked_(E.p,E.q):"ac"===h?this.onAuthRevoked_(E.s,E.d):"apc"===h?this.onAppCheckRevoked_(E.s,E.d):"sd"===h?this.onSecurityDebugPacket_(E):Ze("Unrecognized action received from server: "+(0,W.Wl)(h)+"\nAre you using the latest client?")}onReady_(h,E){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=E,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(h){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(h))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0)),this.visible_=h}onOnline_(h){h?(this.log_("Browser went online."),this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const h=(new Date).getTime()-this.lastConnectionAttemptTime_;let E=Math.max(0,this.reconnectDelay_-h);E=Math.random()*E,this.log_("Trying to reconnect in "+E+"ms"),this.scheduleConnect_(E),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var h=this;return(0,ye.Z)(function*(){if(h.shouldReconnect_()){h.log_("Making a connection attempt"),h.lastConnectionAttemptTime_=(new Date).getTime(),h.lastConnectionEstablishedTime_=null;const E=h.onDataMessage_.bind(h),k=h.onReady_.bind(h),ee=h.onRealtimeDisconnect_.bind(h),ce=h.id+":"+g.nextConnectionId_++,Ne=h.lastSessionId;let lt=!1,Ct=null;const vn=function(){Ct?Ct.close():(lt=!0,ee())};h.realtime_={close:vn,sendRequest:function(gi){(0,W.hu)(Ct,"sendRequest call when we're not connected not allowed."),Ct.sendRequest(gi)}};const On=h.forceTokenRefresh_;h.forceTokenRefresh_=!1;try{const[gi,Fi]=yield Promise.all([h.authTokenProvider_.getToken(On),h.appCheckTokenProvider_.getToken(On)]);lt?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),h.authToken_=gi&&gi.accessToken,h.appCheckToken_=Fi&&Fi.token,Ct=new $s(ce,h.repoInfo_,h.applicationId_,h.appCheckToken_,h.authToken_,E,k,ee,es=>{Bt(es+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},Ne))}catch(gi){h.log_("Failed to get token: "+gi),lt||(h.repoInfo_.nodeAdmin&&Bt(gi),vn())}}})()}interrupt(h){Te("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(h){Te("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(h){const E=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:E})}cancelSentTransactions_(){for(let h=0;h<this.outstandingPuts_.length;h++){const E=this.outstandingPuts_[h];E&&"h"in E.request&&E.queued&&(E.onComplete&&E.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(h,E){let k;k=E?E.map(ce=>$t(ce)).join("$"):"default";const ee=this.removeListen_(h,k);ee&&ee.onComplete&&ee.onComplete("permission_denied")}removeListen_(h,E){const k=new Zi(h).toString();let ee;if(this.listens.has(k)){const ce=this.listens.get(k);ee=ce.get(E),ce.delete(E),0===ce.size&&this.listens.delete(k)}else ee=void 0;return ee}onAuthRevoked_(h,E){Te("Auth token revoked: "+h+"/"+E),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(h,E){Te("App check token revoked: "+h+"/"+E),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const h of this.listens.values())for(const E of h.values())this.sendListen_(E);for(let h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){const h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(let h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)}sendConnectStats_(){const h={};let E="js";(0,W.Yr)()&&(E=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+E+"."+It.replace(/\./g,"-")]=1,(0,W.uI)()?h["framework.cordova"]=1:(0,W.b$)()&&(h["framework.reactnative"]=1),this.reportStats(h)}shouldReconnect_(){const h=br.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&h}}return g.nextPersistentConnectionId_=0,g.nextConnectionId_=0,g})();class Vn{constructor(u,h){this.name=u,this.node=h}static Wrap(u,h){return new Vn(u,h)}}class Es{getCompare(){return this.compare.bind(this)}indexedValueChanged(u,h){const E=new Vn(Lt,u),k=new Vn(Lt,h);return 0!==this.compare(E,k)}minPost(){return Vn.MIN}}class Ao extends Es{static get __EMPTY_NODE(){return Rs}static set __EMPTY_NODE(u){Rs=u}compare(u,h){return _e(u.name,h.name)}isDefinedOn(u){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(u,h){return!1}minPost(){return Vn.MIN}maxPost(){return new Vn(Wt,Rs)}makePost(u,h){return(0,W.hu)("string"==typeof u,"KeyIndex indexValue must always be a string."),new Vn(u,Rs)}toString(){return".key"}}const Ji=new Ao;class Dr{constructor(u,h,E,k,ee=null){this.isReverse_=k,this.resultGenerator_=ee,this.nodeStack_=[];let ce=1;for(;!u.isEmpty();)if(ce=h?E(u.key,h):1,k&&(ce*=-1),ce<0)u=this.isReverse_?u.left:u.right;else{if(0===ce){this.nodeStack_.push(u);break}this.nodeStack_.push(u),u=this.isReverse_?u.right:u.left}}getNext(){if(0===this.nodeStack_.length)return null;let h,u=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value},this.isReverse_)for(u=u.left;!u.isEmpty();)this.nodeStack_.push(u),u=u.right;else for(u=u.right;!u.isEmpty();)this.nodeStack_.push(u),u=u.left;return h}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const u=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(u.key,u.value):{key:u.key,value:u.value}}}let uo,gr=(()=>{class g{constructor(h,E,k,ee,ce){this.key=h,this.value=E,this.color=k??g.RED,this.left=ee??Qr.EMPTY_NODE,this.right=ce??Qr.EMPTY_NODE}copy(h,E,k,ee,ce){return new g(h??this.key,E??this.value,k??this.color,ee??this.left,ce??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)}reverseTraversal(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(h,E,k){let ee=this;const ce=k(h,ee.key);return ee=ce<0?ee.copy(null,null,null,ee.left.insert(h,E,k),null):0===ce?ee.copy(null,E,null,null,null):ee.copy(null,null,null,null,ee.right.insert(h,E,k)),ee.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qr.EMPTY_NODE;let h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.removeMin_(),null),h.fixUp_()}remove(h,E){let k,ee;if(k=this,E(h,k.key)<0)!k.left.isEmpty()&&!k.left.isRed_()&&!k.left.left.isRed_()&&(k=k.moveRedLeft_()),k=k.copy(null,null,null,k.left.remove(h,E),null);else{if(k.left.isRed_()&&(k=k.rotateRight_()),!k.right.isEmpty()&&!k.right.isRed_()&&!k.right.left.isRed_()&&(k=k.moveRedRight_()),0===E(h,k.key)){if(k.right.isEmpty())return Qr.EMPTY_NODE;ee=k.right.min_(),k=k.copy(ee.key,ee.value,null,null,k.right.removeMin_())}k=k.copy(null,null,null,null,k.right.remove(h,E))}return k.fixUp_()}isRed_(){return this.color}fixUp_(){let h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h}moveRedLeft_(){let h=this.colorFlip_();return h.right.left.isRed_()&&(h=h.copy(null,null,null,null,h.right.rotateRight_()),h=h.rotateLeft_(),h=h.colorFlip_()),h}moveRedRight_(){let h=this.colorFlip_();return h.left.left.isRed_()&&(h=h.rotateRight_(),h=h.colorFlip_()),h}rotateLeft_(){const h=this.copy(null,null,g.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)}rotateRight_(){const h=this.copy(null,null,g.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)}colorFlip_(){const h=this.left.copy(null,null,!this.left.color,null,null),E=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,E)}checkMaxDepth_(){const h=this.check_();return Math.pow(2,h)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)}}return g.RED=!0,g.BLACK=!1,g})();class Qr{constructor(u,h=Qr.EMPTY_NODE){this.comparator_=u,this.root_=h}insert(u,h){return new Qr(this.comparator_,this.root_.insert(u,h,this.comparator_).copy(null,null,gr.BLACK,null,null))}remove(u){return new Qr(this.comparator_,this.root_.remove(u,this.comparator_).copy(null,null,gr.BLACK,null,null))}get(u){let h,E=this.root_;for(;!E.isEmpty();){if(h=this.comparator_(u,E.key),0===h)return E.value;h<0?E=E.left:h>0&&(E=E.right)}return null}getPredecessorKey(u){let h,E=this.root_,k=null;for(;!E.isEmpty();){if(h=this.comparator_(u,E.key),0===h){if(E.left.isEmpty())return k?k.key:null;for(E=E.left;!E.right.isEmpty();)E=E.right;return E.key}h<0?E=E.left:h>0&&(k=E,E=E.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(u){return this.root_.inorderTraversal(u)}reverseTraversal(u){return this.root_.reverseTraversal(u)}getIterator(u){return new Dr(this.root_,null,this.comparator_,!1,u)}getIteratorFrom(u,h){return new Dr(this.root_,u,this.comparator_,!1,h)}getReverseIteratorFrom(u,h){return new Dr(this.root_,u,this.comparator_,!0,h)}getReverseIterator(u){return new Dr(this.root_,null,this.comparator_,!0,u)}}function ul(g,u){return _e(g.name,u.name)}function Ls(g,u){return _e(g,u)}Qr.EMPTY_NODE=new class Eo{copy(u,h,E,k,ee){return this}insert(u,h,E){return new gr(u,h,null)}remove(u,h){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jo=function(g){return"number"==typeof g?"number:"+Qn(g):"string:"+g},yi=function(g){if(g.isLeafNode()){const u=g.val();(0,W.hu)("string"==typeof u||"number"==typeof u||"object"==typeof u&&(0,W.r3)(u,".sv"),"Priority must be a string or number.")}else(0,W.hu)(g===uo||g.isEmpty(),"priority of unexpected type.");(0,W.hu)(g===uo||g.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let No,zo,Gr,Lr=(()=>{class g{constructor(h,E=g.__childrenNodeConstructor.EMPTY_NODE){this.value_=h,this.priorityNode_=E,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),yi(this.priorityNode_)}static set __childrenNodeConstructor(h){No=h}static get __childrenNodeConstructor(){return No}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(h){return new g(this.value_,h)}getImmediateChild(h){return".priority"===h?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}getChild(h){return di(h)?this:".priority"===Oi(h)?this.priorityNode_:g.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(h,E){return null}updateImmediateChild(h,E){return".priority"===h?this.updatePriority(E):E.isEmpty()&&".priority"!==h?this:g.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,E).updatePriority(this.priorityNode_)}updateChild(h,E){const k=Oi(h);return null===k?E:E.isEmpty()&&".priority"!==k?this:((0,W.hu)(".priority"!==k||1===Tr(h),".priority must be the last token in a path"),this.updateImmediateChild(k,g.__childrenNodeConstructor.EMPTY_NODE.updateChild(ar(h),E)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(h,E){return!1}val(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let h="";this.priorityNode_.isEmpty()||(h+="priority:"+jo(this.priorityNode_.val())+":");const E=typeof this.value_;h+=E+":",h+="number"===E?Qn(this.value_):this.value_,this.lazyHash_=kt(h)}return this.lazyHash_}getValue(){return this.value_}compareTo(h){return h===g.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof g.__childrenNodeConstructor?-1:((0,W.hu)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))}compareToLeafNode_(h){const E=typeof h.value_,k=typeof this.value_,ee=g.VALUE_TYPE_ORDER.indexOf(E),ce=g.VALUE_TYPE_ORDER.indexOf(k);return(0,W.hu)(ee>=0,"Unknown leaf type: "+E),(0,W.hu)(ce>=0,"Unknown leaf type: "+k),ee===ce?"object"===k?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:ce-ee}withIndex(){return this}isIndexed(){return!0}equals(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))}}return g.VALUE_TYPE_ORDER=["object","boolean","number","string"],g})();const Pi=new class oa extends Es{compare(u,h){const E=u.node.getPriority(),k=h.node.getPriority(),ee=E.compareTo(k);return 0===ee?_e(u.name,h.name):ee}isDefinedOn(u){return!u.getPriority().isEmpty()}indexedValueChanged(u,h){return!u.getPriority().equals(h.getPriority())}minPost(){return Vn.MIN}maxPost(){return new Vn(Wt,new Lr("[PRIORITY-POST]",Gr))}makePost(u,h){const E=zo(u);return new Vn(h,new Lr("[PRIORITY-POST]",E))}toString(){return".priority"}},fa=Math.log(2);class rs{constructor(u){this.count=parseInt(Math.log(u+1)/fa,10),this.current_=this.count-1;const k=(ee=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=u+1&k}nextBitIsOne(){const u=!(this.bits_&1<<this.current_);return this.current_--,u}}const Ir=function(g,u,h,E){g.sort(u);const k=function(lt,Ct){const vn=Ct-lt;let En,On;if(0===vn)return null;if(1===vn)return En=g[lt],On=h?h(En):En,new gr(On,En.node,gr.BLACK,null,null);{const gi=parseInt(vn/2,10)+lt,Fi=k(lt,gi),es=k(gi+1,Ct);return En=g[gi],On=h?h(En):En,new gr(On,En.node,gr.BLACK,Fi,es)}},Ne=function(lt){let Ct=null,vn=null,En=g.length;const On=function(Fi,es){const To=En-Fi,nl=En;En-=Fi;const bl=k(To+1,nl),Ec=g[To],Xu=h?h(Ec):Ec;gi(new gr(Xu,Ec.node,es,null,bl))},gi=function(Fi){Ct?(Ct.left=Fi,Ct=Fi):(vn=Fi,Ct=Fi)};for(let Fi=0;Fi<lt.count;++Fi){const es=lt.nextBitIsOne(),To=Math.pow(2,lt.count-(Fi+1));es?On(To,gr.BLACK):(On(To,gr.BLACK),On(To,gr.RED))}return vn}(new rs(g.length));return new Qr(E||u,Ne)};let pa;const $r={};class Ms{constructor(u,h){this.indexes_=u,this.indexSet_=h}static get Default(){return(0,W.hu)($r&&Pi,"ChildrenNode.ts has not been loaded"),pa=pa||new Ms({".priority":$r},{".priority":Pi}),pa}get(u){const h=(0,W.DV)(this.indexes_,u);if(!h)throw new Error("No index defined for "+u);return h instanceof Qr?h:null}hasIndex(u){return(0,W.r3)(this.indexSet_,u.toString())}addIndex(u,h){(0,W.hu)(u!==Ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const E=[];let k=!1;const ee=h.getIterator(Vn.Wrap);let Ne,ce=ee.getNext();for(;ce;)k=k||u.isDefinedOn(ce.node),E.push(ce),ce=ee.getNext();Ne=k?Ir(E,u.getCompare()):$r;const lt=u.toString(),Ct=Object.assign({},this.indexSet_);Ct[lt]=u;const vn=Object.assign({},this.indexes_);return vn[lt]=Ne,new Ms(vn,Ct)}addToIndexes(u,h){const E=(0,W.UI)(this.indexes_,(k,ee)=>{const ce=(0,W.DV)(this.indexSet_,ee);if((0,W.hu)(ce,"Missing index implementation for "+ee),k===$r){if(ce.isDefinedOn(u.node)){const Ne=[],lt=h.getIterator(Vn.Wrap);let Ct=lt.getNext();for(;Ct;)Ct.name!==u.name&&Ne.push(Ct),Ct=lt.getNext();return Ne.push(u),Ir(Ne,ce.getCompare())}return $r}{const Ne=h.get(u.name);let lt=k;return Ne&&(lt=lt.remove(new Vn(u.name,Ne))),lt.insert(u,u.node)}});return new Ms(E,this.indexSet_)}removeFromIndexes(u,h){const E=(0,W.UI)(this.indexes_,k=>{if(k===$r)return k;{const ee=h.get(u.name);return ee?k.remove(new Vn(u.name,ee)):k}});return new Ms(E,this.indexSet_)}}let ss,Ni=(()=>{class g{constructor(h,E,k){this.children_=h,this.priorityNode_=E,this.indexMap_=k,this.lazyHash_=null,this.priorityNode_&&yi(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ss||(ss=new g(new Qr(Ls),null,Ms.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ss}updatePriority(h){return this.children_.isEmpty()?this:new g(this.children_,h,this.indexMap_)}getImmediateChild(h){if(".priority"===h)return this.getPriority();{const E=this.children_.get(h);return null===E?ss:E}}getChild(h){const E=Oi(h);return null===E?this:this.getImmediateChild(E).getChild(ar(h))}hasChild(h){return null!==this.children_.get(h)}updateImmediateChild(h,E){if((0,W.hu)(E,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(E);{const k=new Vn(h,E);let ee,ce;E.isEmpty()?(ee=this.children_.remove(h),ce=this.indexMap_.removeFromIndexes(k,this.children_)):(ee=this.children_.insert(h,E),ce=this.indexMap_.addToIndexes(k,this.children_));const Ne=ee.isEmpty()?ss:this.priorityNode_;return new g(ee,Ne,ce)}}updateChild(h,E){const k=Oi(h);if(null===k)return E;{(0,W.hu)(".priority"!==Oi(h)||1===Tr(h),".priority must be the last token in a path");const ee=this.getImmediateChild(k).updateChild(ar(h),E);return this.updateImmediateChild(k,ee)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(h){if(this.isEmpty())return null;const E={};let k=0,ee=0,ce=!0;if(this.forEachChild(Pi,(Ne,lt)=>{E[Ne]=lt.val(h),k++,ce&&g.INTEGER_REGEXP_.test(Ne)?ee=Math.max(ee,Number(Ne)):ce=!1}),!h&&ce&&ee<2*k){const Ne=[];for(const lt in E)Ne[lt]=E[lt];return Ne}return h&&!this.getPriority().isEmpty()&&(E[".priority"]=this.getPriority().val()),E}hash(){if(null===this.lazyHash_){let h="";this.getPriority().isEmpty()||(h+="priority:"+jo(this.getPriority().val())+":"),this.forEachChild(Pi,(E,k)=>{const ee=k.hash();""!==ee&&(h+=":"+E+":"+ee)}),this.lazyHash_=""===h?"":kt(h)}return this.lazyHash_}getPredecessorChildName(h,E,k){const ee=this.resolveIndex_(k);if(ee){const ce=ee.getPredecessorKey(new Vn(h,E));return ce?ce.name:null}return this.children_.getPredecessorKey(h)}getFirstChildName(h){const E=this.resolveIndex_(h);if(E){const k=E.minKey();return k&&k.name}return this.children_.minKey()}getFirstChild(h){const E=this.getFirstChildName(h);return E?new Vn(E,this.children_.get(E)):null}getLastChildName(h){const E=this.resolveIndex_(h);if(E){const k=E.maxKey();return k&&k.name}return this.children_.maxKey()}getLastChild(h){const E=this.getLastChildName(h);return E?new Vn(E,this.children_.get(E)):null}forEachChild(h,E){const k=this.resolveIndex_(h);return k?k.inorderTraversal(ee=>E(ee.name,ee.node)):this.children_.inorderTraversal(E)}getIterator(h){return this.getIteratorFrom(h.minPost(),h)}getIteratorFrom(h,E){const k=this.resolveIndex_(E);if(k)return k.getIteratorFrom(h,ee=>ee);{const ee=this.children_.getIteratorFrom(h.name,Vn.Wrap);let ce=ee.peek();for(;null!=ce&&E.compare(ce,h)<0;)ee.getNext(),ce=ee.peek();return ee}}getReverseIterator(h){return this.getReverseIteratorFrom(h.maxPost(),h)}getReverseIteratorFrom(h,E){const k=this.resolveIndex_(E);if(k)return k.getReverseIteratorFrom(h,ee=>ee);{const ee=this.children_.getReverseIteratorFrom(h.name,Vn.Wrap);let ce=ee.peek();for(;null!=ce&&E.compare(ce,h)>0;)ee.getNext(),ce=ee.peek();return ee}}compareTo(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===Qo?-1:0}withIndex(h){if(h===Ji||this.indexMap_.hasIndex(h))return this;{const E=this.indexMap_.addIndex(h,this.children_);return new g(this.children_,this.priorityNode_,E)}}isIndexed(h){return h===Ji||this.indexMap_.hasIndex(h)}equals(h){if(h===this)return!0;if(h.isLeafNode())return!1;{const E=h;if(this.getPriority().equals(E.getPriority())){if(this.children_.count()===E.children_.count()){const k=this.getIterator(Pi),ee=E.getIterator(Pi);let ce=k.getNext(),Ne=ee.getNext();for(;ce&&Ne;){if(ce.name!==Ne.name||!ce.node.equals(Ne.node))return!1;ce=k.getNext(),Ne=ee.getNext()}return null===ce&&null===Ne}return!1}return!1}}resolveIndex_(h){return h===Ji?null:this.indexMap_.get(h.toString())}}return g.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,g})();const Qo=new class Vs extends Ni{constructor(){super(new Qr(Ls),Ni.EMPTY_NODE,Ms.Default)}compareTo(u){return u===this?0:1}equals(u){return u===this}getPriority(){return this}getImmediateChild(u){return Ni.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Vn,{MIN:{value:new Vn(Lt,Ni.EMPTY_NODE)},MAX:{value:new Vn(Wt,Qo)}}),Ao.__EMPTY_NODE=Ni.EMPTY_NODE,Lr.__childrenNodeConstructor=Ni,function ho(g){uo=g}(Qo),function fs(g){Gr=g}(Qo);const Wa=!0;function Mr(g,u=null){if(null===g)return Ni.EMPTY_NODE;if("object"==typeof g&&".priority"in g&&(u=g[".priority"]),(0,W.hu)(null===u||"string"==typeof u||"number"==typeof u||"object"==typeof u&&".sv"in u,"Invalid priority type found: "+typeof u),"object"==typeof g&&".value"in g&&null!==g[".value"]&&(g=g[".value"]),"object"!=typeof g||".sv"in g)return new Lr(g,Mr(u));if(g instanceof Array||!Wa){let h=Ni.EMPTY_NODE;return dn(g,(E,k)=>{if((0,W.r3)(g,E)&&"."!==E.substring(0,1)){const ee=Mr(k);(ee.isLeafNode()||!ee.isEmpty())&&(h=h.updateImmediateChild(E,ee))}}),h.updatePriority(Mr(u))}{const h=[];let E=!1;if(dn(g,(ce,Ne)=>{if("."!==ce.substring(0,1)){const lt=Mr(Ne);lt.isEmpty()||(E=E||!lt.getPriority().isEmpty(),h.push(new Vn(ce,lt)))}}),0===h.length)return Ni.EMPTY_NODE;const ee=Ir(h,ul,ce=>ce.name,Ls);if(E){const ce=Ir(h,Pi.getCompare());return new Ni(ee,Mr(u),new Ms({".priority":ce},{".priority":Pi}))}return new Ni(ee,Mr(u),Ms.Default)}}!function ro(g){zo=g}(Mr);class fe extends Es{constructor(u){super(),this.indexPath_=u,(0,W.hu)(!di(u)&&".priority"!==Oi(u),"Can't create PathIndex with empty path or .priority key")}extractChild(u){return u.getChild(this.indexPath_)}isDefinedOn(u){return!u.getChild(this.indexPath_).isEmpty()}compare(u,h){const E=this.extractChild(u.node),k=this.extractChild(h.node),ee=E.compareTo(k);return 0===ee?_e(u.name,h.name):ee}makePost(u,h){const E=Mr(u),k=Ni.EMPTY_NODE.updateChild(this.indexPath_,E);return new Vn(h,k)}maxPost(){const u=Ni.EMPTY_NODE.updateChild(this.indexPath_,Qo);return new Vn(Wt,u)}toString(){return As(this.indexPath_,0).join("/")}}const D=new class M extends Es{compare(u,h){const E=u.node.compareTo(h.node);return 0===E?_e(u.name,h.name):E}isDefinedOn(u){return!0}indexedValueChanged(u,h){return!u.equals(h)}minPost(){return Vn.MIN}maxPost(){return Vn.MAX}makePost(u,h){const E=Mr(u);return new Vn(h,E)}toString(){return".value"}};function q(g){return{type:"value",snapshotNode:g}}function de(g,u){return{type:"child_added",snapshotNode:u,childName:g}}function ct(g,u){return{type:"child_removed",snapshotNode:u,childName:g}}function Zt(g,u,h){return{type:"child_changed",snapshotNode:u,childName:g,oldSnap:h}}class Wn{constructor(u){this.index_=u}updateChild(u,h,E,k,ee,ce){(0,W.hu)(u.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ne=u.getImmediateChild(h);return Ne.getChild(k).equals(E.getChild(k))&&Ne.isEmpty()===E.isEmpty()||(null!=ce&&(E.isEmpty()?u.hasChild(h)?ce.trackChildChange(ct(h,Ne)):(0,W.hu)(u.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ne.isEmpty()?ce.trackChildChange(de(h,E)):ce.trackChildChange(Zt(h,E,Ne))),u.isLeafNode()&&E.isEmpty())?u:u.updateImmediateChild(h,E).withIndex(this.index_)}updateFullNode(u,h,E){return null!=E&&(u.isLeafNode()||u.forEachChild(Pi,(k,ee)=>{h.hasChild(k)||E.trackChildChange(ct(k,ee))}),h.isLeafNode()||h.forEachChild(Pi,(k,ee)=>{if(u.hasChild(k)){const ce=u.getImmediateChild(k);ce.equals(ee)||E.trackChildChange(Zt(k,ee,ce))}else E.trackChildChange(de(k,ee))})),h.withIndex(this.index_)}updatePriority(u,h){return u.isEmpty()?Ni.EMPTY_NODE:u.updatePriority(h)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qn{constructor(u){this.indexedFilter_=new Wn(u.getIndex()),this.index_=u.getIndex(),this.startPost_=qn.getStartPost_(u),this.endPost_=qn.getEndPost_(u),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(u){const h=this.startIsInclusive_?this.index_.compare(this.getStartPost(),u)<=0:this.index_.compare(this.getStartPost(),u)<0,E=this.endIsInclusive_?this.index_.compare(u,this.getEndPost())<=0:this.index_.compare(u,this.getEndPost())<0;return h&&E}updateChild(u,h,E,k,ee,ce){return this.matches(new Vn(h,E))||(E=Ni.EMPTY_NODE),this.indexedFilter_.updateChild(u,h,E,k,ee,ce)}updateFullNode(u,h,E){h.isLeafNode()&&(h=Ni.EMPTY_NODE);let k=h.withIndex(this.index_);k=k.updatePriority(Ni.EMPTY_NODE);const ee=this;return h.forEachChild(Pi,(ce,Ne)=>{ee.matches(new Vn(ce,Ne))||(k=k.updateImmediateChild(ce,Ni.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(u,k,E)}updatePriority(u,h){return u}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(u){if(u.hasStart()){const h=u.getIndexStartName();return u.getIndex().makePost(u.getIndexStartValue(),h)}return u.getIndex().minPost()}static getEndPost_(u){if(u.hasEnd()){const h=u.getIndexEndName();return u.getIndex().makePost(u.getIndexEndValue(),h)}return u.getIndex().maxPost()}}class Gi{constructor(u){this.withinDirectionalStart=h=>this.reverse_?this.withinEndPost(h):this.withinStartPost(h),this.withinDirectionalEnd=h=>this.reverse_?this.withinStartPost(h):this.withinEndPost(h),this.withinStartPost=h=>{const E=this.index_.compare(this.rangedFilter_.getStartPost(),h);return this.startIsInclusive_?E<=0:E<0},this.withinEndPost=h=>{const E=this.index_.compare(h,this.rangedFilter_.getEndPost());return this.endIsInclusive_?E<=0:E<0},this.rangedFilter_=new qn(u),this.index_=u.getIndex(),this.limit_=u.getLimit(),this.reverse_=!u.isViewFromLeft(),this.startIsInclusive_=!u.startAfterSet_,this.endIsInclusive_=!u.endBeforeSet_}updateChild(u,h,E,k,ee,ce){return this.rangedFilter_.matches(new Vn(h,E))||(E=Ni.EMPTY_NODE),u.getImmediateChild(h).equals(E)?u:u.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(u,h,E,k,ee,ce):this.fullLimitUpdateChild_(u,h,E,ee,ce)}updateFullNode(u,h,E){let k;if(h.isLeafNode()||h.isEmpty())k=Ni.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<h.numChildren()&&h.isIndexed(this.index_)){let ee;k=Ni.EMPTY_NODE.withIndex(this.index_),ee=this.reverse_?h.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ce=0;for(;ee.hasNext()&&ce<this.limit_;){const Ne=ee.getNext();if(this.withinDirectionalStart(Ne)){if(!this.withinDirectionalEnd(Ne))break;k=k.updateImmediateChild(Ne.name,Ne.node),ce++}}}else{let ee;k=h.withIndex(this.index_),k=k.updatePriority(Ni.EMPTY_NODE),ee=this.reverse_?k.getReverseIterator(this.index_):k.getIterator(this.index_);let ce=0;for(;ee.hasNext();){const Ne=ee.getNext();ce<this.limit_&&this.withinDirectionalStart(Ne)&&this.withinDirectionalEnd(Ne)?ce++:k=k.updateImmediateChild(Ne.name,Ni.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(u,k,E)}updatePriority(u,h){return u}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(u,h,E,k,ee){let ce;if(this.reverse_){const En=this.index_.getCompare();ce=(On,gi)=>En(gi,On)}else ce=this.index_.getCompare();const Ne=u;(0,W.hu)(Ne.numChildren()===this.limit_,"");const lt=new Vn(h,E),Ct=this.reverse_?Ne.getFirstChild(this.index_):Ne.getLastChild(this.index_),vn=this.rangedFilter_.matches(lt);if(Ne.hasChild(h)){const En=Ne.getImmediateChild(h);let On=k.getChildAfterChild(this.index_,Ct,this.reverse_);for(;null!=On&&(On.name===h||Ne.hasChild(On.name));)On=k.getChildAfterChild(this.index_,On,this.reverse_);const gi=null==On?1:ce(On,lt);if(vn&&!E.isEmpty()&&gi>=0)return ee?.trackChildChange(Zt(h,E,En)),Ne.updateImmediateChild(h,E);{ee?.trackChildChange(ct(h,En));const es=Ne.updateImmediateChild(h,Ni.EMPTY_NODE);return null!=On&&this.rangedFilter_.matches(On)?(ee?.trackChildChange(de(On.name,On.node)),es.updateImmediateChild(On.name,On.node)):es}}return E.isEmpty()?u:vn&&ce(Ct,lt)>=0?(null!=ee&&(ee.trackChildChange(ct(Ct.name,Ct.node)),ee.trackChildChange(de(h,E))),Ne.updateImmediateChild(h,E).updateImmediateChild(Ct.name,Ni.EMPTY_NODE)):u}}class rr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pi}copy(){const u=new rr;return u.limitSet_=this.limitSet_,u.limit_=this.limit_,u.startSet_=this.startSet_,u.startAfterSet_=this.startAfterSet_,u.indexStartValue_=this.indexStartValue_,u.startNameSet_=this.startNameSet_,u.indexStartName_=this.indexStartName_,u.endSet_=this.endSet_,u.endBeforeSet_=this.endBeforeSet_,u.indexEndValue_=this.indexEndValue_,u.endNameSet_=this.endNameSet_,u.indexEndName_=this.indexEndName_,u.index_=this.index_,u.viewFrom_=this.viewFrom_,u}}function Cs(g,u,h){const E=g.copy();return E.startSet_=!0,void 0===u&&(u=null),E.indexStartValue_=u,null!=h?(E.startNameSet_=!0,E.indexStartName_=h):(E.startNameSet_=!1,E.indexStartName_=""),E}function ms(g,u,h){const E=g.copy();return E.endSet_=!0,void 0===u&&(u=null),E.indexEndValue_=u,void 0!==h?(E.endNameSet_=!0,E.indexEndName_=h):(E.endNameSet_=!1,E.indexEndName_=""),E}function Yr(g,u){const h=g.copy();return h.index_=u,h}function Ds(g){const u={};if(g.isDefault())return u;let h;if(g.index_===Pi?h="$priority":g.index_===D?h="$value":g.index_===Ji?h="$key":((0,W.hu)(g.index_ instanceof fe,"Unrecognized index type!"),h=g.index_.toString()),u.orderBy=(0,W.Wl)(h),g.startSet_){const E=g.startAfterSet_?"startAfter":"startAt";u[E]=(0,W.Wl)(g.indexStartValue_),g.startNameSet_&&(u[E]+=","+(0,W.Wl)(g.indexStartName_))}if(g.endSet_){const E=g.endBeforeSet_?"endBefore":"endAt";u[E]=(0,W.Wl)(g.indexEndValue_),g.endNameSet_&&(u[E]+=","+(0,W.Wl)(g.indexEndName_))}return g.limitSet_&&(g.isViewFromLeft()?u.limitToFirst=g.limit_:u.limitToLast=g.limit_),u}function go(g){const u={};if(g.startSet_&&(u.sp=g.indexStartValue_,g.startNameSet_&&(u.sn=g.indexStartName_),u.sin=!g.startAfterSet_),g.endSet_&&(u.ep=g.indexEndValue_,g.endNameSet_&&(u.en=g.indexEndName_),u.ein=!g.endBeforeSet_),g.limitSet_){u.l=g.limit_;let h=g.viewFrom_;""===h&&(h=g.isViewFromLeft()?"l":"r"),u.vf=h}return g.index_!==Pi&&(u.i=g.index_.toString()),u}class Jr extends ys{constructor(u,h,E,k){super(),this.repoInfo_=u,this.onDataUpdate_=h,this.authTokenProvider_=E,this.appCheckTokenProvider_=k,this.log_=Mt("p:rest:"),this.listens_={}}reportStats(u){throw new Error("Method not implemented.")}static getListenId_(u,h){return void 0!==h?"tag$"+h:((0,W.hu)(u._queryParams.isDefault(),"should have a tag if it's not a default query."),u._path.toString())}listen(u,h,E,k){const ee=u._path.toString();this.log_("Listen called for "+ee+" "+u._queryIdentifier);const ce=Jr.getListenId_(u,E),Ne={};this.listens_[ce]=Ne;const lt=Ds(u._queryParams);this.restRequest_(ee+".json",lt,(Ct,vn)=>{let En=vn;if(404===Ct&&(En=null,Ct=null),null===Ct&&this.onDataUpdate_(ee,En,!1,E),(0,W.DV)(this.listens_,ce)===Ne){let On;On=Ct?401===Ct?"permission_denied":"rest_error:"+Ct:"ok",k(On,null)}})}unlisten(u,h){const E=Jr.getListenId_(u,h);delete this.listens_[E]}get(u){const h=Ds(u._queryParams),E=u._path.toString(),k=new W.BH;return this.restRequest_(E+".json",h,(ee,ce)=>{let Ne=ce;404===ee&&(Ne=null,ee=null),null===ee?(this.onDataUpdate_(E,Ne,!1,null),k.resolve(Ne)):k.reject(new Error(Ne))}),k.promise}refreshAuthToken(u){}restRequest_(u,h={},E){return h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([k,ee])=>{k&&k.accessToken&&(h.auth=k.accessToken),ee&&ee.token&&(h.ac=ee.token);const ce=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+u+"?ns="+this.repoInfo_.namespace+(0,W.xO)(h);this.log_("Sending REST request for "+ce);const Ne=new XMLHttpRequest;Ne.onreadystatechange=()=>{if(E&&4===Ne.readyState){this.log_("REST Response for "+ce+" received. status:",Ne.status,"response:",Ne.responseText);let lt=null;if(Ne.status>=200&&Ne.status<300){try{lt=(0,W.cI)(Ne.responseText)}catch{Bt("Failed to parse JSON response for "+ce+": "+Ne.responseText)}E(null,lt)}else 401!==Ne.status&&404!==Ne.status&&Bt("Got unsuccessful REST response for "+ce+" Status: "+Ne.status),E(Ne.status);E=null}},Ne.open("GET",ce,!0),Ne.send()})}}class so{constructor(){this.rootNode_=Ni.EMPTY_NODE}getNode(u){return this.rootNode_.getChild(u)}updateSnapshot(u,h){this.rootNode_=this.rootNode_.updateChild(u,h)}}function ps(){return{value:null,children:new Map}}function wo(g,u,h){if(di(u))g.value=h,g.children.clear();else if(null!==g.value)g.value=g.value.updateChild(u,h);else{const E=Oi(u);g.children.has(E)||g.children.set(E,ps()),wo(g.children.get(E),u=ar(u),h)}}function fo(g,u){if(di(u))return g.value=null,g.children.clear(),!0;if(null!==g.value){if(g.value.isLeafNode())return!1;{const h=g.value;return g.value=null,h.forEachChild(Pi,(E,k)=>{wo(g,new Zi(E),k)}),fo(g,u)}}if(g.children.size>0){const h=Oi(u);return u=ar(u),g.children.has(h)&&fo(g.children.get(h),u)&&g.children.delete(h),0===g.children.size}return!0}function aa(g,u,h){null!==g.value?h(u,g.value):function Jo(g,u){g.children.forEach((h,E)=>{u(E,h)})}(g,(E,k)=>{aa(k,new Zi(u.toString()+"/"+E),h)})}class rl{constructor(u){this.collection_=u,this.last_=null}get(){const u=this.collection_.get(),h=Object.assign({},u);return this.last_&&dn(this.last_,(E,k)=>{h[E]=h[E]-k}),this.last_=u,h}}class Va{constructor(u,h){this.server_=h,this.statsToReport_={},this.statsListener_=new rl(u);const E=1e4+2e4*Math.random();Fn(this.reportStats_.bind(this),Math.floor(E))}reportStats_(){const u=this.statsListener_.get(),h={};let E=!1;dn(u,(k,ee)=>{ee>0&&(0,W.r3)(this.statsToReport_,k)&&(h[k]=ee,E=!0)}),E&&this.server_.reportStats(h),Fn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ro=function(g){return g[g.OVERWRITE=0]="OVERWRITE",g[g.MERGE=1]="MERGE",g[g.ACK_USER_WRITE=2]="ACK_USER_WRITE",g[g.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",g}(Ro||{});function ma(g){return{fromUser:!1,fromServer:!0,queryId:g,tagged:!0}}class Xo{constructor(u,h,E){this.path=u,this.affectedTree=h,this.revert=E,this.type=Ro.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(u){if(di(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const h=this.affectedTree.subtree(new Zi(u));return new Xo(Ui(),h,this.revert)}}return(0,W.hu)(Oi(this.path)===u,"operationForChild called for unrelated child."),new Xo(ar(this.path),this.affectedTree,this.revert)}}class Sa{constructor(u,h){this.source=u,this.path=h,this.type=Ro.LISTEN_COMPLETE}operationForChild(u){return di(this.path)?new Sa(this.source,Ui()):new Sa(this.source,ar(this.path))}}class Bs{constructor(u,h,E){this.source=u,this.path=h,this.snap=E,this.type=Ro.OVERWRITE}operationForChild(u){return di(this.path)?new Bs(this.source,Ui(),this.snap.getImmediateChild(u)):new Bs(this.source,ar(this.path),this.snap)}}class Aa{constructor(u,h,E){this.source=u,this.path=h,this.children=E,this.type=Ro.MERGE}operationForChild(u){if(di(this.path)){const h=this.children.subtree(new Zi(u));return h.isEmpty()?null:h.value?new Bs(this.source,Ui(),h.value):new Aa(this.source,Ui(),h)}return(0,W.hu)(Oi(this.path)===u,"Can't get a merge for a child not on the path of the operation"),new Aa(this.source,ar(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ea{constructor(u,h,E){this.node_=u,this.fullyInitialized_=h,this.filtered_=E}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(u){if(di(u))return this.isFullyInitialized()&&!this.filtered_;const h=Oi(u);return this.isCompleteForChild(h)}isCompleteForChild(u){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(u)}getNode(){return this.node_}}class Ka{constructor(u){this.query_=u,this.index_=this.query_._queryParams.getIndex()}}function Za(g,u,h,E,k,ee){const ce=E.filter(Ne=>Ne.type===h);ce.sort((Ne,lt)=>function ol(g,u,h){if(null==u.childName||null==h.childName)throw(0,W.g5)("Should only compare child_ events.");const E=new Vn(u.childName,u.snapshotNode),k=new Vn(h.childName,h.snapshotNode);return g.index_.compare(E,k)}(g,Ne,lt)),ce.forEach(Ne=>{const lt=function po(g,u,h){return"value"===u.type||"child_removed"===u.type||(u.prevName=h.getPredecessorChildName(u.childName,u.snapshotNode,g.index_)),u}(g,Ne,ee);k.forEach(Ct=>{Ct.respondsTo(Ne.type)&&u.push(Ct.createEvent(lt,g.query_))})})}function qa(g,u){return{eventCache:g,serverCache:u}}function Co(g,u,h,E){return qa(new ea(u,h,E),g.serverCache)}function El(g,u,h,E){return qa(g.eventCache,new ea(u,h,E))}function Ws(g){return g.eventCache.isFullyInitialized()?g.eventCache.getNode():null}function ta(g){return g.serverCache.isFullyInitialized()?g.serverCache.getNode():null}let j;class ie{constructor(u,h=(()=>(j||(j=new Qr(Ue)),j))()){this.value=u,this.children=h}static fromObject(u){let h=new ie(null);return dn(u,(E,k)=>{h=h.set(new Zi(E),k)}),h}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(u,h){if(null!=this.value&&h(this.value))return{path:Ui(),value:this.value};if(di(u))return null;{const E=Oi(u),k=this.children.get(E);if(null!==k){const ee=k.findRootMostMatchingPathAndValue(ar(u),h);return null!=ee?{path:Hi(new Zi(E),ee.path),value:ee.value}:null}return null}}findRootMostValueAndPath(u){return this.findRootMostMatchingPathAndValue(u,()=>!0)}subtree(u){if(di(u))return this;{const h=Oi(u),E=this.children.get(h);return null!==E?E.subtree(ar(u)):new ie(null)}}set(u,h){if(di(u))return new ie(h,this.children);{const E=Oi(u),ee=(this.children.get(E)||new ie(null)).set(ar(u),h),ce=this.children.insert(E,ee);return new ie(this.value,ce)}}remove(u){if(di(u))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const h=Oi(u),E=this.children.get(h);if(E){const k=E.remove(ar(u));let ee;return ee=k.isEmpty()?this.children.remove(h):this.children.insert(h,k),null===this.value&&ee.isEmpty()?new ie(null):new ie(this.value,ee)}return this}}get(u){if(di(u))return this.value;{const h=Oi(u),E=this.children.get(h);return E?E.get(ar(u)):null}}setTree(u,h){if(di(u))return h;{const E=Oi(u),ee=(this.children.get(E)||new ie(null)).setTree(ar(u),h);let ce;return ce=ee.isEmpty()?this.children.remove(E):this.children.insert(E,ee),new ie(this.value,ce)}}fold(u){return this.fold_(Ui(),u)}fold_(u,h){const E={};return this.children.inorderTraversal((k,ee)=>{E[k]=ee.fold_(Hi(u,k),h)}),h(u,this.value,E)}findOnPath(u,h){return this.findOnPath_(u,Ui(),h)}findOnPath_(u,h,E){const k=!!this.value&&E(h,this.value);if(k)return k;if(di(u))return null;{const ee=Oi(u),ce=this.children.get(ee);return ce?ce.findOnPath_(ar(u),Hi(h,ee),E):null}}foreachOnPath(u,h){return this.foreachOnPath_(u,Ui(),h)}foreachOnPath_(u,h,E){if(di(u))return this;{this.value&&E(h,this.value);const k=Oi(u),ee=this.children.get(k);return ee?ee.foreachOnPath_(ar(u),Hi(h,k),E):new ie(null)}}foreach(u){this.foreach_(Ui(),u)}foreach_(u,h){this.children.inorderTraversal((E,k)=>{k.foreach_(Hi(u,E),h)}),this.value&&h(u,this.value)}foreachChild(u){this.children.inorderTraversal((h,E)=>{E.value&&u(h,E.value)})}}class me{constructor(u){this.writeTree_=u}static empty(){return new me(new ie(null))}}function _t(g,u,h){if(di(u))return new me(new ie(h));{const E=g.writeTree_.findRootMostValueAndPath(u);if(null!=E){const k=E.path;let ee=E.value;const ce=Ar(k,u);return ee=ee.updateChild(ce,h),new me(g.writeTree_.set(k,ee))}{const k=new ie(h),ee=g.writeTree_.setTree(u,k);return new me(ee)}}}function cn(g,u,h){let E=g;return dn(h,(k,ee)=>{E=_t(E,Hi(u,k),ee)}),E}function In(g,u){if(di(u))return me.empty();{const h=g.writeTree_.setTree(u,new ie(null));return new me(h)}}function hi(g,u){return null!=dr(g,u)}function dr(g,u){const h=g.writeTree_.findRootMostValueAndPath(u);return null!=h?g.writeTree_.get(h.path).getChild(Ar(h.path,u)):null}function _r(g){const u=[],h=g.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(Pi,(E,k)=>{u.push(new Vn(E,k))}):g.writeTree_.children.inorderTraversal((E,k)=>{null!=k.value&&u.push(new Vn(E,k.value))}),u}function Bi(g,u){if(di(u))return g;{const h=dr(g,u);return new me(null!=h?new ie(h):g.writeTree_.subtree(u))}}function pi(g){return g.writeTree_.isEmpty()}function Or(g,u){return Er(Ui(),g.writeTree_,u)}function Er(g,u,h){if(null!=u.value)return h.updateChild(g,u.value);{let E=null;return u.children.inorderTraversal((k,ee)=>{".priority"===k?((0,W.hu)(null!==ee.value,"Priority writes must always be leaf nodes"),E=ee.value):h=Er(Hi(g,k),ee,h)}),!h.getChild(g).isEmpty()&&null!==E&&(h=h.updateChild(Hi(g,".priority"),E)),h}}function se(g,u){return _a(u,g)}function Ae(g,u){if(g.snap)return bs(g.path,u);for(const h in g.children)if(g.children.hasOwnProperty(h)&&bs(Hi(g.path,h),u))return!0;return!1}function fn(g){return g.visible}function Di(g,u,h){let E=me.empty();for(let k=0;k<g.length;++k){const ee=g[k];if(u(ee)){const ce=ee.path;let Ne;if(ee.snap)bs(h,ce)?(Ne=Ar(h,ce),E=_t(E,Ne,ee.snap)):bs(ce,h)&&(Ne=Ar(ce,h),E=_t(E,Ui(),ee.snap.getChild(Ne)));else{if(!ee.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(bs(h,ce))Ne=Ar(h,ce),E=cn(E,Ne,ee.children);else if(bs(ce,h))if(Ne=Ar(ce,h),di(Ne))E=cn(E,Ui(),ee.children);else{const lt=(0,W.DV)(ee.children,Oi(Ne));if(lt){const Ct=lt.getChild(ar(Ne));E=_t(E,Ui(),Ct)}}}}}return E}function bi(g,u,h,E,k){if(E||k){const ee=Bi(g.visibleWrites,u);return!k&&pi(ee)?h:k||null!=h||hi(ee,Ui())?Or(Di(g.allWrites,function(Ct){return(Ct.visible||k)&&(!E||!~E.indexOf(Ct.writeId))&&(bs(Ct.path,u)||bs(u,Ct.path))},u),h||Ni.EMPTY_NODE):null}{const ee=dr(g.visibleWrites,u);if(null!=ee)return ee;{const ce=Bi(g.visibleWrites,u);return pi(ce)?h:null!=h||hi(ce,Ui())?Or(ce,h||Ni.EMPTY_NODE):null}}}function $i(g,u,h,E){return bi(g.writeTree,g.treePath,u,h,E)}function Go(g,u){return function wr(g,u,h){let E=Ni.EMPTY_NODE;const k=dr(g.visibleWrites,u);if(k)return k.isLeafNode()||k.forEachChild(Pi,(ee,ce)=>{E=E.updateImmediateChild(ee,ce)}),E;if(h){const ee=Bi(g.visibleWrites,u);return h.forEachChild(Pi,(ce,Ne)=>{const lt=Or(Bi(ee,new Zi(ce)),Ne);E=E.updateImmediateChild(ce,lt)}),_r(ee).forEach(ce=>{E=E.updateImmediateChild(ce.name,ce.node)}),E}return _r(Bi(g.visibleWrites,u)).forEach(ce=>{E=E.updateImmediateChild(ce.name,ce.node)}),E}(g.writeTree,g.treePath,u)}function Ba(g,u,h,E){return function as(g,u,h,E,k){(0,W.hu)(E||k,"Either existingEventSnap or existingServerSnap must exist");const ee=Hi(u,h);if(hi(g.visibleWrites,ee))return null;{const ce=Bi(g.visibleWrites,ee);return pi(ce)?k.getChild(h):Or(ce,k.getChild(h))}}(g.writeTree,g.treePath,u,h,E)}function ca(g,u){return function fl(g,u){return dr(g.visibleWrites,u)}(g.writeTree,Hi(g.treePath,u))}function Bn(g,u,h){return function kr(g,u,h,E){const k=Hi(u,h),ee=dr(g.visibleWrites,k);return null!=ee?ee:E.isCompleteForChild(h)?Or(Bi(g.visibleWrites,k),E.getNode().getImmediateChild(h)):null}(g.writeTree,g.treePath,u,h)}function Mo(g,u){return _a(Hi(g.treePath,u),g.writeTree)}function _a(g,u){return{treePath:g,writeTree:u}}class ql{constructor(){this.changeMap=new Map}trackChildChange(u){const h=u.type,E=u.childName;(0,W.hu)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==E,"Only non-priority child changes can be tracked.");const k=this.changeMap.get(E);if(k){const ee=k.type;if("child_added"===h&&"child_removed"===ee)this.changeMap.set(E,Zt(E,u.snapshotNode,k.snapshotNode));else if("child_removed"===h&&"child_added"===ee)this.changeMap.delete(E);else if("child_removed"===h&&"child_changed"===ee)this.changeMap.set(E,ct(E,k.oldSnap));else if("child_changed"===h&&"child_added"===ee)this.changeMap.set(E,de(E,u.snapshotNode));else{if("child_changed"!==h||"child_changed"!==ee)throw(0,W.g5)("Illegal combination of changes: "+u+" occurred after "+k);this.changeMap.set(E,Zt(E,u.snapshotNode,k.oldSnap))}}else this.changeMap.set(E,u)}getChanges(){return Array.from(this.changeMap.values())}}const re=new class ui{getCompleteChild(u){return null}getChildAfterChild(u,h,E){return null}};class A{constructor(u,h,E=null){this.writes_=u,this.viewCache_=h,this.optCompleteServerCache_=E}getCompleteChild(u){const h=this.viewCache_.eventCache;if(h.isCompleteForChild(u))return h.getNode().getImmediateChild(u);{const E=null!=this.optCompleteServerCache_?new ea(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bn(this.writes_,u,E)}}getChildAfterChild(u,h,E){const k=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ta(this.viewCache_),ee=function Bl(g,u,h,E,k,ee){return function wl(g,u,h,E,k,ee,ce){let Ne;const lt=Bi(g.visibleWrites,u),Ct=dr(lt,Ui());if(null!=Ct)Ne=Ct;else{if(null==h)return[];Ne=Or(lt,h)}if(Ne=Ne.withIndex(ce),Ne.isEmpty()||Ne.isLeafNode())return[];{const vn=[],En=ce.getCompare(),On=ee?Ne.getReverseIteratorFrom(E,ce):Ne.getIteratorFrom(E,ce);let gi=On.getNext();for(;gi&&vn.length<k;)0!==En(gi,E)&&vn.push(gi),gi=On.getNext();return vn}}(g.writeTree,g.treePath,u,h,E,k,ee)}(this.writes_,k,h,1,E,u);return 0===ee.length?null:ee[0]}}function wt(g,u,h,E,k,ee){const ce=u.eventCache;if(null!=ca(E,h))return u;{let Ne,lt;if(di(h))if((0,W.hu)(u.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),u.serverCache.isFiltered()){const Ct=ta(u),En=Go(E,Ct instanceof Ni?Ct:Ni.EMPTY_NODE);Ne=g.filter.updateFullNode(u.eventCache.getNode(),En,ee)}else{const Ct=$i(E,ta(u));Ne=g.filter.updateFullNode(u.eventCache.getNode(),Ct,ee)}else{const Ct=Oi(h);if(".priority"===Ct){(0,W.hu)(1===Tr(h),"Can't have a priority with additional path components");const vn=ce.getNode();lt=u.serverCache.getNode();const En=Ba(E,h,vn,lt);Ne=null!=En?g.filter.updatePriority(vn,En):ce.getNode()}else{const vn=ar(h);let En;if(ce.isCompleteForChild(Ct)){lt=u.serverCache.getNode();const On=Ba(E,h,ce.getNode(),lt);En=null!=On?ce.getNode().getImmediateChild(Ct).updateChild(vn,On):ce.getNode().getImmediateChild(Ct)}else En=Bn(E,Ct,u.serverCache);Ne=null!=En?g.filter.updateChild(ce.getNode(),Ct,En,vn,k,ee):ce.getNode()}}return Co(u,Ne,ce.isFullyInitialized()||di(h),g.filter.filtersNodes())}}function Vt(g,u,h,E,k,ee,ce,Ne){const lt=u.serverCache;let Ct;const vn=ce?g.filter:g.filter.getIndexedFilter();if(di(h))Ct=vn.updateFullNode(lt.getNode(),E,null);else if(vn.filtersNodes()&&!lt.isFiltered()){const gi=lt.getNode().updateChild(h,E);Ct=vn.updateFullNode(lt.getNode(),gi,null)}else{const gi=Oi(h);if(!lt.isCompleteForPath(h)&&Tr(h)>1)return u;const Fi=ar(h),To=lt.getNode().getImmediateChild(gi).updateChild(Fi,E);Ct=".priority"===gi?vn.updatePriority(lt.getNode(),To):vn.updateChild(lt.getNode(),gi,To,Fi,re,null)}const En=El(u,Ct,lt.isFullyInitialized()||di(h),vn.filtersNodes());return wt(g,En,h,k,new A(k,En,ee),Ne)}function on(g,u,h,E,k,ee,ce){const Ne=u.eventCache;let lt,Ct;const vn=new A(k,u,ee);if(di(h))Ct=g.filter.updateFullNode(u.eventCache.getNode(),E,ce),lt=Co(u,Ct,!0,g.filter.filtersNodes());else{const En=Oi(h);if(".priority"===En)Ct=g.filter.updatePriority(u.eventCache.getNode(),E),lt=Co(u,Ct,Ne.isFullyInitialized(),Ne.isFiltered());else{const On=ar(h),gi=Ne.getNode().getImmediateChild(En);let Fi;if(di(On))Fi=E;else{const es=vn.getCompleteChild(En);Fi=null!=es?".priority"===Fs(On)&&es.getChild(ki(On)).isEmpty()?es:es.updateChild(On,E):Ni.EMPTY_NODE}lt=gi.equals(Fi)?u:Co(u,g.filter.updateChild(Ne.getNode(),En,Fi,On,vn,ce),Ne.isFullyInitialized(),g.filter.filtersNodes())}}return lt}function Dn(g,u){return g.eventCache.isCompleteForChild(u)}function mi(g,u,h){return h.foreach((E,k)=>{u=u.updateChild(E,k)}),u}function Cr(g,u,h,E,k,ee,ce,Ne){if(u.serverCache.getNode().isEmpty()&&!u.serverCache.isFullyInitialized())return u;let Ct,lt=u;Ct=di(h)?E:new ie(null).setTree(h,E);const vn=u.serverCache.getNode();return Ct.children.inorderTraversal((En,On)=>{if(vn.hasChild(En)){const Fi=mi(0,u.serverCache.getNode().getImmediateChild(En),On);lt=Vt(g,lt,new Zi(En),Fi,k,ee,ce,Ne)}}),Ct.children.inorderTraversal((En,On)=>{const gi=!u.serverCache.isCompleteForChild(En)&&null===On.value;if(!vn.hasChild(En)&&!gi){const es=mi(0,u.serverCache.getNode().getImmediateChild(En),On);lt=Vt(g,lt,new Zi(En),es,k,ee,ce,Ne)}}),lt}class Ys{constructor(u,h){this.query_=u,this.eventRegistrations_=[];const E=this.query_._queryParams,k=new Wn(E.getIndex()),ee=function ws(g){return g.loadsAllData()?new Wn(g.getIndex()):g.hasLimit()?new Gi(g):new qn(g)}(E);this.processor_=function x(g){return{filter:g}}(ee);const ce=h.serverCache,Ne=h.eventCache,lt=k.updateFullNode(Ni.EMPTY_NODE,ce.getNode(),null),Ct=ee.updateFullNode(Ni.EMPTY_NODE,Ne.getNode(),null),vn=new ea(lt,ce.isFullyInitialized(),k.filtersNodes()),En=new ea(Ct,Ne.isFullyInitialized(),ee.filtersNodes());this.viewCache_=qa(En,vn),this.eventGenerator_=new Ka(this.query_)}get query(){return this.query_}}function Vr(g,u){const h=ta(g.viewCache_);return h&&(g.query._queryParams.loadsAllData()||!di(u)&&!h.getImmediateChild(Oi(u)).isEmpty())?h.getChild(u):null}function Si(g){return 0===g.eventRegistrations_.length}function Fo(g,u,h){const E=[];if(h){(0,W.hu)(null==u,"A cancel should cancel all event registrations.");const k=g.query._path;g.eventRegistrations_.forEach(ee=>{const ce=ee.createCancelEvent(h,k);ce&&E.push(ce)})}if(u){let k=[];for(let ee=0;ee<g.eventRegistrations_.length;++ee){const ce=g.eventRegistrations_[ee];if(ce.matches(u)){if(u.hasAnyCallback()){k=k.concat(g.eventRegistrations_.slice(ee+1));break}}else k.push(ce)}g.eventRegistrations_=k}else g.eventRegistrations_=[];return E}function Wi(g,u,h,E){u.type===Ro.MERGE&&null!==u.source.queryId&&((0,W.hu)(ta(g.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(Ws(g.viewCache_),"Missing event cache, even though we have a server cache"));const k=g.viewCache_,ee=function X(g,u,h,E,k){const ee=new ql;let ce,Ne;if(h.type===Ro.OVERWRITE){const Ct=h;Ct.source.fromUser?ce=on(g,u,Ct.path,Ct.snap,E,k,ee):((0,W.hu)(Ct.source.fromServer,"Unknown source."),Ne=Ct.source.tagged||u.serverCache.isFiltered()&&!di(Ct.path),ce=Vt(g,u,Ct.path,Ct.snap,E,k,Ne,ee))}else if(h.type===Ro.MERGE){const Ct=h;Ct.source.fromUser?ce=function li(g,u,h,E,k,ee,ce){let Ne=u;return E.foreach((lt,Ct)=>{const vn=Hi(h,lt);Dn(u,Oi(vn))&&(Ne=on(g,Ne,vn,Ct,k,ee,ce))}),E.foreach((lt,Ct)=>{const vn=Hi(h,lt);Dn(u,Oi(vn))||(Ne=on(g,Ne,vn,Ct,k,ee,ce))}),Ne}(g,u,Ct.path,Ct.children,E,k,ee):((0,W.hu)(Ct.source.fromServer,"Unknown source."),Ne=Ct.source.tagged||u.serverCache.isFiltered(),ce=Cr(g,u,Ct.path,Ct.children,E,k,Ne,ee))}else if(h.type===Ro.ACK_USER_WRITE){const Ct=h;ce=Ct.revert?function Nn(g,u,h,E,k,ee){let ce;if(null!=ca(E,h))return u;{const Ne=new A(E,u,k),lt=u.eventCache.getNode();let Ct;if(di(h)||".priority"===Oi(h)){let vn;if(u.serverCache.isFullyInitialized())vn=$i(E,ta(u));else{const En=u.serverCache.getNode();(0,W.hu)(En instanceof Ni,"serverChildren would be complete if leaf node"),vn=Go(E,En)}Ct=g.filter.updateFullNode(lt,vn,ee)}else{const vn=Oi(h);let En=Bn(E,vn,u.serverCache);null==En&&u.serverCache.isCompleteForChild(vn)&&(En=lt.getImmediateChild(vn)),Ct=null!=En?g.filter.updateChild(lt,vn,En,ar(h),Ne,ee):u.eventCache.getNode().hasChild(vn)?g.filter.updateChild(lt,vn,Ni.EMPTY_NODE,ar(h),Ne,ee):lt,Ct.isEmpty()&&u.serverCache.isFullyInitialized()&&(ce=$i(E,ta(u)),ce.isLeafNode()&&(Ct=g.filter.updateFullNode(Ct,ce,ee)))}return ce=u.serverCache.isFullyInitialized()||null!=ca(E,Ui()),Co(u,Ct,ce,g.filter.filtersNodes())}}(g,u,Ct.path,E,k,ee):function Xi(g,u,h,E,k,ee,ce){if(null!=ca(k,h))return u;const Ne=u.serverCache.isFiltered(),lt=u.serverCache;if(null!=E.value){if(di(h)&&lt.isFullyInitialized()||lt.isCompleteForPath(h))return Vt(g,u,h,lt.getNode().getChild(h),k,ee,Ne,ce);if(di(h)){let Ct=new ie(null);return lt.getNode().forEachChild(Ji,(vn,En)=>{Ct=Ct.set(new Zi(vn),En)}),Cr(g,u,h,Ct,k,ee,Ne,ce)}return u}{let Ct=new ie(null);return E.foreach((vn,En)=>{const On=Hi(h,vn);lt.isCompleteForPath(On)&&(Ct=Ct.set(vn,lt.getNode().getChild(On)))}),Cr(g,u,h,Ct,k,ee,Ne,ce)}}(g,u,Ct.path,Ct.affectedTree,E,k,ee)}else{if(h.type!==Ro.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+h.type);ce=function ln(g,u,h,E,k){const ee=u.serverCache;return wt(g,El(u,ee.getNode(),ee.isFullyInitialized()||di(h),ee.isFiltered()),h,E,re,k)}(g,u,h.path,E,ee)}const lt=ee.getChanges();return function Se(g,u,h){const E=u.eventCache;if(E.isFullyInitialized()){const k=E.getNode().isLeafNode()||E.getNode().isEmpty(),ee=Ws(g);(h.length>0||!g.eventCache.isFullyInitialized()||k&&!E.getNode().equals(ee)||!E.getNode().getPriority().equals(ee.getPriority()))&&h.push(q(Ws(u)))}}(u,ce,lt),{viewCache:ce,changes:lt}}(g.processor_,k,u,h,E);return function B(g,u){(0,W.hu)(u.eventCache.getNode().isIndexed(g.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(u.serverCache.getNode().isIndexed(g.filter.getIndex()),"Server snap not indexed")}(g.processor_,ee.viewCache),(0,W.hu)(ee.viewCache.serverCache.isFullyInitialized()||!k.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),g.viewCache_=ee.viewCache,Xr(g,ee.changes,ee.viewCache.eventCache.getNode(),null)}function Xr(g,u,h,E){return function Vl(g,u,h,E){const k=[],ee=[];return u.forEach(ce=>{"child_changed"===ce.type&&g.index_.indexedValueChanged(ce.oldSnap,ce.snapshotNode)&&ee.push(function Tn(g,u){return{type:"child_moved",snapshotNode:u,childName:g}}(ce.childName,ce.snapshotNode))}),Za(g,k,"child_removed",u,E,h),Za(g,k,"child_added",u,E,h),Za(g,k,"child_moved",ee,E,h),Za(g,k,"child_changed",u,E,h),Za(g,k,"value",u,E,h),k}(g.eventGenerator_,u,h,E?[E]:g.eventRegistrations_)}let Gn,na;class Js{constructor(){this.views=new Map}}function K(g,u,h,E){const k=u.source.queryId;if(null!==k){const ee=g.views.get(k);return(0,W.hu)(null!=ee,"SyncTree gave us an op for an invalid query."),Wi(ee,u,h,E)}{let ee=[];for(const ce of g.views.values())ee=ee.concat(Wi(ce,u,h,E));return ee}}function oe(g,u,h,E,k){const ce=g.views.get(u._queryIdentifier);if(!ce){let Ne=$i(h,k?E:null),lt=!1;Ne?lt=!0:E instanceof Ni?(Ne=Go(h,E),lt=!1):(Ne=Ni.EMPTY_NODE,lt=!1);const Ct=qa(new ea(Ne,lt,!1),new ea(E,k,!1));return new Ys(u,Ct)}return ce}function Yt(g){const u=[];for(const h of g.views.values())h.query._queryParams.loadsAllData()||u.push(h);return u}function qt(g,u){let h=null;for(const E of g.views.values())h=h||Vr(E,u);return h}function ei(g,u){return u._queryParams.loadsAllData()?Ei(g):g.views.get(u._queryIdentifier)}function Ai(g,u){return null!=ei(g,u)}function tr(g){return null!=Ei(g)}function Ei(g){for(const u of g.views.values())if(u.query._queryParams.loadsAllData())return u;return null}let Xs=1;class _o{constructor(u){this.listenProvider_=u,this.syncPointTree_=new ie(null),this.pendingWriteTree_=function ga(){return{visibleWrites:me.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ua(g,u,h,E,k){return function xt(g,u,h,E,k){(0,W.hu)(E>g.lastWriteId,"Stacking an older write on top of newer ones"),void 0===k&&(k=!0),g.allWrites.push({path:u,snap:h,writeId:E,visible:k}),k&&(g.visibleWrites=_t(g.visibleWrites,u,h)),g.lastWriteId=E}(g.pendingWriteTree_,u,h,E,k),k?hc(g,new Bs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,h)):[]}function Cl(g,u,h=!1){const E=function Z(g,u){for(let h=0;h<g.allWrites.length;h++){const E=g.allWrites[h];if(E.writeId===u)return E}return null}(g.pendingWriteTree_,u);if(function le(g,u){const h=g.allWrites.findIndex(Ne=>Ne.writeId===u);(0,W.hu)(h>=0,"removeWrite called with nonexistent writeId.");const E=g.allWrites[h];g.allWrites.splice(h,1);let k=E.visible,ee=!1,ce=g.allWrites.length-1;for(;k&&ce>=0;){const Ne=g.allWrites[ce];Ne.visible&&(ce>=h&&Ae(Ne,E.path)?k=!1:bs(E.path,Ne.path)&&(ee=!0)),ce--}return!!k&&(ee?(function Tt(g){g.visibleWrites=Di(g.allWrites,fn,Ui()),g.lastWriteId=g.allWrites.length>0?g.allWrites[g.allWrites.length-1].writeId:-1}(g),!0):(E.snap?g.visibleWrites=In(g.visibleWrites,E.path):dn(E.children,lt=>{g.visibleWrites=In(g.visibleWrites,Hi(E.path,lt))}),!0))}(g.pendingWriteTree_,u)){let ee=new ie(null);return null!=E.snap?ee=ee.set(Ui(),!0):dn(E.children,ce=>{ee=ee.set(new Zi(ce),!0)}),hc(g,new Xo(E.path,ee,h))}return[]}function Dl(g,u,h){return hc(g,new Bs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,h))}function Bc(g,u,h,E,k=!1){const ee=u._path,ce=g.syncPointTree_.get(ee);let Ne=[];if(ce&&("default"===u._queryIdentifier||Ai(ce,u))){const lt=function Je(g,u,h,E){const k=u._queryIdentifier,ee=[];let ce=[];const Ne=tr(g);if("default"===k)for(const[lt,Ct]of g.views.entries())ce=ce.concat(Fo(Ct,h,E)),Si(Ct)&&(g.views.delete(lt),Ct.query._queryParams.loadsAllData()||ee.push(Ct.query));else{const lt=g.views.get(k);lt&&(ce=ce.concat(Fo(lt,h,E)),Si(lt)&&(g.views.delete(k),lt.query._queryParams.loadsAllData()||ee.push(lt.query)))}return Ne&&!tr(g)&&ee.push(new(function Q(){return(0,W.hu)(Gn,"Reference.ts has not been loaded"),Gn}())(u._repo,u._path)),{removed:ee,events:ce}}(ce,u,h,E);(function L(g){return 0===g.views.size})(ce)&&(g.syncPointTree_=g.syncPointTree_.remove(ee));const Ct=lt.removed;if(Ne=lt.events,!k){const vn=-1!==Ct.findIndex(On=>On._queryParams.loadsAllData()),En=g.syncPointTree_.findOnPath(ee,(On,gi)=>tr(gi));if(vn&&!En){const On=g.syncPointTree_.subtree(ee);if(!On.isEmpty()){const gi=function Hc(g){return g.fold((u,h,E)=>{if(h&&tr(h))return[Ei(h)];{let k=[];return h&&(k=Yt(h)),dn(E,(ee,ce)=>{k=k.concat(ce)}),k}})}(On);for(let Fi=0;Fi<gi.length;++Fi){const es=gi[Fi],To=es.query,nl=Dc(g,es);g.listenProvider_.startListening(Xl(To),Hl(g,To),nl.hashFn,nl.onComplete)}}}!En&&Ct.length>0&&!E&&(vn?g.listenProvider_.stopListening(Xl(u),null):Ct.forEach(On=>{const gi=g.queryToTagMap.get(xl(On));g.listenProvider_.stopListening(Xl(On),gi)}))}!function jl(g,u){for(let h=0;h<u.length;++h){const E=u[h];if(!E._queryParams.loadsAllData()){const k=xl(E),ee=g.queryToTagMap.get(k);g.queryToTagMap.delete(k),g.tagToQueryMap.delete(ee)}}}(g,Ct)}return Ne}function Ra(g,u,h,E){const k=Jl(g,E);if(null!=k){const ee=xc(k),ce=ee.path,Ne=ee.queryId,lt=Ar(ce,u);return fc(g,ce,new Bs(ma(Ne),lt,h))}return[]}function Cc(g,u,h,E=!1){const k=u._path;let ee=null,ce=!1;g.syncPointTree_.foreachOnPath(k,(On,gi)=>{const Fi=Ar(On,k);ee=ee||qt(gi,Fi),ce=ce||tr(gi)});let lt,Ne=g.syncPointTree_.get(k);Ne?(ce=ce||tr(Ne),ee=ee||qt(Ne,Ui())):(Ne=new Js,g.syncPointTree_=g.syncPointTree_.set(k,Ne)),null!=ee?lt=!0:(lt=!1,ee=Ni.EMPTY_NODE,g.syncPointTree_.subtree(k).foreachChild((gi,Fi)=>{const es=qt(Fi,Ui());es&&(ee=ee.updateImmediateChild(gi,es))}));const Ct=Ai(Ne,u);if(!Ct&&!u._queryParams.loadsAllData()){const On=xl(u);(0,W.hu)(!g.queryToTagMap.has(On),"View does not exist, but we have a tag");const gi=function Hu(){return Xs++}();g.queryToTagMap.set(On,gi),g.tagToQueryMap.set(gi,On)}let En=function Ce(g,u,h,E,k,ee){const ce=oe(g,u,E,k,ee);return g.views.has(u._queryIdentifier)||g.views.set(u._queryIdentifier,ce),function ii(g,u){g.eventRegistrations_.push(u)}(ce,h),function Qa(g,u){const h=g.viewCache_.eventCache,E=[];return h.getNode().isLeafNode()||h.getNode().forEachChild(Pi,(ee,ce)=>{E.push(de(ee,ce))}),h.isFullyInitialized()&&E.push(q(h.getNode())),Xr(g,E,h.getNode(),u)}(ce,h)}(Ne,u,h,se(g.pendingWriteTree_,k),ee,lt);if(!Ct&&!ce&&!E){const On=ei(Ne,u);En=En.concat(function Hf(g,u,h){const E=u._path,k=Hl(g,u),ee=Dc(g,h),ce=g.listenProvider_.startListening(Xl(u),k,ee.hashFn,ee.onComplete),Ne=g.syncPointTree_.subtree(E);if(k)(0,W.hu)(!tr(Ne.value),"If we're adding a query, it shouldn't be shadowed");else{const lt=Ne.fold((Ct,vn,En)=>{if(!di(Ct)&&vn&&tr(vn))return[Ei(vn).query];{let On=[];return vn&&(On=On.concat(Yt(vn).map(gi=>gi.query))),dn(En,(gi,Fi)=>{On=On.concat(Fi)}),On}});for(let Ct=0;Ct<lt.length;++Ct){const vn=lt[Ct];g.listenProvider_.stopListening(Xl(vn),Hl(g,vn))}}return ce}(g,u,On))}return En}function pl(g,u,h){const k=g.pendingWriteTree_,ee=g.syncPointTree_.findOnPath(u,(ce,Ne)=>{const Ct=qt(Ne,Ar(ce,u));if(Ct)return Ct});return bi(k,u,ee,h,!0)}function hc(g,u){return al(u,g.syncPointTree_,null,se(g.pendingWriteTree_,Ui()))}function al(g,u,h,E){if(di(g.path))return Ul(g,u,h,E);{const k=u.get(Ui());null==h&&null!=k&&(h=qt(k,Ui()));let ee=[];const ce=Oi(g.path),Ne=g.operationForChild(ce),lt=u.children.get(ce);if(lt&&Ne){const Ct=h?h.getImmediateChild(ce):null,vn=Mo(E,ce);ee=ee.concat(al(Ne,lt,Ct,vn))}return k&&(ee=ee.concat(K(k,g,E,h))),ee}}function Ul(g,u,h,E){const k=u.get(Ui());null==h&&null!=k&&(h=qt(k,Ui()));let ee=[];return u.children.inorderTraversal((ce,Ne)=>{const lt=h?h.getImmediateChild(ce):null,Ct=Mo(E,ce),vn=g.operationForChild(ce);vn&&(ee=ee.concat(Ul(vn,Ne,lt,Ct)))}),k&&(ee=ee.concat(K(k,g,E,h))),ee}function Dc(g,u){const h=u.query,E=Hl(g,h);return{hashFn:()=>(function vi(g){return g.viewCache_.serverCache.getNode()}(u)||Ni.EMPTY_NODE).hash(),onComplete:k=>{if("ok"===k)return E?function Oo(g,u,h){const E=Jl(g,h);if(E){const k=xc(E),ee=k.path,ce=k.queryId,Ne=Ar(ee,u);return fc(g,ee,new Sa(ma(ce),Ne))}return[]}(g,h._path,E):function Ql(g,u){return hc(g,new Sa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u))}(g,h._path);{const ee=function Ie(g,u){let h="Unknown Error";"too_big"===g?h="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===g?h="Client doesn't have permission to access the desired data.":"unavailable"===g&&(h="The service is unavailable");const E=new Error(g+" at "+u._path.toString()+": "+h);return E.code=g.toUpperCase(),E}(k,h);return Bc(g,h,null,ee)}}}}function Hl(g,u){const h=xl(u);return g.queryToTagMap.get(h)}function xl(g){return g._path.toString()+"$"+g._queryIdentifier}function Jl(g,u){return g.tagToQueryMap.get(u)}function xc(g){const u=g.indexOf("$");return(0,W.hu)(-1!==u&&u<g.length-1,"Bad queryKey."),{queryId:g.substr(u+1),path:new Zi(g.substr(0,u))}}function fc(g,u,h){const E=g.syncPointTree_.get(u);return(0,W.hu)(E,"Missing sync point for query tag that we're tracking"),K(E,h,se(g.pendingWriteTree_,u),null)}function Xl(g){return g._queryParams.loadsAllData()&&!g._queryParams.isDefault()?new(function Ks(){return(0,W.hu)(na,"Reference.ts has not been loaded"),na}())(g._repo,g._path):g}class Od{constructor(u){this.node_=u}getImmediateChild(u){const h=this.node_.getImmediateChild(u);return new Od(h)}node(){return this.node_}}class Ch{constructor(u,h){this.syncTree_=u,this.path_=h}getImmediateChild(u){const h=Hi(this.path_,u);return new Ch(this.syncTree_,h)}node(){return pl(this.syncTree_,this.path_)}}const nu=function(g){return(g=g||{}).timestamp=g.timestamp||(new Date).getTime(),g},kd=function(g,u,h){return g&&"object"==typeof g?((0,W.hu)(".sv"in g,"Unexpected leaf node or priority contents"),"string"==typeof g[".sv"]?Dh(g[".sv"],u,h):"object"==typeof g[".sv"]?ya(g[".sv"],u):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2))):g},Dh=function(g,u,h){if("timestamp"===g)return h.timestamp;(0,W.hu)(!1,"Unexpected server value: "+g)},ya=function(g,u,h){g.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(g,null,2));const E=g.increment;"number"!=typeof E&&(0,W.hu)(!1,"Unexpected increment value: "+E);const k=u.node();if((0,W.hu)(null!==k&&typeof k<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!k.isLeafNode())return E;const ce=k.getValue();return"number"!=typeof ce?E:ce+E},Tl=function(g,u,h,E){return ud(u,new Ch(h,g),E)},ec=function(g,u,h){return ud(g,new Od(u),h)};function ud(g,u,h){const E=g.getPriority().val(),k=kd(E,u.getImmediateChild(".priority"),h);let ee;if(g.isLeafNode()){const ce=g,Ne=kd(ce.getValue(),u,h);return Ne!==ce.getValue()||k!==ce.getPriority().val()?new Lr(Ne,Mr(k)):g}{const ce=g;return ee=ce,k!==ce.getPriority().val()&&(ee=ee.updatePriority(new Lr(k))),ce.forEachChild(Pi,(Ne,lt)=>{const Ct=ud(lt,u.getImmediateChild(Ne),h);Ct!==lt&&(ee=ee.updateImmediateChild(Ne,Ct))}),ee}}class pc{constructor(u="",h=null,E={children:{},childCount:0}){this.name=u,this.parent=h,this.node=E}}function ml(g,u){let h=u instanceof Zi?u:new Zi(u),E=g,k=Oi(h);for(;null!==k;){const ee=(0,W.DV)(E.node.children,k)||{children:{},childCount:0};E=new pc(k,E,ee),h=ar(h),k=Oi(h)}return E}function Ja(g){return g.node.value}function Pd(g,u){g.node.value=u,Lo(g)}function Do(g){return g.node.childCount>0}function Il(g,u){dn(g.node.children,(h,E)=>{u(new pc(h,g,E))})}function Xa(g,u,h,E){h&&!E&&u(g),Il(g,k=>{Xa(k,u,!0,E)}),h&&E&&u(g)}function ll(g){return new Zi(null===g.parent?g.name:ll(g.parent)+"/"+g.name)}function Lo(g){null!==g.parent&&function xs(g,u,h){const E=function iu(g){return void 0===Ja(g)&&!Do(g)}(h),k=(0,W.r3)(g.node.children,u);E&&k?(delete g.node.children[u],g.node.childCount--,Lo(g)):!E&&!k&&(g.node.children[u]=h.node,g.node.childCount++,Lo(g))}(g.parent,g.name,g)}const jc=/[\[\].#$\/\u0000-\u001F\u007F]/,gl=/[\[\].#$\u0000-\u001F\u007F]/,Ma=10485760,zc=function(g){return"string"==typeof g&&0!==g.length&&!jc.test(g)},Sl=function(g){return"string"==typeof g&&0!==g.length&&!gl.test(g)},mc=function(g){return null===g||"string"==typeof g||"number"==typeof g&&!Ut(g)||g&&"object"==typeof g&&(0,W.r3)(g,".sv")},Vo=function(g,u,h,E){E&&void 0===u||Zs((0,W.gK)(g,"value"),u,h)},Zs=function(g,u,h){const E=h instanceof Zi?new So(h,g):h;if(void 0===u)throw new Error(g+"contains undefined "+Yn(E));if("function"==typeof u)throw new Error(g+"contains a function "+Yn(E)+" with contents = "+u.toString());if(Ut(u))throw new Error(g+"contains "+u.toString()+" "+Yn(E));if("string"==typeof u&&u.length>Ma/3&&(0,W.ug)(u)>Ma)throw new Error(g+"contains a string greater than "+Ma+" utf8 bytes "+Yn(E)+" ('"+u.substring(0,50)+"...')");if(u&&"object"==typeof u){let k=!1,ee=!1;if(dn(u,(ce,Ne)=>{if(".value"===ce)k=!0;else if(".priority"!==ce&&".sv"!==ce&&(ee=!0,!zc(ce)))throw new Error(g+" contains an invalid key ("+ce+") "+Yn(E)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function qo(g,u){g.parts_.length>0&&(g.byteLength_+=1),g.parts_.push(u),g.byteLength_+=(0,W.ug)(u),Qi(g)})(E,ce),Zs(g,Ne,E),function Ho(g){const u=g.parts_.pop();g.byteLength_-=(0,W.ug)(u),g.parts_.length>0&&(g.byteLength_-=1)}(E)}),k&&ee)throw new Error(g+' contains ".value" child '+Yn(E)+" in addition to actual children.")}},Tc=function(g,u,h,E){if(E&&void 0===u)return;const k=(0,W.gK)(g,"values");if(!u||"object"!=typeof u||Array.isArray(u))throw new Error(k+" must be an object containing the children to replace.");const ee=[];dn(u,(ce,Ne)=>{const lt=new Zi(ce);if(Zs(k,Ne,Hi(h,lt)),".priority"===Fs(lt)&&!mc(Ne))throw new Error(k+"contains an invalid value for '"+lt.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");ee.push(lt)}),function(g,u){let h,E;for(h=0;h<u.length;h++){E=u[h];const ee=As(E);for(let ce=0;ce<ee.length;ce++)if((".priority"!==ee[ce]||ce!==ee.length-1)&&!zc(ee[ce]))throw new Error(g+"contains an invalid key ("+ee[ce]+") in path "+E.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}u.sort(ns);let k=null;for(h=0;h<u.length;h++){if(E=u[h],null!==k&&bs(k,E))throw new Error(g+"contains a path "+k.toString()+" that is ancestor of another path "+E.toString());k=E}}(k,ee)},Ts=function(g,u,h){if(!h||void 0!==u){if(Ut(u))throw new Error((0,W.gK)(g,"priority")+"is "+u.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mc(u))throw new Error((0,W.gK)(g,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_l=function(g,u,h,E){if(!(E&&void 0===h||zc(h)))throw new Error((0,W.gK)(g,u)+'was an invalid key = "'+h+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},cl=function(g,u,h,E){if(!(E&&void 0===h||Sl(h)))throw new Error((0,W.gK)(g,u)+'was an invalid path = "'+h+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},zl=function(g,u,h,E){h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),cl(g,u,h,E)},ls=function(g,u){if(".info"===Oi(u))throw new Error(g+" failed = Can't modify data under /.info/")},Ic=function(g,u){const h=u.path.toString();if("string"!=typeof u.repoInfo.host||0===u.repoInfo.host.length||!zc(u.repoInfo.namespace)&&"localhost"!==u.repoInfo.host.split(":")[0]||0!==h.length&&!function(g){return g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Sl(g)}(h))throw new Error((0,W.gK)(g,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gl{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ca(g,u){let h=null;for(let E=0;E<u.length;E++){const k=u[E],ee=k.getPath();null!==h&&!is(ee,h.path)&&(g.eventLists_.push(h),h=null),null===h&&(h={events:[],path:ee}),h.events.push(k)}h&&g.eventLists_.push(h)}function tc(g,u,h){Ca(g,h),Gc(g,E=>is(E,u))}function vo(g,u,h){Ca(g,h),Gc(g,E=>bs(E,u)||bs(u,E))}function Gc(g,u){g.recursionDepth_++;let h=!0;for(let E=0;E<g.eventLists_.length;E++){const k=g.eventLists_[E];k&&(u(k.path)?(vl(g.eventLists_[E]),g.eventLists_[E]=null):h=!1)}h&&(g.eventLists_=[]),g.recursionDepth_--}function vl(g){for(let u=0;u<g.events.length;u++){const h=g.events[u];if(null!==h){g.events[u]=null;const E=h.getEventRunner();bt&&Te("event: "+h.toString()),At(E)}}}const Al="repo_interrupt",Rl=25;class nc{constructor(u,h,E,k){this.repoInfo_=u,this.forceRestClient_=h,this.authTokenProvider_=E,this.appCheckProvider_=k,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ps(),this.transactionQueueTree_=new pc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function el(g){const h=g.infoData_.getNode(new Zi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function hd(g){return nu({timestamp:el(g)})}function ru(g,u,h,E,k){g.dataUpdateCount++;const ee=new Zi(u);h=g.interceptServerDataCallback_?g.interceptServerDataCallback_(u,h):h;let ce=[];if(k)if(E){const lt=(0,W.UI)(h,Ct=>Mr(Ct));ce=function Uc(g,u,h,E){const k=Jl(g,E);if(k){const ee=xc(k),ce=ee.path,Ne=ee.queryId,lt=Ar(ce,u),Ct=ie.fromObject(h);return fc(g,ce,new Aa(ma(Ne),lt,Ct))}return[]}(g.serverSyncTree_,ee,lt,k)}else{const lt=Mr(h);ce=Ra(g.serverSyncTree_,ee,lt,k)}else if(E){const lt=(0,W.UI)(h,Ct=>Mr(Ct));ce=function va(g,u,h){const E=ie.fromObject(h);return hc(g,new Aa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},u,E))}(g.serverSyncTree_,ee,lt)}else{const lt=Mr(h);ce=Dl(g.serverSyncTree_,ee,lt)}let Ne=ee;ce.length>0&&(Ne=da(g,ee)),vo(g.eventQueue_,Ne,ce)}function fd(g,u){Wc(g,"connected",u),!1===u&&function Da(g){vr(g,"onDisconnectEvents");const u=hd(g),h=ps();aa(g.onDisconnect_,Ui(),(k,ee)=>{const ce=Tl(k,ee,g.serverSyncTree_,u);wo(h,k,ce)});let E=[];aa(h,Ui(),(k,ee)=>{E=E.concat(Dl(g.serverSyncTree_,k,ee));const ce=hu(g,k);da(g,ce)}),g.onDisconnect_=ps(),vo(g.eventQueue_,Ui(),E)}(g)}function Wc(g,u,h){const E=new Zi("/.info/"+u),k=Mr(h);g.infoData_.updateSnapshot(E,k);const ee=Dl(g.infoSyncTree_,E,k);vo(g.eventQueue_,E,ee)}function su(g){return g.nextWriteId_++}function ou(g,u,h,E,k){vr(g,"set",{path:u.toString(),value:h,priority:E});const ee=hd(g),ce=Mr(h,E),Ne=pl(g.serverSyncTree_,u),lt=ec(ce,Ne,ee),Ct=su(g),vn=Ua(g.serverSyncTree_,u,lt,Ct,!0);Ca(g.eventQueue_,vn),g.server_.put(u.toString(),ce.val(!0),(On,gi)=>{const Fi="ok"===On;Fi||Bt("set at "+u+" failed: "+On);const es=Cl(g.serverSyncTree_,Ct,!Fi);vo(g.eventQueue_,u,es),Pr(0,k,On,gi)});const En=hu(g,u);da(g,En),vo(g.eventQueue_,En,[])}function au(g,u,h){g.server_.onDisconnectCancel(u.toString(),(E,k)=>{"ok"===E&&fo(g.onDisconnect_,u),Pr(0,h,E,k)})}function hr(g,u,h,E){const k=Mr(h);g.server_.onDisconnectPut(u.toString(),k.val(!0),(ee,ce)=>{"ok"===ee&&wo(g.onDisconnect_,u,k),Pr(0,E,ee,ce)})}function ba(g,u,h){let E;E=".info"===Oi(u._path)?Bc(g.infoSyncTree_,u,h):Bc(g.serverSyncTree_,u,h),tc(g.eventQueue_,u._path,E)}function gc(g){g.persistentConnection_&&g.persistentConnection_.interrupt(Al)}function vr(g,...u){let h="";g.persistentConnection_&&(h=g.persistentConnection_.id+":"),Te(h,...u)}function Pr(g,u,h,E){u&&At(()=>{if("ok"===h)u(null);else{const k=(h||"error").toUpperCase();let ee=k;E&&(ee+=": "+E);const ce=new Error(ee);ce.code=k,u(ce)}})}function du(g,u,h){return pl(g.serverSyncTree_,u,h)||Ni.EMPTY_NODE}function md(g,u=g.transactionQueueTree_){if(u||uu(g,u),Ja(u)){const h=xh(g,u);(0,W.hu)(h.length>0,"Sending zero length transaction queue"),h.every(k=>0===k.status)&&function lf(g,u,h){const E=h.map(Ct=>Ct.currentWriteId),k=du(g,u,E);let ee=k;const ce=k.hash();for(let Ct=0;Ct<h.length;Ct++){const vn=h[Ct];(0,W.hu)(0===vn.status,"tryToSendTransactionQueue_: items in queue should all be run."),vn.status=1,vn.retryCount++;const En=Ar(u,vn.path);ee=ee.updateChild(En,vn.currentOutputSnapshotRaw)}const Ne=ee.val(!0),lt=u;g.server_.put(lt.toString(),Ne,Ct=>{vr(g,"transaction put response",{path:lt.toString(),status:Ct});let vn=[];if("ok"===Ct){const En=[];for(let On=0;On<h.length;On++)h[On].status=2,vn=vn.concat(Cl(g.serverSyncTree_,h[On].currentWriteId)),h[On].onComplete&&En.push(()=>h[On].onComplete(null,!0,h[On].currentOutputSnapshotResolved)),h[On].unwatcher();uu(g,ml(g.transactionQueueTree_,u)),md(g,g.transactionQueueTree_),vo(g.eventQueue_,u,vn);for(let On=0;On<En.length;On++)At(En[On])}else{if("datastale"===Ct)for(let En=0;En<h.length;En++)h[En].status=3===h[En].status?4:0;else{Bt("transaction at "+lt.toString()+" failed: "+Ct);for(let En=0;En<h.length;En++)h[En].status=4,h[En].abortReason=Ct}da(g,u)}},ce)}(g,ll(u),h)}else Do(u)&&Il(u,h=>{md(g,h)})}function da(g,u){const h=rc(g,u),E=ll(h);return function gd(g,u,h){if(0===u.length)return;const E=[];let k=[];const ce=u.filter(Ne=>0===Ne.status).map(Ne=>Ne.currentWriteId);for(let Ne=0;Ne<u.length;Ne++){const lt=u[Ne],Ct=Ar(h,lt.path);let En,vn=!1;if((0,W.hu)(null!==Ct,"rerunTransactionsUnderNode_: relativePath should not be null."),4===lt.status)vn=!0,En=lt.abortReason,k=k.concat(Cl(g.serverSyncTree_,lt.currentWriteId,!0));else if(0===lt.status)if(lt.retryCount>=Rl)vn=!0,En="maxretry",k=k.concat(Cl(g.serverSyncTree_,lt.currentWriteId,!0));else{const On=du(g,lt.path,ce);lt.currentInputSnapshot=On;const gi=u[Ne].update(On.val());if(void 0!==gi){Zs("transaction failed: Data returned ",gi,lt.path);let Fi=Mr(gi);"object"==typeof gi&&null!=gi&&(0,W.r3)(gi,".priority")||(Fi=Fi.updatePriority(On.getPriority()));const To=lt.currentWriteId,nl=hd(g),bl=ec(Fi,On,nl);lt.currentOutputSnapshotRaw=Fi,lt.currentOutputSnapshotResolved=bl,lt.currentWriteId=su(g),ce.splice(ce.indexOf(To),1),k=k.concat(Ua(g.serverSyncTree_,lt.path,bl,lt.currentWriteId,lt.applyLocally)),k=k.concat(Cl(g.serverSyncTree_,To,!0))}else vn=!0,En="nodata",k=k.concat(Cl(g.serverSyncTree_,lt.currentWriteId,!0))}vo(g.eventQueue_,h,k),k=[],vn&&(u[Ne].status=2,setTimeout(u[Ne].unwatcher,Math.floor(0)),u[Ne].onComplete&&E.push("nodata"===En?()=>u[Ne].onComplete(null,!1,u[Ne].currentInputSnapshot):()=>u[Ne].onComplete(new Error(En),!1,null)))}uu(g,g.transactionQueueTree_);for(let Ne=0;Ne<E.length;Ne++)At(E[Ne]);md(g,g.transactionQueueTree_)}(g,xh(g,h),E),E}function rc(g,u){let h,E=g.transactionQueueTree_;for(h=Oi(u);null!==h&&void 0===Ja(E);)E=ml(E,h),h=Oi(u=ar(u));return E}function xh(g,u){const h=[];return Fd(g,u,h),h.sort((E,k)=>E.order-k.order),h}function Fd(g,u,h){const E=Ja(u);if(E)for(let k=0;k<E.length;k++)h.push(E[k]);Il(u,k=>{Fd(g,k,h)})}function uu(g,u){const h=Ja(u);if(h){let E=0;for(let k=0;k<h.length;k++)2!==h[k].status&&(h[E]=h[k],E++);h.length=E,Pd(u,h.length>0?h:void 0)}Il(u,E=>{uu(g,E)})}function hu(g,u){const h=ll(rc(g,u)),E=ml(g.transactionQueueTree_,u);return function eo(g,u,h){let E=h?g:g.parent;for(;null!==E;){if(u(E))return!0;E=E.parent}}(E,k=>{fu(g,k)}),fu(g,E),Xa(E,k=>{fu(g,k)}),h}function fu(g,u){const h=Ja(u);if(h){const E=[];let k=[],ee=-1;for(let ce=0;ce<h.length;ce++)3===h[ce].status||(1===h[ce].status?((0,W.hu)(ee===ce-1,"All SENT items should be at beginning of queue."),ee=ce,h[ce].status=3,h[ce].abortReason="set"):((0,W.hu)(0===h[ce].status,"Unexpected transaction status in abort"),h[ce].unwatcher(),k=k.concat(Cl(g.serverSyncTree_,h[ce].currentWriteId,!0)),h[ce].onComplete&&E.push(h[ce].onComplete.bind(null,new Error("set"),!1,null))));-1===ee?Pd(u,void 0):h.length=ee+1,vo(g.eventQueue_,ll(u),k);for(let ce=0;ce<E.length;ce++)At(E[ce])}}const Ih=function(g,u){const h=Ld(g),E=h.namespace;return"firebase.com"===h.domain&&St(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!E||"undefined"===E)&&"localhost"!==h.domain&&St("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Yi(h.host,h.secure,E,"ws"===h.scheme||"wss"===h.scheme,u,"",E!==h.subdomain),path:new Zi(h.pathString)}},Ld=function(g){let u="",h="",E="",k="",ee="",ce=!0,Ne="https",lt=443;if("string"==typeof g){let Ct=g.indexOf("//");Ct>=0&&(Ne=g.substring(0,Ct-1),g=g.substring(Ct+2));let vn=g.indexOf("/");-1===vn&&(vn=g.length);let En=g.indexOf("?");-1===En&&(En=g.length),u=g.substring(0,Math.min(vn,En)),vn<En&&(k=function pu(g){let u="";const h=g.split("/");for(let E=0;E<h.length;E++)if(h[E].length>0){let k=h[E];try{k=decodeURIComponent(k.replace(/\+/g," "))}catch{}u+="/"+k}return u}(g.substring(vn,En)));const On=function Th(g){const u={};"?"===g.charAt(0)&&(g=g.substring(1));for(const h of g.split("&")){if(0===h.length)continue;const E=h.split("=");2===E.length?u[decodeURIComponent(E[0])]=decodeURIComponent(E[1]):Bt(`Invalid query segment '${h}' in query '${g}'`)}return u}(g.substring(Math.min(g.length,En)));Ct=u.indexOf(":"),Ct>=0?(ce="https"===Ne||"wss"===Ne,lt=parseInt(u.substring(Ct+1),10)):Ct=u.length;const gi=u.slice(0,Ct);if("localhost"===gi.toLowerCase())h="localhost";else if(gi.split(".").length<=2)h=gi;else{const Fi=u.indexOf(".");E=u.substring(0,Fi).toLowerCase(),h=u.substring(Fi+1),ee=E}"ns"in On&&(ee=On.ns)}return{host:u,port:lt,domain:h,subdomain:E,secure:ce,scheme:Ne,pathString:k,namespace:ee}},_d="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vd=function(){let g=0;const u=[];return function(h){const E=h===g;let k;g=h;const ee=new Array(8);for(k=7;k>=0;k--)ee[k]=_d.charAt(h%64),h=Math.floor(h/64);(0,W.hu)(0===h,"Cannot push at time == 0");let ce=ee.join("");if(E){for(k=11;k>=0&&63===u[k];k--)u[k]=0;u[k]++}else for(k=0;k<12;k++)u[k]=Math.floor(64*Math.random());for(k=0;k<12;k++)ce+=_d.charAt(u[k]);return(0,W.hu)(20===ce.length,"nextPushId: Length should be 20."),ce}}();class Ml{constructor(u,h,E,k){this.eventType=u,this.eventRegistration=h,this.snapshot=E,this.prevName=k}getPath(){const u=this.snapshot.ref;return"value"===this.eventType?u._path:u.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Wl)(this.snapshot.exportVal())}}class _c{constructor(u,h,E){this.eventRegistration=u,this.error=h,this.path=E}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vc{constructor(u,h){this.snapshotCallback=u,this.cancelCallback=h}onValue(u,h){this.snapshotCallback.call(null,u,h)}onCancel(u){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,u)}get hasCancelCallback(){return!!this.cancelCallback}matches(u){return this.snapshotCallback===u.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===u.snapshotCallback.userCallback&&this.snapshotCallback.context===u.snapshotCallback.context}}class za{constructor(u,h){this._repo=u,this._path=h}cancel(){const u=new W.BH;return au(this._repo,this._path,u.wrapCallback(()=>{})),u.promise}remove(){ls("OnDisconnect.remove",this._path);const u=new W.BH;return hr(this._repo,this._path,null,u.wrapCallback(()=>{})),u.promise}set(u){ls("OnDisconnect.set",this._path),Vo("OnDisconnect.set",u,this._path,!1);const h=new W.BH;return hr(this._repo,this._path,u,h.wrapCallback(()=>{})),h.promise}setWithPriority(u,h){ls("OnDisconnect.setWithPriority",this._path),Vo("OnDisconnect.setWithPriority",u,this._path,!1),Ts("OnDisconnect.setWithPriority",h,!1);const E=new W.BH;return function $l(g,u,h,E,k){const ee=Mr(h,E);g.server_.onDisconnectPut(u.toString(),ee.val(!0),(ce,Ne)=>{"ok"===ce&&wo(g.onDisconnect_,u,ee),Pr(0,k,ce,Ne)})}(this._repo,this._path,u,h,E.wrapCallback(()=>{})),E.promise}update(u){ls("OnDisconnect.update",this._path),Tc("OnDisconnect.update",u,this._path,!1);const h=new W.BH;return function ic(g,u,h,E){if((0,W.xb)(h))return Te("onDisconnect().update() called with empty data.  Don't do anything."),void Pr(0,E,"ok",void 0);g.server_.onDisconnectMerge(u.toString(),h,(k,ee)=>{"ok"===k&&dn(h,(ce,Ne)=>{const lt=Mr(Ne);wo(g.onDisconnect_,Hi(u,ce),lt)}),Pr(0,E,k,ee)})}(this._repo,this._path,u,h.wrapCallback(()=>{})),h.promise}}class Br{constructor(u,h,E,k){this._repo=u,this._path=h,this._queryParams=E,this._orderByCalled=k}get key(){return di(this._path)?null:Fs(this._path)}get ref(){return new xa(this._repo,this._path)}get _queryIdentifier(){const u=go(this._queryParams),h=$t(u);return"{}"===h?"default":h}get _queryObject(){return go(this._queryParams)}isEqual(u){if(!((u=(0,W.m9)(u))instanceof Br))return!1;const h=this._repo===u._repo,E=is(this._path,u._path);return h&&E&&this._queryIdentifier===u._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function co(g){let u="";for(let h=g.pieceNum_;h<g.pieces_.length;h++)""!==g.pieces_[h]&&(u+="/"+encodeURIComponent(String(g.pieces_[h])));return u||"/"}(this._path)}}function sc(g,u){if(!0===g._orderByCalled)throw new Error(u+": You can't combine multiple orderBy calls.")}function ra(g){let u=null,h=null;if(g.hasStart()&&(u=g.getIndexStartValue()),g.hasEnd()&&(h=g.getIndexEndValue()),g.getIndex()===Ji){const E="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",k="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(g.hasStart()){if(g.getIndexStartName()!==Lt)throw new Error(E);if("string"!=typeof u)throw new Error(k)}if(g.hasEnd()){if(g.getIndexEndName()!==Wt)throw new Error(E);if("string"!=typeof h)throw new Error(k)}}else if(g.getIndex()===Pi){if(null!=u&&!mc(u)||null!=h&&!mc(h))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,W.hu)(g.getIndex()instanceof fe||g.getIndex()===D,"unknown index type."),null!=u&&"object"==typeof u||null!=h&&"object"==typeof h)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function oc(g){if(g.hasStart()&&g.hasEnd()&&g.hasLimit()&&!g.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class xa extends Br{constructor(u,h){super(u,h,new rr,!1)}get parent(){const u=ki(this._path);return null===u?null:new xa(this._repo,u)}get root(){let u=this;for(;null!==u.parent;)u=u.parent;return u}}class yc{constructor(u,h,E){this._node=u,this.ref=h,this._index=E}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(u){const h=new Zi(u),E=C(this.ref,u);return new yc(this._node.getChild(h),E,Pi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(u){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(E,k)=>u(new yc(k,C(this.ref,E),Pi)))}hasChild(u){const h=new Zi(u);return!this._node.getChild(h).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function N(g,u){return(g=(0,W.m9)(g))._checkNotDeleted("ref"),void 0!==u?C(g._root,u):g._root}function y(g,u){(g=(0,W.m9)(g))._checkNotDeleted("refFromURL");const h=Ih(u,g._repo.repoInfo_.nodeAdmin);Ic("refFromURL",h);const E=h.repoInfo;return!g._repo.repoInfo_.isCustomHost()&&E.host!==g._repo.repoInfo_.host&&St("refFromURL: Host name does not match the current database: (found "+E.host+" but expected "+g._repo.repoInfo_.host+")"),N(g,h.path.toString())}function C(g,u){return null===Oi((g=(0,W.m9)(g))._path)?zl("child","path",u,!1):cl("child","path",u,!1),new xa(g._repo,Hi(g._path,u))}function zt(g,u){g=(0,W.m9)(g),ls("set",g._path),Vo("set",u,g._path,!1);const h=new W.BH;return ou(g._repo,g._path,u,null,h.wrapCallback(()=>{})),h.promise}function fi(g,u){Tc("update",u,g._path,!1);const h=new W.BH;return function Sc(g,u,h,E){vr(g,"update",{path:u.toString(),value:h});let k=!0;const ee=hd(g),ce={};if(dn(h,(Ne,lt)=>{k=!1,ce[Ne]=Tl(Hi(u,Ne),Mr(lt),g.serverSyncTree_,ee)}),k)Te("update() called with empty data.  Don't do anything."),Pr(0,E,"ok",void 0);else{const Ne=su(g),lt=function Ha(g,u,h,E){!function T(g,u,h,E){(0,W.hu)(E>g.lastWriteId,"Stacking an older merge on top of newer ones"),g.allWrites.push({path:u,children:h,writeId:E,visible:!0}),g.visibleWrites=cn(g.visibleWrites,u,h),g.lastWriteId=E}(g.pendingWriteTree_,u,h,E);const k=ie.fromObject(h);return hc(g,new Aa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},u,k))}(g.serverSyncTree_,u,ce,Ne);Ca(g.eventQueue_,lt),g.server_.merge(u.toString(),h,(Ct,vn)=>{const En="ok"===Ct;En||Bt("update at "+u+" failed: "+Ct);const On=Cl(g.serverSyncTree_,Ne,!En),gi=On.length>0?da(g,u):u;vo(g.eventQueue_,gi,On),Pr(0,E,Ct,vn)}),dn(h,Ct=>{const vn=hu(g,Hi(u,Ct));da(g,vn)}),vo(g.eventQueue_,u,[])}}(g._repo,g._path,u,h.wrapCallback(()=>{})),h.promise}function Ii(g){g=(0,W.m9)(g);const u=new vc(()=>{}),h=new fr(u);return function af(g,u,h){const E=function $o(g,u){const h=u._path;let E=null;g.syncPointTree_.foreachOnPath(h,(Ct,vn)=>{const En=Ar(Ct,h);E=E||qt(vn,En)});let k=g.syncPointTree_.get(h);k?E=E||qt(k,Ui()):(k=new Js,g.syncPointTree_=g.syncPointTree_.set(h,k));const ee=null!=E,ce=ee?new ea(E,!0,!1):null;return function er(g){return Ws(g.viewCache_)}(oe(k,u,se(g.pendingWriteTree_,u._path),ee?ce.getNode():Ni.EMPTY_NODE,ee))}(g.serverSyncTree_,u);return null!=E?Promise.resolve(E):g.server_.get(u).then(k=>{const ee=Mr(k).withIndex(u._queryParams.getIndex());let ce;if(Cc(g.serverSyncTree_,u,h,!0),u._queryParams.loadsAllData())ce=Dl(g.serverSyncTree_,u._path,ee);else{const Ne=Hl(g.serverSyncTree_,u);ce=Ra(g.serverSyncTree_,u._path,ee,Ne)}return vo(g.eventQueue_,u._path,ce),Bc(g.serverSyncTree_,u,h,null,!0),ee},k=>(vr(g,"get for query "+(0,W.Wl)(u)+" failed: "+k),Promise.reject(new Error(k))))}(g._repo,g,h).then(E=>new yc(E,new xa(g._repo,g._path),g._queryParams.getIndex()))}class fr{constructor(u){this.callbackContext=u}respondsTo(u){return"value"===u}createEvent(u,h){const E=h._queryParams.getIndex();return new Ml("value",this,new yc(u.snapshotNode,new xa(h._repo,h._path),E))}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,null)}createCancelEvent(u,h){return this.callbackContext.hasCancelCallback?new _c(this,u,h):null}matches(u){return u instanceof fr&&(!u.callbackContext||!this.callbackContext||u.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class sa{constructor(u,h){this.eventType=u,this.callbackContext=h}respondsTo(u){let h="children_added"===u?"child_added":u;return h="children_removed"===h?"child_removed":h,this.eventType===h}createCancelEvent(u,h){return this.callbackContext.hasCancelCallback?new _c(this,u,h):null}createEvent(u,h){(0,W.hu)(null!=u.childName,"Child events should have a childName.");const E=C(new xa(h._repo,h._path),u.childName),k=h._queryParams.getIndex();return new Ml(u.type,this,new yc(u.snapshotNode,E,k),u.prevName)}getEventRunner(u){return"cancel"===u.getEventType()?()=>this.callbackContext.onCancel(u.error):()=>this.callbackContext.onValue(u.snapshot,u.prevName)}matches(u){return u instanceof sa&&this.eventType===u.eventType&&(!this.callbackContext||!u.callbackContext||this.callbackContext.matches(u.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Bo(g,u,h,E,k){let ee;if("object"==typeof E&&(ee=void 0,k=E),"function"==typeof E&&(ee=E),k&&k.onlyOnce){const lt=h,Ct=(vn,En)=>{ba(g._repo,g,Ne),lt(vn,En)};Ct.userCallback=h.userCallback,Ct.context=h.context,h=Ct}const ce=new vc(h,ee||void 0),Ne="value"===u?new fr(ce):new sa(u,ce);return function lu(g,u,h){let E;E=".info"===Oi(u._path)?Cc(g.infoSyncTree_,u,h):Cc(g.serverSyncTree_,u,h),tc(g.eventQueue_,u._path,E)}(g._repo,g,Ne),()=>ba(g._repo,g,Ne)}function bc(g,u,h,E){return Bo(g,"value",u,h,E)}function ko(g,u,h,E){return Bo(g,"child_added",u,h,E)}function yd(g,u,h,E){return Bo(g,"child_changed",u,h,E)}function Yc(g,u,h,E){return Bo(g,"child_moved",u,h,E)}function mu(g,u,h,E){return Bo(g,"child_removed",u,h,E)}function tl(g,u,h){let E=null;const k=h?new vc(h):null;"value"===u?E=new fr(k):u&&(E=new sa(u,k)),ba(g._repo,g,E)}class Ol{}class bd extends Ol{constructor(u,h){super(),this._value=u,this._key=h}_apply(u){Vo("endAt",this._value,u._path,!0);const h=ms(u._queryParams,this._value,this._key);if(oc(h),ra(h),u._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Br(u._repo,u._path,h,u._orderByCalled)}}class cf extends Ol{constructor(u,h){super(),this._value=u,this._key=h}_apply(u){Vo("endBefore",this._value,u._path,!1);const h=function os(g,u,h){let E;return E=ms(g,u,g.index_===Ji||h?h:Lt),E.endBeforeSet_=!0,E}(u._queryParams,this._value,this._key);if(oc(h),ra(h),u._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Br(u._repo,u._path,h,u._orderByCalled)}}class ju extends Ol{constructor(u,h){super(),this._value=u,this._key=h}_apply(u){Vo("startAt",this._value,u._path,!0);const h=Cs(u._queryParams,this._value,this._key);if(oc(h),ra(h),u._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Br(u._repo,u._path,h,u._orderByCalled)}}class Jp extends Ol{constructor(u,h){super(),this._value=u,this._key=h}_apply(u){Vo("startAfter",this._value,u._path,!1);const h=function mo(g,u,h){let E;return E=Cs(g,u,g.index_===Ji||h?h:Wt),E.startAfterSet_=!0,E}(u._queryParams,this._value,this._key);if(oc(h),ra(h),u._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Br(u._repo,u._path,h,u._orderByCalled)}}class zu extends Ol{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Br(u._repo,u._path,function Sr(g,u){const h=g.copy();return h.limitSet_=!0,h.limit_=u,h.viewFrom_="l",h}(u._queryParams,this._limit),u._orderByCalled)}}class zf extends Ol{constructor(u){super(),this._limit=u}_apply(u){if(u._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Br(u._repo,u._path,function Wr(g,u){const h=g.copy();return h.limitSet_=!0,h.limit_=u,h.viewFrom_="r",h}(u._queryParams,this._limit),u._orderByCalled)}}class Gu extends Ol{constructor(u){super(),this._path=u}_apply(u){sc(u,"orderByChild");const h=new Zi(this._path);if(di(h))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const E=new fe(h),k=Yr(u._queryParams,E);return ra(k),new Br(u._repo,u._path,k,!0)}}class Ed extends Ol{_apply(u){sc(u,"orderByKey");const h=Yr(u._queryParams,Ji);return ra(h),new Br(u._repo,u._path,h,!0)}}class lc extends Ol{_apply(u){sc(u,"orderByPriority");const h=Yr(u._queryParams,Pi);return ra(h),new Br(u._repo,u._path,h,!0)}}class Ac extends Ol{_apply(u){sc(u,"orderByValue");const h=Yr(u._queryParams,D);return ra(h),new Br(u._repo,u._path,h,!0)}}class $f extends Ol{constructor(u,h){super(),this._value=u,this._key=h}_apply(u){if(Vo("equalTo",this._value,u._path,!1),u._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(u._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bd(this._value,this._key)._apply(new ju(this._value,this._key)._apply(u))}}function Oa(g,...u){let h=(0,W.m9)(g);for(const E of u)h=E._apply(h);return h}(function U(g){(0,W.hu)(!Gn,"__referenceConstructor has already been defined"),Gn=g})(xa),function Xt(g){(0,W.hu)(!na,"__referenceConstructor has already been defined"),na=g}(xa);const xo={};function _u(g,u,h,E,k){let ee=E||g.options.databaseURL;void 0===ee&&(g.options.projectId||St("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",g.options.projectId),ee=`${g.options.projectId}-default-rtdb.firebaseio.com`);let lt,Ct,ce=Ih(ee,k),Ne=ce.repoInfo;typeof process<"u"&&process.env&&(Ct=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ct?(lt=!0,ee=`http://${Ct}?ns=${Ne.namespace}`,ce=Ih(ee,k),Ne=ce.repoInfo):lt=!ce.repoInfo.secure;const vn=k&&lt?new An(An.OWNER):new Hn(g.name,g.options,u);Ic("Invalid Firebase Database URL",ce),di(ce.path)||St("Database URL must point to the root of a Firebase Database (not including a child path).");const En=function wd(g,u,h,E){let k=xo[u.name];k||(k={},xo[u.name]=k);let ee=k[g.toURLString()];return ee&&St("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ee=new nc(g,false,h,E),k[g.toURLString()]=ee,ee}(Ne,g,vn,new gn(g.name,h));return new Yu(En,g)}class Yu{constructor(u,h){this._repoInternal=u,this.app=h,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $c(g,u,h){if(g.stats_=be(g.repoInfo_),g.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)g.server_=new Jr(g.repoInfo_,(E,k,ee,ce)=>{ru(g,E,k,ee,ce)},g.authTokenProvider_,g.appCheckProvider_),setTimeout(()=>fd(g,!0),0);else{if(typeof h<"u"&&null!==h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Wl)(h)}catch(E){throw new Error("Invalid authOverride provided: "+E)}}g.persistentConnection_=new hs(g.repoInfo_,u,(E,k,ee,ce)=>{ru(g,E,k,ee,ce)},E=>{fd(g,E)},E=>{!function Nd(g,u){dn(u,(h,E)=>{Wc(g,h,E)})}(g,E)},g.authTokenProvider_,g.appCheckProvider_,h),g.server_=g.persistentConnection_}g.authTokenProvider_.addTokenChangeListener(E=>{g.server_.refreshAuthToken(E)}),g.appCheckProvider_.addTokenChangeListener(E=>{g.server_.refreshAppCheckToken(E.token)}),g.statsReporter_=function gt(g,u){const h=g.toString();return G[h]||(G[h]=u()),G[h]}(g.repoInfo_,()=>new Va(g.stats_,g.server_)),g.infoData_=new so,g.infoSyncTree_=new _o({startListening:(E,k,ee,ce)=>{let Ne=[];const lt=g.infoData_.getNode(E._path);return lt.isEmpty()||(Ne=Dl(g.infoSyncTree_,E._path,lt),setTimeout(()=>{ce("ok")},0)),Ne},stopListening:()=>{}}),Wc(g,"connected",!1),g.serverSyncTree_=new _o({startListening:(E,k,ee,ce)=>(g.server_.listen(E,ee,k,(Ne,lt)=>{const Ct=ce(Ne,lt);vo(g.eventQueue_,E._path,Ct)}),[]),stopListening:(E,k)=>{g.server_.unlisten(E,k)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xa(this._repo,Ui())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Wf(g,u){const h=xo[u];(!h||h[g.key]!==g)&&St(`Database ${u}(${g.repoInfo_}) has already been deleted.`),gc(g),delete h[g.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(u){null===this._rootInternal&&St("Cannot call "+u+" on a deleted database.")}}function Zc(){jr.IS_TRANSPORT_INITIALIZED&&Bt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cc(){Zc(),pr.forceDisallow()}function Ga(){Zc(),ts.forceDisallow(),pr.forceAllow()}function vu(g,u){Be(g,u)}const Qc={".sv":"timestamp"};class Ea{constructor(u,h){this.committed=u,this.snapshot=h}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}hs.prototype.simpleListen=function(g,u){this.sendRequest("q",{p:g},u)},hs.prototype.echo=function(g,u){this.sendRequest("echo",{d:g},u)},function Mh(g){Ht(rt.SDK_VERSION),(0,rt._registerComponent)(new Ke.wA("database",(u,{instanceIdentifier:h})=>_u(u.getProvider("app").getImmediate(),u.getProvider("auth-internal"),u.getProvider("app-check-internal"),h),"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(qe,"1.0.1",g),(0,rt.registerVersion)(qe,"1.0.1","esm2017")}();const Ph=new Pe.Yd("@firebase/database-compat"),Zu=function(g){Ph.warn("FIREBASE WARNING: "+g)};class dc{constructor(u){this._delegate=u}cancel(u){(0,W.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,W.Wj)("OnDisconnect.cancel","onComplete",u,!0);const h=this._delegate.cancel();return u&&h.then(()=>u(null),E=>u(E)),h}remove(u){(0,W.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,W.Wj)("OnDisconnect.remove","onComplete",u,!0);const h=this._delegate.remove();return u&&h.then(()=>u(null),E=>u(E)),h}set(u,h){(0,W.Dv)("OnDisconnect.set",1,2,arguments.length),(0,W.Wj)("OnDisconnect.set","onComplete",h,!0);const E=this._delegate.set(u);return h&&E.then(()=>h(null),k=>h(k)),E}setWithPriority(u,h,E){(0,W.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,W.Wj)("OnDisconnect.setWithPriority","onComplete",E,!0);const k=this._delegate.setWithPriority(u,h);return E&&k.then(()=>E(null),ee=>E(ee)),k}update(u,h){if((0,W.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(u)){const k={};for(let ee=0;ee<u.length;++ee)k[""+ee]=u[ee];u=k,Zu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,W.Wj)("OnDisconnect.update","onComplete",h,!0);const E=this._delegate.update(u);return h&&E.then(()=>h(null),k=>h(k)),E}}class Rc{constructor(u,h){this.committed=u,this.snapshot=h}toJSON(){return(0,W.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kl{constructor(u,h){this._database=u,this._delegate=h}val(){return(0,W.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,W.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,W.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,W.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(u){return(0,W.Dv)("DataSnapshot.child",0,1,arguments.length),u=String(u),cl("DataSnapshot.child","path",u,!1),new kl(this._database,this._delegate.child(u))}hasChild(u){return(0,W.Dv)("DataSnapshot.hasChild",1,1,arguments.length),cl("DataSnapshot.hasChild","path",u,!1),this._delegate.hasChild(u)}getPriority(){return(0,W.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(u){return(0,W.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,W.Wj)("DataSnapshot.forEach","action",u,!1),this._delegate.forEach(h=>u(new kl(this._database,h)))}hasChildren(){return(0,W.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,W.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,W.Dv)("DataSnapshot.ref",0,0,arguments.length),new ka(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ua{constructor(u,h){this.database=u,this._delegate=h}on(u,h,E,k){var ee;(0,W.Dv)("Query.on",2,4,arguments.length),(0,W.Wj)("Query.on","callback",h,!1);const ce=ua.getCancelAndContextArgs_("Query.on",E,k),Ne=(Ct,vn)=>{h.call(ce.context,new kl(this.database,Ct),vn)};Ne.userCallback=h,Ne.context=ce.context;const lt=null===(ee=ce.cancel)||void 0===ee?void 0:ee.bind(ce.context);switch(u){case"value":return bc(this._delegate,Ne,lt),h;case"child_added":return ko(this._delegate,Ne,lt),h;case"child_removed":return mu(this._delegate,Ne,lt),h;case"child_changed":return yd(this._delegate,Ne,lt),h;case"child_moved":return Yc(this._delegate,Ne,lt),h;default:throw new Error((0,W.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(u,h,E){if((0,W.Dv)("Query.off",0,3,arguments.length),function(g,u,h){if(void 0!==u)switch(u){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,W.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,u),(0,W.Wj)("Query.off","callback",h,!0),(0,W.lb)("Query.off","context",E,!0),h){const k=()=>{};k.userCallback=h,k.context=E,tl(this._delegate,u,k)}else tl(this._delegate,u)}get(){return Ii(this._delegate).then(u=>new kl(this.database,u))}once(u,h,E,k){(0,W.Dv)("Query.once",1,4,arguments.length),(0,W.Wj)("Query.once","callback",h,!0);const ee=ua.getCancelAndContextArgs_("Query.once",E,k),ce=new W.BH,Ne=(Ct,vn)=>{const En=new kl(this.database,Ct);h&&h.call(ee.context,En,vn),ce.resolve(En)};Ne.userCallback=h,Ne.context=ee.context;const lt=Ct=>{ee.cancel&&ee.cancel.call(ee.context,Ct),ce.reject(Ct)};switch(u){case"value":bc(this._delegate,Ne,lt,{onlyOnce:!0});break;case"child_added":ko(this._delegate,Ne,lt,{onlyOnce:!0});break;case"child_removed":mu(this._delegate,Ne,lt,{onlyOnce:!0});break;case"child_changed":yd(this._delegate,Ne,lt,{onlyOnce:!0});break;case"child_moved":Yc(this._delegate,Ne,lt,{onlyOnce:!0});break;default:throw new Error((0,W.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return ce.promise}limitToFirst(u){return(0,W.Dv)("Query.limitToFirst",1,1,arguments.length),new ua(this.database,Oa(this._delegate,function Bd(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zu(g)}(u)))}limitToLast(u){return(0,W.Dv)("Query.limitToLast",1,1,arguments.length),new ua(this.database,Oa(this._delegate,function Gf(g){if("number"!=typeof g||Math.floor(g)!==g||g<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new zf(g)}(u)))}orderByChild(u){return(0,W.Dv)("Query.orderByChild",1,1,arguments.length),new ua(this.database,Oa(this._delegate,function ac(g){if("$key"===g)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===g)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===g)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return cl("orderByChild","path",g,!1),new Gu(g)}(u)))}orderByKey(){return(0,W.Dv)("Query.orderByKey",0,0,arguments.length),new ua(this.database,Oa(this._delegate,function $u(){return new Ed}()))}orderByPriority(){return(0,W.Dv)("Query.orderByPriority",0,0,arguments.length),new ua(this.database,Oa(this._delegate,function Kc(){return new lc}()))}orderByValue(){return(0,W.Dv)("Query.orderByValue",0,0,arguments.length),new ua(this.database,Oa(this._delegate,function gu(){return new Ac}()))}startAt(u=null,h){return(0,W.Dv)("Query.startAt",0,2,arguments.length),new ua(this.database,Oa(this._delegate,function Sh(g=null,u){return _l("startAt","key",u,!0),new ju(g,u)}(u,h)))}startAfter(u=null,h){return(0,W.Dv)("Query.startAfter",0,2,arguments.length),new ua(this.database,Oa(this._delegate,function jf(g,u){return _l("startAfter","key",u,!0),new Jp(g,u)}(u,h)))}endAt(u=null,h){return(0,W.Dv)("Query.endAt",0,2,arguments.length),new ua(this.database,Oa(this._delegate,function Vd(g,u){return _l("endAt","key",u,!0),new bd(g,u)}(u,h)))}endBefore(u=null,h){return(0,W.Dv)("Query.endBefore",0,2,arguments.length),new ua(this.database,Oa(this._delegate,function Nr(g,u){return _l("endBefore","key",u,!0),new cf(g,u)}(u,h)))}equalTo(u,h){return(0,W.Dv)("Query.equalTo",1,2,arguments.length),new ua(this.database,Oa(this._delegate,function Ud(g,u){return _l("equalTo","key",u,!0),new $f(g,u)}(u,h)))}toString(){return(0,W.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,W.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(u){if((0,W.Dv)("Query.isEqual",1,1,arguments.length),!(u instanceof ua))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(u._delegate)}static getCancelAndContextArgs_(u,h,E){const k={cancel:void 0,context:void 0};if(h&&E)k.cancel=h,(0,W.Wj)(u,"cancel",k.cancel,!0),k.context=E,(0,W.lb)(u,"context",k.context,!0);else if(h)if("object"==typeof h&&null!==h)k.context=h;else{if("function"!=typeof h)throw new Error((0,W.gK)(u,"cancelOrContext")+" must either be a cancel callback or a context object.");k.cancel=h}return k}get ref(){return new ka(this.database,new xa(this._delegate._repo,this._delegate._path))}}class ka extends ua{constructor(u,h){super(u,new Br(h._repo,h._path,new rr,!1)),this.database=u,this._delegate=h}getKey(){return(0,W.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(u){return(0,W.Dv)("Reference.child",1,1,arguments.length),"number"==typeof u&&(u=String(u)),new ka(this.database,C(this._delegate,u))}getParent(){(0,W.Dv)("Reference.parent",0,0,arguments.length);const u=this._delegate.parent;return u?new ka(this.database,u):null}getRoot(){return(0,W.Dv)("Reference.root",0,0,arguments.length),new ka(this.database,this._delegate.root)}set(u,h){(0,W.Dv)("Reference.set",1,2,arguments.length),(0,W.Wj)("Reference.set","onComplete",h,!0);const E=zt(this._delegate,u);return h&&E.then(()=>h(null),k=>h(k)),E}update(u,h){if((0,W.Dv)("Reference.update",1,2,arguments.length),Array.isArray(u)){const k={};for(let ee=0;ee<u.length;++ee)k[""+ee]=u[ee];u=k,Zu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ls("Reference.update",this._delegate._path),(0,W.Wj)("Reference.update","onComplete",h,!0);const E=fi(this._delegate,u);return h&&E.then(()=>h(null),k=>h(k)),E}setWithPriority(u,h,E){(0,W.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,W.Wj)("Reference.setWithPriority","onComplete",E,!0);const k=function Un(g,u,h){if(ls("setWithPriority",g._path),Vo("setWithPriority",u,g._path,!1),Ts("setWithPriority",h,!1),".length"===g.key||".keys"===g.key)throw"setWithPriority failed: "+g.key+" is a read-only object.";const E=new W.BH;return ou(g._repo,g._path,u,h,E.wrapCallback(()=>{})),E.promise}(this._delegate,u,h);return E&&k.then(()=>E(null),ee=>E(ee)),k}remove(u){(0,W.Dv)("Reference.remove",0,1,arguments.length),(0,W.Wj)("Reference.remove","onComplete",u,!0);const h=function He(g){return ls("remove",g._path),zt(g,null)}(this._delegate);return u&&h.then(()=>u(null),E=>u(E)),h}transaction(u,h,E){(0,W.Dv)("Reference.transaction",1,3,arguments.length),(0,W.Wj)("Reference.transaction","transactionUpdate",u,!1),(0,W.Wj)("Reference.transaction","onComplete",h,!0),function(g,u,h,E){if(void 0!==h&&"boolean"!=typeof h)throw new Error((0,W.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,E);const k=function Os(g,u,h){var E;if(g=(0,W.m9)(g),ls("Reference.transaction",g._path),".length"===g.key||".keys"===g.key)throw"Reference.transaction failed: "+g.key+" is a read-only object.";const k=null===(E=h?.applyLocally)||void 0===E||E,ee=new W.BH,Ne=bc(g,()=>{});return function pd(g,u,h,E,k,ee){vr(g,"transaction on "+u);const ce={path:u,update:h,onComplete:E,status:null,order:jn(),applyLocally:ee,retryCount:0,unwatcher:k,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ne=du(g,u,void 0);ce.currentInputSnapshot=Ne;const lt=ce.update(Ne.val());if(void 0===lt)ce.unwatcher(),ce.currentOutputSnapshotRaw=null,ce.currentOutputSnapshotResolved=null,ce.onComplete&&ce.onComplete(null,!1,ce.currentInputSnapshot);else{Zs("transaction failed: Data returned ",lt,ce.path),ce.status=0;const Ct=ml(g.transactionQueueTree_,u),vn=Ja(Ct)||[];let En;vn.push(ce),Pd(Ct,vn),"object"==typeof lt&&null!==lt&&(0,W.r3)(lt,".priority")?(En=(0,W.DV)(lt,".priority"),(0,W.hu)(mc(En),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):En=(pl(g.serverSyncTree_,u)||Ni.EMPTY_NODE).getPriority().val();const On=hd(g),gi=Mr(lt,En),Fi=ec(gi,Ne,On);ce.currentOutputSnapshotRaw=gi,ce.currentOutputSnapshotResolved=Fi,ce.currentWriteId=su(g);const es=Ua(g.serverSyncTree_,u,Fi,ce.currentWriteId,ce.applyLocally);vo(g.eventQueue_,u,es),md(g,g.transactionQueueTree_)}}(g._repo,g._path,u,(lt,Ct,vn)=>{let En=null;lt?ee.reject(lt):(En=new yc(vn,new xa(g._repo,g._path),Pi),ee.resolve(new Ea(Ct,En)))},Ne,k),ee.promise}(this._delegate,u,{applyLocally:E}).then(ee=>new Rc(ee.committed,new kl(this.database,ee.snapshot)));return h&&k.then(ee=>h(null,ee.committed,ee.snapshot),ee=>h(ee,!1,null)),k}setPriority(u,h){(0,W.Dv)("Reference.setPriority",1,2,arguments.length),(0,W.Wj)("Reference.setPriority","onComplete",h,!0);const E=function mn(g,u){g=(0,W.m9)(g),ls("setPriority",g._path),Ts("setPriority",u,!1);const h=new W.BH;return ou(g._repo,Hi(g._path,".priority"),u,null,h.wrapCallback(()=>{})),h.promise}(this._delegate,u);return h&&E.then(()=>h(null),k=>h(k)),E}push(u,h){(0,W.Dv)("Reference.push",0,2,arguments.length),(0,W.Wj)("Reference.push","onComplete",h,!0);const E=function ge(g,u){g=(0,W.m9)(g),ls("push",g._path),Vo("push",u,g._path,!0);const h=el(g._repo),E=vd(h),k=C(g,E),ee=C(g,E);let ce;return ce=null!=u?zt(ee,u).then(()=>ee):Promise.resolve(ee),k.then=ce.then.bind(ce),k.catch=ce.then.bind(ce,void 0),k}(this._delegate,u),k=E.then(ce=>new ka(this.database,ce));h&&k.then(()=>h(null),ce=>h(ce));const ee=new ka(this.database,E);return ee.then=k.then.bind(k),ee.catch=k.catch.bind(k,void 0),ee}onDisconnect(){return ls("Reference.onDisconnect",this._delegate._path),new dc(new za(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cu{constructor(u,h){this._delegate=u,this.app=h,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:cc,forceLongPolling:Ga}}useEmulator(u,h,E={}){!function Ku(g,u,h,E={}){(g=(0,W.m9)(g))._checkNotDeleted("useEmulator"),g._instanceStarted&&St("Cannot call useEmulator() after instance has already been initialized.");const k=g._repoInternal;let ee;if(k.repoInfo_.nodeAdmin)E.mockUserToken&&St('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),ee=new An(An.OWNER);else if(E.mockUserToken){const ce="string"==typeof E.mockUserToken?E.mockUserToken:(0,W.Sg)(E.mockUserToken,g.app.options.projectId);ee=new An(ce)}!function Wu(g,u,h,E){g.repoInfo_=new Yi(`${u}:${h}`,!1,g.repoInfo_.namespace,g.repoInfo_.webSocketOnly,g.repoInfo_.nodeAdmin,g.repoInfo_.persistenceKey,g.repoInfo_.includeNamespaceInQueryParams,!0),E&&(g.authTokenProvider_=E)}(k,u,h,ee)}(this._delegate,u,h,E)}ref(u){if((0,W.Dv)("database.ref",0,1,arguments.length),u instanceof ka){const h=y(this._delegate,u.toString());return new ka(this,h)}{const h=N(this._delegate,u);return new ka(this,h)}}refFromURL(u){(0,W.Dv)("database.refFromURL",1,1,arguments.length);const E=y(this._delegate,u);return new ka(this,E)}goOffline(){return(0,W.Dv)("database.goOffline",0,0,arguments.length),function qc(g){(g=(0,W.m9)(g))._checkNotDeleted("goOffline"),gc(g._repo)}(this._delegate)}goOnline(){return(0,W.Dv)("database.goOnline",0,0,arguments.length),function Rh(g){(g=(0,W.m9)(g))._checkNotDeleted("goOnline"),function cu(g){g.persistentConnection_&&g.persistentConnection_.resume(Al)}(g._repo)}(this._delegate)}}Cu.ServerValue={TIMESTAMP:function zd(){return Qc}(),increment:g=>function yu(g){return{".sv":{increment:g}}}(g)};var Nh=Object.freeze({__proto__:null,initStandalone:function em({app:g,url:u,version:h,customAuthImpl:E,customAppCheckImpl:k,namespace:ee,nodeAdmin:ce=!1}){Ht(h);const Ne=new Ke.H0("database-standalone"),lt=new Ke.zt("auth-internal",Ne);let Ct;return lt.setComponent(new Ke.wA("auth-internal",()=>E,"PRIVATE")),k&&(Ct=new Ke.zt("app-check-internal",Ne),Ct.setComponent(new Ke.wA("app-check-internal",()=>k,"PRIVATE"))),{instance:new Cu(_u(g,lt,Ct,u,ce),g),namespace:ee}}});const df=Cu.ServerValue;!function Yf(g){g.INTERNAL.registerComponent(new Ke.wA("database-compat",(u,{instanceIdentifier:h})=>{const E=u.getProvider("app-compat").getImmediate(),k=u.getProvider("database").getImmediate({identifier:h});return new Cu(k,E)},"PUBLIC").setServiceProps({Reference:ka,Query:ua,Database:Cu,DataSnapshot:kl,enableLogging:vu,INTERNAL:Nh,ServerValue:df}).setMultipleInstances(!0)),g.registerVersion("@firebase/database-compat","1.0.1")}(en.Z);var Kf=R(7142);function Du(g,u,h="on",E=ke.z){return new Xe.y(k=>{let ee=null;return ee=g[h](u,(ce,Ne)=>{E.schedule(()=>{k.next({snapshot:ce,prevKey:Ne})}),"once"===h&&E.schedule(()=>k.complete())},ce=>{E.schedule(()=>k.error(ce))}),"on"===h?{unsubscribe(){null!=ee&&g.off(u,ee)}}:{unsubscribe(){}}}).pipe((0,we.U)(k=>{const{snapshot:ee,prevKey:ce}=k;let Ne=null;return ee.exists()&&(Ne=ee.key),{type:u,payload:ee,prevKey:ce,key:Ne}}),(0,Ge.B)())}function Jc(g){return null==g}function Qu(g){return"function"==typeof g.set}function Zf(g,u){return Qu(u)?u:g.ref(u)}function Wo(g,u){if(function Fh(g){return"string"==typeof g}(g))return u.stringCase();if(Qu(g))return u.firebaseCase();if(function qu(g){return"function"==typeof g.exportVal}(g))return u.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof g)}function Gd(g){return(Jc(g)||0===g.length)&&(g=["child_added","child_removed","child_changed","child_moved"]),g}function Xc(g,u,h){const E=(u=Gd(u)).map(k=>Du(g,k,"on",h));return(0,ut.T)(...E)}function uf(g,u){return function(E,k){return Wo(E,{stringCase:()=>g.child(E)[u](k),firebaseCase:()=>E[u](k),snapshotCase:()=>E.ref[u](k)})}}function Dd(g){return function(h){return h?Wo(h,{stringCase:()=>g.child(h).remove(),firebaseCase:()=>h.remove(),snapshotCase:()=>h.ref.remove()}):g.remove()}}function Vh(g,u){const h=g.length;for(let E=0;E<h;E++)if(g[E].payload.key===u)return E;return-1}function Qf(g,u){const{payload:h,prevKey:E,key:k}=u,ee=Vh(g,k),ce=function hf(g,u){if(Jc(u))return 0;{const h=Vh(g,u);return-1===h?g.length:h+1}}(g,E);switch(u.type){case"value":if(u.payload?.exists()){let Ne=null;u.payload.forEach(lt=>{const Ct={payload:lt,type:"value",prevKey:Ne,key:lt.key};return Ne=lt.key,g=[...g,Ct],!1})}return g;case"child_added":if(ee>-1)(g[ee-1]?.key||null)!==E&&(g=g.filter(lt=>lt.payload.key!==h.key)).splice(ce,0,u);else{if(null==E)return[u,...g];(g=g.slice()).splice(ce,0,u)}return g;case"child_removed":return g.filter(Ne=>Ne.payload.key!==h.key);case"child_changed":return g.map(Ne=>Ne.payload.key===k?u:Ne);case"child_moved":if(ee>-1){const Ne=g.splice(ee,1)[0];return(g=g.slice()).splice(ce,0,Ne),g}return g;default:return g}}function Bh(g,u,h){return function qf(g,u,h){return Du(g,"value","once",h).pipe((0,Ye.w)(E=>{const k=[(0,ht.of)(E)];return u.forEach(ee=>k.push(Du(g,ee,"on",h))),(0,ut.T)(...k).pipe((0,$e.R)(Qf,[]))}),(0,yt.x)())}(g,u=Gd(u),h)}function $d(g,u){return function(){return Du(g,"value","on",u)}}const ff=new a.OlP("angularfire2.realtimeDatabaseURL"),Ju=new a.OlP("angularfire2.database.use-emulator");let Iu=(()=>{class g{schedulers;database;constructor(h,E,k,ee,ce,Ne,lt,Ct,vn,En,On,gi,Fi,es,To){this.schedulers=Ne;const nl=lt,bl=(0,O.on)(h,ce,E);Ct&&(0,w.nw)(bl,ce,vn,On,gi,Fi,En,es),this.database=(0,O.cc)(`${bl.name}.database.${k}`,"AngularFireDatabase",bl.name,()=>{const Ec=ce.runOutsideAngular(()=>bl.database(k||void 0));return nl&&Ec.useEmulator(...nl),Ec},[nl])}list(h,E){const k=this.schedulers.ngZone.runOutsideAngular(()=>Zf(this.database,h));let ee=k;return E&&(ee=E(k)),function Tu(g,u){const h=u.schedulers.outsideAngular,E=u.schedulers.ngZone.run(()=>g.ref);return{query:g,update:uf(E,"update"),set:uf(E,"set"),push:k=>E.push(k),remove:Dd(E),snapshotChanges:k=>Bh(g,k,h).pipe(ne.iC),stateChanges:k=>Xc(g,k,h).pipe(ne.iC),auditTrail:k=>function xu(g,u,h){return function Lh(g,u,h){return function Wl(g,u){return Du(g,"value","on",u).pipe((0,we.U)(h=>{let E;return h.payload.forEach(k=>(E=k.key,!1)),{data:h,lastKeyToLoad:E}}))}(g,h).pipe((0,Le.M)(u),(0,we.U)(([k,ee])=>{const ce=k.lastKeyToLoad,Ne=ee.map(lt=>lt.key);return{actions:ee,lastKeyToLoad:ce,loadedKeys:Ne}}),function Fe(g){return(0,ze.e)((u,h)=>{let E=!1,k=0;u.subscribe((0,H.x)(h,ee=>(E||(E=!g(ee,k++)))&&h.next(ee)))})}(k=>-1===k.loadedKeys.indexOf(k.lastKeyToLoad)),(0,we.U)(k=>k.actions))}(g,Xc(g,u).pipe((0,$e.R)((k,ee)=>[...k,ee],[])),h)}(g,k,h).pipe(ne.iC),valueChanges:(k,ee)=>Bh(g,k,h).pipe((0,we.U)(Ne=>Ne.map(lt=>ee&&ee.idField?{...lt.payload.val(),[ee.idField]:lt.key}:lt.payload.val())),ne.iC)}}(ee,this)}object(h){return function Wd(g,u){return{query:g,snapshotChanges:()=>$d(g,u.schedulers.outsideAngular)().pipe(ne.iC),update:h=>g.ref.update(h),set:h=>g.ref.set(h),remove:()=>g.ref.remove(),valueChanges:()=>$d(g,u.schedulers.outsideAngular)().pipe(ne.iC,(0,we.U)(E=>E.payload.exists()?E.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Zf(this.database,h)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(E){return new(E||g)(a.LFG(O.Dh),a.LFG(O.xv,8),a.LFG(ff,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ne.HU),a.LFG(Ju,8),a.LFG(w.zQ,8),a.LFG(w.Qv,8),a.LFG(w.L6,8),a.LFG(w._Q,8),a.LFG(w.rT,8),a.LFG(w.lh,8),a.LFG(w.f7,8),a.LFG(ne.Rf,8))};static \u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"any"})}return g})(),Jf=(()=>{class g{constructor(){Kf.Z.registerVersion("angularfire",ne.q4.full,"rtdb-compat")}static \u0275fac=function(E){return new(E||g)};static \u0275mod=a.oAB({type:g});static \u0275inj=a.cJS({providers:[Iu]})}return g})()},9027:(Sn,Et,R)=>{R.d(Et,{ST:()=>Y_,yb:()=>Py});var a=R(6814),ne=R(5879),O=R(1920),w=R(7217),we=R(981),Ge=R(6321),$e=R(5592),Le=R(2459),ze=R(2096),H=R(7921),Fe=R(9360),Ye=R(8251);function yt(){return(0,Fe.e)((r,e)=>{let n,o=!1;r.subscribe((0,Ye.x)(e,c=>{const m=n;n=c,o&&e.next([m,c]),o=!0}))})}var It,ke=R(7398),Xe=R(6699),ut=R(3997),ht=R(2181),en=(R(6365),R(3106)),Ke=R(5861),ye=R(534),rt=R(4537),W=R(7879),Pe=R(9058),qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={},Ht=Ht||{},Nt=qe||self;function Cn(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Mn(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var wn="closure_uid_"+(1e9*Math.random()>>>0),Ln=0;function jn(r,e,n){return r.call.apply(r.bind,arguments)}function kt(r,e,n){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function pt(r,e,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jn:kt).apply(null,arguments)}function bt(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Rt(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(o,c,m){for(var b=Array(arguments.length-2),$=2;$<arguments.length;$++)b[$-2]=arguments[$];return e.prototype[c].apply(o,b)}}function Be(){this.s=this.s,this.o=this.o}Be.prototype.s=!1,Be.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ni(r){Object.prototype.hasOwnProperty.call(r,wn)&&r[wn]||(r[wn]=++Ln)}(this)},Be.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function Ze(r){const e=r.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=r[o];return n}return[]}function St(r,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Cn(o)){const c=r.length||0,m=o.length||0;r.length=c+m;for(let b=0;b<m;b++)r[c+b]=o[b]}else r.push(o)}}function Bt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};var yn=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Nt.addEventListener("test",()=>{},e),Nt.removeEventListener("test",()=>{},e)}catch{}return r}();function Ut(r){return/^[\s\xa0]*$/.test(r)}function Pn(){var r=Nt.navigator;return r&&(r=r.userAgent)?r:""}function Lt(r){return-1!=Pn().indexOf(r)}function Wt(r){return Wt[" "](r),r}Wt[" "]=function(){};var Pt,r,Ue=Lt("Opera"),at=Lt("Trident")||Lt("MSIE"),$t=Lt("Edge"),pn=$t||at,dn=Lt("Gecko")&&!(-1!=Pn().toLowerCase().indexOf("webkit")&&!Lt("Edge"))&&!(Lt("Trident")||Lt("MSIE"))&&!Lt("Edge"),Qn=-1!=Pn().toLowerCase().indexOf("webkit")&&!Lt("Edge");function ai(){var r=Nt.document;return r?r.documentMode:void 0}e:{var Ie="",xe=(r=Pn(),dn?/rv:([^\);]+)(\)|;)/.exec(r):$t?/Edge\/([\d\.]+)/.exec(r):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Qn?/WebKit\/(\S+)/.exec(r):Ue?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(xe&&(Ie=xe?xe[1]:""),at){var Ve=ai();if(null!=Ve&&Ve>parseFloat(Ie)){Pt=String(Ve);break e}}Pt=Ie}var At=Nt.document&&at&&(ai()||parseInt(Pt,10))||void 0;function rn(r,e){if(Bt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(dn){e:{try{Wt(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Fn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&rn.$.h.call(this)}}Rt(rn,Bt);var Fn={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var gn="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function An(r,e,n,o,c){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=c,this.key=++Hn,this.fa=this.ia=!1}function Ci(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function xi(r,e,n){for(const o in r)e.call(n,r[o],o,r)}function zi(r){const e={};for(const n in r)e[n]=r[n];return e}const sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ci(r,e){let n,o;for(let c=1;c<arguments.length;c++){for(n in o=arguments[c],o)r[n]=o[n];for(let m=0;m<sn.length;m++)n=sn[m],Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}}function tn(r){this.src=r,this.g={},this.h=0}function kn(r,e){var n=e.type;if(n in r.g){var m,o=r.g[n],c=Mt(o,e);(m=0<=c)&&Array.prototype.splice.call(o,c,1),m&&(Ci(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function xn(r,e,n,o){for(var c=0;c<r.length;++c){var m=r[c];if(!m.fa&&m.listener==e&&m.capture==!!n&&m.la==o)return c}return-1}tn.prototype.add=function(r,e,n,o,c){var m=r.toString();(r=this.g[m])||(r=this.g[m]=[],this.h++);var b=xn(r,e,o,c);return-1<b?(e=r[b],n||(e.ia=!1)):((e=new An(e,this.src,m,!!o,c)).ia=n,r.push(e)),e};var zn="closure_lm_"+(1e6*Math.random()|0),Ri={};function Yi(r,e,n,o,c){if(o&&o.once)return J(r,e,n,o,c);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Yi(r,e[m],n,o,c);return null}return n=Me(n),r&&r[gn]?r.O(e,n,Mn(o)?!!o.capture:!!o,c):Dt(r,e,n,!1,o,c)}function Dt(r,e,n,o,c,m){if(!e)throw Error("Invalid event type");var b=Mn(c)?!!c.capture:!!c,$=nt(r);if($||(r[zn]=$=new tn(r)),(n=$.add(e,n,o,b,m)).proxy)return n;if(o=function ue(){const e=gt;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=o,o.src=r,o.listener=n,r.addEventListener)yn||(c=b),void 0===c&&(c=!1),r.addEventListener(e.toString(),o,c);else if(r.attachEvent)r.attachEvent(be(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return n}function J(r,e,n,o,c){if(Array.isArray(e)){for(var m=0;m<e.length;m++)J(r,e[m],n,o,c);return null}return n=Me(n),r&&r[gn]?r.P(e,n,Mn(o)?!!o.capture:!!o,c):Dt(r,e,n,!0,o,c)}function F(r,e,n,o,c){if(Array.isArray(e))for(var m=0;m<e.length;m++)F(r,e[m],n,o,c);else o=Mn(o)?!!o.capture:!!o,n=Me(n),r&&r[gn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=xn(m=r.g[e],n,o,c))&&(Ci(m[n]),Array.prototype.splice.call(m,n,1),0==m.length&&(delete r.g[e],r.h--))):r&&(r=nt(r))&&(e=r.g[e.toString()],r=-1,e&&(r=xn(e,n,o,c)),(n=-1<r?e[r]:null)&&G(n))}function G(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[gn])kn(e.i,r);else{var n=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(n,o,r.capture):e.detachEvent?e.detachEvent(be(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=nt(e))?(kn(n,r),0==n.h&&(n.src=null,e[zn]=null)):Ci(r)}}}function be(r){return r in Ri?Ri[r]:Ri[r]="on"+r}function gt(r,e){if(r.fa)r=!0;else{e=new rn(e,this);var n=r.listener,o=r.la||r.src;r.ia&&G(r),r=n.call(o,e)}return r}function nt(r){return(r=r[zn])instanceof tn?r:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(r){return"function"==typeof r?r:(r[ot]||(r[ot]=function(e){return r.handleEvent(e)}),r[ot])}function We(){Be.call(this),this.i=new tn(this),this.S=this,this.J=null}function st(r,e){var n,o=r.J;if(o)for(n=[];o;o=o.J)n.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new Bt(e,r);else if(e instanceof Bt)e.target=e.target||r;else{var c=e;ci(e=new Bt(o,r),c)}if(c=!0,n)for(var m=n.length-1;0<=m;m--){var b=e.g=n[m];c=Jt(b,o,!0,e)&&c}if(c=Jt(b=e.g=r,o,!0,e)&&c,c=Jt(b,o,!1,e)&&c,n)for(m=0;m<n.length;m++)c=Jt(b=e.g=n[m],o,!1,e)&&c}function Jt(r,e,n,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,m=0;m<e.length;++m){var b=e[m];if(b&&!b.fa&&b.capture==n){var $=b.listener,te=b.la||b.src;b.ia&&kn(r.i,b),c=!1!==$.call(te,o)&&c}}return c&&!o.defaultPrevented}Rt(We,Be),We.prototype[gn]=!0,We.prototype.removeEventListener=function(r,e,n,o){F(this,r,e,n,o)},We.prototype.N=function(){if(We.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],o=0;o<n.length;o++)Ci(n[o]);delete r.g[e],r.h--}}this.J=null},We.prototype.O=function(r,e,n,o){return this.i.add(String(r),e,!1,n,o)},We.prototype.P=function(r,e,n,o){return this.i.add(String(r),e,!0,n,o)};var Qe=Nt.JSON.stringify;function vt(){var r=ur;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var dt=new class et{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Gt,r=>r.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function an(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function Kn(r){Nt.setTimeout(()=>{throw r},0)}let bn,_i=!1,ur=new class tt{constructor(){this.h=this.g=null}add(e,n){const o=dt.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Ki=()=>{const r=Nt.Promise.resolve(void 0);bn=()=>{r.then(pr)}};var pr=()=>{for(var r;r=vt();){try{r.h.call(r.g)}catch(n){Kn(n)}var e=dt;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}_i=!1};function Hr(r,e){We.call(this),this.h=r||1,this.g=e||Nt,this.j=pt(this.qb,this),this.l=Date.now()}function qs(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function or(r,e,n){if("function"==typeof r)n&&(r=pt(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=pt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Nt.setTimeout(r,e||0)}function cr(r){r.g=or(()=>{r.g=null,r.i&&(r.i=!1,cr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Rt(Hr,We),(It=Hr.prototype).ga=!1,It.T=null,It.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),st(this,"tick"),this.ga&&(qs(this),this.start()))}},It.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.N=function(){Hr.$.N.call(this),qs(this),delete this.g};class ts extends Be{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(r){Be.call(this),this.h=r,this.g={}}Rt(jr,Be);var Mi=[];function Zr(r,e,n,o){Array.isArray(n)||(n&&(Mi[0]=n.toString()),n=Mi);for(var c=0;c<n.length;c++){var m=Yi(e,n[c],o||r.handleEvent,!1,r.h||r);if(!m)break;r.g[m.key]=m}}function Hs(r){xi(r.g,function(e,n){this.g.hasOwnProperty(n)&&G(e)},r),r.g={}}function Gs(){this.g=!0}function xr(r,e,n,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zr(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var o=n[r];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var m=c[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var b=1;b<c.length;b++)c[b]=""}}}return Qe(n)}catch{return e}}(r,n)+(o?" "+o:"")})}jr.prototype.N=function(){jr.$.N.call(this),Hs(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gs.prototype.Ea=function(){this.g=!1},Gs.prototype.info=function(){};var ir={},Po=null;function ao(){return Po=Po||new We}function lo(r){Bt.call(this,ir.Ta,r)}function Ss(r){const e=ao();st(e,new lo(e))}function $s(r,e){Bt.call(this,ir.STAT_EVENT,r),this.stat=e}function ys(r){const e=ao();st(e,new $s(e,r))}function Zo(r,e){Bt.call(this,ir.Ua,r),this.size=e}function br(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){r()},e)}ir.Ta="serverreachability",Rt(lo,Bt),ir.STAT_EVENT="statevent",Rt($s,Bt),ir.Ua="timingevent",Rt(Zo,Bt);var bo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},io={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zi(){}function Oi(){}Zi.prototype.h=null;var co,Tr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ar(){Bt.call(this,"d")}function Fs(){Bt.call(this,"c")}function As(){}function ki(r,e,n,o){this.l=r,this.j=e,this.m=n,this.W=o||1,this.U=new jr(this),this.P=di,this.V=new Hr(r=pn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}Rt(ar,Bt),Rt(Fs,Bt),Rt(As,Zi),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},co=new As;var di=45e3,Ar={},ns={};function is(r,e,n){r.L=1,r.v=gr(Es(e)),r.s=n,r.S=!0,bs(r,null)}function bs(r,e){r.G=Date.now(),Qi(r),r.A=Es(r.v);var n=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),ro(n.i,"t",o),r.C=0,n=r.l.J,r.h=new Hi,r.g=Ka(r.l,n?e:null,!r.s),0<r.O&&(r.M=new ts(pt(r.Pa,r,r.g),r.O)),Zr(r.U,r.g,"readystatechange",r.nb),e=r.I?zi(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ss(),function Is(r,e,n,o,c,m){r.info(function(){if(r.g)if(m)for(var b="",$=m.split("&"),te=0;te<$.length;te++){var pe=$[te].split("=");if(1<pe.length){var Re=pe[0];pe=pe[1];var it=Re.split("_");b=2<=it.length&&"type"==it[1]?b+(Re+"=")+pe+"&":b+(Re+"=redacted&")}}else b=null;else b=m;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+n+"\n"+b})}(r.j,r.u,r.A,r.m,r.W,r.s)}function So(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function qo(r,e,n){let c,o=!0;for(;!r.J&&r.C<n.length;){if(c=Ho(r,n),c==ns){4==e&&(r.o=4,ys(14),o=!1),xr(r.j,r.m,null,"[Incomplete Response]");break}if(c==Ar){r.o=4,ys(15),xr(r.j,r.m,n,"[Invalid Chunk]"),o=!1;break}xr(r.j,r.m,c,null),Qs(r,c)}So(r)&&c!=ns&&c!=Ar&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,ys(16),o=!1),r.i=r.i&&o,o?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sl(e),e.M=!0,ys(11))):(xr(r.j,r.m,n,"[Invalid Chunked Response]"),mr(r),Vi(r))}function Ho(r,e){var n=r.C,o=e.indexOf("\n",n);return-1==o?ns:(n=Number(e.substring(n,o)),isNaN(n)?Ar:(o+=1)+n>e.length?ns:(e=e.slice(o,o+n),r.C=o+n,e))}function Qi(r){r.Y=Date.now()+r.P,Yn(r,r.P)}function Yn(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=br(pt(r.lb,r),e)}function Ti(r){r.B&&(Nt.clearTimeout(r.B),r.B=null)}function Vi(r){0==r.l.H||r.J||Xo(r.l,r)}function mr(r){Ti(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,qs(r.V),Hs(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Qs(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||$r(n.i,r)))if(!r.K&&$r(n.i,r)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;ma(n),fo(n)}Ro(n),ys(18)}}else n.Fa=c[1],0<n.Fa-n.V&&37500>c[2]&&n.G&&0==n.A&&!n.v&&(n.v=br(pt(n.ib,n),6e3));if(1>=pa(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bs(n,11)}else if((r.K||n.g==r)&&ma(n),!Ut(e))for(c=n.Ja.g.parse(e),e=0;e<c.length;e++){let pe=c[e];if(n.V=pe[0],pe=pe[1],2==n.H)if("c"==pe[0]){n.K=pe[1],n.pa=pe[2];const Re=pe[3];null!=Re&&(n.ra=Re,n.l.info("VER="+n.ra));const it=pe[4];null!=it&&(n.Ga=it,n.l.info("SVER="+n.Ga));const jt=pe[5];null!=jt&&"number"==typeof jt&&0<jt&&(n.L=o=1.5*jt,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const hn=r.g;if(hn){const Xn=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var m=o.i;m.g||-1==Xn.indexOf("spdy")&&-1==Xn.indexOf("quic")&&-1==Xn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Ms(m,m.h),m.h=null))}if(o.F){const si=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;si&&(o.Da=si,Dr(o.I,o.F,si))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var b=r;if((o=n).wa=ea(o,o.J?o.pa:null,o.Y),b.K){ss(o.i,b);var $=b,te=o.L;te&&$.setTimeout(te),$.B&&(Ti($),Qi($)),o.g=b}else Va(o);0<n.j.length&&Jo(n)}else"stop"!=pe[0]&&"close"!=pe[0]||Bs(n,7);else 3==n.H&&("stop"==pe[0]||"close"==pe[0]?"stop"==pe[0]?Bs(n,7):wo(n):"noop"!=pe[0]&&n.h&&n.h.Aa(pe),n.A=0)}Ss()}catch{}}function Rr(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Cn(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function Ta(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Cn(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const o in r)e[n++]=o;return e}}}(r),o=function qr(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Cn(r)){for(var e=[],n=r.length,o=0;o<n;o++)e.push(r[o]);return e}for(o in e=[],n=0,r)e[n++]=r[o];return e}(r),c=o.length,m=0;m<c;m++)e.call(void 0,o[m],n&&n[m],r)}(It=ki.prototype).setTimeout=function(r){this.P=r},It.nb=function(r){r=r.target;const e=this.M;e&&3==os(r)?e.l():this.Pa(r)},It.Pa=function(r){try{if(r==this.g)e:{const Re=os(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Re)&&(3!=Re||pn||this.g&&(this.h.h||this.g.ja()||Yr(this.g)))){this.J||4!=Re||7==e||Ss(),Ti(this);var n=this.g.da();this.ca=n;t:if(So(this)){var o=Yr(this.g);r="";var c=o.length,m=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mr(this),Vi(this);var b="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:m&&e==c-1});o.splice(0,c),this.h.g+=r,this.C=0,b=this.h.g}else b=this.g.ja();if(this.i=200==n,function no(r,e,n,o,c,m,b){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+n+"\n"+m+" "+b})}(this.j,this.u,this.A,this.m,this.W,Re,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var $,te=this.g;if(($=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ut($)){var pe=$;break t}}pe=null}if(!(n=pe)){this.i=!1,this.o=3,ys(12),mr(this),Vi(this);break e}xr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,n)}this.S?(qo(this,Re,b),pn&&this.i&&3==Re&&(Zr(this.U,this.V,"tick",this.mb),this.V.start())):(xr(this.j,this.m,b,null),Qs(this,b)),4==Re&&mr(this),this.i&&!this.J&&(4==Re?Xo(this.l,this):(this.i=!1,Qi(this)))}else(function Ds(r){const e={};r=(r.g&&2<=os(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Ut(r[o]))continue;var n=an(r[o]);const c=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const m=e[c]||[];e[c]=m,m.push(n)}!function Li(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<b.indexOf("Unknown SID")?(this.o=3,ys(12)):(this.o=0,ys(13)),mr(this),Vi(this)}}}catch{}},It.mb=function(){if(this.g){var r=os(this.g),e=this.g.ja();this.C<e.length&&(Ti(this),qo(this,r,e),this.i&&4!=r&&Qi(this))}},It.cancel=function(){this.J=!0,mr(this)},It.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function us(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ss(),ys(17)),mr(this),this.o=2,Vi(this)):Yn(this,this.Y-r)};var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vn(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Vn){this.h=r.h,Rs(this,r.j),this.s=r.s,this.g=r.g,Ao(this,r.m),this.l=r.l;var e=r.i,n=new No;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ji(this,n),this.o=r.o}else r&&(e=String(r).match(js))?(this.h=!1,Rs(this,e[1]||"",!0),this.s=Eo(e[2]||""),this.g=Eo(e[3]||"",!0),Ao(this,e[4]),this.l=Eo(e[5]||"",!0),Ji(this,e[6]||"",!0),this.o=Eo(e[7]||"")):(this.h=!1,this.i=new No(null,this.h))}function Es(r){return new Vn(r)}function Rs(r,e,n){r.j=n?Eo(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ao(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ji(r,e,n){e instanceof No?(r.i=e,function oa(r,e){e&&!r.j&&(Lr(r),r.i=null,r.g.forEach(function(n,o){var c=o.toLowerCase();o!=c&&(zo(this,o),ro(this,c,n))},r)),r.j=e}(r.i,r.h)):(n||(e=Qr(e,jo)),r.i=new No(e,r.h))}function Dr(r,e,n){r.i.set(e,n)}function gr(r){return Dr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Eo(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Qr(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,ul),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ul(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Vn.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Qr(e,Ls,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Qr(e,Ls,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(Qr(n,"/"==n.charAt(0)?ho:uo,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",Qr(n,yi)),r.join("")};var Ls=/[#\/\?@]/g,uo=/[#\?:]/g,ho=/[#\?]/g,jo=/[#\?@]/g,yi=/#/g;function No(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Lr(r){r.g||(r.g=new Map,r.h=0,r.i&&function hs(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var o=r[n].indexOf("="),c=null;if(0<=o){var m=r[n].substring(0,o);c=r[n].substring(o+1)}else m=r[n];e(m,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function zo(r,e){Lr(r),e=fs(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Gr(r,e){return Lr(r),e=fs(r,e),r.g.has(e)}function ro(r,e,n){zo(r,e),0<n.length&&(r.i=null,r.g.set(fs(r,e),Ze(n)),r.h+=n.length)}function fs(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function fa(r){this.l=r||rs,r=Nt.PerformanceNavigationTiming?0<(r=Nt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ka&&Nt.g.Ka()&&Nt.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=No.prototype).add=function(r,e){Lr(this),this.i=null,r=fs(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},It.forEach=function(r,e){Lr(this),this.g.forEach(function(n,o){n.forEach(function(c){r.call(e,c,o,this)},this)},this)},It.ta=function(){Lr(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const c=r[o];for(let m=0;m<c.length;m++)n.push(e[o])}return n},It.Z=function(r){Lr(this);let e=[];if("string"==typeof r)Gr(this,r)&&(e=e.concat(this.g.get(fs(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},It.set=function(r,e){return Lr(this),this.i=null,Gr(this,r=fs(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},It.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const m=encodeURIComponent(String(o)),b=this.Z(o);for(o=0;o<b.length;o++){var c=m;""!==b[o]&&(c+="="+encodeURIComponent(String(b[o]))),r.push(c)}}return this.i=r.join("&")};var rs=10;function Ir(r){return!!r.h||!!r.g&&r.g.size>=r.j}function pa(r){return r.h?1:r.g?r.g.size:0}function $r(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ms(r,e){r.g?r.g.add(e):r.h=e}function ss(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ni(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return Ze(r.i)}fa.prototype.cancel=function(){if(this.i=Ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Vs=class{stringify(r){return Nt.JSON.stringify(r,void 0)}parse(r){return Nt.JSON.parse(r,void 0)}};function Qo(){this.g=new Vs}function Wa(r,e,n){const o=n||"";try{Rr(r,function(c,m){let b=c;Mn(c)&&(b=Qe(c)),e.push(o+m+"="+encodeURIComponent(b))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function fe(r,e,n,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch{}}function M(r){this.l=r.ec||null,this.j=r.ob||!1}function D(r,e){We.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=q,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(M,Zi),M.prototype.g=function(){return new D(this.l,this.j)},M.prototype.i=function(r){return function(){return r}}({}),Rt(D,We);var q=0;function de(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ct(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Zt(r)}function Zt(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(It=D.prototype).open=function(r,e){if(this.readyState!=q)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Zt(this)},It.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ct(this)),this.readyState=q},It.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Zt(this)),this.g&&(this.readyState=3,Zt(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Nt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;de(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},It.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ct(this):Zt(this),3==this.readyState&&de(this)}},It.Za=function(r){this.g&&(this.response=this.responseText=r,ct(this))},It.Ya=function(r){this.g&&(this.response=r,ct(this))},It.ka=function(){this.g&&ct(this)},It.setRequestHeader=function(r,e){this.v.append(r,e)},It.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(D.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Tn=Nt.JSON.parse;function Wn(r){We.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qn,this.L=this.M=!1}Rt(Wn,We);var qn="",Gi=/^https?$/i,rr=["POST","PUT"];function Sr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Wr(r),mo(r)}function Wr(r){r.F||(r.F=!0,st(r,"complete"),st(r,"error"))}function Cs(r){if(r.h&&typeof Ht<"u"&&(!r.C[1]||4!=os(r)||2!=r.da()))if(r.v&&4==os(r))or(r.La,0,r);else if(st(r,"readystatechange"),4==os(r)){r.h=!1;try{const b=r.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var c=String(r.I).match(js)[1]||null;!c&&Nt.self&&Nt.self.location&&(c=Nt.self.location.protocol.slice(0,-1)),o=!Gi.test(c?c.toLowerCase():"")}n=o}if(n)st(r,"complete"),st(r,"success");else{r.m=6;try{var m=2<os(r)?r.g.statusText:""}catch{m=""}r.j=m+" ["+r.da()+"]",Wr(r)}}finally{mo(r)}}}function mo(r,e){if(r.g){ms(r);const n=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||st(r,"ready");try{n.onreadystatechange=o}catch{}}}function ms(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Nt.clearTimeout(r.A),r.A=null)}function os(r){return r.g?r.g.readyState:0}function Yr(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case qn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function go(r){let e="";return xi(r,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Jr(r,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=go(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Dr(r,e,n))}function so(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function ps(r){this.Ga=0,this.j=[],this.l=new Gs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=so("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=so("baseRetryDelayMs",5e3,r),this.hb=so("retryDelaySeedMs",1e4,r),this.eb=so("forwardChannelMaxRetries",2,r),this.xa=so("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new fa(r&&r.concurrentRequestLimit),this.Ja=new Qo,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function wo(r){if(aa(r),3==r.H){var e=r.W++,n=Es(r.I);if(Dr(n,"SID",r.K),Dr(n,"RID",e),Dr(n,"TYPE","terminate"),Ya(r,n),(e=new ki(r,r.l,e)).L=2,e.v=gr(Es(n)),n=!1,Nt.navigator&&Nt.navigator.sendBeacon)try{n=Nt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Nt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ka(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qi(e)}Aa(r)}function fo(r){r.g&&(sl(r),r.g.cancel(),r.g=null)}function aa(r){fo(r),r.u&&(Nt.clearTimeout(r.u),r.u=null),ma(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Nt.clearTimeout(r.m),r.m=null)}function Jo(r){if(!Ir(r.i)&&!r.m){r.m=!0;var e=r.Na;bn||Ki(),_i||(bn(),_i=!0),ur.add(e,r),r.C=0}}function hl(r,e){var n;n=e?e.m:r.W++;const o=Es(r.I);Dr(o,"SID",r.K),Dr(o,"RID",n),Dr(o,"AID",r.V),Ya(r,o),r.o&&r.s&&Jr(o,r.o,r.s),n=new ki(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=la(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ms(r.i,n),is(n,o,e)}function Ya(r,e){r.na&&xi(r.na,function(n,o){Dr(e,o,n)}),r.h&&Rr({},function(n,o){Dr(e,o,n)})}function la(r,e,n){n=Math.min(r.j.length,n);var o=r.h?pt(r.h.Va,r.h,r):null;e:{var c=r.j;let m=-1;for(;;){const b=["count="+n];-1==m?0<n?(m=c[0].g,b.push("ofs="+m)):m=0:b.push("ofs="+m);let $=!0;for(let te=0;te<n;te++){let pe=c[te].g;const Re=c[te].map;if(pe-=m,0>pe)m=Math.max(0,c[te].g-100),$=!1;else try{Wa(Re,b,"req"+pe+"_")}catch{o&&o(Re)}}if($){o=b.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,o}function Va(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;bn||Ki(),_i||(bn(),_i=!0),ur.add(e,r),r.A=0}}function Ro(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=br(pt(r.Ma,r),Sa(r,r.A)),r.A++,0))}function sl(r){null!=r.B&&(Nt.clearTimeout(r.B),r.B=null)}function Ia(r){r.g=new ki(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Es(r.wa);Dr(e,"RID","rpc"),Dr(e,"SID",r.K),Dr(e,"AID",r.V),Dr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Dr(e,"TO",r.qa),Dr(e,"TYPE","xmlhttp"),Ya(r,e),r.o&&r.s&&Jr(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=gr(Es(e)),n.s=null,n.S=!0,bs(n,r)}function ma(r){null!=r.v&&(Nt.clearTimeout(r.v),r.v=null)}function Xo(r,e){var n=null;if(r.g==e){ma(r),sl(r),r.g=null;var o=2}else{if(!$r(r.i,e))return;n=e.F,ss(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var c=r.C;st(o=ao(),new Zo(o,n)),Jo(r)}else Va(r);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==o&&function rl(r,e){return!(pa(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=br(pt(r.Na,r,e),Sa(r,r.C)),r.C++,0)))}(r,e)||2==o&&Ro(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),c){case 1:Bs(r,5);break;case 4:Bs(r,10);break;case 3:Bs(r,6);break;default:Bs(r,2)}}function Sa(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function Bs(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var o=pt(r.pb,r);n||(n=new Vn("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Rs(n,"https"),gr(n)),function Mr(r,e){const n=new Gs;if(Nt.Image){const o=new Image;o.onload=bt(fe,n,o,"TestLoadImage: loaded",!0,e),o.onerror=bt(fe,n,o,"TestLoadImage: error",!1,e),o.onabort=bt(fe,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=bt(fe,n,o,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(n.toString(),o)}else ys(2);r.H=0,r.h&&r.h.za(e),Aa(r),aa(r)}function Aa(r){if(r.H=0,r.ma=[],r.h){const e=Ni(r.i);(0!=e.length||0!=r.j.length)&&(St(r.ma,e),St(r.ma,r.j),r.i.i.length=0,Ze(r.j),r.j.length=0),r.h.ya()}}function ea(r,e,n){var o=n instanceof Vn?Es(n):new Vn(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Ao(o,o.m);else{var c=Nt.location;o=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var m=new Vn(null);o&&Rs(m,o),e&&(m.g=e),c&&Ao(m,c),n&&(m.l=n),o=m}return e=r.Da,(n=r.F)&&e&&Dr(o,n,e),Dr(o,"VER",r.ra),Ya(r,o),o}function Ka(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wn(n&&r.Ha&&!r.va?new M({ob:!0}):r.va)).Oa(r.J),e}function Vl(){}function Za(){if(at&&!(10<=Number(At)))throw Error("Environmental error: no available transport.")}function po(r,e){We.call(this),this.g=new ps(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Ut(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ut(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Co(this)}function ol(r){ar.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function qa(){Fs.call(this),this.status=1}function Co(r){this.g=r}function Ws(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ta(r,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)o[c]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(c=0;16>c;++c)o[c]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var m=r.g[3],b=(e=r.g[0])+(m^(n=r.g[1])&((c=r.g[2])^m))+o[0]+3614090360&4294967295;b=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=(n=(c=(m=(e=n+(b<<7&4294967295|b>>>25))+((b=m+(c^e&(n^c))+o[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=c+(n^m&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^c&(m^e))+o[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^n&(c^m))+o[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=m+(c^e&(n^c))+o[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=c+(n^m&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^c&(m^e))+o[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^n&(c^m))+o[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=m+(c^e&(n^c))+o[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=c+(n^m&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^c&(m^e))+o[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^n&(c^m))+o[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=m+(c^e&(n^c))+o[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=c+(n^m&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^c&(m^e))+o[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=e+(c^m&(n^c))+o[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^c&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=c+(e^n&(m^e))+o[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(c^m))+o[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=e+(c^m&(n^c))+o[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^c&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=c+(e^n&(m^e))+o[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(c^m))+o[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=e+(c^m&(n^c))+o[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^c&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=c+(e^n&(m^e))+o[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(c^m))+o[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=e+(c^m&(n^c))+o[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^c&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=c+(e^n&(m^e))+o[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(c^m))+o[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=e+(n^c^m)+o[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^c)+o[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=c+(m^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=n+(c^m^e)+o[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^c^m)+o[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^c)+o[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=c+(m^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=n+(c^m^e)+o[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^c^m)+o[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^c)+o[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=c+(m^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=n+(c^m^e)+o[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^c^m)+o[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^c)+o[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=c+(m^e^n)+o[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=n+(c^m^e)+o[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=e+(c^(n|~m))+o[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~c))+o[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=c+(e^(m|~n))+o[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=n+(m^(c|~e))+o[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=e+(c^(n|~m))+o[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~c))+o[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=c+(e^(m|~n))+o[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=n+(m^(c|~e))+o[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=e+(c^(n|~m))+o[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~c))+o[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=c+(e^(m|~n))+o[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=n+(m^(c|~e))+o[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((m=(e=n+((b=e+(c^(n|~m))+o[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~c))+o[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((c=m+((b=c+(e^(m|~n))+o[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(c+(b<<21&4294967295|b>>>11))&4294967295,r.g[2]=r.g[2]+c&4294967295,r.g[3]=r.g[3]+m&4294967295}function j(r,e){this.h=e;for(var n=[],o=!0,c=r.length-1;0<=c;c--){var m=0|r[c];o&&m==e||(n[c]=m,o=!1)}this.g=n}(It=Wn.prototype).Oa=function(r){this.M=r},It.ha=function(r,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():co.g(),this.C=function Ui(r){return r.h||(r.h=r.i())}(this.u?this.u:co),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(m){return void Sr(this,m)}if(r=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var c in o)n.set(c,o[c]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())n.set(m,o.get(m))}o=Array.from(n.keys()).find(m=>"content-type"==m.toLowerCase()),c=Nt.FormData&&r instanceof Nt.FormData,!(0<=Mt(rr,e))||o||c||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,b]of n)this.g.setRequestHeader(m,b);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ms(this),0<this.B&&((this.L=function ws(r){return at&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=or(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(m){Sr(this,m)}},It.ua=function(){typeof Ht<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,st(this,"timeout"),this.abort(8))},It.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,st(this,"complete"),st(this,"abort"),mo(this))},It.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mo(this,!0)),Wn.$.N.call(this)},It.La=function(){this.s||(this.G||this.v||this.l?Cs(this):this.kb())},It.kb=function(){Cs(this)},It.isActive=function(){return!!this.g},It.da=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},It.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Tn(e)}},It.Ia=function(){return this.m},It.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=ps.prototype).ra=8,It.H=1,It.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const c=new ki(this,this.l,r);let m=this.s;if(this.U&&(m?(m=zi(m),ci(m,this.U)):m=this.U),null!==this.o||this.O||(c.I=m,m=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=la(this,c,e),Dr(n=Es(this.I),"RID",r),Dr(n,"CVER",22),this.F&&Dr(n,"X-HTTP-Session-Id",this.F),Ya(this,n),m&&(this.O?e="headers="+encodeURIComponent(String(go(m)))+"&"+e:this.o&&Jr(n,this.o,m)),Ms(this.i,c),this.bb&&Dr(n,"TYPE","init"),this.P?(Dr(n,"$req",e),Dr(n,"SID","null"),c.aa=!0,is(c,n,null)):is(c,n,e),this.H=2}}else 3==this.H&&(r?hl(this,r):0==this.j.length||Ir(this.i)||hl(this))},It.Ma=function(){if(this.u=null,Ia(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=br(pt(this.jb,this),r)}},It.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ys(10),fo(this),Ia(this))},It.ib=function(){null!=this.v&&(this.v=null,fo(this),Ro(this),ys(19))},It.pb=function(r){r?(this.l.info("Successfully pinged google.com"),ys(2)):(this.l.info("Failed to ping google.com"),ys(1))},It.isActive=function(){return!!this.h&&this.h.isActive(this)},(It=Vl.prototype).Ba=function(){},It.Aa=function(){},It.za=function(){},It.ya=function(){},It.isActive=function(){return!0},It.Va=function(){},Za.prototype.g=function(r,e){return new po(r,e)},Rt(po,We),po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;ys(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=ea(r,null,r.Y),Jo(r)},po.prototype.close=function(){wo(this.g)},po.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=Qe(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Jo(e)},po.prototype.N=function(){this.g.h=null,delete this.j,wo(this.g),delete this.g,po.$.N.call(this)},Rt(ol,ar),Rt(qa,Fs),Rt(Co,Vl),Co.prototype.Ba=function(){st(this.g,"a")},Co.prototype.Aa=function(r){st(this.g,new ol(r))},Co.prototype.za=function(r){st(this.g,new qa)},Co.prototype.ya=function(){st(this.g,"b")},Rt(Ws,function El(){this.blockSize=-1}),Ws.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ws.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,o=this.m,c=this.h,m=0;m<e;){if(0==c)for(;m<=n;)ta(this,r,m),m+=this.blockSize;if("string"==typeof r){for(;m<e;)if(o[c++]=r.charCodeAt(m++),c==this.blockSize){ta(this,o),c=0;break}}else for(;m<e;)if(o[c++]=r[m++],c==this.blockSize){ta(this,o),c=0;break}}this.h=c,this.i+=e},Ws.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)r[n++]=this.g[e]>>>o&255;return r};var De={};function ie(r){return-128<=r&&128>r?function _e(r,e){var n=De;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new j([0|e],0>e?-1:0)}):new j([0|r],0>r?-1:0)}function me(r){if(isNaN(r)||!isFinite(r))return In;if(0>r)return pi(me(-r));for(var e=[],n=1,o=0;r>=n;o++)e[o]=r/n|0,n*=cn;return new j(e,0)}var cn=4294967296,In=ie(0),hi=ie(1),dr=ie(16777216);function _r(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Bi(r){return-1==r.h}function pi(r){for(var e=r.g.length,n=[],o=0;o<e;o++)n[o]=~r.g[o];return new j(n,~r.h).add(hi)}function Or(r,e){return r.add(pi(e))}function Er(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function se(r,e){this.g=r,this.h=e}function xt(r,e){if(_r(e))throw Error("division by zero");if(_r(r))return new se(In,In);if(Bi(r))return e=xt(pi(r),e),new se(pi(e.g),pi(e.h));if(Bi(e))return e=xt(r,pi(e)),new se(pi(e.g),e.h);if(30<r.g.length){if(Bi(r)||Bi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hi,o=e;0>=o.X(r);)n=T(n),o=T(o);var c=Z(n,1),m=Z(o,1);for(o=Z(o,2),n=Z(n,2);!_r(o);){var b=m.add(o);0>=b.X(r)&&(c=c.add(n),m=b),o=Z(o,1),n=Z(n,1)}return e=Or(r,c.R(e)),new se(c,e)}for(c=In;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),b=(m=me(n)).R(e);Bi(b)||0<b.X(r);)b=(m=me(n-=o)).R(e);_r(m)&&(m=hi),c=c.add(m),r=Or(r,b)}return new se(c,r)}function T(r){for(var e=r.g.length+1,n=[],o=0;o<e;o++)n[o]=r.D(o)<<1|r.D(o-1)>>>31;return new j(n,r.h)}function Z(r,e){var n=e>>5;e%=32;for(var o=r.g.length-n,c=[],m=0;m<o;m++)c[m]=0<e?r.D(m+n)>>>e|r.D(m+n+1)<<32-e:r.D(m+n);return new j(c,r.h)}(It=j.prototype).ea=function(){if(Bi(this))return-pi(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);r+=(0<=o?o:cn+o)*e,e*=cn}return r},It.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(_r(this))return"0";if(Bi(this))return"-"+pi(this).toString(r);for(var e=me(Math.pow(r,6)),n=this,o="";;){var c=xt(n,e).g,m=((0<(n=Or(n,c.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if(_r(n=c))return m+o;for(;6>m.length;)m="0"+m;o=m+o}},It.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},It.X=function(r){return Bi(r=Or(this,r))?-1:_r(r)?0:1},It.abs=function(){return Bi(this)?pi(this):this},It.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0,c=0;c<=e;c++){var m=o+(65535&this.D(c))+(65535&r.D(c)),b=(m>>>16)+(this.D(c)>>>16)+(r.D(c)>>>16);o=b>>>16,n[c]=(b&=65535)<<16|(m&=65535)}return new j(n,-2147483648&n[n.length-1]?-1:0)},It.R=function(r){if(_r(this)||_r(r))return In;if(Bi(this))return Bi(r)?pi(this).R(pi(r)):pi(pi(this).R(r));if(Bi(r))return pi(this.R(pi(r)));if(0>this.X(dr)&&0>r.X(dr))return me(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var c=0;c<r.g.length;c++){var m=this.D(o)>>>16,b=65535&this.D(o),$=r.D(c)>>>16,te=65535&r.D(c);n[2*o+2*c]+=b*te,Er(n,2*o+2*c),n[2*o+2*c+1]+=m*te,Er(n,2*o+2*c+1),n[2*o+2*c+1]+=b*$,Er(n,2*o+2*c+1),n[2*o+2*c+2]+=m*$,Er(n,2*o+2*c+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new j(n,0)},It.gb=function(r){return xt(this,r).h},It.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&r.D(o);return new j(n,this.h&r.h)},It.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|r.D(o);return new j(n,this.h|r.h)},It.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^r.D(o);return new j(n,this.h^r.h)},Za.prototype.createWebChannel=Za.prototype.g,po.prototype.send=po.prototype.u,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,bo.NO_ERROR=0,bo.TIMEOUT=8,bo.HTTP_ERROR=6,io.COMPLETE="complete",Oi.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",We.prototype.listen=We.prototype.O,Wn.prototype.listenOnce=Wn.prototype.P,Wn.prototype.getLastError=Wn.prototype.Sa,Wn.prototype.getLastErrorCode=Wn.prototype.Ia,Wn.prototype.getStatus=Wn.prototype.da,Wn.prototype.getResponseJson=Wn.prototype.Wa,Wn.prototype.getResponseText=Wn.prototype.ja,Wn.prototype.send=Wn.prototype.ha,Wn.prototype.setWithCredentials=Wn.prototype.Oa,Ws.prototype.digest=Ws.prototype.l,Ws.prototype.reset=Ws.prototype.reset,Ws.prototype.update=Ws.prototype.j,j.prototype.add=j.prototype.add,j.prototype.multiply=j.prototype.R,j.prototype.modulo=j.prototype.gb,j.prototype.compare=j.prototype.X,j.prototype.toNumber=j.prototype.ea,j.prototype.toString=j.prototype.toString,j.prototype.getBits=j.prototype.D,j.fromNumber=me,j.fromString=function _t(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return pi(_t(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=me(Math.pow(e,8)),o=In,c=0;c<r.length;c+=8){var m=Math.min(8,r.length-c),b=parseInt(r.substring(c,c+m),e);8>m?(m=me(Math.pow(e,m)),o=o.R(m).add(me(b))):o=(o=o.R(n)).add(me(b))}return o};var le=Ee.createWebChannelTransport=function(){return new Za},Ae=Ee.getStatEventTarget=function(){return ao()},Tt=Ee.ErrorCode=bo,fn=Ee.EventType=io,Di=Ee.Event=ir,bi=Ee.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wr=Ee.FetchXmlHttpFactory=M,as=Ee.WebChannel=Oi,kr=Ee.XhrIo=Wn,fl=Ee.Md5=Ws,wl=Ee.Integer=j;const ga="@firebase/firestore";class $i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let Go="10.5.2";const Ba=new W.Yd("@firebase/firestore");function ca(){return Ba.logLevel}function Bn(r,...e){if(Ba.logLevel<=W.in.DEBUG){const n=e.map(ql);Ba.debug(`Firestore (${Go}): ${r}`,...n)}}function Mo(r,...e){if(Ba.logLevel<=W.in.ERROR){const n=e.map(ql);Ba.error(`Firestore (${Go}): ${r}`,...n)}}function _a(r,...e){if(Ba.logLevel<=W.in.WARN){const n=e.map(ql);Ba.warn(`Firestore (${Go}): ${r}`,...n)}}function ql(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function ui(r="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+r;throw Mo(e),new Error(e)}function re(r,e){r||ui()}function x(r,e){return r}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Pe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Se{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class wt{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($i.UNAUTHENTICATED))}shutdown(){}}class on{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dn{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let c=this.i;const m=pe=>this.i!==c?(c=this.i,n(pe)):Promise.resolve();let b=new Se;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Se,e.enqueueRetryable(()=>m(this.currentUser))};const $=()=>{const pe=b;e.enqueueRetryable((0,Ke.Z)(function*(){yield pe.promise,yield m(o.currentUser)}))},te=pe=>{Bn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=pe,this.auth.addAuthTokenListener(this.o),$()};this.t.onInit(pe=>te(pe)),setTimeout(()=>{if(!this.auth){const pe=this.t.getImmediate({optional:!0});pe?te(pe):(Bn("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Se)}},0),$()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Bn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(re("string"==typeof o.accessToken),new wt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return re(null===e||"string"==typeof e),new $i(e)}}class li{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mi{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new li(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=m=>{null!=m.error&&Bn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.R;return this.R=m.token,Bn("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?n(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const c=m=>{Bn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>c(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?c(m):Bn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(re("string"==typeof n.token),this.R=n.token,new Cr(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nn(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<r;o++)n[o]=Math.floor(256*Math.random());return n}class Ys{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=Nn(40);for(let m=0;m<c.length;++m)o.length<20&&c[m]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[m]%62))}return o}}function vi(r,e){return r<e?-1:r>e?1:0}function er(r,e,n){return r.length===e.length&&r.every((o,c)=>n(o,e[c]))}function Vr(r){return r+"\0"}class Si{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Si(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vi(this.nanoseconds,e.nanoseconds):vi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ii{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ii(e)}static min(){return new ii(new Si(0,0))}static max(){return new ii(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fo{constructor(e,n,o){void 0===n?n=0:n>e.length&&ui(),void 0===o?o=e.length-n:o>e.length-n&&ui(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Fo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let c=0;c<o;c++){const m=e.get(c),b=n.get(c);if(m<b)return-1;if(m>b)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wi extends Fo{construct(e,n,o){return new Wi(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(c=>c.length>0))}return new Wi(n)}static emptyPath(){return new Wi([])}}const Qa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends Fo{construct(e,n,o){return new Xr(e,n,o)}static isValidIdentifier(e){return Qa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xr(["__name__"])}static fromServerFormat(e){const n=[];let o="",c=0;const m=()=>{if(0===o.length)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let b=!1;for(;c<e.length;){const $=e[c];if("\\"===$){if(c+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const te=e[c+1];if("\\"!==te&&"."!==te&&"`"!==te)throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=te,c+=2}else"`"===$?(b=!b,c++):"."!==$||b?(o+=$,c++):(m(),c++)}if(m(),b)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(n)}static emptyPath(){return new Xr([])}}class Gn{constructor(e){this.path=e}static fromPath(e){return new Gn(Wi.fromString(e))}static fromName(e){return new Gn(Wi.fromString(e).popFirst(5))}static empty(){return new Gn(Wi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Wi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gn(new Wi(e.slice()))}}class Js{constructor(e,n,o,c){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=c}}function U(r){return r.fields.find(e=>2===e.kind)}function Q(r){return r.fields.filter(e=>2!==e.kind)}Js.UNKNOWN_ID=-1;class K{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ce{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ce(0,qt.min())}}function Je(r,e){const n=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,c=ii.fromTimestamp(1e9===o?new Si(n+1,0):new Si(n,o));return new qt(c,Gn.empty(),e)}function Yt(r){return new qt(r.readTime,r.key,-1)}class qt{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new qt(ii.min(),Gn.empty(),-1)}static max(){return new qt(ii.max(),Gn.empty(),-1)}}function ei(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=Gn.comparator(r.documentKey,e.documentKey),0!==n?n:vi(r.largestBatchId,e.largestBatchId))}const Ai="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ei(r){return na.apply(this,arguments)}function na(){return na=(0,Ke.Z)(function*(r){if(r.code!==B.FAILED_PRECONDITION||r.message!==Ai)throw r;Bn("LocalStore","Unexpectedly lost primary lease")}),na.apply(this,arguments)}class Xt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ui(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Xt((o,c)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,c)},this.catchCallback=m=>{this.wrapFailure(n,m).next(o,c)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Xt?n:Xt.resolve(n)}catch(n){return Xt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Xt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Xt.reject(n)}static resolve(e){return new Xt((n,o)=>{n(e)})}static reject(e){return new Xt((n,o)=>{o(e)})}static waitFor(e){return new Xt((n,o)=>{let c=0,m=0,b=!1;e.forEach($=>{++c,$.next(()=>{++m,b&&m===c&&n()},te=>o(te))}),b=!0,m===c&&n()})}static or(e){let n=Xt.resolve(!1);for(const o of e)n=n.next(c=>c?Xt.resolve(c):o());return n}static forEach(e,n){const o=[];return e.forEach((c,m)=>{o.push(n.call(this,c,m))}),this.waitFor(o)}static mapArray(e,n){return new Xt((o,c)=>{const m=e.length,b=new Array(m);let $=0;for(let te=0;te<m;te++){const pe=te;n(e[pe]).next(Re=>{b[pe]=Re,++$,$===m&&o(b)},Re=>c(Re))}})}static doWhile(e,n){return new Xt((o,c)=>{const m=()=>{!0===e()?n().next(()=>{m()},c):o()};m()})}}class Ks{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Se,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ua(e,n.error)):this.V.resolve()},this.transaction.onerror=o=>{const c=Ql(o.target.error);this.V.reject(new Ua(e,c))}}static open(e,n,o,c){try{return new Ks(n,e.transaction(c,o))}catch(m){throw new Ua(n,m)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Bn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Cl(n)}}class Xs{constructor(e,n,o){this.name=e,this.version=n,this.p=o,12.2===Xs.S((0,Pe.z$)())&&Mo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Bn("SimpleDb","Removing database:",e),Dl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Pe.hl)())return!1;if(Xs.C())return!0;const e=(0,Pe.z$)(),n=Xs.S(e),o=0<n&&n<10,c=Xs.v(e),m=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static v(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}O(e){var n=this;return(0,Ke.Z)(function*(){return n.db||(Bn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,c)=>{const m=indexedDB.open(n.name,n.version);m.onsuccess=b=>{o(b.target.result)},m.onblocked=()=>{c(new Ua(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const $=b.target.error;c("VersionError"===$.name?new X(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===$.name?new X(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+$):new Ua(e,$))},m.onupgradeneeded=b=>{Bn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',b.oldVersion),n.p.N(b.target.result,m.transaction,b.oldVersion,n.version).next(()=>{Bn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,c){var m=this;return(0,Ke.Z)(function*(){const b="readonly"===n;let $=0;for(;;){++$;try{m.db=yield m.O(e);const te=Ks.open(m.db,e,b?"readonly":"readwrite",o),pe=c(te).next(Re=>(te.g(),Re)).catch(Re=>(te.abort(Re),Xt.reject(Re))).toPromise();return pe.catch(()=>{}),yield te.m,pe}catch(te){const pe=te,Re="FirebaseError"!==pe.name&&$<3;if(Bn("SimpleDb","Transaction failed with error:",pe.message,"Retrying:",Re),m.close(),!Re)return Promise.reject(pe)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _o{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Dl(this.k.delete())}}class Ua extends X{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ha(r){return"IndexedDbTransactionError"===r.name}class Cl{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Bn("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Bn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Dl(o)}add(e){return Bn("SimpleDb","ADD",this.store.name,e,e),Dl(this.store.add(e))}get(e){return Dl(this.store.get(e)).next(n=>(void 0===n&&(n=null),Bn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Bn("SimpleDb","DELETE",this.store.name,e),Dl(this.store.delete(e))}count(){return Bn("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),m=[];return this.G(c,(b,$)=>{m.push($)}).next(()=>m)}{const c=this.store.getAll(o.range);return new Xt((m,b)=>{c.onerror=$=>{b($.target.error)},c.onsuccess=$=>{m($.target.result)}})}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new Xt((c,m)=>{o.onerror=b=>{m(b.target.error)},o.onsuccess=b=>{c(b.target.result)}})}H(e,n){Bn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.J=!1;const c=this.cursor(o);return this.G(c,(m,b,$)=>$.delete())}Y(e,n){let o;n?o=e:(o={},n=e);const c=this.cursor(o);return this.G(c,n)}Z(e){const n=this.cursor({});return new Xt((o,c)=>{n.onerror=m=>{const b=Ql(m.target.error);c(b)},n.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next($=>{$?b.continue():o()}):o()}})}G(e,n){const o=[];return new Xt((c,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const $=b.target.result;if(!$)return void c();const te=new _o($),pe=n($.primaryKey,$.value,te);if(pe instanceof Xt){const Re=pe.catch(it=>(te.done(),Xt.reject(it)));o.push(Re)}te.isDone?c():null===te.$?$.continue():$.continue(te.$)}}).next(()=>Xt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.J?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Dl(r){return new Xt((e,n)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const c=Ql(o.target.error);n(c)}})}let va=!1;function Ql(r){const e=Xs.S((0,Pe.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const o=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return va||(va=!0,setTimeout(()=>{throw o},0)),o}}return r}class Oo{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Bn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ke.Z)(function*(){n.task=null;try{Bn("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(o){Ha(o)?Bn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ei(o)}yield n.ee(6e4)}))}}class Bc{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Ke.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.ne(o,e))})()}ne(e,n){const o=new Set;let c=n,m=!0;return Xt.doWhile(()=>!0===m&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return Bn("IndexBackiller",`Processing collection: ${b}`),this.re(e,b,c).next($=>{c-=$,o.add(b)});m=!1})).next(()=>n-c)}re(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(c=>this.localStore.localDocuments.getNextDocuments(e,n,c,o).next(m=>{const b=m.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.ie(c,m)).next($=>(Bn("IndexBackiller",`Updating offset: ${$}`),this.localStore.indexManager.updateCollectionGroup(e,n,$))).next(()=>b.size)}))}ie(e,n){let o=e;return n.changes.forEach((c,m)=>{const b=Yt(m);ei(b,o)>0&&(o=b)}),new qt(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ra=(()=>{class r{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=c=>this.se(c),this.oe=c=>o.writeSequenceNumber(c))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return r._e=-1,r})();function Uc(r){return null==r}function Cc(r){return 0===r&&1/r==-1/0}function pl(r){return"number"==typeof r&&Number.isInteger(r)&&!Cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function $o(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=al(e)),e=hc(r.get(n),e);return al(e)}function hc(r,e){let n=e;const o=r.length;for(let c=0;c<o;c++){const m=r.charAt(c);switch(m){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=m}}return n}function al(r){return r+"\x01\x01"}function Ul(r){const e=r.length;if(re(e>=2),2===e)return re("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Wi.emptyPath();const n=e-2,o=[];let c="";for(let m=0;m<e;){const b=r.indexOf("\x01",m);switch((b<0||b>n)&&ui(),r.charAt(b+1)){case"\x01":const $=r.substring(m,b);let te;0===c.length?te=$:(c+=$,te=c,c=""),o.push(te);break;case"\x10":c+=r.substring(m,b),c+="\0";break;case"\x11":c+=r.substring(m,b+1);break;default:ui()}m=b+2}return new Wi(o)}const Dc=["userId","batchId"];function Hl(r,e){return[r,$o(e)]}function xl(r,e,n){return[r,$o(e),n]}const Jl={},xc=["prefixPath","collectionGroup","readTime","documentId"],fc=["prefixPath","collectionGroup","documentId"],Hc=["collectionGroup","readTime","prefixPath","documentId"],Xl=["canonicalId","targetId"],jl=["targetId","path"],Hu=["path","targetId"],Hf=["collectionId","parent"],Od=["indexId","uid"],Ch=["uid","sequenceNumber"],nu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kd=["indexId","uid","orderedDocumentKey"],Dh=["userId","collectionPath","documentId"],ya=["userId","collectionPath","largestBatchId"],Tl=["userId","collectionGroup","largestBatchId"],ec=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ud=[...ec,"documentOverlays"],pc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ml=pc,Ja=[...ml,"indexConfiguration","indexState","indexEntries"];class Pd extends tr{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Do(r,e){const n=x(r);return Xs.M(n.ae,e)}function iu(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Il(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Xa(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class eo{constructor(e,n){this.comparator=e,this.root=n||Lo.EMPTY}insert(e,n){return new eo(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lo.BLACK,null,null))}remove(e){return new eo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return n+o.left.size;c<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ll(this.root,e,this.comparator,!0)}}class ll{constructor(e,n,o,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=n?o(e.key,n):1,n&&c&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lo{constructor(e,n,o,c,m){this.key=e,this.value=n,this.color=o??Lo.RED,this.left=c??Lo.EMPTY,this.right=m??Lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,c,m){return new Lo(e??this.key,n??this.value,o??this.color,c??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let c=this;const m=o(e,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(e,n,o),null):0===m?c.copy(null,n,null,null,null):c.copy(null,null,null,null,c.right.insert(e,n,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,c=this;if(n(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,n),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===n(e,c.key)){if(c.right.isEmpty())return Lo.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,n))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ui();const e=this.left.check();if(e!==this.right.check())throw ui();return e+(this.isRed()?0:1)}}Lo.EMPTY=null,Lo.RED=!0,Lo.BLACK=!1,Lo.EMPTY=new class{constructor(){this.size=0}get key(){throw ui()}get value(){throw ui()}get color(){throw ui()}get left(){throw ui()}get right(){throw ui()}copy(e,n,o,c,m){return this}insert(e,n,o){return new Lo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xs{constructor(e){this.comparator=e,this.data=new eo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;n(c.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jc(this.data.getIterator())}getIteratorFrom(e){return new jc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const c=n.getNext().key,m=o.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xs(this.comparator);return n.data=e,n}}class jc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gl(r){return r.hasNext()?r.getNext():void 0}class Ma{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new Ma([])}unionWith(e){let n=new xs(Xr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Ma(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return er(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class zc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ia{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(c){try{return atob(c)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new zc("Invalid base64 string: "+m):m}}(e);return new ia(n)}static fromUint8Array(e){const n=function(c){let m="";for(let b=0;b<c.length;++b)m+=String.fromCharCode(c[b]);return m}(e);return new ia(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let c=0;c<n.length;c++)o[c]=n.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ia.EMPTY_BYTE_STRING=new ia("");const mc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(r){if(re(!!r),"string"==typeof r){let e=0;const n=mc.exec(r);if(re(!!n),n[1]){let c=n[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Zs(r.seconds),nanos:Zs(r.nanos)}}function Zs(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ja(r){return"string"==typeof r?ia.fromBase64String(r):ia.fromUint8Array(r)}function Tc(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ts(r){const e=r.mapValue.fields.__previous_value__;return Tc(e)?Ts(e):e}function _l(r){const e=Vo(r.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}class cl{constructor(e,n,o,c,m,b,$,te,pe){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=c,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=$,this.longPollingOptions=te,this.useFetchStreams=pe}}class zl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}const ls={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ic={nullValue:"NULL_VALUE"};function Gl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tc(r)?4:Wc(r)?9007199254740991:10:ui()}function Ca(r,e){if(r===e)return!0;const n=Gl(r);if(n!==Gl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _l(r).isEqual(_l(e));case 3:return function(c,m){if("string"==typeof c.timestampValue&&"string"==typeof m.timestampValue&&c.timestampValue.length===m.timestampValue.length)return c.timestampValue===m.timestampValue;const b=Vo(c.timestampValue),$=Vo(m.timestampValue);return b.seconds===$.seconds&&b.nanos===$.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return m=e,ja(r.bytesValue).isEqual(ja(m.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(c,m){return Zs(c.geoPointValue.latitude)===Zs(m.geoPointValue.latitude)&&Zs(c.geoPointValue.longitude)===Zs(m.geoPointValue.longitude)}(r,e);case 2:return function(c,m){if("integerValue"in c&&"integerValue"in m)return Zs(c.integerValue)===Zs(m.integerValue);if("doubleValue"in c&&"doubleValue"in m){const b=Zs(c.doubleValue),$=Zs(m.doubleValue);return b===$?Cc(b)===Cc($):isNaN(b)&&isNaN($)}return!1}(r,e);case 9:return er(r.arrayValue.values||[],e.arrayValue.values||[],Ca);case 10:return function(c,m){const b=c.mapValue.fields||{},$=m.mapValue.fields||{};if(iu(b)!==iu($))return!1;for(const te in b)if(b.hasOwnProperty(te)&&(void 0===$[te]||!Ca(b[te],$[te])))return!1;return!0}(r,e);default:return ui()}var m}function tc(r,e){return void 0!==(r.values||[]).find(n=>Ca(n,e))}function vo(r,e){if(r===e)return 0;const n=Gl(r),o=Gl(e);if(n!==o)return vi(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return vi(r.booleanValue,e.booleanValue);case 2:return function(m,b){const $=Zs(m.integerValue||m.doubleValue),te=Zs(b.integerValue||b.doubleValue);return $<te?-1:$>te?1:$===te?0:isNaN($)?isNaN(te)?0:-1:1}(r,e);case 3:return Gc(r.timestampValue,e.timestampValue);case 4:return Gc(_l(r),_l(e));case 5:return vi(r.stringValue,e.stringValue);case 6:return function(m,b){const $=ja(m),te=ja(b);return $.compareTo(te)}(r.bytesValue,e.bytesValue);case 7:return function(m,b){const $=m.split("/"),te=b.split("/");for(let pe=0;pe<$.length&&pe<te.length;pe++){const Re=vi($[pe],te[pe]);if(0!==Re)return Re}return vi($.length,te.length)}(r.referenceValue,e.referenceValue);case 8:return function(m,b){const $=vi(Zs(m.latitude),Zs(b.latitude));return 0!==$?$:vi(Zs(m.longitude),Zs(b.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(m,b){const $=m.values||[],te=b.values||[];for(let pe=0;pe<$.length&&pe<te.length;++pe){const Re=vo($[pe],te[pe]);if(Re)return Re}return vi($.length,te.length)}(r.arrayValue,e.arrayValue);case 10:return function(m,b){if(m===ls.mapValue&&b===ls.mapValue)return 0;if(m===ls.mapValue)return 1;if(b===ls.mapValue)return-1;const $=m.fields||{},te=Object.keys($),pe=b.fields||{},Re=Object.keys(pe);te.sort(),Re.sort();for(let it=0;it<te.length&&it<Re.length;++it){const jt=vi(te[it],Re[it]);if(0!==jt)return jt;const hn=vo($[te[it]],pe[Re[it]]);if(0!==hn)return hn}return vi(te.length,Re.length)}(r.mapValue,e.mapValue);default:throw ui()}}function Gc(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return vi(r,e);const n=Vo(r),o=Vo(e),c=vi(n.seconds,o.seconds);return 0!==c?c:vi(n.nanos,o.nanos)}function vl(r){return Al(r)}function Al(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const o=Vo(n);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ja(r.bytesValue).toBase64():"referenceValue"in r?Gn.fromName(r.referenceValue).toString():"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let o="[",c=!0;for(const m of n.values||[])c?c=!1:o+=",",o+=Al(m);return o+"]"}(r.arrayValue):"mapValue"in r?function(n){const o=Object.keys(n.fields||{}).sort();let c="{",m=!0;for(const b of o)m?m=!1:c+=",",c+=`${b}:${Al(n.fields[b])}`;return c+"}"}(r.mapValue):ui()}function nc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $c(r){return!!r&&"integerValue"in r}function el(r){return!!r&&"arrayValue"in r}function hd(r){return!!r&&"nullValue"in r}function ru(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fd(r){return!!r&&"mapValue"in r}function Nd(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Il(r.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Nd(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nd(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Wc(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function su(r){return"nullValue"in r?Ic:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?nc(zl.empty(),Gn.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ui()}function af(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?nc(zl.empty(),Gn.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ls:ui()}function ou(r,e){const n=vo(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Sc(r,e){const n=vo(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Da{constructor(e){this.value=e}static empty(){return new Da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nd(n)}setAll(e){let n=Xr.emptyPath(),o={},c=[];e.forEach((b,$)=>{if(!n.isImmediateParentOf($)){const te=this.getFieldsMap(n);this.applyChanges(te,o,c),o={},c=[],n=$.popLast()}b?o[$.lastSegment()]=Nd(b):c.push($.lastSegment())});const m=this.getFieldsMap(n);this.applyChanges(m,o,c)}delete(e){const n=this.field(e.popLast());fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ca(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=n.mapValue.fields[e.get(o)];fd(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=c),n=c}return n.mapValue.fields}applyChanges(e,n,o){Il(n,(c,m)=>e[c]=m);for(const c of o)delete e[c]}clone(){return new Da(Nd(this.value))}}function au(r){const e=[];return Il(r.fields,(n,o)=>{const c=new Xr([n]);if(fd(o)){const m=au(o.mapValue).fields;if(0===m.length)e.push(c);else for(const b of m)e.push(c.child(b))}else e.push(c)}),new Ma(e)}class hr{constructor(e,n,o,c,m,b,$){this.key=e,this.documentType=n,this.version=o,this.readTime=c,this.createTime=m,this.data=b,this.documentState=$}static newInvalidDocument(e){return new hr(e,0,ii.min(),ii.min(),ii.min(),Da.empty(),0)}static newFoundDocument(e,n,o,c){return new hr(e,1,n,ii.min(),o,c,0)}static newNoDocument(e,n){return new hr(e,2,n,ii.min(),ii.min(),Da.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,ii.min(),ii.min(),Da.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ii.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ii.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $l{constructor(e,n){this.position=e,this.inclusive=n}}function ic(r,e,n){let o=0;for(let c=0;c<r.position.length;c++){const m=e[c],b=r.position[c];if(o=m.field.isKeyField()?Gn.comparator(Gn.fromName(b.referenceValue),n.key):vo(b,n.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function lu(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ca(r.position[n],e.position[n]))return!1;return!0}class ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function gc(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class cu{}class vr extends cu{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Fd(e,n,o):"array-contains"===n?new pu(e,o):"in"===n?new Th(e,o):"not-in"===n?new Ih(e,o):"array-contains-any"===n?new Ld(e,o):new vr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new uu(e,o):new hu(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(vo(n,this.value)):null!==n&&Gl(this.value)===Gl(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ui()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends cu{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Pr(e,n)}matches(e){return pd(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pd(r){return"and"===r.op}function du(r){return"or"===r.op}function md(r){return lf(r)&&pd(r)}function lf(r){for(const e of r.filters)if(e instanceof Pr)return!1;return!0}function da(r){if(r instanceof vr)return r.field.canonicalString()+r.op.toString()+vl(r.value);if(md(r))return r.filters.map(e=>da(e)).join(",");{const e=r.filters.map(n=>da(n)).join(",");return`${r.op}(${e})`}}function gd(r,e){return r instanceof vr?(o=r,(c=e)instanceof vr&&o.op===c.op&&o.field.isEqual(c.field)&&Ca(o.value,c.value)):r instanceof Pr?function(o,c){return c instanceof Pr&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((m,b,$)=>m&&gd(b,c.filters[$]),!0)}(r,e):void ui();var o,c}function rc(r,e){const n=r.filters.concat(e);return Pr.create(n,r.op)}function xh(r){return r instanceof vr?`${(n=r).field.canonicalString()} ${n.op} ${vl(n.value)}`:r instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(xh).join(" ,")+"}"}(r):"Filter";var n}class Fd extends vr{constructor(e,n,o){super(e,n,o),this.key=Gn.fromName(o.referenceValue)}matches(e){const n=Gn.comparator(e.key,this.key);return this.matchesComparison(n)}}class uu extends vr{constructor(e,n){super(e,"in",n),this.keys=fu(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hu extends vr{constructor(e,n){super(e,"not-in",n),this.keys=fu(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fu(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Gn.fromName(o.referenceValue))}class pu extends vr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return el(n)&&tc(n.arrayValue,this.value)}}class Th extends vr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&tc(this.value.arrayValue,n)}}class Ih extends vr{constructor(e,n){super(e,"not-in",n)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!tc(this.value.arrayValue,n)}}class Ld extends vr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!el(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>tc(this.value.arrayValue,o))}}class _d{constructor(e,n=null,o=[],c=[],m=null,b=null,$=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=c,this.limit=m,this.startAt=b,this.endAt=$,this.ce=null}}function vd(r,e=null,n=[],o=[],c=null,m=null,b=null){return new _d(r,e,n,o,c,m,b)}function Ml(r){const e=x(r);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>da(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(m=o).field.canonicalString()+m.dir;var m}).join(","),Uc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>vl(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>vl(o)).join(",")),e.ce=n}return e.ce}function _c(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gc(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!gd(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lu(r.startAt,e.startAt)&&lu(r.endAt,e.endAt)}function vc(r){return Gn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function za(r,e){return r.filters.filter(n=>n instanceof vr&&n.field.isEqual(e))}function Br(r,e,n){let o=Ic,c=!0;for(const m of za(r,e)){let b=Ic,$=!0;switch(m.op){case"<":case"<=":b=su(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,$=!1;break;case"!=":case"not-in":b=Ic}ou({value:o,inclusive:c},{value:b,inclusive:$})<0&&(o=b,c=$)}if(null!==n)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const b=n.position[m];ou({value:o,inclusive:c},{value:b,inclusive:n.inclusive})<0&&(o=b,c=n.inclusive);break}return{value:o,inclusive:c}}function sc(r,e,n){let o=ls,c=!0;for(const m of za(r,e)){let b=ls,$=!0;switch(m.op){case">=":case">":b=af(m.value),$=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,$=!1;break;case"!=":case"not-in":b=ls}Sc({value:o,inclusive:c},{value:b,inclusive:$})>0&&(o=b,c=$)}if(null!==n)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const b=n.position[m];Sc({value:o,inclusive:c},{value:b,inclusive:n.inclusive})>0&&(o=b,c=n.inclusive);break}return{value:o,inclusive:c}}class ra{constructor(e,n=null,o=[],c=[],m=null,b="F",$=null,te=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=c,this.limit=m,this.limitType=b,this.startAt=$,this.endAt=te,this.le=null,this.he=null,this.Pe=null}}function oc(r,e,n,o,c,m,b,$){return new ra(r,e,n,o,c,m,b,$)}function xa(r){return new ra(r)}function yc(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function N(r){return null!==r.collectionGroup}function y(r){const e=x(r);if(null===e.le){e.le=[];const n=new Set;for(const m of e.explicitOrderBy)e.le.push(m),n.add(m.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(b){let $=new xs(Xr.comparator);return b.filters.forEach(te=>{te.getFlattenedFilters().forEach(pe=>{pe.isInequality()&&($=$.add(pe.field))})}),$})(e).forEach(m=>{n.has(m.canonicalString())||m.isKeyField()||e.le.push(new ba(m,o))}),n.has(Xr.keyField().canonicalString())||e.le.push(new ba(Xr.keyField(),o))}return e.le}function C(r){const e=x(r);return e.he||(e.he=function z(r,e){if("F"===r.limitType)return vd(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(c=>new ba(c.field,"desc"===c.dir?"asc":"desc"));const n=r.endAt?new $l(r.endAt.position,r.endAt.inclusive):null,o=r.startAt?new $l(r.startAt.position,r.startAt.inclusive):null;return vd(r.path,r.collectionGroup,e,r.filters,r.limit,n,o)}}(e,y(r))),e.he}function ge(r,e){const n=r.filters.concat([e]);return new ra(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function He(r,e,n){return new ra(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zt(r,e){return _c(C(r),C(e))&&r.limitType===e.limitType}function mn(r){return`${Ml(C(r))}|lt:${r.limitType}`}function Un(r){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(c=>xh(c)).join(", ")}]`),Uc(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(c=>{return`${(b=c).field.canonicalString()} (${b.dir})`;var b}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(c=>vl(c)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(c=>vl(c)).join(",")),`Target(${o})`}(C(r))}; limitType=${r.limitType})`}function fi(r,e){return e.isFoundDocument()&&function(o,c){const m=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(m):Gn.isDocumentKey(o.path)?o.path.isEqual(m):o.path.isImmediateParentOf(m)}(r,e)&&function(o,c){for(const m of y(o))if(!m.field.isKeyField()&&null===c.data.field(m.field))return!1;return!0}(r,e)&&function(o,c){for(const m of o.filters)if(!m.matches(c))return!1;return!0}(r,e)&&(c=e,!((o=r).startAt&&!function(b,$,te){const pe=ic(b,$,te);return b.inclusive?pe<=0:pe<0}(o.startAt,y(o),c)||o.endAt&&!function(b,$,te){const pe=ic(b,$,te);return b.inclusive?pe>=0:pe>0}(o.endAt,y(o),c)));var o,c}function Ii(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fr(r){return(e,n)=>{let o=!1;for(const c of y(r)){const m=sa(c,e,n);if(0!==m)return m;o=o||c.field.isKeyField()}return 0}}function sa(r,e,n){const o=r.field.isKeyField()?Gn.comparator(e.key,n.key):function(m,b,$){const te=b.data.field(m),pe=$.data.field(m);return null!==te&&null!==pe?vo(te,pe):ui()}(r.field,e,n);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ui()}}class Bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[c,m]of o)if(this.equalsFn(c,e))return m}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,n]],void this.innerSize++;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return void(c[m]=[e,n]);c.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[n]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,(n,o)=>{for(const[c,m]of o)e(c,m)})}isEmpty(){return Xa(this.inner)}size(){return this.innerSize}}const bc=new eo(Gn.comparator);function ko(){return bc}const yd=new eo(Gn.comparator);function Yc(...r){let e=yd;for(const n of r)e=e.insert(n.key,n);return e}function mu(r){let e=yd;return r.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function tl(){return bd()}function Ol(){return bd()}function bd(){return new Bo(r=>r.toString(),(r,e)=>r.isEqual(e))}const Vd=new eo(Gn.comparator),cf=new xs(Gn.comparator);function Nr(...r){let e=cf;for(const n of r)e=e.add(n);return e}const ju=new xs(vi);function Sh(){return ju}function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function jf(r){return{integerValue:""+r}}function zu(r,e){return pl(e)?jf(e):Jp(r,e)}class Bd{constructor(){this._=void 0}}function zf(r,e,n){return r instanceof ac?function(c,m){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return m&&Tc(m)&&(m=Ts(m)),m&&(b.fields.__previous_value__=m),{mapValue:b}}(n,e):r instanceof Ed?$u(r,e):r instanceof lc?Kc(r,e):function(c,m){const b=Gu(c,m),$=gu(b)+gu(c.Ie);return $c(b)&&$c(c.Ie)?jf($):Jp(c.serializer,$)}(r,e)}function Gf(r,e,n){return r instanceof Ed?$u(r,e):r instanceof lc?Kc(r,e):n}function Gu(r,e){return r instanceof Ac?$c(o=e)||(m=o)&&"doubleValue"in m?e:{integerValue:0}:null;var o,m}class ac extends Bd{}class Ed extends Bd{constructor(e){super(),this.elements=e}}function $u(r,e){const n=$f(e);for(const o of r.elements)n.some(c=>Ca(c,o))||n.push(o);return{arrayValue:{values:n}}}class lc extends Bd{constructor(e){super(),this.elements=e}}function Kc(r,e){let n=$f(e);for(const o of r.elements)n=n.filter(c=>!Ca(c,o));return{arrayValue:{values:n}}}class Ac extends Bd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gu(r){return Zs(r.integerValue||r.doubleValue)}function $f(r){return el(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ud{constructor(e,n){this.field=e,this.transform=n}}class Ah{constructor(e,n){this.version=e,this.transformResults=n}}class xo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xo}static exists(e){return new xo(void 0,e)}static updateTime(e){return new xo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Wu{}function _u(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new qc(r.key,xo.none()):new Zc(r.key,r.data,xo.none());{const n=r.data,o=Da.empty();let c=new xs(Xr.comparator);for(let m of e.fields)if(!c.has(m)){let b=n.field(m);null===b&&m.length>1&&(m=m.popLast(),b=n.field(m)),null===b?o.delete(m):o.set(m,b),c=c.add(m)}return new cc(r.key,o,new Ma(c.toArray()),xo.none())}}function Wf(r,e,n){r instanceof Zc?function(c,m,b){const $=c.value.clone(),te=jd(c.fieldTransforms,m,b.transformResults);$.setAll(te),m.convertToFoundDocument(b.version,$).setHasCommittedMutations()}(r,e,n):r instanceof cc?function(c,m,b){if(!Hd(c.precondition,m))return void m.convertToUnknownDocument(b.version);const $=jd(c.fieldTransforms,m,b.transformResults),te=m.data;te.setAll(Ga(c)),te.setAll($),m.convertToFoundDocument(b.version,te).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wd(r,e,n,o){return r instanceof Zc?function(m,b,$,te){if(!Hd(m.precondition,b))return $;const pe=m.value.clone(),Re=Ku(m.fieldTransforms,te,b);return pe.setAll(Re),b.convertToFoundDocument(b.version,pe).setHasLocalMutations(),null}(r,e,n,o):r instanceof cc?function(m,b,$,te){if(!Hd(m.precondition,b))return $;const pe=Ku(m.fieldTransforms,te,b),Re=b.data;return Re.setAll(Ga(m)),Re.setAll(pe),b.convertToFoundDocument(b.version,Re).setHasLocalMutations(),null===$?null:$.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(it=>it.field))}(r,e,n,o):($=n,Hd(r.precondition,b=e)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):$);var b,$}function yl(r,e){let n=null;for(const o of r.fieldTransforms){const c=e.data.field(o.field),m=Gu(o.transform,c||null);null!=m&&(null===n&&(n=Da.empty()),n.set(o.field,m))}return n||null}function Yu(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(o=r.fieldTransforms)&&void 0===c||o&&c&&er(o,c,(m,b)=>function Oa(r,e){return r.field.isEqual(e.field)&&(c=e.transform,(o=r.transform)instanceof Ed&&c instanceof Ed||o instanceof lc&&c instanceof lc?er(o.elements,c.elements,Ca):o instanceof Ac&&c instanceof Ac?Ca(o.Ie,c.Ie):o instanceof ac&&c instanceof ac);var o,c}(m,b))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var o,c}class Zc extends Wu{constructor(e,n,o,c=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class cc extends Wu{constructor(e,n,o,c,m=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=c,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Ga(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=r.data.field(n);e.set(n,o)}}),e}function jd(r,e,n){const o=new Map;re(r.length===n.length);for(let c=0;c<n.length;c++){const m=r[c],b=m.transform,$=e.data.field(m.field);o.set(m.field,Gf(b,$,n[c]))}return o}function Ku(r,e,n){const o=new Map;for(const c of r){const m=c.transform,b=n.data.field(c.field);o.set(c.field,zf(m,b,e))}return o}class qc extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rh extends Wu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vu{constructor(e,n,o,c){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(e.key)&&Wf(m,e,o[c])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=wd(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=wd(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Ol();return this.mutations.forEach(c=>{const m=e.get(c.key),b=m.overlayedDocument;let $=this.applyToLocalView(b,m.mutatedFields);$=n.has(c.key)?null:$;const te=_u(b,$);null!==te&&o.set(c.key,te),b.isValidDocument()||b.convertToNoDocument(ii.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nr())}isEqual(e){return this.batchId===e.batchId&&er(this.mutations,e.mutations,(n,o)=>Yu(n,o))&&er(this.baseMutations,e.baseMutations,(n,o)=>Yu(n,o))}}class Mh{constructor(e,n,o,c){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=c}static from(e,n,o){re(e.mutations.length===o.length);let c=Vd;const m=e.mutations;for(let b=0;b<m.length;b++)c=c.insert(m[b].key,o[b].version);return new Mh(e,n,o,c)}}class Qc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yu{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ea,Os;function Oh(r){switch(r){default:return ui();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function kh(r){if(void 0===r)return Mo("GRPC error has no .code"),B.UNKNOWN;switch(r){case Ea.OK:return B.OK;case Ea.CANCELLED:return B.CANCELLED;case Ea.UNKNOWN:return B.UNKNOWN;case Ea.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ea.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ea.INTERNAL:return B.INTERNAL;case Ea.UNAVAILABLE:return B.UNAVAILABLE;case Ea.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ea.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ea.NOT_FOUND:return B.NOT_FOUND;case Ea.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ea.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ea.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ea.ABORTED:return B.ABORTED;case Ea.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ea.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ea.DATA_LOSS:return B.DATA_LOSS;default:return ui()}}(Os=Ea||(Ea={}))[Os.OK=0]="OK",Os[Os.CANCELLED=1]="CANCELLED",Os[Os.UNKNOWN=2]="UNKNOWN",Os[Os.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Os[Os.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Os[Os.NOT_FOUND=5]="NOT_FOUND",Os[Os.ALREADY_EXISTS=6]="ALREADY_EXISTS",Os[Os.PERMISSION_DENIED=7]="PERMISSION_DENIED",Os[Os.UNAUTHENTICATED=16]="UNAUTHENTICATED",Os[Os.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Os[Os.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Os[Os.ABORTED=10]="ABORTED",Os[Os.OUT_OF_RANGE=11]="OUT_OF_RANGE",Os[Os.UNIMPLEMENTED=12]="UNIMPLEMENTED",Os[Os.INTERNAL=13]="INTERNAL",Os[Os.UNAVAILABLE=14]="UNAVAILABLE",Os[Os.DATA_LOSS=15]="DATA_LOSS";function Eu(){return new TextEncoder}const Xp=new wl([4294967295,4294967295],0);function Ph(r){const e=Eu().encode(r),n=new fl;return n.update(e),new Uint8Array(n.digest())}function Zu(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),c=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new wl([n,o],0),new wl([c,m],0)]}class wu{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Cd(`Invalid padding: ${n}`);if(o<0)throw new Cd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Cd(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Cd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=wl.fromNumber(this.Te)}de(e,n,o){let c=e.add(n.multiply(wl.fromNumber(o)));return 1===c.compare(Xp)&&(c=new wl([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Ph(e),[o,c]=Zu(n);for(let m=0;m<this.hashCount;m++){const b=this.de(o,c,m);if(!this.Ae(b))return!1}return!0}static create(e,n,o){const c=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),b=new wu(m,c,n);return o.forEach($=>b.insert($)),b}insert(e){if(0===this.Te)return;const n=Ph(e),[o,c]=Zu(n);for(let m=0;m<this.hashCount;m++){const b=this.de(o,c,m);this.Re(b)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dc{constructor(e,n,o,c,m){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const c=new Map;return c.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new dc(ii.min(),c,new eo(vi),ko(),Nr())}}class Rc{constructor(e,n,o,c,m){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Rc(o,n,Nr(),Nr(),Nr())}}class kl{constructor(e,n,o,c){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=c}}class ua{constructor(e,n){this.targetId=e,this.fe=n}}class ka{constructor(e,n,o=ia.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=c}}class Cu{constructor(){this.ge=0,this.pe=df(),this.ye=ia.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Nr(),n=Nr(),o=Nr();return this.pe.forEach((c,m)=>{switch(m){case 0:e=e.add(c);break;case 2:n=n.add(c);break;case 1:o=o.add(c);break;default:ui()}}),new Rc(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=df()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class em{constructor(e){this.Le=e,this.ke=new Map,this.qe=ko(),this.Qe=Nh(),this.Ke=new eo(vi)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:ui()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,c)=>{this.je(c)&&n(c)})}Je(e){const n=e.targetId,o=e.fe.count,c=this.Ye(n);if(c){const m=c.target;if(vc(m))if(0===o){const b=new Gn(m.path);this.We(n,b,hr.newNoDocument(b,ii.min()))}else re(1===o);else{const b=this.Ze(n);if(b!==o){const $=this.Xe(e),te=$?this.et($,e,b):1;0!==te&&(this.He(n),this.Ke=this.Ke.insert(n,2===te?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:m=0}=n;let b,$;try{b=ja(o).toUint8Array()}catch(te){if(te instanceof zc)return _a("Decoding the base64 bloom filter in existence filter failed ("+te.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw te}try{$=new wu(b,c,m)}catch(te){return _a(te instanceof Cd?"BloomFilter error: ":"Applying bloom filter failed: ",te),null}return 0===$.Te?null:$}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let c=0;return o.forEach(m=>{const b=this.Le.nt(),$=`projects/${b.projectId}/databases/${b.database}/documents/${m.path.canonicalString()}`;e.mightContain($)||(this.We(n,m,null),c++)}),c}it(e){const n=new Map;this.ke.forEach((m,b)=>{const $=this.Ye(b);if($){if(m.current&&vc($.target)){const te=new Gn($.target.path);null!==this.qe.get(te)||this.st(b,te)||this.We(b,te,hr.newNoDocument(te,e))}m.De&&(n.set(b,m.ve()),m.Fe())}});let o=Nr();this.Qe.forEach((m,b)=>{let $=!0;b.forEachWhile(te=>{const pe=this.Ye(te);return!pe||"TargetPurposeLimboResolution"===pe.purpose||($=!1,!1)}),$&&(o=o.add(m))}),this.qe.forEach((m,b)=>b.setReadTime(e));const c=new dc(e,n,this.Ke,this.qe,o);return this.qe=ko(),this.Qe=Nh(),this.Ke=new eo(vi),c}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const c=this.ze(e);this.st(e,n)?c.Me(n,1):c.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Cu,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xs(vi),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Bn("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Cu),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Nh(){return new eo(Gn.comparator)}function df(){return new eo(Gn.comparator)}const Yf={asc:"ASCENDING",desc:"DESCENDING"},Kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Du={and:"AND",or:"OR"};class Fh{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qu(r,e){return r.useProto3Json||Uc(e)?e:{value:e}}function Jc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qu(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Zf(r,e){return Jc(r,e.toTimestamp())}function Wo(r){return re(!!r),ii.fromTimestamp(function(n){const o=Vo(n);return new Si(o.seconds,o.nanos)}(r))}function Gd(r,e){return(o=r,new Wi(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function Xc(r){const e=Wi.fromString(r);return re(lt(e)),e}function xu(r,e){return Gd(r.databaseId,e.path)}function Wl(r,e){const n=Xc(e);if(n.get(1)!==r.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Gn(qf(n))}function Lh(r,e){return Gd(r.databaseId,e)}function uf(r){const e=Xc(r);return 4===e.length?Wi.emptyPath():qf(e)}function Dd(r){return new Wi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qf(r){return re(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Vh(r,e,n){return{name:xu(r,e),fields:n.value.mapValue.fields}}function hf(r,e,n){const o=Wl(r,e.name),c=Wo(e.updateTime),m=e.createTime?Wo(e.createTime):ii.min(),b=new Da({mapValue:{fields:e.fields}}),$=hr.newFoundDocument(o,c,m,b);return n&&$.setHasCommittedMutations(),n?$.setHasCommittedMutations():$}function Tu(r,e){let n;if(e instanceof Zc)n={update:Vh(r,e.key,e.value)};else if(e instanceof qc)n={delete:xu(r,e.key)};else if(e instanceof cc)n={update:Vh(r,e.key,e.data),updateMask:Ne(e.fieldMask)};else{if(!(e instanceof Rh))return ui();n={verify:xu(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(m,b){const $=b.transform;if($ instanceof ac)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if($ instanceof Ed)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:$.elements}};if($ instanceof lc)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:$.elements}};if($ instanceof Ac)return{fieldPath:b.field.canonicalString(),increment:$.Ie};throw ui()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(m=e.precondition).updateTime?{updateTime:Zf(r,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:ui()),n;var m}function $d(r,e){const n=e.currentDocument?void 0!==(m=e.currentDocument).updateTime?xo.updateTime(Wo(m.updateTime)):void 0!==m.exists?xo.exists(m.exists):xo.none():xo.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(b,$){let te=null;"setToServerValue"in $?(re("REQUEST_TIME"===$.setToServerValue),te=new ac):"appendMissingElements"in $?te=new Ed($.appendMissingElements.values||[]):"removeAllFromArray"in $?te=new lc($.removeAllFromArray.values||[]):"increment"in $?te=new Ac(b,$.increment):ui();const pe=Xr.fromServerFormat($.fieldPath);return new Ud(pe,te)}(r,c)):[];var m;if(e.update){const c=Wl(r,e.update.name),m=new Da({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Ma((e.updateMask.fieldPaths||[]).map(Re=>Xr.fromServerFormat(Re)));return new cc(c,m,b,n,o)}return new Zc(c,m,n,o)}if(e.delete){const c=Wl(r,e.delete);return new qc(c,n)}if(e.verify){const c=Wl(r,e.verify);return new Rh(c,n)}return ui()}function ff(r,e){return{documents:[Lh(r,e.path)]}}function Ju(r,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Lh(r,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lh(r,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(te){if(0!==te.length)return ce(Pr.create(te,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const m=function(te){if(0!==te.length)return te.map(pe=>{return{field:k((it=pe).field),direction:u(it.dir)};var it})}(e.orderBy);m&&(n.structuredQuery.orderBy=m);const b=qu(r,e.limit);return null!==b&&(n.structuredQuery.limit=b),e.startAt&&(n.structuredQuery.startAt={before:(te=e.startAt).inclusive,values:te.position}),e.endAt&&(n.structuredQuery.endAt=function(te){return{before:!te.inclusive,values:te.position}}(e.endAt)),n;var te}function Iu(r){let e=uf(r.parent);const n=r.structuredQuery,o=n.from?n.from.length:0;let c=null;if(o>0){re(1===o);const Re=n.from[0];Re.allDescendants?c=Re.collectionId:e=e.child(Re.collectionId)}let m=[];n.where&&(m=function(it){const jt=g(it);return jt instanceof Pr&&md(jt)?jt.getFilters():[jt]}(n.where));let b=[];n.orderBy&&(b=n.orderBy.map(jt=>{return new ba(ee((Xn=jt).field),function(oi){switch(oi){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Xn.direction));var Xn}));let $=null;n.limit&&($=function(it){let jt;return jt="object"==typeof it?it.value:it,Uc(jt)?null:jt}(n.limit));let te=null;var it;n.startAt&&(te=new $l((it=n.startAt).values||[],!!it.before));let pe=null;return n.endAt&&(pe=function(it){return new $l(it.values||[],!it.before)}(n.endAt)),oc(e,c,b,m,$,"F",te,pe)}function g(r){return void 0!==r.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=ee(n.unaryFilter.field);return vr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=ee(n.unaryFilter.field);return vr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=ee(n.unaryFilter.field);return vr.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const b=ee(n.unaryFilter.field);return vr.create(b,"!=",{nullValue:"NULL_VALUE"});default:return ui()}}(r):void 0!==r.fieldFilter?vr.create(ee((n=r).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ui()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==r.compositeFilter?function(n){return Pr.create(n.compositeFilter.filters.map(o=>g(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return ui()}}(n.compositeFilter.op))}(r):ui();var n}function u(r){return Yf[r]}function h(r){return Kf[r]}function E(r){return Du[r]}function k(r){return{fieldPath:r.canonicalString()}}function ee(r){return Xr.fromServerFormat(r.fieldPath)}function ce(r){return r instanceof vr?function(n){if("=="===n.op){if(ru(n.value))return{unaryFilter:{field:k(n.field),op:"IS_NAN"}};if(hd(n.value))return{unaryFilter:{field:k(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(ru(n.value))return{unaryFilter:{field:k(n.field),op:"IS_NOT_NAN"}};if(hd(n.value))return{unaryFilter:{field:k(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:k(n.field),op:h(n.op),value:n.value}}}(r):r instanceof Pr?function(n){const o=n.getFilters().map(c=>ce(c));return 1===o.length?o[0]:{compositeFilter:{op:E(n.op),filters:o}}}(r):ui()}function Ne(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lt(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Ct{constructor(e,n,o,c,m=ii.min(),b=ii.min(),$=ia.EMPTY_BYTE_STRING,te=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=$,this.expectedCount=te}withSequenceNumber(e){return new Ct(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ct(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ct(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ct(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vn{constructor(e){this.ut=e}}function On(r,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gi(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:xu(m=r.ut,(b=e).key),fields:b.data.value.mapValue.fields,updateTime:Jc(m,b.version.toTimestamp()),createTime:Jc(m,b.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Fi(e.version)};else{if(!e.isUnknownDocument())return ui();o.unknownDocument={path:n.path.toArray(),version:Fi(e.version)}}var m,b;return o}function gi(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Fi(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function es(r){const e=new Si(r.seconds,r.nanoseconds);return ii.fromTimestamp(e)}function To(r,e){const n=(e.baseMutations||[]).map(m=>$d(r.ut,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const o=e.mutations.map(m=>$d(r.ut,m)),c=Si.fromMillis(e.localWriteTimeMs);return new vu(e.batchId,c,n,o)}function nl(r){const e=es(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?es(r.lastLimboFreeSnapshotVersion):ii.min();let o;return o=void 0!==r.query.documents?(re(1===(m=r.query).documents.length),C(xa(uf(m.documents[0])))):function(m){return C(Iu(m))}(r.query),new Ct(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,n,ia.fromBase64String(r.resumeToken));var m}function bl(r,e){const n=Fi(e.snapshotVersion),o=Fi(e.lastLimboFreeSnapshotVersion);let c;c=vc(e.target)?ff(r.ut,e.target):Ju(r.ut,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ml(e.target),readTime:n,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Ec(r){const e=Iu({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?He(e,e.limit,"L"):e}function Xu(r,e){return new Qc(e.largestBatchId,$d(r.ut,e.overlayMutation))}function tm(r,e){const n=e.path.lastSegment();return[r,$o(e.path.popLast()),n]}function Xf(r,e,n,o){return{indexId:r,uid:e.uid||"",sequenceNumber:n,readTime:Fi(o.readTime),documentKey:$o(o.documentKey.path),largestBatchId:o.largestBatchId}}class bg{getBundleMetadata(e,n){return Su(e).get(n).next(o=>{if(o)return{id:(m=o).bundleId,createTime:es(m.createTime),version:m.version};var m})}saveBundleMetadata(e,n){return Su(e).put({bundleId:(c=n).id,createTime:Fi(Wo(c.createTime)),version:c.version});var c}getNamedQuery(e,n){return Eg(e).get(n).next(o=>{if(o)return{name:(m=o).name,query:Ec(m.bundledQuery),readTime:es(m.readTime)};var m})}saveNamedQuery(e,n){return Eg(e).put({name:(c=n).name,readTime:Fi(Wo(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Su(r){return Do(r,"bundles")}function Eg(r){return Do(r,"namedQueries")}class ep{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new ep(e,n.uid||"")}getOverlay(e,n){return eh(e).get(tm(this.userId,n)).next(o=>o?Xu(this.serializer,o):null)}getOverlays(e,n){const o=tl();return Xt.forEach(n,c=>this.getOverlay(e,c).next(m=>{null!==m&&o.set(c,m)})).next(()=>o)}saveOverlays(e,n,o){const c=[];return o.forEach((m,b)=>{const $=new Qc(n,b);c.push(this.lt(e,$))}),Xt.waitFor(c)}removeOverlaysForBatchId(e,n,o){const c=new Set;n.forEach(b=>c.add($o(b.getCollectionPath())));const m=[];return c.forEach(b=>{const $=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);m.push(eh(e).H("collectionPathOverlayIndex",$))}),Xt.waitFor(m)}getOverlaysForCollection(e,n,o){const c=tl(),m=$o(n),b=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return eh(e).W("collectionPathOverlayIndex",b).next($=>{for(const te of $){const pe=Xu(this.serializer,te);c.set(pe.getKey(),pe)}return c})}getOverlaysForCollectionGroup(e,n,o,c){const m=tl();let b;const $=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return eh(e).Y({index:"collectionGroupOverlayIndex",range:$},(te,pe,Re)=>{const it=Xu(this.serializer,pe);m.size()<c||it.largestBatchId===b?(m.set(it.getKey(),it),b=it.largestBatchId):Re.done()}).next(()=>m)}lt(e,n){return eh(e).put(function(c,m,b){const[$,te,pe]=tm(m,b.mutation.key);return{userId:m,collectionPath:te,documentId:pe,collectionGroup:b.mutation.key.getCollectionGroup(),largestBatchId:b.largestBatchId,overlayMutation:Tu(c.ut,b.mutation)}}(this.serializer,this.userId,n))}}function eh(r){return Do(r,"documentOverlays")}class th{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Zs(e.integerValue));else if("doubleValue"in e){const o=Zs(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),Cc(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ja(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?Wc(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):ui()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const c of Object.keys(o))this.At(c,n),this.Pt(o[c],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const c of o)this.Pt(c,n)}ft(e,n){this.Tt(n,37),Gn.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function sv(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function ed(r){const e=64-function(o){let c=0;for(let m=0;m<8;++m){const b=sv(255&o[m]);if(c+=b,8!==b)break}return c}(r);return Math.ceil(e/8)}th.St=new th;class Uh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Dt(o.value),o=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ft(o.value),o=n.next();this.Mt()}xt(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Dt(o);else if(o<2048)this.Dt(960|o>>>6),this.Dt(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|o>>>12),this.Dt(128|63&o>>>6),this.Dt(128|63&o);else{const c=n.codePointAt(0);this.Dt(240|c>>>18),this.Dt(128|63&c>>>12),this.Dt(128|63&c>>>6),this.Dt(128|63&c)}}this.Ct()}Ot(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const c=n.codePointAt(0);this.Ft(240|c>>>18),this.Ft(128|63&c>>>12),this.Ft(128|63&c>>>6),this.Ft(128|63&c)}}this.Mt()}Nt(e){const n=this.Bt(e),o=ed(n);this.Lt(1+o),this.buffer[this.position++]=255&o;for(let c=n.length-o;c<n.length;++c)this.buffer[this.position++]=255&n[c]}kt(e){const n=this.Bt(e),o=ed(n);this.Lt(1+o),this.buffer[this.position++]=~(255&o);for(let c=n.length-o;c<n.length;++c)this.buffer[this.position++]=~(255&n[c])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(m){const b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,m,!1),new Uint8Array(b.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let c=1;c<n.length;++c)n[c]^=o?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class ov{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class av{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class pf{constructor(){this.Wt=new Uh,this.Gt=new ov(this.Wt),this.zt=new av(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class nh{constructor(e,n,o,c){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=c}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new nh(this.indexId,this.documentKey,this.arrayValue,o)}}function xd(r,e){let n=r.indexId-e.indexId;return 0!==n?n:(n=nm(r.arrayValue,e.arrayValue),0!==n?n:(n=nm(r.directionalValue,e.directionalValue),0!==n?n:Gn.comparator(r.documentKey,e.documentKey)))}function nm(r,e){for(let n=0;n<r.length&&n<e.length;++n){const o=r[n]-e[n];if(0!==o)return o}return r.length-e.length}class tp{constructor(e){this.Jt=new xs((n,o)=>Xr.comparator(n.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const o=n;o.isInequality()?this.Jt=this.Jt.add(o):this.Zt.push(o)}}get Xt(){return this.Jt.size>1}en(e){if(re(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=U(e);if(void 0!==n&&!this.tn(n))return!1;const o=Q(e);let c=new Set,m=0,b=0;for(;m<o.length&&this.tn(o[m]);++m)c=c.add(o[m].fieldPath.canonicalString());if(m===o.length)return!0;if(this.Jt.size>0){const $=this.Jt.getIterator().getNext();if(!c.has($.field.canonicalString())){const te=o[m];if(!this.nn($,te)||!this.rn(this.Yt[b++],te))return!1}++m}for(;m<o.length;++m)if(b>=this.Yt.length||!this.rn(this.Yt[b++],o[m]))return!1;return!0}sn(){if(this.Xt)return null;let e=new xs(Xr.comparator);const n=[];for(const o of this.Zt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)n.push(new K(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),n.push(new K(o.field,0))}for(const o of this.Yt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),n.push(new K(o.field,"asc"===o.dir?0:1)));return new Js(Js.UNKNOWN_ID,this.collectionId,n,Ce.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function p(r){var e,n;if(re(r instanceof vr||r instanceof Pr),r instanceof vr){if(r instanceof Th){const c=(null===(n=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(m=>vr.create(r.field,"==",m)))||[];return Pr.create(c,"or")}return r}const o=r.filters.map(c=>p(c));return Pr.create(o,r.op)}function P(r){if(0===r.getFilters().length)return[];const e=ae(p(r));return re(S(e)),d(e)||_(e)?[e]:e.getFilters()}function d(r){return r instanceof vr}function _(r){return r instanceof Pr&&md(r)}function S(r){return d(r)||_(r)||function(n){if(n instanceof Pr&&du(n)){for(const o of n.getFilters())if(!d(o)&&!_(o))return!1;return!0}return!1}(r)}function ae(r){if(re(r instanceof vr||r instanceof Pr),r instanceof vr)return r;if(1===r.filters.length)return ae(r.filters[0]);const e=r.filters.map(o=>ae(o));let n=Pr.create(e,r.op);return n=Qt(n),S(n)?n:(re(n instanceof Pr),re(pd(n)),re(n.filters.length>1),n.filters.reduce((o,c)=>ve(o,c)))}function ve(r,e){let n;return re(r instanceof vr||r instanceof Pr),re(e instanceof vr||e instanceof Pr),n=r instanceof vr?e instanceof vr?Pr.create([r,e],"and"):Ft(r,e):e instanceof vr?Ft(e,r):function(c,m){if(re(c.filters.length>0&&m.filters.length>0),pd(c)&&pd(m))return rc(c,m.getFilters());const b=du(c)?c:m,$=du(c)?m:c,te=b.filters.map(pe=>ve(pe,$));return Pr.create(te,"or")}(r,e),Qt(n)}function Ft(r,e){if(pd(e))return rc(e,r.getFilters());{const n=e.filters.map(o=>ve(r,o));return Pr.create(n,"or")}}function Qt(r){if(re(r instanceof vr||r instanceof Pr),r instanceof vr)return r;const e=r.getFilters();if(1===e.length)return Qt(e[0]);if(lf(r))return r;const n=e.map(c=>Qt(c)),o=[];return n.forEach(c=>{c instanceof vr?o.push(c):c instanceof Pr&&(c.op===r.op?o.push(...c.filters):o.push(c))}),1===o.length?o[0]:Pr.create(o,r.op)}class _n{constructor(){this.on=new un}addToCollectionParentIndex(e,n){return this.on.add(n),Xt.resolve()}getCollectionParents(e,n){return Xt.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Xt.resolve()}deleteFieldIndex(e,n){return Xt.resolve()}deleteAllFieldIndexes(e){return Xt.resolve()}createTargetIndexes(e,n){return Xt.resolve()}getDocumentsMatchingTarget(e,n){return Xt.resolve(null)}getIndexType(e,n){return Xt.resolve(0)}getFieldIndexes(e,n){return Xt.resolve([])}getNextCollectionGroupToUpdate(e){return Xt.resolve(null)}getMinOffset(e,n){return Xt.resolve(qt.min())}getMinOffsetFromCollectionGroup(e,n){return Xt.resolve(qt.min())}updateCollectionGroup(e,n,o){return Xt.resolve()}updateIndexEntries(e,n){return Xt.resolve()}}class un{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),c=this.index[n]||new xs(Wi.comparator),m=!c.has(o);return this.index[n]=c.add(o),m}has(e){const n=e.lastSegment(),o=e.popLast(),c=this.index[n];return c&&c.has(o)}getEntries(e){return(this.index[e]||new xs(Wi.comparator)).toArray()}}const ri=new Uint8Array(0);class Zn{constructor(e,n){this.user=e,this.databaseId=n,this._n=new un,this.an=new Bo(o=>Ml(o),(o,c)=>_c(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const o=n.lastSegment(),c=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const m={collectionId:o,parent:$o(c)};return ti(e).put(m)}return Xt.resolve()}getCollectionParents(e,n){const o=[],c=IDBKeyRange.bound([n,""],[Vr(n),""],!1,!0);return ti(e).W(c).next(m=>{for(const b of m){if(b.collectionId!==n)break;o.push(Ul(b.parent))}return o})}addFieldIndex(e,n){const o=Fr(e),c={indexId:($=n).indexId,collectionGroup:$.collectionGroup,fields:$.fields.map(te=>[te.fieldPath.canonicalString(),te.kind])};var $;delete c.indexId;const m=o.add(c);if(n.indexState){const b=ji(e);return m.next($=>{b.put(Xf($,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return m.next()}deleteFieldIndex(e,n){const o=Fr(e),c=ji(e),m=lr(e);return o.delete(n.indexId).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Fr(e),o=lr(e),c=ji(e);return n.H().next(()=>o.H()).next(()=>c.H())}createTargetIndexes(e,n){return Xt.forEach(this.un(n),o=>this.getIndexType(e,o).next(c=>{if(0===c||1===c){const m=new tp(o).sn();if(null!=m)return this.addFieldIndex(e,m)}}))}getDocumentsMatchingTarget(e,n){const o=lr(e);let c=!0;const m=new Map;return Xt.forEach(this.un(n),b=>this.cn(e,b).next($=>{c&&(c=!!$),m.set(b,$)})).next(()=>{if(c){let b=Nr();const $=[];return Xt.forEach(m,(te,pe)=>{var nr;Bn("IndexedDbIndexManager",`Using index ${nr=te,`id=${nr.indexId}|cg=${nr.collectionGroup}|f=${nr.fields.map(vs=>`${vs.fieldPath}:${vs.kind}`).join(",")}`} to execute ${Ml(n)}`);const Re=function(nr,vs){const to=U(vs);if(void 0===to)return null;for(const oo of za(nr,to.fieldPath))switch(oo.op){case"array-contains-any":return oo.value.arrayValue.values||[];case"array-contains":return[oo.value]}return null}(pe,te),it=function(nr,vs){const to=new Map;for(const oo of Q(vs))for(const $a of za(nr,oo.fieldPath))switch($a.op){case"==":case"in":to.set(oo.fieldPath.canonicalString(),$a.value);break;case"not-in":case"!=":return to.set(oo.fieldPath.canonicalString(),$a.value),Array.from(to.values())}return null}(pe,te),jt=function(nr,vs){const to=[];let oo=!0;for(const $a of Q(vs)){const Md=0===$a.kind?Br(nr,$a.fieldPath,nr.startAt):sc(nr,$a.fieldPath,nr.startAt);to.push(Md.value),oo&&(oo=Md.inclusive)}return new $l(to,oo)}(pe,te),hn=function(nr,vs){const to=[];let oo=!0;for(const $a of Q(vs)){const Md=0===$a.kind?sc(nr,$a.fieldPath,nr.endAt):Br(nr,$a.fieldPath,nr.endAt);to.push(Md.value),oo&&(oo=Md.inclusive)}return new $l(to,oo)}(pe,te),Xn=this.ln(te,pe,jt),si=this.ln(te,pe,hn),oi=this.hn(te,pe,it),sr=this.Pn(te.indexId,Re,Xn,jt.inclusive,si,hn.inclusive,oi);return Xt.forEach(sr,yr=>o.j(yr,n.limit).next(nr=>{nr.forEach(vs=>{const to=Gn.fromSegments(vs.documentKey);b.has(to)||(b=b.add(to),$.push(to))})}))}).next(()=>$)}return Xt.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:P(Pr.create(e.filters,"and")).map(o=>vd(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,o,c,m,b,$){const te=(null!=n?n.length:1)*Math.max(o.length,m.length),pe=te/(null!=n?n.length:1),Re=[];for(let it=0;it<te;++it){const jt=n?this.In(n[it/pe]):ri,hn=this.Tn(e,jt,o[it%pe],c),Xn=this.En(e,jt,m[it%pe],b),si=$.map(oi=>this.Tn(e,jt,oi,!0));Re.push(...this.createRange(hn,Xn,si))}return Re}Tn(e,n,o,c){const m=new nh(e,Gn.empty(),n,o);return c?m:m.Ht()}En(e,n,o,c){const m=new nh(e,Gn.empty(),n,o);return c?m.Ht():m}cn(e,n){const o=new tp(n),c=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,c).next(m=>{let b=null;for(const $ of m)o.en($)&&(!b||$.fields.length>b.fields.length)&&(b=$);return b})}getIndexType(e,n){let o=2;const c=this.un(n);return Xt.forEach(c,m=>this.cn(e,m).next(b=>{b?0!==o&&b.fields.length<function(te){let pe=new xs(Xr.comparator),Re=!1;for(const it of te.filters)for(const jt of it.getFlattenedFilters())jt.field.isKeyField()||("array-contains"===jt.op||"array-contains-any"===jt.op?Re=!0:pe=pe.add(jt.field));for(const it of te.orderBy)it.field.isKeyField()||(pe=pe.add(it.field));return pe.size+(Re?1:0)}(m)&&(o=1):o=0})).next(()=>null!==n.limit&&c.length>1&&2===o?1:o)}dn(e,n){const o=new pf;for(const c of Q(e)){const m=n.data.field(c.fieldPath);if(null==m)return null;const b=o.jt(c.kind);th.St.ht(m,b)}return o.Ut()}In(e){const n=new pf;return th.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const o=new pf;return th.St.ht(nc(this.databaseId,n),o.jt(function(m){const b=Q(m);return 0===b.length?0:b[b.length-1].kind}(e))),o.Ut()}hn(e,n,o){if(null===o)return[];let c=[];c.push(new pf);let m=0;for(const b of Q(e)){const $=o[m++];for(const te of c)if(this.Rn(n,b.fieldPath)&&el($))c=this.Vn(c,b,$);else{const pe=te.jt(b.kind);th.St.ht($,pe)}}return this.mn(c)}ln(e,n,o){return this.hn(e,n,o.position)}mn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Ut();return n}Vn(e,n,o){const c=[...e],m=[];for(const b of o.arrayValue.values||[])for(const $ of c){const te=new pf;te.seed($.Ut()),th.St.ht(b,te.jt(n.kind)),m.push(te)}return m}Rn(e,n){return!!e.filters.find(o=>o instanceof vr&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Fr(e),c=ji(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(m=>{const b=[];return Xt.forEach(m,$=>c.get([$.indexId,this.uid]).next(te=>{b.push(function(Re,it){const jt=it?new Ce(it.sequenceNumber,new qt(es(it.readTime),new Gn(Ul(it.documentKey)),it.largestBatchId)):Ce.empty(),hn=Re.fields.map(([Xn,si])=>new K(Xr.fromServerFormat(Xn),si));return new Js(Re.indexId,Re.collectionGroup,hn,jt)}($,te))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,c)=>{const m=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==m?m:vi(o.collectionGroup,c.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const c=Fr(e),m=ji(e);return this.fn(e).next(b=>c.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next($=>Xt.forEach($,te=>m.put(Xf(te.indexId,this.user,b,o)))))}updateIndexEntries(e,n){const o=new Map;return Xt.forEach(n,(c,m)=>{const b=o.get(c.collectionGroup);return(b?Xt.resolve(b):this.getFieldIndexes(e,c.collectionGroup)).next($=>(o.set(c.collectionGroup,$),Xt.forEach($,te=>this.gn(e,c,te).next(pe=>{const Re=this.pn(m,te);return pe.isEqual(Re)?Xt.resolve():this.yn(e,m,te,pe,Re)}))))})}wn(e,n,o,c){return lr(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.An(o,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,o,c){return lr(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.An(o,n.key),n.key.path.toArray()])}gn(e,n,o){const c=lr(e);let m=new xs(xd);return c.Y({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.An(o,n)])},(b,$)=>{m=m.add(new nh(o.indexId,n,$.arrayValue,$.directionalValue))}).next(()=>m)}pn(e,n){let o=new xs(xd);const c=this.dn(n,e);if(null==c)return o;const m=U(n);if(null!=m){const b=e.data.field(m.fieldPath);if(el(b))for(const $ of b.arrayValue.values||[])o=o.add(new nh(n.indexId,e.key,this.In($),c))}else o=o.add(new nh(n.indexId,e.key,ri,c));return o}yn(e,n,o,c,m){Bn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const b=[];return function(te,pe,Re,it,jt){const hn=te.getIterator(),Xn=pe.getIterator();let si=gl(hn),oi=gl(Xn);for(;si||oi;){let sr=!1,yr=!1;if(si&&oi){const nr=Re(si,oi);nr<0?yr=!0:nr>0&&(sr=!0)}else null!=si?yr=!0:sr=!0;sr?(it(oi),oi=gl(Xn)):yr?(jt(si),si=gl(hn)):(si=gl(hn),oi=gl(Xn))}}(c,m,xd,$=>{b.push(this.wn(e,n,o,$))},$=>{b.push(this.Sn(e,n,o,$))}),Xt.waitFor(b)}fn(e){let n=1;return ji(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,m)=>{m.done(),n=c.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((b,$)=>xd(b,$)).filter((b,$,te)=>!$||0!==xd(b,te[$-1]));const c=[];c.push(e);for(const b of o){const $=xd(b,e),te=xd(b,n);if(0===$)c[0]=e.Ht();else if($>0&&te<0)c.push(b),c.push(b.Ht());else if(te>0)break}c.push(n);const m=[];for(let b=0;b<c.length;b+=2){if(this.bn(c[b],c[b+1]))return[];m.push(IDBKeyRange.bound([c[b].indexId,this.uid,c[b].arrayValue,c[b].directionalValue,ri,[]],[c[b+1].indexId,this.uid,c[b+1].arrayValue,c[b+1].directionalValue,ri,[]]))}return m}bn(e,n){return xd(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gs)}getMinOffset(e,n){return Xt.mapArray(this.un(n),o=>this.cn(e,o).next(c=>c||ui())).next(gs)}}function ti(r){return Do(r,"collectionParents")}function lr(r){return Do(r,"indexEntries")}function Fr(r){return Do(r,"indexConfiguration")}function ji(r){return Do(r,"indexState")}function gs(r){re(0!==r.length);let e=r[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<r.length;o++){const c=r[o].indexState.offset;ei(c,e)<0&&(e=c),n<c.largestBatchId&&(n=c.largestBatchId)}return new qt(e.readTime,e.documentKey,n)}const _s={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ds(r,e,n){const o=r.store("mutations"),c=r.store("documentMutations"),m=[],b=IDBKeyRange.only(n.batchId);let $=0;const te=o.Y({range:b},(Re,it,jt)=>($++,jt.delete()));m.push(te.next(()=>{re(1===$)}));const pe=[];for(const Re of n.mutations){const it=xl(e,Re.key.path,n.batchId);m.push(c.delete(it)),pe.push(Re.key)}return Xt.waitFor(m).next(()=>pe)}function ks(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ui();e=r.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class Us{constructor(e,n,o,c){this.userId=e,this.serializer=n,this.indexManager=o,this.referenceDelegate=c,this.Dn={}}static ct(e,n,o,c){re(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Us(m,n,o,c)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zs(e).Y({index:"userMutationsIndex",range:o},(c,m,b)=>{n=!1,b.done()}).next(()=>n)}addMutationBatch(e,n,o,c){const m=Yo(e),b=zs(e);return b.add({}).next($=>{re("number"==typeof $);const te=new vu($,n,o,c),pe=function(hn,Xn,si){const oi=si.baseMutations.map(yr=>Tu(hn.ut,yr)),sr=si.mutations.map(yr=>Tu(hn.ut,yr));return{userId:Xn,batchId:si.batchId,localWriteTimeMs:si.localWriteTime.toMillis(),baseMutations:oi,mutations:sr}}(this.serializer,this.userId,te),Re=[];let it=new xs((jt,hn)=>vi(jt.canonicalString(),hn.canonicalString()));for(const jt of c){const hn=xl(this.userId,jt.key.path,$);it=it.add(jt.key.path.popLast()),Re.push(b.put(pe)),Re.push(m.put(hn,Jl))}return it.forEach(jt=>{Re.push(this.indexManager.addToCollectionParentIndex(e,jt))}),e.addOnCommittedListener(()=>{this.Dn[$]=te.keys()}),Xt.waitFor(Re).next(()=>te)})}lookupMutationBatch(e,n){return zs(e).get(n).next(o=>o?(re(o.userId===this.userId),To(this.serializer,o)):null)}Cn(e,n){return this.Dn[n]?Xt.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const c=o.keys();return this.Dn[n]=c,c}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,c=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return zs(e).Y({index:"userMutationsIndex",range:c},(b,$,te)=>{$.userId===this.userId&&(re($.batchId>=o),m=To(this.serializer,$)),te.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return zs(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(c,m,b)=>{o=m.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zs(e).W("userMutationsIndex",n).next(o=>o.map(c=>To(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Hl(this.userId,n.path),c=IDBKeyRange.lowerBound(o),m=[];return Yo(e).Y({range:c},(b,$,te)=>{const[pe,Re,it]=b,jt=Ul(Re);if(pe===this.userId&&n.path.isEqual(jt))return zs(e).get(it).next(hn=>{if(!hn)throw ui();re(hn.userId===this.userId),m.push(To(this.serializer,hn))});te.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new xs(vi);const c=[];return n.forEach(m=>{const b=Hl(this.userId,m.path),$=IDBKeyRange.lowerBound(b),te=Yo(e).Y({range:$},(pe,Re,it)=>{const[jt,hn,Xn]=pe,si=Ul(hn);jt===this.userId&&m.path.isEqual(si)?o=o.add(Xn):it.done()});c.push(te)}),Xt.waitFor(c).next(()=>this.vn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,c=o.length+1,m=Hl(this.userId,o),b=IDBKeyRange.lowerBound(m);let $=new xs(vi);return Yo(e).Y({range:b},(te,pe,Re)=>{const[it,jt,hn]=te,Xn=Ul(jt);it===this.userId&&o.isPrefixOf(Xn)?Xn.length===c&&($=$.add(hn)):Re.done()}).next(()=>this.vn(e,$))}vn(e,n){const o=[],c=[];return n.forEach(m=>{c.push(zs(e).get(m).next(b=>{if(null===b)throw ui();re(b.userId===this.userId),o.push(To(this.serializer,b))}))}),Xt.waitFor(c).next(()=>o)}removeMutationBatch(e,n){return ds(e.ae,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),Xt.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Xt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return Yo(e).Y({range:o},(m,b,$)=>{if(m[0]===this.userId){const te=Ul(m[1]);c.push(te)}else $.done()}).next(()=>{re(0===c.length)})})}containsKey(e,n){return yo(e,this.userId,n)}Mn(e){return Pa(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yo(r,e,n){const o=Hl(e,n.path),c=o[1],m=IDBKeyRange.lowerBound(o);let b=!1;return Yo(r).Y({range:m,J:!0},($,te,pe)=>{const[Re,it,jt]=$;Re===e&&it===c&&(b=!0),pe.done()}).next(()=>b)}function zs(r){return Do(r,"mutations")}function Yo(r){return Do(r,"documentMutations")}function Pa(r){return Do(r,"mutationQueues")}class Io{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Io(0)}static Nn(){return new Io(-1)}}class Mc{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const o=new Io(n.highestTargetId);return n.highestTargetId=o.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ii.fromTimestamp(new Si(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Bn(e).next(c=>(c.highestListenSequenceNumber=n,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),n>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=n),this.Ln(e,c)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.qn(n,o),this.Ln(e,o))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Na(e).delete(n.targetId)).next(()=>this.Bn(e)).next(o=>(re(o.targetCount>0),o.targetCount-=1,this.Ln(e,o)))}removeTargets(e,n,o){let c=0;const m=[];return Na(e).Y((b,$)=>{const te=nl($);te.sequenceNumber<=n&&null===o.get(te.targetId)&&(c++,m.push(this.removeTargetData(e,te)))}).next(()=>Xt.waitFor(m)).next(()=>c)}forEachTarget(e,n){return Na(e).Y((o,c)=>{const m=nl(c);n(m)})}Bn(e){return td(e).get("targetGlobalKey").next(n=>(re(null!==n),n))}Ln(e,n){return td(e).put("targetGlobalKey",n)}kn(e,n){return Na(e).put(bl(this.serializer,n))}qn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Ml(n),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return Na(e).Y({range:c,index:"queryTargetsIndex"},(b,$,te)=>{const pe=nl($);_c(n,pe.target)&&(m=pe,te.done())}).next(()=>m)}addMatchingKeys(e,n,o){const c=[],m=Pl(e);return n.forEach(b=>{const $=$o(b.path);c.push(m.put({targetId:o,path:$})),c.push(this.referenceDelegate.addReference(e,o,b))}),Xt.waitFor(c)}removeMatchingKeys(e,n,o){const c=Pl(e);return Xt.forEach(n,m=>{const b=$o(m.path);return Xt.waitFor([c.delete([o,b]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,n){const o=Pl(e),c=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),c=Pl(e);let m=Nr();return c.Y({range:o,J:!0},(b,$,te)=>{const pe=Ul(b[1]),Re=new Gn(pe);m=m.add(Re)}).next(()=>m)}containsKey(e,n){const o=$o(n.path),c=IDBKeyRange.bound([o],[Vr(o)],!1,!0);let m=0;return Pl(e).Y({index:"documentTargetsIndex",J:!0,range:c},([b,$],te,pe)=>{0!==b&&(m++,pe.done())}).next(()=>m>0)}_t(e,n){return Na(e).get(n).next(o=>o?nl(o):null)}}function Na(r){return Do(r,"targets")}function td(r){return Do(r,"targetGlobal")}function Pl(r){return Do(r,"targetDocuments")}function Yl([r,e],[n,o]){const c=vi(r,n);return 0===c?vi(e,o):c}class Oc{constructor(e){this.Qn=e,this.buffer=new xs(Yl),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Yl(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hh{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;Bn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ke.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Ha(o)?Bn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ei(o)}yield n.Gn(3e5)}))}}class Au{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return Xt.resolve(Ra._e);const o=new Oc(n);return this.zn.forEachTarget(e,c=>o.Un(c.sequenceNumber)).next(()=>this.zn.Hn(e,c=>o.Un(c))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.zn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Bn("LruGarbageCollector","Garbage collection skipped; disabled"),Xt.resolve(_s)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Bn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_s):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let o,c,m,b,$,te,pe;const Re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(it=>(it>this.params.maximumSequenceNumbersToCollect?(Bn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${it}`),c=this.params.maximumSequenceNumbersToCollect):c=it,b=Date.now(),this.nthSequenceNumber(e,c))).next(it=>(o=it,$=Date.now(),this.removeTargets(e,o,n))).next(it=>(m=it,te=Date.now(),this.removeOrphanedDocuments(e,o))).next(it=>(pe=Date.now(),ca()<=W.in.DEBUG&&Bn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-Re}ms\n\tDetermined least recently used ${c} in `+($-b)+`ms\n\tRemoved ${m} targets in `+(te-$)+`ms\n\tRemoved ${it} documents in `+(pe-te)+`ms\nTotal Duration: ${pe-Re}ms`),Xt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:it})))}}class im{constructor(e,n){this.db=e,this.garbageCollector=function ih(r,e){return new Au(r,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(c=>o+c))}Yn(e){let n=0;return this.Hn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(o,c)=>n(c))}addReference(e,n,o){return Ru(e,o)}removeReference(e,n,o){return Ru(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Ru(e,n)}Xn(e,n){return function(c,m){let b=!1;return Pa(c).Z($=>yo(c,$,m).next(te=>(te&&(b=!0),Xt.resolve(!te)))).next(()=>b)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.Zn(e,(b,$)=>{if($<=n){const te=this.Xn(e,b).next(pe=>{if(!pe)return m++,o.getEntry(e,b).next(()=>(o.removeEntry(b,ii.min()),Pl(e).delete([0,$o(b.path)])))});c.push(te)}}).next(()=>Xt.waitFor(c)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Ru(e,n)}Zn(e,n){const o=Pl(e);let c,m=Ra._e;return o.Y({index:"documentTargetsIndex"},([b,$],{path:te,sequenceNumber:pe})=>{0===b?(m!==Ra._e&&n(new Gn(Ul(c)),m),m=pe,c=te):m=Ra._e}).next(()=>{m!==Ra._e&&n(new Gn(Ul(c)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ru(r,e){return Pl(r).put((c=r.currentSequenceNumber,{targetId:0,path:$o(e.path),sequenceNumber:c}));var c}class Td{constructor(){this.changes=new Bo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Xt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nd{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Nl(e).put(o)}removeEntry(e,n,o){return Nl(e).delete(function(m,b){const $=m.path.toArray();return[$.slice(0,$.length-2),$[$.length-2],gi(b),$[$.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.er(e,o)))}getEntry(e,n){let o=hr.newInvalidDocument(n);return Nl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ou(n))},(c,m)=>{o=this.tr(n,m)}).next(()=>o)}nr(e,n){let o={size:0,document:hr.newInvalidDocument(n)};return Nl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ou(n))},(c,m)=>{o={document:this.tr(n,m),size:ks(m)}}).next(()=>o)}getEntries(e,n){let o=ko();return this.rr(e,n,(c,m)=>{const b=this.tr(c,m);o=o.insert(c,b)}).next(()=>o)}ir(e,n){let o=ko(),c=new eo(Gn.comparator);return this.rr(e,n,(m,b)=>{const $=this.tr(m,b);o=o.insert(m,$),c=c.insert(m,ks(b))}).next(()=>({documents:o,sr:c}))}rr(e,n,o){if(n.isEmpty())return Xt.resolve();let c=new xs(jh);n.forEach(te=>c=c.add(te));const m=IDBKeyRange.bound(Ou(c.first()),Ou(c.last())),b=c.getIterator();let $=b.getNext();return Nl(e).Y({index:"documentKeyIndex",range:m},(te,pe,Re)=>{const it=Gn.fromSegments([...pe.prefixPath,pe.collectionGroup,pe.documentId]);for(;$&&jh($,it)<0;)o($,null),$=b.getNext();$&&$.isEqual(it)&&(o($,pe),$=b.hasNext()?b.getNext():null),$?Re.U(Ou($)):Re.done()}).next(()=>{for(;$;)o($,null),$=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,n,o,c,m){const b=n.path,$=[b.popLast().toArray(),b.lastSegment(),gi(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],te=[b.popLast().toArray(),b.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nl(e).W(IDBKeyRange.bound($,te,!0)).next(pe=>{m?.incrementDocumentReadCount(pe.length);let Re=ko();for(const it of pe){const jt=this.tr(Gn.fromSegments(it.prefixPath.concat(it.collectionGroup,it.documentId)),it);jt.isFoundDocument()&&(fi(n,jt)||c.has(jt.key))&&(Re=Re.insert(jt.key,jt))}return Re})}getAllFromCollectionGroup(e,n,o,c){let m=ko();const b=np(n,o),$=np(n,qt.max());return Nl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,$,!0)},(te,pe,Re)=>{const it=this.tr(Gn.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);m=m.insert(it.key,it),m.size===c&&Re.done()}).next(()=>m)}newChangeBuffer(e){return new rh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Mu(e).get("remoteDocumentGlobalKey").next(n=>(re(!!n),n))}er(e,n){return Mu(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const o=function En(r,e){let n;if(e.document)n=hf(r.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Gn.fromSegments(e.noDocument.path),c=es(e.noDocument.readTime);n=hr.newNoDocument(o,c),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ui();{const o=Gn.fromSegments(e.unknownDocument.path),c=es(e.unknownDocument.version);n=hr.newUnknownDocument(o,c)}}return e.readTime&&n.setReadTime(function(c){const m=new Si(c[0],c[1]);return ii.fromTimestamp(m)}(e.readTime)),n}(this.serializer,n);if(!o.isNoDocument()||!o.version.isEqual(ii.min()))return o}return hr.newInvalidDocument(e)}}function id(r){return new nd(r)}class rh extends Td{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Bo(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const n=[];let o=0,c=new xs((m,b)=>vi(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const $=this.ar.get(m);if(n.push(this._r.removeEntry(e,m,$.readTime)),b.isValidDocument()){const te=On(this._r.serializer,b);c=c.add(m.path.popLast());const pe=ks(te);o+=pe-$.size,n.push(this._r.addEntry(e,m,te))}else if(o-=$.size,this.trackRemovals){const te=On(this._r.serializer,b.convertToNoDocument(ii.min()));n.push(this._r.addEntry(e,m,te))}}),c.forEach(m=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,m))}),n.push(this._r.updateMetadata(e,o)),Xt.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(o=>(this.ar.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:o,sr:c})=>(c.forEach((m,b)=>{this.ar.set(m,{size:b,readTime:o.get(m).readTime})}),o))}}function Mu(r){return Do(r,"remoteDocumentGlobal")}function Nl(r){return Do(r,"remoteDocumentsV14")}function Ou(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function np(r,e){const n=e.documentKey.path.toArray();return[r,gi(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jh(r,e){const n=r.path.toArray(),o=e.path.toArray();let c=0;for(let m=0;m<n.length-2&&m<o.length-2;++m)if(c=vi(n[m],o[m]),c)return c;return c=vi(n.length,o.length),c||(c=vi(n[n.length-2],o[o.length-2]),c||vi(n[n.length-1],o[o.length-1]))}class mf{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rm{constructor(e,n,o,c){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(c=>(o=c,this.remoteDocumentCache.getEntry(e,n))).next(c=>(null!==o&&wd(o.mutation,c,Ma.empty(),Si.now()),c))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Nr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Nr()){const c=tl();return this.populateOverlays(e,c,n).next(()=>this.computeViews(e,n,c,o).next(m=>{let b=Yc();return m.forEach(($,te)=>{b=b.insert($,te.overlayedDocument)}),b}))}getOverlayedDocuments(e,n){const o=tl();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Nr()))}populateOverlays(e,n,o){const c=[];return o.forEach(m=>{n.has(m)||c.push(m)}),this.documentOverlayCache.getOverlays(e,c).next(m=>{m.forEach((b,$)=>{n.set(b,$)})})}computeViews(e,n,o,c){let m=ko();const b=bd(),$=bd();return n.forEach((te,pe)=>{const Re=o.get(pe.key);c.has(pe.key)&&(void 0===Re||Re.mutation instanceof cc)?m=m.insert(pe.key,pe):void 0!==Re?(b.set(pe.key,Re.mutation.getFieldMask()),wd(Re.mutation,pe,Re.mutation.getFieldMask(),Si.now())):b.set(pe.key,Ma.empty())}),this.recalculateAndSaveOverlays(e,m).next(te=>(te.forEach((pe,Re)=>b.set(pe,Re)),n.forEach((pe,Re)=>{var it;return $.set(pe,new mf(Re,null!==(it=b.get(pe))&&void 0!==it?it:null))}),$))}recalculateAndSaveOverlays(e,n){const o=bd();let c=new eo((b,$)=>b-$),m=Nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(b=>{for(const $ of b)$.keys().forEach(te=>{const pe=n.get(te);if(null===pe)return;let Re=o.get(te)||Ma.empty();Re=$.applyToLocalView(pe,Re),o.set(te,Re);const it=(c.get($.batchId)||Nr()).add(te);c=c.insert($.batchId,it)})}).next(()=>{const b=[],$=c.getReverseIterator();for(;$.hasNext();){const te=$.getNext(),pe=te.key,Re=te.value,it=Ol();Re.forEach(jt=>{if(!m.has(jt)){const hn=_u(n.get(jt),o.get(jt));null!==hn&&it.set(jt,hn),m=m.add(jt)}}),b.push(this.documentOverlayCache.saveOverlays(e,pe,it))}return Xt.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,c){return Gn.isDocumentKey((b=n).path)&&null===b.collectionGroup&&0===b.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):N(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,c):this.getDocumentsMatchingCollectionQuery(e,n,o,c);var b}getNextDocuments(e,n,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,c).next(m=>{const b=c-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,c-m.size):Xt.resolve(tl());let $=-1,te=m;return b.next(pe=>Xt.forEach(pe,(Re,it)=>($<it.largestBatchId&&($=it.largestBatchId),m.get(Re)?Xt.resolve():this.remoteDocumentCache.getEntry(e,Re).next(jt=>{te=te.insert(Re,jt)}))).next(()=>this.populateOverlays(e,pe,m)).next(()=>this.computeViews(e,te,pe,Nr())).next(Re=>({batchId:$,changes:mu(Re)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Gn(n)).next(o=>{let c=Yc();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,n,o,c){const m=n.collectionGroup;let b=Yc();return this.indexManager.getCollectionParents(e,m).next($=>Xt.forEach($,te=>{const pe=(it=n,jt=te.child(m),new ra(jt,null,it.explicitOrderBy.slice(),it.filters.slice(),it.limit,it.limitType,it.startAt,it.endAt));var it,jt;return this.getDocumentsMatchingCollectionQuery(e,pe,o,c).next(Re=>{Re.forEach((it,jt)=>{b=b.insert(it,jt)})})}).next(()=>b))}getDocumentsMatchingCollectionQuery(e,n,o,c){let m;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(b=>(m=b,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,m,c))).next(b=>{m.forEach((te,pe)=>{const Re=pe.getKey();null===b.get(Re)&&(b=b.insert(Re,hr.newInvalidDocument(Re)))});let $=Yc();return b.forEach((te,pe)=>{const Re=m.get(te);void 0!==Re&&wd(Re.mutation,pe,Ma.empty(),Si.now()),fi(n,pe)&&($=$.insert(te,pe))}),$})}}class ip{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Xt.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(c=n).id,version:c.version,createTime:Wo(c.createTime)}),Xt.resolve();var c}getNamedQuery(e,n){return Xt.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(c=n).name,query:Ec(c.bundledQuery),readTime:Wo(c.readTime)}),Xt.resolve();var c}}class wg{constructor(){this.overlays=new eo(Gn.comparator),this.lr=new Map}getOverlay(e,n){return Xt.resolve(this.overlays.get(n))}getOverlays(e,n){const o=tl();return Xt.forEach(n,c=>this.getOverlay(e,c).next(m=>{null!==m&&o.set(c,m)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((c,m)=>{this.lt(e,n,m)}),Xt.resolve()}removeOverlaysForBatchId(e,n,o){const c=this.lr.get(o);return void 0!==c&&(c.forEach(m=>this.overlays=this.overlays.remove(m)),this.lr.delete(o)),Xt.resolve()}getOverlaysForCollection(e,n,o){const c=tl(),m=n.length+1,b=new Gn(n.child("")),$=this.overlays.getIteratorFrom(b);for(;$.hasNext();){const te=$.getNext().value,pe=te.getKey();if(!n.isPrefixOf(pe.path))break;pe.path.length===m&&te.largestBatchId>o&&c.set(te.getKey(),te)}return Xt.resolve(c)}getOverlaysForCollectionGroup(e,n,o,c){let m=new eo((pe,Re)=>pe-Re);const b=this.overlays.getIterator();for(;b.hasNext();){const pe=b.getNext().value;if(pe.getKey().getCollectionGroup()===n&&pe.largestBatchId>o){let Re=m.get(pe.largestBatchId);null===Re&&(Re=tl(),m=m.insert(pe.largestBatchId,Re)),Re.set(pe.getKey(),pe)}}const $=tl(),te=m.getIterator();for(;te.hasNext()&&(te.getNext().value.forEach((pe,Re)=>$.set(pe,Re)),!($.size()>=c)););return Xt.resolve($)}lt(e,n,o){const c=this.overlays.get(o.key);if(null!==c){const b=this.lr.get(c.largestBatchId).delete(o.key);this.lr.set(c.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Qc(n,o));let m=this.lr.get(n);void 0===m&&(m=Nr(),this.lr.set(n,m)),this.lr.set(n,m.add(o.key))}}class sh{constructor(){this.hr=new xs(Fa.Pr),this.Ir=new xs(Fa.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Fa(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Fa(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new Gn(new Wi([])),o=new Fa(n,e),c=new Fa(n,e+1),m=[];return this.Ir.forEachInRange([o,c],b=>{this.dr(b),m.push(b.key)}),m}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Gn(new Wi([])),o=new Fa(n,e),c=new Fa(n,e+1);let m=Nr();return this.Ir.forEachInRange([o,c],b=>{m=m.add(b.key)}),m}containsKey(e){const n=new Fa(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Fa{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Gn.comparator(e.key,n.key)||vi(e.gr,n.gr)}static Tr(e,n){return vi(e.gr,n.gr)||Gn.comparator(e.key,n.key)}}class sm{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new xs(Fa.Pr)}checkEmpty(e){return Xt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,c){const m=this.pr;this.pr++;const b=new vu(m,n,o,c);this.mutationQueue.push(b);for(const $ of c)this.yr=this.yr.add(new Fa($.key,m)),this.indexManager.addToCollectionParentIndex(e,$.key.path.popLast());return Xt.resolve(b)}lookupMutationBatch(e,n){return Xt.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const c=this.Sr(n+1),m=c<0?0:c;return Xt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Xt.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Xt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Fa(n,0),c=new Fa(n,Number.POSITIVE_INFINITY),m=[];return this.yr.forEachInRange([o,c],b=>{const $=this.wr(b.gr);m.push($)}),Xt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new xs(vi);return n.forEach(c=>{const m=new Fa(c,0),b=new Fa(c,Number.POSITIVE_INFINITY);this.yr.forEachInRange([m,b],$=>{o=o.add($.gr)})}),Xt.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,c=o.length+1;let m=o;Gn.isDocumentKey(m)||(m=m.child(""));const b=new Fa(new Gn(m),0);let $=new xs(vi);return this.yr.forEachWhile(te=>{const pe=te.key.path;return!!o.isPrefixOf(pe)&&(pe.length===c&&($=$.add(te.gr)),!0)},b),Xt.resolve(this.br($))}br(e){const n=[];return e.forEach(o=>{const c=this.wr(o);null!==c&&n.push(c)}),n}removeMutationBatch(e,n){re(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return Xt.forEach(n.mutations,c=>{const m=new Fa(c.key,n.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Fa(n,0),c=this.yr.firstAfterOrEqual(o);return Xt.resolve(n.isEqual(c&&c.key))}performConsistencyCheck(e){return Xt.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ku{constructor(e){this.Cr=e,this.docs=new eo(Gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,c=this.docs.get(o),m=c?c.size:0,b=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Xt.resolve(o?o.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let o=ko();return n.forEach(c=>{const m=this.docs.get(c);o=o.insert(c,m?m.document.mutableCopy():hr.newInvalidDocument(c))}),Xt.resolve(o)}getDocumentsMatchingQuery(e,n,o,c){let m=ko();const b=n.path,$=new Gn(b.child("")),te=this.docs.getIteratorFrom($);for(;te.hasNext();){const{key:pe,value:{document:Re}}=te.getNext();if(!b.isPrefixOf(pe.path))break;pe.path.length>b.length+1||ei(Yt(Re),o)<=0||(c.has(Re.key)||fi(n,Re))&&(m=m.insert(Re.key,Re.mutableCopy()))}return Xt.resolve(m)}getAllFromCollectionGroup(e,n,o,c){ui()}vr(e,n){return Xt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Pu(this)}getSize(e){return Xt.resolve(this.size)}}class Pu extends Td{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?n.push(this._r.addEntry(e,c)):this._r.removeEntry(o)}),Xt.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class oh{constructor(e){this.persistence=e,this.Fr=new Bo(n=>Ml(n),_c),this.lastRemoteSnapshotVersion=ii.min(),this.highestTargetId=0,this.Mr=0,this.Or=new sh,this.targetCount=0,this.Nr=Io.On()}forEachTarget(e,n){return this.Fr.forEach((o,c)=>n(c)),Xt.resolve()}getLastRemoteSnapshotVersion(e){return Xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xt.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Xt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),Xt.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Xt.resolve()}updateTargetData(e,n){return this.kn(n),Xt.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Xt.resolve()}removeTargets(e,n,o){let c=0;const m=[];return this.Fr.forEach((b,$)=>{$.sequenceNumber<=n&&null===o.get($.targetId)&&(this.Fr.delete(b),m.push(this.removeMatchingKeysForTargetId(e,$.targetId)),c++)}),Xt.waitFor(m).next(()=>c)}getTargetCount(e){return Xt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return Xt.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),Xt.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const c=this.persistence.referenceDelegate,m=[];return c&&n.forEach(b=>{m.push(c.markPotentiallyOrphaned(e,b))}),Xt.waitFor(m)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Xt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return Xt.resolve(o)}containsKey(e,n){return Xt.resolve(this.Or.containsKey(n))}}class Nu{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ra(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new oh(this),this.indexManager=new _n,this.remoteDocumentCache=new ku(o=>this.referenceDelegate.Qr(o)),this.serializer=new vn(n),this.Kr=new ip(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new sm(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){Bn("MemoryPersistence","Starting transaction:",e);const c=new om(this.Lr.next());return this.referenceDelegate.$r(),o(c).next(m=>this.referenceDelegate.Ur(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}Wr(e,n){return Xt.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class om extends tr{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.Gr=new sh,this.zr=null}static jr(e){return new Yd(e)}get Hr(){if(this.zr)return this.zr;throw ui()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),Xt.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),Xt.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Xt.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(c=>this.Hr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(c=>{c.forEach(m=>this.Hr.add(m.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xt.forEach(this.Hr,o=>{const c=Gn.fromPath(o);return this.Jr(e,c).next(m=>{m||n.removeEntry(c,ii.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Xt.or([()=>Xt.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class kc{constructor(e){this.serializer=e}N(e,n,o,c){const m=new Ks("createOrUpgrade",n);var te;o<1&&c>=1&&(e.createObjectStore("owner"),(te=e).createObjectStore("mutationQueues",{keyPath:"userId"}),te.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dc,{unique:!0}),te.createObjectStore("documentMutations"),Zd(e),function(te){te.createObjectStore("remoteDocuments")}(e));let b=Xt.resolve();return o<3&&c>=3&&(0!==o&&(function(te){te.deleteObjectStore("targetDocuments"),te.deleteObjectStore("targets"),te.deleteObjectStore("targetGlobal")}(e),Zd(e)),b=b.next(()=>function(te){const pe=te.store("targetGlobal"),Re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ii.min().toTimestamp(),targetCount:0};return pe.put("targetGlobalKey",Re)}(m))),o<4&&c>=4&&(0!==o&&(b=b.next(()=>function(te,pe){return pe.store("mutations").W().next(Re=>{te.deleteObjectStore("mutations"),te.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Dc,{unique:!0});const it=pe.store("mutations"),jt=Re.map(hn=>it.put(hn));return Xt.waitFor(jt)})}(e,m))),b=b.next(()=>{!function(te){te.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(b=b.next(()=>this.Zr(m))),o<6&&c>=6&&(b=b.next(()=>(function(te){te.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(m)))),o<7&&c>=7&&(b=b.next(()=>this.ei(m))),o<8&&c>=8&&(b=b.next(()=>this.ti(e,m))),o<9&&c>=9&&(b=b.next(()=>{!function(te){te.objectStoreNames.contains("remoteDocumentChanges")&&te.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(b=b.next(()=>this.ni(m))),o<11&&c>=11&&(b=b.next(()=>{(function(te){te.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(te){te.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(b=b.next(()=>{!function(te){const pe=te.createObjectStore("documentOverlays",{keyPath:Dh});pe.createIndex("collectionPathOverlayIndex",ya,{unique:!1}),pe.createIndex("collectionGroupOverlayIndex",Tl,{unique:!1})}(e)})),o<13&&c>=13&&(b=b.next(()=>function(te){const pe=te.createObjectStore("remoteDocumentsV14",{keyPath:xc});pe.createIndex("documentKeyIndex",fc),pe.createIndex("collectionGroupIndex",Hc)}(e)).next(()=>this.ri(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(b=b.next(()=>this.ii(e,m))),o<15&&c>=15&&(b=b.next(()=>function(te){te.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),te.createObjectStore("indexState",{keyPath:Od}).createIndex("sequenceNumberIndex",Ch,{unique:!1}),te.createObjectStore("indexEntries",{keyPath:nu}).createIndex("documentKeyIndex",kd,{unique:!1})}(e))),b}Xr(e){let n=0;return e.store("remoteDocuments").Y((o,c)=>{n+=ks(c)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Zr(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(c=>Xt.forEach(c,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",b).next($=>Xt.forEach($,te=>{re(te.userId===m.userId);const pe=To(this.serializer,te);return ds(e,m.userId,pe).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const m=[];return o.Y((b,$)=>{const te=new Wi(b),pe=[0,$o(te)];m.push(n.get(pe).next(Re=>Re?Xt.resolve():n.put({targetId:0,path:$o(te),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Xt.waitFor(m))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Hf});const o=n.store("collectionParents"),c=new un,m=b=>{if(c.add(b)){const $=b.lastSegment(),te=b.popLast();return o.put({collectionId:$,parent:$o(te)})}};return n.store("remoteDocuments").Y({J:!0},(b,$)=>{const te=new Wi(b);return m(te.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([b,$,te],pe)=>{const Re=Ul($);return m(Re.popLast())}))}ni(e){const n=e.store("targets");return n.Y((o,c)=>{const m=nl(c),b=bl(this.serializer,m);return n.put(b)})}ri(e,n){const o=n.store("remoteDocuments"),c=[];return o.Y((m,b)=>{const $=n.store("remoteDocumentsV14"),te=(it=b,it.document?new Gn(Wi.fromString(it.document.name).popFirst(5)):it.noDocument?Gn.fromSegments(it.noDocument.path):it.unknownDocument?Gn.fromSegments(it.unknownDocument.path):ui()).path.toArray(),pe={prefixPath:te.slice(0,te.length-2),collectionGroup:te[te.length-2],documentId:te[te.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};var it;c.push($.put(pe))}).next(()=>Xt.waitFor(c))}ii(e,n){const o=n.store("mutations"),c=id(this.serializer),m=new Nu(Yd.jr,this.serializer.ut);return o.W().next(b=>{const $=new Map;return b.forEach(te=>{var pe;let Re=null!==(pe=$.get(te.userId))&&void 0!==pe?pe:Nr();To(this.serializer,te).keys().forEach(it=>Re=Re.add(it)),$.set(te.userId,Re)}),Xt.forEach($,(te,pe)=>{const Re=new $i(pe),it=ep.ct(this.serializer,Re),jt=m.getIndexManager(Re),hn=Us.ct(Re,this.serializer,jt,m.referenceDelegate);return new rm(c,hn,it,jt).recalculateAndSaveOverlaysForDocumentKeys(new Pd(n,Ra._e),te).next()})})}}function Zd(r){r.createObjectStore("targetDocuments",{keyPath:jl}).createIndex("documentTargetsIndex",Hu,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xl,{unique:!0}),r.createObjectStore("targetGlobal")}const ah="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cg{constructor(e,n,o,c,m,b,$,te,pe,Re,it=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.si=m,this.window=b,this.document=$,this.oi=pe,this._i=Re,this.ai=it,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=jt=>Promise.resolve(),!Cg.D())throw new X(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new im(this,c),this.Ii=n+"main",this.serializer=new vn(te),this.Ti=new Xs(this.Ii,this.ai,new kc(this.serializer)),this.qr=new Mc(this.referenceDelegate,this.serializer),this.remoteDocumentCache=id(this.serializer),this.Kr=new bg,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===Re&&Mo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(B.FAILED_PRECONDITION,ah);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Ra(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var o=(0,Ke.Z)(function*(c){if(n.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,Ke.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ke.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ha(e))return Bn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Bn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return rp(e).get("owner").next(n=>Xt.resolve(this.wi(n)))}Si(e){return sp(e).delete(this.clientId)}bi(){var e=this;return(0,Ke.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Do(o,"clientMetadata");return c.W().next(m=>{const b=e.Ci(m,18e5),$=m.filter(te=>-1===b.indexOf(te));return Xt.forEach($,te=>c.delete(te.clientId)).next(()=>$)})}).catch(()=>[]);if(e.Ei)for(const o of n)e.Ei.removeItem(e.vi(o.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Xt.resolve(!0):rp(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new X(B.FAILED_PRECONDITION,ah);return!1}}return!(!this.networkEnabled||!this.inForeground)||sp(e).W().next(o=>void 0===this.Ci(o,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Bn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ke.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Pd(n,Ra._e);return e.pi(o).next(()=>e.Si(o))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(o=>this.Di(o.updateTimeMs,n)&&!this.Fi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>sp(e).W().next(n=>this.Ci(n,18e5).map(o=>o.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Us.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zn(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return ep.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,o){Bn("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===n?"readonly":"readwrite",m=15===(te=this.ai)?Ja:14===te?ml:13===te?pc:12===te?ud:11===te?ec:void ui();var te;let b;return this.Ti.runTransaction(e,c,m,$=>(b=new Pd($,this.Lr?this.Lr.next():Ra._e),"readwrite-primary"===n?this.fi(b).next(te=>!!te||this.gi(b)).next(te=>{if(!te)throw Mo(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new X(B.FAILED_PRECONDITION,Ai);return o(b)}).next(te=>this.yi(b).next(()=>te)):this.Li(b).next(()=>o(b)))).then($=>(b.raiseOnCommittedEvent(),$))}Li(e){return rp(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new X(B.FAILED_PRECONDITION,ah)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rp(e).put("owner",n)}static D(){return Xs.D()}pi(e){const n=rp(e);return n.get("owner").next(o=>this.wi(o)?(Bn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Xt.resolve())}Di(e,n){const o=Date.now();return!(e<o-n||e>o&&(Mo(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,Pe.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const o=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return Bn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Mo("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Mo("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rp(r){return Do(r,"owner")}function sp(r){return Do(r,"clientMetadata")}function lh(r,e){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+e+"/"+n+"/"}class Dg{constructor(e,n,o,c){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=c}static Qi(e,n){let o=Nr(),c=Nr();for(const m of n.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new Dg(e,n.fromCache,o,c)}}class Qy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lv{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,c){const m={result:null};return this.zi(e,n).next(b=>{m.result=b}).next(()=>{if(!m.result)return this.ji(e,n,c,o).next(b=>{m.result=b})}).next(()=>{if(m.result)return;const b=new Qy;return this.Hi(e,n,b).next($=>{if(m.result=$,this.$i)return this.Ji(e,n,b,$.size)})}).next(()=>m.result)}Ji(e,n,o,c){return o.documentReadCount<this.Ui?(ca()<=W.in.DEBUG&&Bn("QueryEngine","SDK will not create cache indexes for query:",Un(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Xt.resolve()):(ca()<=W.in.DEBUG&&Bn("QueryEngine","Query:",Un(n),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Wi*c?(ca()<=W.in.DEBUG&&Bn("QueryEngine","The SDK decides to create cache indexes for query:",Un(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,C(n))):Xt.resolve())}zi(e,n){if(yc(n))return Xt.resolve(null);let o=C(n);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==n.limit&&1===c&&(n=He(n,null,"F"),o=C(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const b=Nr(...m);return this.Gi.getDocuments(e,b).next($=>this.indexManager.getMinOffset(e,o).next(te=>{const pe=this.Yi(n,$);return this.Zi(n,pe,b,te.readTime)?this.zi(e,He(n,null,"F")):this.Xi(e,pe,n,te)}))})))}ji(e,n,o,c){return yc(n)||c.isEqual(ii.min())?Xt.resolve(null):this.Gi.getDocuments(e,o).next(m=>{const b=this.Yi(n,m);return this.Zi(n,b,o,c)?Xt.resolve(null):(ca()<=W.in.DEBUG&&Bn("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Un(n)),this.Xi(e,b,n,Je(c,-1)).next($=>$))})}Yi(e,n){let o=new xs(fr(e));return n.forEach((c,m)=>{fi(e,m)&&(o=o.add(m))}),o}Zi(e,n,o,c){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const m="F"===e.limitType?n.last():n.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}Hi(e,n,o){return ca()<=W.in.DEBUG&&Bn("QueryEngine","Using full collection scan to execute query:",Un(n)),this.Gi.getDocumentsMatchingQuery(e,n,qt.min(),o)}Xi(e,n,o,c){return this.Gi.getDocumentsMatchingQuery(e,o,c).next(m=>(n.forEach(b=>{m=m.insert(b.key,b)}),m))}}class xg{constructor(e,n,o,c){this.persistence=e,this.es=n,this.serializer=c,this.ts=new eo(vi),this.ns=new Bo(m=>Ml(m),_c),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Tg(r,e,n,o){return new xg(r,e,n,o)}function cv(r,e){return am.apply(this,arguments)}function am(){return am=(0,Ke.Z)(function*(r,e){const n=x(r);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let c;return n.mutationQueue.getAllMutationBatches(o).next(m=>(c=m,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(m=>{const b=[],$=[];let te=Nr();for(const pe of c){b.push(pe.batchId);for(const Re of pe.mutations)te=te.add(Re.key)}for(const pe of m){$.push(pe.batchId);for(const Re of pe.mutations)te=te.add(Re.key)}return n.localDocuments.getDocuments(o,te).next(pe=>({_s:pe,removedBatchIds:b,addedBatchIds:$}))})})}),am.apply(this,arguments)}function Jy(r){const e=x(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function dv(r,e,n){let o=Nr(),c=Nr();return n.forEach(m=>o=o.add(m)),e.getEntries(r,o).next(m=>{let b=ko();return n.forEach(($,te)=>{const pe=m.get($);te.isFoundDocument()!==pe.isFoundDocument()&&(c=c.add($)),te.isNoDocument()&&te.version.isEqual(ii.min())?(e.removeEntry($,te.readTime),b=b.insert($,te)):!pe.isValidDocument()||te.version.compareTo(pe.version)>0||0===te.version.compareTo(pe.version)&&pe.hasPendingWrites?(e.addEntry(te),b=b.insert($,te)):Bn("LocalStore","Ignoring outdated watch update for ",$,". Current version:",pe.version," Watch version:",te.version)}),{us:b,cs:c}})}function eb(r,e){const n=x(r);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function op(r,e){const n=x(r);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return n.qr.getTargetData(o,e).next(m=>m?(c=m,Xt.resolve(c)):n.qr.allocateTargetId(o).next(b=>(c=new Ct(e,b,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=n.ts.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}function ap(r,e,n){return gf.apply(this,arguments)}function gf(){return gf=(0,Ke.Z)(function*(r,e,n){const o=x(r),c=o.ts.get(e),m=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",m,b=>o.persistence.referenceDelegate.removeTarget(b,c)))}catch(b){if(!Ha(b))throw b;Bn("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.ts=o.ts.remove(e),o.ns.delete(c.target)}),gf.apply(this,arguments)}function lm(r,e,n){const o=x(r);let c=ii.min(),m=Nr();return o.persistence.runTransaction("Execute query","readwrite",b=>function(te,pe,Re){const it=x(te),jt=it.ns.get(Re);return void 0!==jt?Xt.resolve(it.ts.get(jt)):it.qr.getTargetData(pe,Re)}(o,b,C(e)).next($=>{if($)return c=$.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(b,$.targetId).next(te=>{m=te})}).next(()=>o.es.getDocumentsMatchingQuery(b,e,n?c:ii.min(),n?m:Nr())).next($=>(zh(o,Ii(e),$),{documents:$,ls:m})))}function cm(r,e){const n=x(r),o=x(n.qr),c=n.ts.get(e);return c?Promise.resolve(c.target):n.persistence.runTransaction("Get target data","readonly",m=>o._t(m,e).next(b=>b?b.target:null))}function dm(r,e){const n=x(r),o=n.rs.get(e)||ii.min();return n.persistence.runTransaction("Get new document changes","readonly",c=>n.ss.getAllFromCollectionGroup(c,e,Je(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(zh(n,e,c),c))}function zh(r,e,n){let o=r.rs.get(e)||ii.min();n.forEach((c,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),r.rs.set(e,o)}function lp(){return lp=(0,Ke.Z)(function*(r,e,n,o){const c=x(r);let m=Nr(),b=ko();for(const pe of n){const Re=e.hs(pe.metadata.name);pe.document&&(m=m.add(Re));const it=e.Ps(pe);it.setReadTime(e.Is(pe.metadata.readTime)),b=b.insert(Re,it)}const $=c.ss.newChangeBuffer({trackRemovals:!0}),te=yield op(c,(Re=o,C(xa(Wi.fromString(`__bundle__/docs/${Re}`)))));var Re;return c.persistence.runTransaction("Apply bundle documents","readwrite",pe=>dv(pe,$,b).next(Re=>($.apply(pe),Re)).next(Re=>c.qr.removeMatchingKeysForTargetId(pe,te.targetId).next(()=>c.qr.addMatchingKeys(pe,m,te.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(pe,Re.us,Re.cs)).next(()=>Re.us)))}),lp.apply(this,arguments)}function cp(r,e){return _f.apply(this,arguments)}function _f(){return _f=(0,Ke.Z)(function*(r,e,n=Nr()){const o=yield op(r,C(Ec(e.bundledQuery))),c=x(r);return c.persistence.runTransaction("Save named query","readwrite",m=>{const b=Wo(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return c.Kr.saveNamedQuery(m,e);const $=o.withResumeToken(ia.EMPTY_BYTE_STRING,b);return c.ts=c.ts.insert($.targetId,$),c.qr.updateTargetData(m,$).next(()=>c.qr.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>c.qr.addMatchingKeys(m,n,o.targetId)).next(()=>c.Kr.saveNamedQuery(m,e))})}),_f.apply(this,arguments)}function Gh(r,e){return`firestore_clients_${r}_${e}`}function um(r,e,n){let o=`firestore_mutations_${r}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function dp(r,e){return`firestore_targets_${r}_${e}`}class $h{constructor(e,n,o,c){this.user=e,this.batchId=n,this.state=o,this.error=c}static Ts(e,n,o){const c=JSON.parse(o);let m,b="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return b&&c.error&&(b="string"==typeof c.error.message&&"string"==typeof c.error.code,b&&(m=new X(c.error.code,c.error.message))),b?new $h(e,n,c.state,m):(Mo("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hm{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Ts(e,n){const o=JSON.parse(n);let c,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(c=new X(o.error.code,o.error.message))),m?new hm(e,o.state,c):(Mo("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const o=JSON.parse(n);let c="object"==typeof o&&o.activeTargetIds instanceof Array,m=Sh();for(let b=0;c&&b<o.activeTargetIds.length;++b)c=pl(o.activeTargetIds[b]),m=m.add(o.activeTargetIds[b]);return c?new vf(e,m):(Mo("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Wh{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Wh(n.clientId,n.onlineState):(Mo("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ag{constructor(){this.activeTargetIds=Sh()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fm{constructor(e,n,o,c,m){this.window=e,this.si=n,this.persistenceKey=o,this.Rs=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new eo(vi),this.started=!1,this.ps=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ys=Gh(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Ag),this.Ss=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(te){return`firestore_bundle_loaded_v2_${te}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ke.Z)(function*(){const n=yield e.syncEngine.Bi();for(const c of n){if(c===e.Rs)continue;const m=e.getItem(Gh(e.persistenceKey,c));if(m){const b=vf.Ts(c,m);b&&(e.gs=e.gs.insert(b.clientId,b))}}e.Fs();const o=e.storage.getItem(e.Cs);if(o){const c=e.Ms(o);c&&e.xs(c)}for(const c of e.ps)e.fs(c);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((o,c)=>{c.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,o){this.Ns(e,n,o),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(dp(this.persistenceKey,e));if(o){const c=hm.Ts(e,o);c&&(n=c.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dp(this.persistenceKey,e))}updateQueryState(e,n,o){this.ks(e,n,o)}handleUserChange(e,n,o){n.forEach(c=>{this.Bs(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Bn("SharedClientState","READ",e,n),n}setItem(e,n){Bn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Bn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Bn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ys)return void Mo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ke.Z)(function*(){if(n.started){if(null!==o.key)if(n.Ss.test(o.key)){if(null==o.newValue){const c=n.Ks(o.key);return n.$s(c,null)}{const c=n.Us(o.key,o.newValue);if(c)return n.$s(c.clientId,c)}}else if(n.bs.test(o.key)){if(null!==o.newValue){const c=n.Ws(o.key,o.newValue);if(c)return n.Gs(c)}}else if(n.Ds.test(o.key)){if(null!==o.newValue){const c=n.zs(o.key,o.newValue);if(c)return n.js(c)}}else if(o.key===n.Cs){if(null!==o.newValue){const c=n.Ms(o.newValue);if(c)return n.xs(c)}}else if(o.key===n.ws){const c=function(b){let $=Ra._e;if(null!=b)try{const te=JSON.parse(b);re("number"==typeof te),$=te}catch(te){Mo("SharedClientState","Failed to read sequence number from WebStorage",te)}return $}(o.newValue);c!==Ra._e&&n.sequenceNumberHandler(c)}else if(o.key===n.vs){const c=n.Hs(o.newValue);yield Promise.all(c.map(m=>n.syncEngine.Js(m)))}}else n.ps.push(o)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,o){const c=new $h(this.currentUser,e,n,o),m=um(this.persistenceKey,this.currentUser,e);this.setItem(m,c.Es())}Bs(e){const n=um(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,o){const c=dp(this.persistenceKey,e),m=new hm(e,n,o);this.setItem(c,m.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const o=this.Ks(e);return vf.Ts(o,n)}Ws(e,n){const o=this.bs.exec(e),c=Number(o[1]);return $h.Ts(new $i(void 0!==o[2]?o[2]:null),c,n)}zs(e,n){const o=this.Ds.exec(e),c=Number(o[1]);return hm.Ts(c,n)}Ms(e){return Wh.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,Ke.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);Bn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const o=n?this.gs.insert(e,n):this.gs.remove(e),c=this.Os(this.gs),m=this.Os(o),b=[],$=[];return m.forEach(te=>{c.has(te)||b.push(te)}),c.forEach(te=>{m.has(te)||$.push(te)}),this.syncEngine.Xs(b,$).then(()=>{this.gs=o})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Sh();return e.forEach((o,c)=>{n=n.unionWith(c.activeTargetIds)}),n}}class uv{constructor(){this.eo=new Ag,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ag,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tb{ro(e){}shutdown(){}}class pm{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Bn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Bn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let up=null;function Rg(){return null===up?up=268435456+Math.round(2147483648*Math.random()):up++,"0x"+up.toString(16)}const nb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $0{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Kl="WebChannelConnection";class mm extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${c}/databases/${m}`,this.po="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${m}`}get yo(){return!1}wo(n,o,c,m,b){const $=Rg(),te=this.So(n,o);Bn("RestConnection",`Sending RPC '${n}' ${$}:`,te,c);const pe={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(pe,m,b),this.Do(n,te,pe,c).then(Re=>(Bn("RestConnection",`Received RPC '${n}' ${$}: `,Re),Re),Re=>{throw _a("RestConnection",`RPC '${n}' ${$} failed with error: `,Re,"url: ",te,"request:",c),Re})}Co(n,o,c,m,b,$){return this.wo(n,o,c,m,b)}bo(n,o,c){n["X-Goog-Api-Client"]="gl-js/ fire/"+Go,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((m,b)=>n[b]=m),c&&c.headers.forEach((m,b)=>n[b]=m)}So(n,o){return`${this.mo}/v1/${o}:${nb[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,c){const m=Rg();return new Promise((b,$)=>{const te=new kr;te.setWithCredentials(!0),te.listenOnce(fn.COMPLETE,()=>{try{switch(te.getLastErrorCode()){case Tt.NO_ERROR:const Re=te.getResponseJson();Bn(Kl,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Re)),b(Re);break;case Tt.TIMEOUT:Bn(Kl,`RPC '${e}' ${m} timed out`),$(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case Tt.HTTP_ERROR:const it=te.getStatus();if(Bn(Kl,`RPC '${e}' ${m} failed with status:`,it,"response text:",te.getResponseText()),it>0){let jt=te.getResponseJson();Array.isArray(jt)&&(jt=jt[0]);const hn=jt?.error;if(hn&&hn.status&&hn.message){const Xn=function(oi){const sr=oi.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(sr)>=0?sr:B.UNKNOWN}(hn.status);$(new X(Xn,hn.message))}else $(new X(B.UNKNOWN,"Server responded with status "+te.getStatus()))}else $(new X(B.UNAVAILABLE,"Connection failed."));break;default:ui()}}finally{Bn(Kl,`RPC '${e}' ${m} completed.`)}});const pe=JSON.stringify(c);Bn(Kl,`RPC '${e}' ${m} sending request:`,c),te.send(n,"POST",pe,o,15)})}vo(e,n,o){const c=Rg(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=le(),$=Ae(),te={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},pe=this.longPollingOptions.timeoutSeconds;void 0!==pe&&(te.longPollingTimeout=Math.round(1e3*pe)),this.useFetchStreams&&(te.xmlHttpFactory=new wr({})),this.bo(te.initMessageHeaders,n,o),te.encodeInitMessageHeaders=!0;const Re=m.join("");Bn(Kl,`Creating RPC '${e}' stream ${c}: ${Re}`,te);const it=b.createWebChannel(Re,te);let jt=!1,hn=!1;const Xn=new $0({co:oi=>{hn?Bn(Kl,`Not sending because RPC '${e}' stream ${c} is closed:`,oi):(jt||(Bn(Kl,`Opening RPC '${e}' stream ${c} transport.`),it.open(),jt=!0),Bn(Kl,`RPC '${e}' stream ${c} sending:`,oi),it.send(oi))},lo:()=>it.close()}),si=(oi,sr,yr)=>{oi.listen(sr,nr=>{try{yr(nr)}catch(vs){setTimeout(()=>{throw vs},0)}})};return si(it,as.EventType.OPEN,()=>{hn||Bn(Kl,`RPC '${e}' stream ${c} transport opened.`)}),si(it,as.EventType.CLOSE,()=>{hn||(hn=!0,Bn(Kl,`RPC '${e}' stream ${c} transport closed`),Xn.Ro())}),si(it,as.EventType.ERROR,oi=>{hn||(hn=!0,_a(Kl,`RPC '${e}' stream ${c} transport errored:`,oi),Xn.Ro(new X(B.UNAVAILABLE,"The operation could not be completed")))}),si(it,as.EventType.MESSAGE,oi=>{var sr;if(!hn){const yr=oi.data[0];re(!!yr);const vs=yr.error||(null===(sr=yr[0])||void 0===sr?void 0:sr.error);if(vs){Bn(Kl,`RPC '${e}' stream ${c} received error:`,vs);const to=vs.status;let oo=function(Ny){const K_=Ea[Ny];if(void 0!==K_)return kh(K_)}(to),$a=vs.message;void 0===oo&&(oo=B.INTERNAL,$a="Unknown error status: "+to+" with message "+vs.message),hn=!0,Xn.Ro(new X(oo,$a)),it.close()}else Bn(Kl,`RPC '${e}' stream ${c} received:`,yr),Xn.Vo(yr)}}),si($,Di.STAT_EVENT,oi=>{oi.stat===bi.PROXY?Bn(Kl,`RPC '${e}' stream ${c} detected buffering proxy`):oi.stat===bi.NOPROXY&&Bn(Kl,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{Xn.Ao()},0),Xn}}function gm(){return typeof window<"u"?window:null}function _m(){return typeof document<"u"?document:null}function yf(r){return new Fh(r,!0)}class hp{constructor(e,n,o=1e3,c=1.5,m=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=c,this.xo=m,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),c=Math.max(0,n-o);c>0&&Bn("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,c,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class fp{constructor(e,n,o,c,m,b,$,te){this.si=e,this.Ko=o,this.$o=c,this.connection=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=$,this.listener=te,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new hp(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Ke.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Ke.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,Ke.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Mo(n.toString()),Mo("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Uo===n&&this.s_(o,c)},o=>{e(()=>{const c=new X(B.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(c)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(c=>{o(()=>this.o_(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Ke.Z)(function*(){e.state=0,e.start()}))}o_(e){return Bn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Bn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ib extends fp{constructor(e,n,o,c,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,c,b),this.serializer=m}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Bh(r,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(pe=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===pe?1:"REMOVE"===pe?2:"CURRENT"===pe?3:"RESET"===pe?4:ui(),c=e.targetChange.targetIds||[],m=function(pe,Re){return pe.useProto3Json?(re(void 0===Re||"string"==typeof Re),ia.fromBase64String(Re||"")):(re(void 0===Re||Re instanceof Uint8Array),ia.fromUint8Array(Re||new Uint8Array))}(r,e.targetChange.resumeToken),b=e.targetChange.cause,$=b&&function(pe){const Re=void 0===pe.code?B.UNKNOWN:kh(pe.code);return new X(Re,pe.message||"")}(b);n=new ka(o,c,m,$||null)}else if("documentChange"in e){const o=e.documentChange,c=Wl(r,o.document.name),m=Wo(o.document.updateTime),b=o.document.createTime?Wo(o.document.createTime):ii.min(),$=new Da({mapValue:{fields:o.document.fields}}),te=hr.newFoundDocument(c,m,b,$);n=new kl(o.targetIds||[],o.removedTargetIds||[],te.key,te)}else if("documentDelete"in e){const o=e.documentDelete,c=Wl(r,o.document),m=o.readTime?Wo(o.readTime):ii.min(),b=hr.newNoDocument(c,m);n=new kl([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,c=Wl(r,o.document);n=new kl([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return ui();{const o=e.filter,{count:c=0,unchangedNames:m}=o,b=new yu(c,m);n=new ua(o.targetId,b)}}var pe;return n}(this.serializer,e),o=function(m){if(!("targetChange"in m))return ii.min();const b=m.targetChange;return b.targetIds&&b.targetIds.length?ii.min():b.readTime?Wo(b.readTime):ii.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=Dd(this.serializer),n.addTarget=function(m,b){let $;const te=b.target;if($=vc(te)?{documents:ff(m,te)}:{query:Ju(m,te)},$.targetId=b.targetId,b.resumeToken.approximateByteSize()>0){$.resumeToken=Qu(m,b.resumeToken);const pe=qu(m,b.expectedCount);null!==pe&&($.expectedCount=pe)}else if(b.snapshotVersion.compareTo(ii.min())>0){$.readTime=Jc(m,b.snapshotVersion.toTimestamp());const pe=qu(m,b.expectedCount);null!==pe&&($.expectedCount=pe)}return $}(this.serializer,e);const o=function Jf(r,e){const n=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ui()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=Dd(this.serializer),n.removeTarget=e,this.e_(n)}}class hv extends fp{constructor(e,n,o,c,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,c,b),this.serializer=m,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Wd(r,e){return r&&r.length>0?(re(void 0!==e),r.map(n=>function(c,m){let b=Wo(c.updateTime?c.updateTime:m);return b.isEqual(ii.min())&&(b=Wo(m)),new Ah(b,c.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Wo(e.commitTime);return this.listener.I_(o,n)}return re(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Dd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Tu(this.serializer,o))};this.e_(n)}}class rb extends class{}{constructor(e,n,o,c){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=c,this.d_=!1}A_(){if(this.d_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.wo(e,n,o,c,m)).catch(c=>{throw"FirebaseError"===c.name?(c.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new X(B.UNKNOWN,c.toString())})}Co(e,n,o,c){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.connection.Co(e,n,o,m,b,c)).catch(m=>{throw"FirebaseError"===m.name?(m.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new X(B.UNKNOWN,m.toString())})}terminate(){this.d_=!0}}class sb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Mo(n),this.f_=!1):Bn("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class pp{constructor(e,n,o,c,m){var b=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=m,this.F_.ro($=>{o.enqueueAndForget((0,Ke.Z)(function*(){var te;Qd(b)&&(Bn("RemoteStore","Restarting streams for network reachability change."),yield(te=(0,Ke.Z)(function*(Re){const it=x(Re);it.C_.add(4),yield qd(it),it.M_.set("Unknown"),it.C_.delete(4),yield mp(it)}),function pe(Re){return te.apply(this,arguments)})(b))}))}),this.M_=new sb(o,c)}}function mp(r){return ch.apply(this,arguments)}function ch(){return ch=(0,Ke.Z)(function*(r){if(Qd(r))for(const e of r.v_)yield e(!0)}),ch.apply(this,arguments)}function qd(r){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,Ke.Z)(function*(r){for(const e of r.v_)yield e(!1)}),Mg.apply(this,arguments)}function gp(r,e){const n=x(r);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),ym(n)?vm(n):bf(n).Ho()&&Og(n,e))}function _p(r,e){const n=x(r),o=bf(n);n.D_.delete(e),o.Ho()&&mv(n,e),0===n.D_.size&&(o.Ho()?o.Zo():Qd(n)&&n.M_.set("Unknown"))}function Og(r,e){if(r.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ii.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bf(r).u_(e)}function mv(r,e){r.x_.Oe(e),bf(r).c_(e)}function vm(r){r.x_=new em({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>r.D_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),bf(r).start(),r.M_.g_()}function ym(r){return Qd(r)&&!bf(r).jo()&&r.D_.size>0}function Qd(r){return 0===x(r).C_.size}function ob(r){r.x_=void 0}function bm(r){return Em.apply(this,arguments)}function Em(){return Em=(0,Ke.Z)(function*(r){r.D_.forEach((e,n)=>{Og(r,e)})}),Em.apply(this,arguments)}function ab(r,e){return kg.apply(this,arguments)}function kg(){return kg=(0,Ke.Z)(function*(r,e){ob(r),ym(r)?(r.M_.w_(e),vm(r)):r.M_.set("Unknown")}),kg.apply(this,arguments)}function gv(r,e,n){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,Ke.Z)(function*(r,e,n){if(r.M_.set("Online"),e instanceof ka&&2===e.state&&e.cause)try{yield(o=(0,Ke.Z)(function*(m,b){const $=b.cause;for(const te of b.targetIds)m.D_.has(te)&&(yield m.remoteSyncer.rejectListen(te,$),m.D_.delete(te),m.x_.removeTarget(te))}),function c(m,b){return o.apply(this,arguments)})(r,e)}catch(o){Bn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield vp(r,o)}else if(e instanceof kl?r.x_.$e(e):e instanceof ua?r.x_.Je(e):r.x_.Ge(e),!n.isEqual(ii.min()))try{const o=yield Jy(r.localStore);n.compareTo(o)>=0&&(yield function(m,b){const $=m.x_.it(b);return $.targetChanges.forEach((te,pe)=>{if(te.resumeToken.approximateByteSize()>0){const Re=m.D_.get(pe);Re&&m.D_.set(pe,Re.withResumeToken(te.resumeToken,b))}}),$.targetMismatches.forEach((te,pe)=>{const Re=m.D_.get(te);if(!Re)return;m.D_.set(te,Re.withResumeToken(ia.EMPTY_BYTE_STRING,Re.snapshotVersion)),mv(m,te);const it=new Ct(Re.target,te,pe,Re.sequenceNumber);Og(m,it)}),m.remoteSyncer.applyRemoteEvent($)}(r,n))}catch(o){Bn("RemoteStore","Failed to raise snapshot:",o),yield vp(r,o)}var o}),Pg.apply(this,arguments)}function vp(r,e,n){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,Ke.Z)(function*(r,e,n){if(!Ha(e))throw e;r.C_.add(1),yield qd(r),r.M_.set("Offline"),n||(n=()=>Jy(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ke.Z)(function*(){Bn("RemoteStore","Retrying IndexedDB access"),yield n(),r.C_.delete(1),yield mp(r)}))}),Ng.apply(this,arguments)}function _v(r,e){return e().catch(n=>vp(r,n,e))}function yp(r){return wm.apply(this,arguments)}function wm(){return wm=(0,Ke.Z)(function*(r){const e=x(r),n=Xd(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;vv(e);)try{const c=yield eb(e.localStore,o);if(null===c){0===e.b_.length&&n.Zo();break}o=c.batchId,Id(e,c)}catch(c){yield vp(e,c)}Fg(e)&&lb(e)}),wm.apply(this,arguments)}function vv(r){return Qd(r)&&r.b_.length<10}function Id(r,e){r.b_.push(e);const n=Xd(r);n.Ho()&&n.h_&&n.P_(e.mutations)}function Fg(r){return Qd(r)&&!Xd(r).jo()&&r.b_.length>0}function lb(r){Xd(r).start()}function Lg(r){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,Ke.Z)(function*(r){Xd(r).E_()}),Jd.apply(this,arguments)}function bp(r){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,Ke.Z)(function*(r){const e=Xd(r);for(const n of r.b_)e.P_(n.mutations)}),Vg.apply(this,arguments)}function cb(r,e,n){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,Ke.Z)(function*(r,e,n){const o=r.b_.shift(),c=Mh.from(o,e,n);yield _v(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield yp(r)}),Bg.apply(this,arguments)}function Ug(r,e){return rd.apply(this,arguments)}function rd(){return rd=(0,Ke.Z)(function*(r,e){var n;e&&Xd(r).h_&&(yield(n=(0,Ke.Z)(function*(c,m){if(Oh($=m.code)&&$!==B.ABORTED){const b=c.b_.shift();Xd(c).Yo(),yield _v(c,()=>c.remoteSyncer.rejectFailedWrite(b.batchId,m)),yield yp(c)}var $}),function o(c,m){return n.apply(this,arguments)})(r,e)),Fg(r)&&lb(r)}),rd.apply(this,arguments)}function Hg(r,e){return jg.apply(this,arguments)}function jg(){return jg=(0,Ke.Z)(function*(r,e){const n=x(r);n.asyncQueue.verifyOperationInProgress(),Bn("RemoteStore","RemoteStore received new credentials");const o=Qd(n);n.C_.add(3),yield qd(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield mp(n)}),jg.apply(this,arguments)}function yv(r,e){return il.apply(this,arguments)}function il(){return il=(0,Ke.Z)(function*(r,e){const n=x(r);e?(n.C_.delete(2),yield mp(n)):e||(n.C_.add(2),yield qd(n),n.M_.set("Unknown"))}),il.apply(this,arguments)}function bf(r){return r.O_||(r.O_=function(n,o,c){const m=x(n);return m.A_(),new ib(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(r.datastore,r.asyncQueue,{ho:bm.bind(null,r),Io:ab.bind(null,r),a_:gv.bind(null,r)}),r.v_.push(function(){var e=(0,Ke.Z)(function*(n){n?(r.O_.Yo(),ym(r)?vm(r):r.M_.set("Unknown")):(yield r.O_.stop(),ob(r))});return function(n){return e.apply(this,arguments)}}())),r.O_}function Xd(r){return r.N_||(r.N_=function(n,o,c){const m=x(n);return m.A_(),new hv(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(r.datastore,r.asyncQueue,{ho:Lg.bind(null,r),Io:Ug.bind(null,r),T_:bp.bind(null,r),I_:cb.bind(null,r)}),r.v_.push(function(){var e=(0,Ke.Z)(function*(n){n?(r.N_.Yo(),yield yp(r)):(yield r.N_.stop(),r.b_.length>0&&(Bn("RemoteStore",`Stopping write stream with ${r.b_.length} pending writes`),r.b_=[]))});return function(n){return e.apply(this,arguments)}}())),r.N_}class zg{constructor(e,n,o,c,m){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=c,this.removalCallback=m,this.deferred=new Se,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,c,m){const b=Date.now()+o,$=new zg(e,n,b,c,m);return $.start(o),$}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ef(r,e){if(Mo("AsyncQueue",`${e}: ${r}`),Ha(r))return new X(B.UNAVAILABLE,`${e}: ${r}`);throw r}class dh{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Gn.comparator(n.key,o.key):(n,o)=>Gn.comparator(n.key,o.key),this.keyedMap=Yc(),this.sortedSet=new eo(this.comparator)}static emptySet(e){return new dh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const c=n.getNext().key,m=o.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new dh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Gg{constructor(){this.B_=new eo(Gn.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ui():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Yh{constructor(e,n,o,c,m,b,$,te,pe){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=$,this.excludesMetadataChanges=te,this.hasCachedResults=pe}static fromInitialDocuments(e,n,o,c,m){const b=[];return n.forEach($=>{b.push({type:0,doc:$})}),new Yh(e,n,dh.emptySet(n),b,o,c,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let c=0;c<n.length;c++)if(n[c].type!==o[c].type||!n[c].doc.isEqual(o[c].doc))return!1;return!0}}class db{constructor(){this.k_=void 0,this.listeners=[]}}class bv{constructor(){this.queries=new Bo(e=>mn(e),zt),this.onlineState="Unknown",this.q_=new Set}}function Cm(r,e){return $g.apply(this,arguments)}function $g(){return $g=(0,Ke.Z)(function*(r,e){const n=x(r),o=e.query;let c=!1,m=n.queries.get(o);if(m||(c=!0,m=new db),c)try{m.k_=yield n.onListen(o)}catch(b){const $=Ef(b,`Initialization of query '${Un(e.query)}' failed`);return void e.onError($)}n.queries.set(o,m),m.listeners.push(e),e.Q_(n.onlineState),m.k_&&e.K_(m.k_)&&Sd(n)}),$g.apply(this,arguments)}function Wg(r,e){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,Ke.Z)(function*(r,e){const n=x(r),o=e.query;let c=!1;const m=n.queries.get(o);if(m){const b=m.listeners.indexOf(e);b>=0&&(m.listeners.splice(b,1),c=0===m.listeners.length)}if(c)return n.queries.delete(o),n.onUnlisten(o)}),Yg.apply(this,arguments)}function Ev(r,e){const n=x(r);let o=!1;for(const c of e){const b=n.queries.get(c.query);if(b){for(const $ of b.listeners)$.K_(c)&&(o=!0);b.k_=c}}o&&Sd(n)}function wf(r,e,n){const o=x(r),c=o.queries.get(e);if(c)for(const m of c.listeners)m.onError(n);o.queries.delete(e)}function Sd(r){r.q_.forEach(e=>{e.next()})}class uh{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new Yh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class ub{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class wv{constructor(e){this.serializer=e}hs(e){return Wl(this.serializer,e)}Ps(e){return e.metadata.exists?hf(this.serializer,e.document,!1):hr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Wo(e)}}class Cv{constructor(e,n,o){this.X_=e,this.localStore=n,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kg(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const o=Wi.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,o=new wv(this.serializer);for(const c of e)if(c.metadata.queries){const m=o.hs(c.metadata.name);for(const b of c.metadata.queries){const $=(n.get(b)||Nr()).add(m);n.set(b,$)}}return n}complete(){var e=this;return(0,Ke.Z)(function*(){const n=yield function Sg(r,e,n,o){return lp.apply(this,arguments)}(e.localStore,new wv(e.serializer),e.documents,e.X_.id),o=e.ta(e.documents);for(const c of e.queries)yield cp(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function Kg(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Dm{constructor(e){this.key=e}}class Cf{constructor(e){this.key=e}}class Ep{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Nr(),this.mutatedKeys=Nr(),this._a=fr(e),this.aa=new dh(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new Gg,c=n?n.aa:this.aa;let m=n?n.mutatedKeys:this.mutatedKeys,b=c,$=!1;const te="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,pe="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((Re,it)=>{const jt=c.get(Re),hn=fi(this.query,it)?it:null,Xn=!!jt&&this.mutatedKeys.has(jt.key),si=!!hn&&(hn.hasLocalMutations||this.mutatedKeys.has(hn.key)&&hn.hasCommittedMutations);let oi=!1;jt&&hn?jt.data.isEqual(hn.data)?Xn!==si&&(o.track({type:3,doc:hn}),oi=!0):this.ha(jt,hn)||(o.track({type:2,doc:hn}),oi=!0,(te&&this._a(hn,te)>0||pe&&this._a(hn,pe)<0)&&($=!0)):!jt&&hn?(o.track({type:0,doc:hn}),oi=!0):jt&&!hn&&(o.track({type:1,doc:jt}),oi=!0,(te||pe)&&($=!0)),oi&&(hn?(b=b.add(hn),m=si?m.add(Re):m.delete(Re)):(b=b.delete(Re),m=m.delete(Re)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const Re="F"===this.query.limitType?b.last():b.first();b=b.delete(Re.key),m=m.delete(Re.key),o.track({type:1,doc:Re})}return{aa:b,la:o,Zi:$,mutatedKeys:m}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const c=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const m=e.la.L_();m.sort((pe,Re)=>function(jt,hn){const Xn=si=>{switch(si){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ui()}};return Xn(jt)-Xn(hn)}(pe.type,Re.type)||this._a(pe.doc,Re.doc)),this.Pa(o);const b=n?this.Ia():[],$=0===this.oa.size&&this.current?1:0,te=$!==this.sa;return this.sa=$,0!==m.length||te?{snapshot:new Yh(this.query,e.aa,c,m,e.mutatedKeys,0===$,te,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:b}:{Ta:b}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Gg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Nr(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new Cf(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new Dm(o))}),n}da(e){this.ia=e.ls,this.oa=Nr();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Yh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Dv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class xv{constructor(e){this.key=e,this.Ra=!1}}class hb{constructor(e,n,o,c,m,b){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.Va={},this.ma=new Bo($=>mn($),zt),this.fa=new Map,this.ga=new Set,this.pa=new eo(Gn.comparator),this.ya=new Map,this.wa=new sh,this.Sa={},this.ba=new Map,this.Da=Io.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function fb(r,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Ke.Z)(function*(r,e){const n=l_(r);let o,c;const m=n.ma.get(e);if(m)o=m.targetId,n.sharedClientState.addLocalQueryTarget(o),c=m.view.Aa();else{const b=yield op(n.localStore,C(e)),$=n.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,c=yield qg(n,e,o,"current"===$,b.resumeToken),n.isPrimaryClient&&gp(n.remoteStore,b)}return c}),Zg.apply(this,arguments)}function qg(r,e,n,o,c){return xm.apply(this,arguments)}function xm(){return xm=(0,Ke.Z)(function*(r,e,n,o,c){r.va=(it,jt,hn)=>{return(Xn=(0,Ke.Z)(function*(oi,sr,yr,nr){let vs=sr.view.ca(yr);vs.Zi&&(vs=yield lm(oi.localStore,sr.query,!1).then(({documents:$a})=>sr.view.ca($a,vs)));const to=nr&&nr.targetChanges.get(sr.targetId),oo=sr.view.applyChanges(vs,oi.isPrimaryClient,to);return Df(oi,sr.targetId,oo.Ta),oo.snapshot}),function si(oi,sr,yr,nr){return Xn.apply(this,arguments)})(r,it,jt,hn);var Xn};const m=yield lm(r.localStore,e,!0),b=new Ep(e,m.ls),$=b.ca(m.documents),te=Rc.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==r.onlineState,c),pe=b.applyChanges($,r.isPrimaryClient,te);Df(r,n,pe.Ta);const Re=new Dv(e,n,b);return r.ma.set(e,Re),r.fa.has(n)?r.fa.get(n).push(e):r.fa.set(n,[e]),pe.snapshot}),xm.apply(this,arguments)}function W0(r,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,Ke.Z)(function*(r,e){const n=x(r),o=n.ma.get(e),c=n.fa.get(o.targetId);if(c.length>1)return n.fa.set(o.targetId,c.filter(m=>!zt(m,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ap(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),_p(n.remoteStore,o.targetId),Kh(n,o.targetId)}).catch(Ei))):(Kh(n,o.targetId),yield ap(n.localStore,o.targetId,!0))}),Qg.apply(this,arguments)}function Tv(){return Tv=(0,Ke.Z)(function*(r,e,n){const o=kv(r);try{const c=yield function(b,$){const te=x(b),pe=Si.now(),Re=$.reduce((hn,Xn)=>hn.add(Xn.key),Nr());let it,jt;return te.persistence.runTransaction("Locally write mutations","readwrite",hn=>{let Xn=ko(),si=Nr();return te.ss.getEntries(hn,Re).next(oi=>{Xn=oi,Xn.forEach((sr,yr)=>{yr.isValidDocument()||(si=si.add(sr))})}).next(()=>te.localDocuments.getOverlayedDocuments(hn,Xn)).next(oi=>{it=oi;const sr=[];for(const yr of $){const nr=yl(yr,it.get(yr.key).overlayedDocument);null!=nr&&sr.push(new cc(yr.key,nr,au(nr.value.mapValue),xo.exists(!0)))}return te.mutationQueue.addMutationBatch(hn,pe,sr,$)}).next(oi=>{jt=oi;const sr=oi.applyToLocalDocumentSet(it,si);return te.documentOverlayCache.saveOverlays(hn,oi.batchId,sr)})}).then(()=>({batchId:jt.batchId,changes:mu(it)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(b,$,te){let pe=b.Sa[b.currentUser.toKey()];pe||(pe=new eo(vi)),pe=pe.insert($,te),b.Sa[b.currentUser.toKey()]=pe}(o,c.batchId,n),yield Pc(o,c.changes),yield yp(o.remoteStore)}catch(c){const m=Ef(c,"Failed to persist write");n.reject(m)}}),Tv.apply(this,arguments)}function Jg(r,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Ke.Z)(function*(r,e){const n=x(r);try{const o=yield function Xy(r,e){const n=x(r),o=e.snapshotVersion;let c=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=n.ss.newChangeBuffer({trackRemovals:!0});c=n.ts;const $=[];e.targetChanges.forEach((Re,it)=>{const jt=c.get(it);if(!jt)return;$.push(n.qr.removeMatchingKeys(m,Re.removedDocuments,it).next(()=>n.qr.addMatchingKeys(m,Re.addedDocuments,it)));let hn=jt.withSequenceNumber(m.currentSequenceNumber);var si,oi,sr;null!==e.targetMismatches.get(it)?hn=hn.withResumeToken(ia.EMPTY_BYTE_STRING,ii.min()).withLastLimboFreeSnapshotVersion(ii.min()):Re.resumeToken.approximateByteSize()>0&&(hn=hn.withResumeToken(Re.resumeToken,o)),c=c.insert(it,hn),oi=hn,sr=Re,(0===(si=jt).resumeToken.approximateByteSize()||oi.snapshotVersion.toMicroseconds()-si.snapshotVersion.toMicroseconds()>=3e8||sr.addedDocuments.size+sr.modifiedDocuments.size+sr.removedDocuments.size>0)&&$.push(n.qr.updateTargetData(m,hn))});let te=ko(),pe=Nr();if(e.documentUpdates.forEach(Re=>{e.resolvedLimboDocuments.has(Re)&&$.push(n.persistence.referenceDelegate.updateLimboDocument(m,Re))}),$.push(dv(m,b,e.documentUpdates).next(Re=>{te=Re.us,pe=Re.cs})),!o.isEqual(ii.min())){const Re=n.qr.getLastRemoteSnapshotVersion(m).next(it=>n.qr.setTargetsMetadata(m,m.currentSequenceNumber,o));$.push(Re)}return Xt.waitFor($).next(()=>b.apply(m)).next(()=>n.localDocuments.getLocalViewOfDocuments(m,te,pe)).next(()=>te)}).then(m=>(n.ts=c,m))}(n.localStore,e);e.targetChanges.forEach((c,m)=>{const b=n.ya.get(m);b&&(re(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?b.Ra=!0:c.modifiedDocuments.size>0?re(b.Ra):c.removedDocuments.size>0&&(re(b.Ra),b.Ra=!1))}),yield Pc(n,o,e)}catch(o){yield Ei(o)}}),Tm.apply(this,arguments)}function pb(r,e,n){const o=x(r);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const c=[];o.ma.forEach((m,b)=>{const $=b.view.Q_(e);$.snapshot&&c.push($.snapshot)}),function(b,$){const te=x(b);te.onlineState=$;let pe=!1;te.queries.forEach((Re,it)=>{for(const jt of it.listeners)jt.Q_($)&&(pe=!0)}),pe&&Sd(te)}(o.eventManager,e),c.length&&o.Va.a_(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Im(r,e,n){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,Ke.Z)(function*(r,e,n){const o=x(r);o.sharedClientState.updateQueryState(e,"rejected",n);const c=o.ya.get(e),m=c&&c.key;if(m){let b=new eo(Gn.comparator);b=b.insert(m,hr.newNoDocument(m,ii.min()));const $=Nr().add(m),te=new dc(ii.min(),new Map,new eo(vi),b,$);yield Jg(o,te),o.pa=o.pa.remove(m),o.ya.delete(e),wp(o)}else yield ap(o.localStore,e,!1).then(()=>Kh(o,e,n)).catch(Ei)}),Sm.apply(this,arguments)}function Iv(r,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,Ke.Z)(function*(r,e){const n=x(r),o=e.batch.batchId;try{const c=yield function Ig(r,e){const n=x(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),m=n.ss.newChangeBuffer({trackRemovals:!0});return function($,te,pe,Re){const it=pe.batch,jt=it.keys();let hn=Xt.resolve();return jt.forEach(Xn=>{hn=hn.next(()=>Re.getEntry(te,Xn)).next(si=>{const oi=pe.docVersions.get(Xn);re(null!==oi),si.version.compareTo(oi)<0&&(it.applyToRemoteDocument(si,pe),si.isValidDocument()&&(si.setReadTime(pe.commitVersion),Re.addEntry(si)))})}),hn.next(()=>$.mutationQueue.removeMutationBatch(te,it))}(n,o,e,m).next(()=>m.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function($){let te=Nr();for(let pe=0;pe<$.mutationResults.length;++pe)$.mutationResults[pe].transformResults.length>0&&(te=te.add($.batch.mutations[pe].key));return te}(e))).next(()=>n.localDocuments.getDocuments(o,c))})}(n.localStore,e);hh(n,o,null),Mm(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Pc(n,c)}catch(c){yield Ei(c)}}),Xg.apply(this,arguments)}function Sv(r,e,n){return Am.apply(this,arguments)}function Am(){return Am=(0,Ke.Z)(function*(r,e,n){const o=x(r);try{const c=yield function(b,$){const te=x(b);return te.persistence.runTransaction("Reject batch","readwrite-primary",pe=>{let Re;return te.mutationQueue.lookupMutationBatch(pe,$).next(it=>(re(null!==it),Re=it.keys(),te.mutationQueue.removeMutationBatch(pe,it))).next(()=>te.mutationQueue.performConsistencyCheck(pe)).next(()=>te.documentOverlayCache.removeOverlaysForBatchId(pe,Re,$)).next(()=>te.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(pe,Re)).next(()=>te.localDocuments.getDocuments(pe,Re))})}(o.localStore,e);hh(o,e,n),Mm(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Pc(o,c)}catch(c){yield Ei(c)}}),Am.apply(this,arguments)}function Rm(){return Rm=(0,Ke.Z)(function*(r,e){const n=x(r);Qd(n.remoteStore)||Bn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(b){const $=x(b);return $.persistence.runTransaction("Get highest unacknowledged batch id","readonly",te=>$.mutationQueue.getHighestUnacknowledgedBatchId(te))}(n.localStore);if(-1===o)return void e.resolve();const c=n.ba.get(o)||[];c.push(e),n.ba.set(o,c)}catch(o){const c=Ef(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Rm.apply(this,arguments)}function Mm(r,e){(r.ba.get(e)||[]).forEach(n=>{n.resolve()}),r.ba.delete(e)}function hh(r,e,n){const o=x(r);let c=o.Sa[o.currentUser.toKey()];if(c){const m=c.get(e);m&&(n?m.reject(n):m.resolve(),c=c.remove(e)),o.Sa[o.currentUser.toKey()]=c}}function Kh(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.fa.get(e))r.ma.delete(o),n&&r.Va.Fa(o,n);r.fa.delete(e),r.isPrimaryClient&&r.wa.Rr(e).forEach(o=>{r.wa.containsKey(o)||Av(r,o)})}function Av(r,e){r.ga.delete(e.path.canonicalString());const n=r.pa.get(e);null!==n&&(_p(r.remoteStore,n),r.pa=r.pa.remove(e),r.ya.delete(n),wp(r))}function Df(r,e,n){for(const o of n)o instanceof Dm?(r.wa.addReference(o.key,e),xf(r,o)):o instanceof Cf?(Bn("SyncEngine","Document no longer in limbo: "+o.key),r.wa.removeReference(o.key,e),r.wa.containsKey(o.key)||Av(r,o.key)):ui()}function xf(r,e){const n=e.key,o=n.path.canonicalString();r.pa.get(n)||r.ga.has(o)||(Bn("SyncEngine","New document in limbo: "+n),r.ga.add(o),wp(r))}function wp(r){for(;r.ga.size>0&&r.pa.size<r.maxConcurrentLimboResolutions;){const e=r.ga.values().next().value;r.ga.delete(e);const n=new Gn(Wi.fromString(e)),o=r.Da.next();r.ya.set(o,new xv(n)),r.pa=r.pa.insert(n,o),gp(r.remoteStore,new Ct(C(xa(n.path)),o,"TargetPurposeLimboResolution",Ra._e))}}function Pc(r,e,n){return Om.apply(this,arguments)}function Om(){return Om=(0,Ke.Z)(function*(r,e,n){const o=x(r),c=[],m=[],b=[];var $;o.ma.isEmpty()||(o.ma.forEach(($,te)=>{b.push(o.va(te,e,n).then(pe=>{if((pe||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(te.targetId,pe?.fromCache?"not-current":"current"),pe){c.push(pe);const Re=Dg.Qi(te.targetId,pe);m.push(Re)}}))}),yield Promise.all(b),o.Va.a_(c),yield($=(0,Ke.Z)(function*(pe,Re){const it=x(pe);try{yield it.persistence.runTransaction("notifyLocalViewChanges","readwrite",jt=>Xt.forEach(Re,hn=>Xt.forEach(hn.ki,Xn=>it.persistence.referenceDelegate.addReference(jt,hn.targetId,Xn)).next(()=>Xt.forEach(hn.qi,Xn=>it.persistence.referenceDelegate.removeReference(jt,hn.targetId,Xn)))))}catch(jt){if(!Ha(jt))throw jt;Bn("LocalStore","Failed to update sequence numbers: "+jt)}for(const jt of Re){const hn=jt.targetId;if(!jt.fromCache){const Xn=it.ts.get(hn),oi=Xn.withLastLimboFreeSnapshotVersion(Xn.snapshotVersion);it.ts=it.ts.insert(hn,oi)}}}),function te(pe,Re){return $.apply(this,arguments)})(o.localStore,m))}),Om.apply(this,arguments)}function e_(r,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,Ke.Z)(function*(r,e){const n=x(r);if(!n.currentUser.isEqual(e)){Bn("SyncEngine","User change. New user:",e.toKey());const o=yield cv(n.localStore,e);n.currentUser=e,(m=n).ba.forEach($=>{$.forEach(te=>{te.reject(new X(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Pc(n,o._s)}var m}),Cp.apply(this,arguments)}function t_(r,e){const n=x(r),o=n.ya.get(e);if(o&&o.Ra)return Nr().add(o.key);{let c=Nr();const m=n.fa.get(e);if(!m)return c;for(const b of m){const $=n.ma.get(b);c=c.unionWith($.view.ua)}return c}}function Rv(r,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,Ke.Z)(function*(r,e){const n=x(r),o=yield lm(n.localStore,e.query,!0),c=e.view.da(o);return n.isPrimaryClient&&Df(n,e.targetId,c.Ta),c}),Dp.apply(this,arguments)}function mb(r,e){return n_.apply(this,arguments)}function n_(){return n_=(0,Ke.Z)(function*(r,e){const n=x(r);return dm(n.localStore,e).then(o=>Pc(n,o))}),n_.apply(this,arguments)}function gb(r,e,n,o){return km.apply(this,arguments)}function km(){return km=(0,Ke.Z)(function*(r,e,n,o){const c=x(r),m=yield function($,te){const pe=x($),Re=x(pe.mutationQueue);return pe.persistence.runTransaction("Lookup mutation documents","readonly",it=>Re.Cn(it,te).next(jt=>jt?pe.localDocuments.getDocuments(it,jt):Xt.resolve(null)))}(c.localStore,e);var te;null!==m?("pending"===n?yield yp(c.remoteStore):"acknowledged"===n||"rejected"===n?(hh(c,e,o||null),Mm(c,e),te=e,x(x(c.localStore).mutationQueue).Fn(te)):ui(),yield Pc(c,m)):Bn("SyncEngine","Cannot apply mutation batch with id: "+e)}),km.apply(this,arguments)}function i_(){return i_=(0,Ke.Z)(function*(r,e){const n=x(r);if(l_(n),kv(n),!0===e&&!0!==n.Ca){const o=n.sharedClientState.getAllActiveQueryTargets(),c=yield Mv(n,o.toArray());n.Ca=!0,yield yv(n.remoteStore,!0);for(const m of c)gp(n.remoteStore,m)}else if(!1===e&&!1!==n.Ca){const o=[];let c=Promise.resolve();n.fa.forEach((m,b)=>{n.sharedClientState.isLocalQueryTarget(b)?o.push(b):c=c.then(()=>(Kh(n,b),ap(n.localStore,b,!0))),_p(n.remoteStore,b)}),yield c,yield Mv(n,o),function(b){const $=x(b);$.ya.forEach((te,pe)=>{_p($.remoteStore,pe)}),$.wa.Vr(),$.ya=new Map,$.pa=new eo(Gn.comparator)}(n),n.Ca=!1,yield yv(n.remoteStore,!1)}}),i_.apply(this,arguments)}function Mv(r,e,n){return r_.apply(this,arguments)}function r_(){return r_=(0,Ke.Z)(function*(r,e,n){const o=x(r),c=[],m=[];for(const b of e){let $;const te=o.fa.get(b);if(te&&0!==te.length){$=yield op(o.localStore,C(te[0]));for(const pe of te){const Re=o.ma.get(pe),it=yield Rv(o,Re);it.snapshot&&m.push(it.snapshot)}}else{const pe=yield cm(o.localStore,b);$=yield op(o.localStore,pe),yield qg(o,s_(pe),b,!1,$.resumeToken)}c.push($)}return o.Va.a_(m),c}),r_.apply(this,arguments)}function s_(r){return oc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ov(r){return n=x(r).localStore,x(x(n).persistence).Bi();var n}function vb(r,e,n,o){return o_.apply(this,arguments)}function o_(){return o_=(0,Ke.Z)(function*(r,e,n,o){const c=x(r);if(c.Ca)return void Bn("SyncEngine","Ignoring unexpected query state notification.");const m=c.fa.get(e);if(m&&m.length>0)switch(n){case"current":case"not-current":{const b=yield dm(c.localStore,Ii(m[0])),$=dc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ia.EMPTY_BYTE_STRING);yield Pc(c,b,$);break}case"rejected":yield ap(c.localStore,e,!0),Kh(c,e,o);break;default:ui()}}),o_.apply(this,arguments)}function Nc(r,e,n){return a_.apply(this,arguments)}function a_(){return a_=(0,Ke.Z)(function*(r,e,n){const o=l_(r);if(o.Ca){for(const c of e){if(o.fa.has(c)){Bn("SyncEngine","Adding an already active target "+c);continue}const m=yield cm(o.localStore,c),b=yield op(o.localStore,m);yield qg(o,s_(m),b.targetId,!1,b.resumeToken),gp(o.remoteStore,b)}for(const c of n)o.fa.has(c)&&(yield ap(o.localStore,c,!1).then(()=>{_p(o.remoteStore,c),Kh(o,c)}).catch(Ei))}}),a_.apply(this,arguments)}function l_(r){const e=x(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Im.bind(null,e),e.Va.a_=Ev.bind(null,e.eventManager),e.Va.Fa=wf.bind(null,e.eventManager),e}function kv(r){const e=x(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,e),e}class Tf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ke.Z)(function*(){n.serializer=yf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Tg(this.persistence,new lv,e.initialUser,this.serializer)}createPersistence(e){return new Nu(Yd.jr,this.serializer)}createSharedClientState(e){return new uv}terminate(){var e=this;return(0,Ke.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class d_ extends Tf{constructor(e,n,o){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,Ke.Z)(function*(){yield n().call(o,e),yield o.xa.initialize(o,e),yield kv(o.xa.syncEngine),yield yp(o.xa.remoteStore),yield o.persistence.mi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Tg(this.persistence,new lv,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Hh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const o=new Bc(n,this.persistence);return new Oo(e.asyncQueue,o)}createPersistence(e){const n=lh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new Cg(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,gm(),_m(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new uv}}class Pv extends d_{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,Ke.Z)(function*(){yield n().call(o,e);const c=o.xa.syncEngine;o.sharedClientState instanceof fm&&(o.sharedClientState.syncEngine={Ys:gb.bind(null,c),Zs:vb.bind(null,c),Xs:Nc.bind(null,c),Bi:Ov.bind(null,c),Js:mb.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.mi(function(){var m=(0,Ke.Z)(function*(b){yield function _b(r,e){return i_.apply(this,arguments)}(o.xa.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const n=gm();if(!fm.D(n))throw new X(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=lh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fm(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Zh{initialize(e,n){var o=this;return(0,Ke.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>pb(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=e_.bind(null,o.syncEngine),yield yv(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bv}createDatastore(e){const n=yf(e.databaseInfo.databaseId),o=new mm(e.databaseInfo);return new rb(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,c=this.datastore,m=e.asyncQueue,b=n=>pb(this.syncEngine,n,0),$=pm.D()?new pm:new tb,new pp(o,c,m,b,$);var o,c,m,b,$}createSyncEngine(e,n){return function(c,m,b,$,te,pe,Re){const it=new hb(c,m,b,$,te,pe);return Re&&(it.Ca=!0),it}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Ke.Z)(function*(o){const c=x(o);Bn("RemoteStore","RemoteStore shutting down."),c.C_.add(5),yield qd(c),c.F_.shutdown(),c.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}function Nv(r,e=10240){let n=0;return{read:()=>(0,Ke.Z)(function*(){if(n<r.byteLength){const o={value:r.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,Ke.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Mo("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class u_{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Se,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(o=>{o&&o.Z_()?this.metadata.resolve(o.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Y_)}`))},o=>this.metadata.reject(o))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Ke.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Ke.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Ke.Z)(function*(){const n=yield e.qa();if(null===n)return null;const o=e.La.decode(n),c=Number(o);isNaN(c)&&e.Qa(`length string (${o}) is not valid number`);const m=yield e.Ka(c);return new ub(JSON.parse(m),n.length+c)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Ke.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Ka(e){var n=this;return(0,Ke.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const o=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Ke.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class bb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ke.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new X(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,Ke.Z)(function*(b,$){const te=x(b),pe=Dd(te.serializer)+"/documents",Re={documents:$.map(Xn=>xu(te.serializer,Xn))},it=yield te.Co("BatchGetDocuments",pe,Re,$.length),jt=new Map;it.forEach(Xn=>{const si=function Qf(r,e){return"found"in e?function(o,c){re(!!c.found);const m=Wl(o,c.found.name),b=Wo(c.found.updateTime),$=c.found.createTime?Wo(c.found.createTime):ii.min(),te=new Da({mapValue:{fields:c.found.fields}});return hr.newFoundDocument(m,b,$,te)}(r,e):"missing"in e?function(o,c){re(!!c.missing),re(!!c.readTime);const m=Wl(o,c.missing),b=Wo(c.readTime);return hr.newNoDocument(m,b)}(r,e):ui()}(te.serializer,Xn);jt.set(si.key.toString(),si)});const hn=[];return $.forEach(Xn=>{const si=jt.get(Xn.toString());re(!!si),hn.push(si)}),hn}),function m(b,$){return c.apply(this,arguments)})(n.datastore,e);var c;return o.forEach(c=>n.recordVersion(c)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,c)=>{const m=Gn.fromPath(c);e.mutations.push(new Rh(m,e.precondition(m)))}),yield(o=(0,Ke.Z)(function*(m,b){const $=x(m),te=Dd($.serializer)+"/documents",pe={writes:b.map(Re=>Tu($.serializer,Re))};yield $.wo("Commit",te,pe)}),function c(m,b){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ui();n=ii.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new X(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ii.min())?xo.exists(!1):xo.updateTime(n):xo.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ii.min()))throw new X(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xo.updateTime(n)}return xo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Eb{constructor(e,n,o,c,m){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=c,this.deferred=m,this.Wa=o.maxAttempts,this.zo=new hp(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Ke.Z)(function*(){const n=new bb(e.datastore),o=e.za(n);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(c)}).catch(m=>{e.ja(m)}))}).catch(c=>{e.ja(c)})}))}za(e){try{const n=this.updateFunction(e);return!Uc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Oh(n)}return!1}}class wb{constructor(e,n,o,c){var m=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=c,this.user=$i.UNAUTHENTICATED,this.clientId=Ys.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,Ke.Z)(function*($){Bn("FirestoreClient","Received user=",$.uid),yield m.authCredentialListener($),m.user=$});return function($){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(Bn("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,Ke.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Se;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ke.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const c=Ef(o,"Failed to shutdown persistence");n.reject(c)}})),n.promise}}function Nm(r,e){return h_.apply(this,arguments)}function h_(){return h_=(0,Ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Bn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let o=n.initialUser;r.setCredentialChangeListener(function(){var c=(0,Ke.Z)(function*(m){o.isEqual(m)||(yield cv(e.localStore,m),o=m)});return function(m){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),h_.apply(this,arguments)}function sd(r,e){return xp.apply(this,arguments)}function xp(){return xp=(0,Ke.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield Fm(r);Bn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(n,o),r.setCredentialChangeListener(c=>Hg(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,m)=>Hg(e.remoteStore,m)),r._onlineComponents=e}),xp.apply(this,arguments)}function Fv(r){return"FirebaseError"===r.name?r.code===B.FAILED_PRECONDITION||r.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function Fm(r){return f_.apply(this,arguments)}function f_(){return f_=(0,Ke.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Bn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Fv(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),yield Nm(r,new Tf)}}else Bn("FirestoreClient","Using default OfflineComponentProvider"),yield Nm(r,new Tf);return r._offlineComponents}),f_.apply(this,arguments)}function Tp(r){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,Ke.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Bn("FirestoreClient","Using user provided OnlineComponentProvider"),yield sd(r,r._uninitializedComponentsProvider._online)):(Bn("FirestoreClient","Using default OnlineComponentProvider"),yield sd(r,new Zh))),r._onlineComponents}),Lm.apply(this,arguments)}function Ip(r){return Fm(r).then(e=>e.persistence)}function fh(r){return Fm(r).then(e=>e.localStore)}function Cb(r){return Tp(r).then(e=>e.remoteStore)}function Vm(r){return Tp(r).then(e=>e.syncEngine)}function qh(r){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Ke.Z)(function*(r){const e=yield Tp(r),n=e.eventManager;return n.onListen=fb.bind(null,e.syncEngine),n.onUnlisten=W0.bind(null,e.syncEngine),n}),Bm.apply(this,arguments)}function Lv(r,e,n={}){const o=new Se;return r.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function(m,b,$,te,pe){const Re=new Pm({next:jt=>{b.enqueueAndForget(()=>Wg(m,it));const hn=jt.docs.has($);!hn&&jt.fromCache?pe.reject(new X(B.UNAVAILABLE,"Failed to get document because the client is offline.")):hn&&jt.fromCache&&te&&"server"===te.source?pe.reject(new X(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):pe.resolve(jt)},error:jt=>pe.reject(jt)}),it=new uh(xa($.path),Re,{includeMetadataChanges:!0,J_:!0});return Cm(m,it)}(yield qh(r),r.asyncQueue,e,n,o)})),o.promise}function Vv(r,e,n={}){const o=new Se;return r.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function(m,b,$,te,pe){const Re=new Pm({next:jt=>{b.enqueueAndForget(()=>Wg(m,it)),jt.fromCache&&"server"===te.source?pe.reject(new X(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):pe.resolve(jt)},error:jt=>pe.reject(jt)}),it=new uh($,Re,{includeMetadataChanges:!0,J_:!0});return Cm(m,it)}(yield qh(r),r.asyncQueue,e,n,o)})),o.promise}function Tb(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Hv=new Map;function jm(r,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function __(r,e,n,o){if(!0===e&&!0===o)throw new X(B.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function jv(r){if(!Gn.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zv(r){if(Gn.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ap(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(o=r).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof r?"a function":ui()}function Ps(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ap(r);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function If(r,e){if(e<=0)throw new X(B.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Gv{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Tb(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,o,c){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Vt;switch(o.type){case"firstParty":return new mi(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Hv.get(n);o&&(Bn("ComponentProvider","Removing Datastore"),Hv.delete(n),o.terminate())}(this),Promise.resolve()}}class Fl{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Fl(this.firestore,e,this._query)}}class ha{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ha(this.firestore,e,this._key)}}class wc extends Fl{constructor(e,n,o){super(e,n,xa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ha(this.firestore,null,new Gn(e))}withConverter(e){return new wc(this.firestore,e,this._path)}}function $v(r,e,...n){if(r=(0,Pe.m9)(r),jm("collection","path",e),r instanceof Sf){const o=Wi.fromString(e,...n);return zv(o),new wc(r,null,o)}{if(!(r instanceof ha||r instanceof wc))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Wi.fromString(e,...n));return zv(o),new wc(r.firestore,null,o)}}function zm(r,e,...n){if(r=(0,Pe.m9)(r),1===arguments.length&&(e=Ys.newId()),jm("doc","path",e),r instanceof Sf){const o=Wi.fromString(e,...n);return jv(o),new ha(r,null,new Gn(o))}{if(!(r instanceof ha||r instanceof wc))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Wi.fromString(e,...n));return jv(o),new ha(r.firestore,r instanceof wc?r.converter:null,new Gn(o))}}function Wv(r,e){return r=(0,Pe.m9)(r),e=(0,Pe.m9)(e),(r instanceof ha||r instanceof wc)&&(e instanceof ha||e instanceof wc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function y_(r,e){return r=(0,Pe.m9)(r),e=(0,Pe.m9)(e),r instanceof Fl&&e instanceof Fl&&r.firestore===e.firestore&&zt(r._query,e._query)&&r.converter===e.converter}class Sb{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new hp(this,"async_queue_retry"),this.iu=()=>{const n=_m();n&&Bn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=_m();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=_m();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Se;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Ke.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ha(n))throw n;Bn("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,Mo("INTERNAL UNHANDLED ERROR: ",function(b){let $=b.message||"";return b.stack&&($=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),$}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const c=zg.createAndSchedule(this,e,n,o,m=>this.au(m));return this.Xa.push(c),c}su(){this.eu&&ui()}verifyOperationInProgress(){}uu(){var e=this;return(0,Ke.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function b_(r){return function(n,o){if("object"!=typeof n||null===n)return!1;const c=n;for(const m of["next","error","complete"])if(m in c&&"function"==typeof c[m])return!0;return!1}(r)}class Ab{constructor(){this._progressObserver={},this._taskCompletionResolver=new Se,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Uo extends Sf{constructor(e,n,o,c){super(e,n,o,c),this.type="firestore",this._queue=new Sb,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kv(this),this._firestoreClient.terminate()}}function La(r){return r._firestoreClient||Kv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Kv(r){var e,n,o;const c=r._freezeSettings(),m=(te=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new cl(r._databaseId,te,r._persistenceKey,(Re=c).host,Re.ssl,Re.experimentalForceLongPolling,Re.experimentalAutoDetectLongPolling,Tb(Re.experimentalLongPollingOptions),Re.useFetchStreams));var te,Re;r._firestoreClient=new wb(r._authCredentials,r._appCheckCredentials,r._queue,m),null!==(n=c.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=c.localCache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function Zv(r,e,n){const o=new Se;return r.asyncQueue.enqueue((0,Ke.Z)(function*(){try{yield Nm(r,n),yield sd(r,e),o.resolve()}catch(c){const m=c;if(!Fv(m))throw m;_a("Error enabling indexeddb cache. Falling back to memory cache: "+m),o.reject(m)}})).then(()=>o.promise)}function w_(r){if(r._initialized||r._terminated)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eu(ia.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eu(ia.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qh{constructor(e){this._methodName=e}}class Fc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vi(this._lat,e._lat)||vi(this._long,e._long)}}const Rp=/^__.*__$/;class Zl{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new cc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}}class ph{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new cc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mp(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ui()}}class uc{constructor(e,n,o,c,m,b){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===m&&this.Pu(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new uc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),c=this.Tu({path:o,du:!1});return c.Au(e),c}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),c=this.Tu({path:o,du:!1});return c.Pu(),c}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return kf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Mp(this.Iu)&&Rp.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class C_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||yf(e)}pu(e,n,o,c=!1){return new uc({Iu:e,methodName:n,gu:o,path:Xr.emptyPath(),du:!1,fu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function od(r){const e=r._freezeSettings(),n=yf(r._databaseId);return new C_(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Vu(r,e,n,o,c,m={}){const b=r.pu(m.merge||m.mergeFields?2:0,e,n,c);Wm("Data must be an object, but it was:",b,o);const $=x_(o,b);let te,pe;if(m.merge)te=new Ma(b.fieldMask),pe=b.fieldTransforms;else if(m.mergeFields){const Re=[];for(const it of m.mergeFields){const jt=Of(e,it,n);if(!b.contains(jt))throw new X(B.INVALID_ARGUMENT,`Field '${jt}' is specified in your field mask but missing from your input data.`);ny(Re,jt)||Re.push(jt)}te=new Ma(Re),pe=b.fieldTransforms.filter(it=>te.covers(it.field))}else te=null,pe=b.fieldTransforms;return new Zl(new Da($),te,pe)}class tu extends Qh{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tu}}function Jh(r,e,n){return new uc({Iu:3,gu:e.settings.gu,methodName:r._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mh extends Qh{_toFieldTransform(e){return new Ud(e.path,new ac)}isEqual(e){return e instanceof mh}}class Af extends Qh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Jh(this,e,!0),o=this.yu.map(m=>_h(m,n)),c=new Ed(o);return new Ud(e.path,c)}isEqual(e){return this===e}}class Rf extends Qh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=Jh(this,e,!0),o=this.yu.map(m=>_h(m,n)),c=new lc(o);return new Ud(e.path,c)}isEqual(e){return this===e}}class Mf extends Qh{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Ac(e.serializer,zu(e.serializer,this.wu));return new Ud(e.path,n)}isEqual(e){return this===e}}function gh(r,e,n,o){const c=r.pu(1,e,n);Wm("Data must be an object, but it was:",c,o);const m=[],b=Da.empty();Il(o,(te,pe)=>{const Re=kp(e,te,n);pe=(0,Pe.m9)(pe);const it=c.Ru(Re);if(pe instanceof tu)m.push(Re);else{const jt=_h(pe,it);null!=jt&&(m.push(Re),b.set(Re,jt))}});const $=new Ma(m);return new ph(b,$,c.fieldTransforms)}function Op(r,e,n,o,c,m){const b=r.pu(1,e,n),$=[Of(e,o,n)],te=[c];if(m.length%2!=0)throw new X(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let jt=0;jt<m.length;jt+=2)$.push(Of(e,m[jt])),te.push(m[jt+1]);const pe=[],Re=Da.empty();for(let jt=$.length-1;jt>=0;--jt)if(!ny(pe,$[jt])){const hn=$[jt];let Xn=te[jt];Xn=(0,Pe.m9)(Xn);const si=b.Ru(hn);if(Xn instanceof tu)pe.push(hn);else{const oi=_h(Xn,si);null!=oi&&(pe.push(hn),Re.set(hn,oi))}}const it=new Ma(pe);return new ph(Re,it,b.fieldTransforms)}function D_(r,e,n,o=!1){return _h(n,r.pu(o?4:3,e))}function _h(r,e){if(T_(r=(0,Pe.m9)(r)))return Wm("Unsupported field value:",e,r),x_(r,e);if(r instanceof Qh)return function(o,c){if(!Mp(c.Iu))throw c.mu(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.mu(`${o._methodName}() is not currently supported inside arrays`);const m=o._toFieldTransform(c);m&&c.fieldTransforms.push(m)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,c){const m=[];let b=0;for(const $ of o){let te=_h($,c.Vu(b));null==te&&(te={nullValue:"NULL_VALUE"}),m.push(te),b++}return{arrayValue:{values:m}}}(r,e)}return function(o,c){if(null===(o=(0,Pe.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return zu(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const m=Si.fromDate(o);return{timestampValue:Jc(c.serializer,m)}}if(o instanceof Si){const m=new Si(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Jc(c.serializer,m)}}if(o instanceof Fc)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof eu)return{bytesValue:Qu(c.serializer,o._byteString)};if(o instanceof ha){const m=c.databaseId,b=o.firestore._databaseId;if(!b.isEqual(m))throw c.mu(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Gd(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c.mu(`Unsupported field value: ${Ap(o)}`)}(r,e)}function x_(r,e){const n={};return Xa(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Il(r,(o,c)=>{const m=_h(c,e.Eu(o));null!=m&&(n[o]=m)}),{mapValue:{fields:n}}}function T_(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Si||r instanceof Fc||r instanceof eu||r instanceof ha||r instanceof Qh)}function Wm(r,e,n){if(!T_(n)||"object"!=typeof(c=n)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=Ap(n);throw e.mu("an object"===o?r+" a custom object":r+" "+o)}var c}function Of(r,e,n){if((e=(0,Pe.m9)(e))instanceof Lu)return e._internalPath;if("string"==typeof e)return kp(r,e);throw kf("Field path arguments must be of type string or ",r,!1,void 0,n)}const ty=new RegExp("[~\\*/\\[\\]]");function kp(r,e,n){if(e.search(ty)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lu(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function kf(r,e,n,o,c){const m=o&&!o.isEmpty(),b=void 0!==c;let $=`Function ${e}() called with invalid data`;n&&($+=" (via `toFirestore()`)"),$+=". ";let te="";return(m||b)&&(te+=" (found",m&&(te+=` in field ${o}`),b&&(te+=` in document ${c}`),te+=")"),new X(B.INVALID_ARGUMENT,$+r+te)}function ny(r,e){return r.some(n=>n.isEqual(e))}class Ym{constructor(e,n,o,c,m){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new ha(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Q0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Km("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Q0 extends Ym{data(){return super.data()}}function Km(r,e){return"string"==typeof e?kp(r,e):e instanceof Lu?e._internalPath:e._delegate._internalPath}function iy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class Pp extends ry{}function Xh(r,e,...n){let o=[];e instanceof ry&&o.push(e),o=o.concat(n),function(m){const b=m.filter(te=>te instanceof Pf).length,$=m.filter(te=>te instanceof Np).length;if(b>1||b>0&&$>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)r=c._apply(r);return r}class Np extends Pp{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Np(e,n,o)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new Fl(e.firestore,e.converter,ge(e._query,n))}_parse(e){const n=od(e.firestore);return function(m,b,$,te,pe,Re,it){let jt;if(pe.isKeyField()){if("array-contains"===Re||"array-contains-any"===Re)throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Re}' queries on documentId().`);if("in"===Re||"not-in"===Re){Hp(it,Re);const hn=[];for(const Xn of it)hn.push(Up(te,m,Xn));jt={arrayValue:{values:hn}}}else jt=Up(te,m,it)}else"in"!==Re&&"not-in"!==Re&&"array-contains-any"!==Re||Hp(it,Re),jt=D_($,"where",it,"in"===Re||"not-in"===Re);return vr.create(pe,Re,jt)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Pf extends ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pf(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(c,m){let b=c;const $=m.getFlattenedFilters();for(const te of $)Lb(b,te),b=ge(b,te)}(e._query,n),new Fl(e.firestore,e.converter,ge(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Fp extends Pp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fp(e,n)}_apply(e){const n=function(c,m,b){if(null!==c.startAt)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ba(m,b)}(e._query,this._field,this._direction);return new Fl(e.firestore,e.converter,function(c,m){const b=c.explicitOrderBy.concat([m]);return new ra(c.path,c.collectionGroup,b,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,n))}}class Lp extends Pp{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new Lp(e,n,o)}_apply(e){return new Fl(e.firestore,e.converter,He(e._query,this._limit,this._limitType))}}class Qm extends Pp{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new Qm(e,n,o)}_apply(e){const n=Xm(e,this.type,this._docOrFields,this._inclusive);return new Fl(e.firestore,e.converter,(m=n,new ra((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,m,c.endAt)));var c,m}}class Jm extends Pp{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new Jm(e,n,o)}_apply(e){const n=Xm(e,this.type,this._docOrFields,this._inclusive);return new Fl(e.firestore,e.converter,(m=n,new ra((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,m)));var c,m}}function Xm(r,e,n,o){if(n[0]=(0,Pe.m9)(n[0]),n[0]instanceof Ym)return function(m,b,$,te,pe){if(!te)throw new X(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${$}().`);const Re=[];for(const it of y(m))if(it.field.isKeyField())Re.push(nc(b,te.key));else{const jt=te.data.field(it.field);if(Tc(jt))throw new X(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+it.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===jt){const hn=it.field.canonicalString();throw new X(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${hn}' (used as the orderBy) does not exist.`)}Re.push(jt)}return new $l(Re,pe)}(r._query,r.firestore._databaseId,e,n[0]._document,o);{const c=od(r.firestore);return function(b,$,te,pe,Re,it){const jt=b.explicitOrderBy;if(Re.length>jt.length)throw new X(B.INVALID_ARGUMENT,`Too many arguments provided to ${pe}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const hn=[];for(let Xn=0;Xn<Re.length;Xn++){const si=Re[Xn];if(jt[Xn].field.isKeyField()){if("string"!=typeof si)throw new X(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${pe}(), but got a ${typeof si}`);if(!N(b)&&-1!==si.indexOf("/"))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${pe}() must be a plain document ID, but '${si}' contains a slash.`);const oi=b.path.child(Wi.fromString(si));if(!Gn.isDocumentKey(oi))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${pe}() must result in a valid document path, but '${oi}' is not because it contains an odd number of segments.`);const sr=new Gn(oi);hn.push(nc($,sr))}else{const oi=D_(te,pe,si);hn.push(oi)}}return new $l(hn,it)}(r._query,r.firestore._databaseId,c,e,n,o)}}function Up(r,e,n){if("string"==typeof(n=(0,Pe.m9)(n))){if(""===n)throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N(e)&&-1!==n.indexOf("/"))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Wi.fromString(n));if(!Gn.isDocumentKey(o))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return nc(r,new Gn(o))}if(n instanceof ha)return nc(r,n._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ap(n)}.`)}function Hp(r,e){if(!Array.isArray(r)||0===r.length)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(r,e){const n=function(c,m){for(const b of c)for(const $ of b.getFlattenedFilters())if(m.indexOf($.op)>=0)return $.op;return null}(r.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new X(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class I_{convertValue(e,n="none"){switch(Gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ui()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Il(e,(c,m)=>{o[c]=this.convertValue(m,n)}),o}convertGeoPoint(e){return new Fc(Zs(e.latitude),Zs(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ts(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new Si(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Wi.fromString(e);re(lt(o));const c=new zl(o.get(1),o.get(3)),m=new Gn(o.popFirst(5));return c.isEqual(n)||Mo(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),m}}function Nf(r,e,n){let o;return o=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,o}class Vb extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ha(this.firestore,null,n)}}class vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bu extends Ym{constructor(e,n,o,c,m,b){super(e,n,o,c,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Km("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class jp extends Bu{data(e={}){return super.data(e)}}class yh{constructor(e,n,o,c){this._firestore=e,this._userDataWriter=n,this._snapshot=c,this.metadata=new vh(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new jp(this._firestore,this._userDataWriter,o.key,o,new vh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(c,m){if(c._snapshot.oldDocs.isEmpty()){let b=0;return c._snapshot.docChanges.map($=>({type:"added",doc:new jp(c._firestore,c._userDataWriter,$.doc.key,$.doc,new vh(c._snapshot.mutatedKeys.has($.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:b++}))}{let b=c._snapshot.oldDocs;return c._snapshot.docChanges.filter($=>m||3!==$.type).map($=>{const te=new jp(c._firestore,c._userDataWriter,$.doc.key,$.doc,new vh(c._snapshot.mutatedKeys.has($.doc.key),c._snapshot.fromCache),c.query.converter);let pe=-1,Re=-1;return 0!==$.type&&(pe=b.indexOf($.doc.key),b=b.delete($.doc.key)),1!==$.type&&(b=b.add($.doc),Re=b.indexOf($.doc.key)),{type:ly($.type),doc:te,oldIndex:pe,newIndex:Re}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ly(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ui()}}function eg(r,e){return r instanceof Bu&&e instanceof Bu?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof yh&&e instanceof yh&&r._firestore===e._firestore&&y_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class bh extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ha(this.firestore,null,n)}}function dy(r,e,n){r=Ps(r,ha);const o=Ps(r.firestore,Uo),c=Nf(r.converter,e,n);return Ff(o,[Vu(od(o),"setDoc",r._key,c,null!==r.converter,n).toMutation(r._key,xo.none())])}function uy(r,e,n,...o){r=Ps(r,ha);const c=Ps(r.firestore,Uo),m=od(c);let b;return b="string"==typeof(e=(0,Pe.m9)(e))||e instanceof Lu?Op(m,"updateDoc",r._key,e,n,o):gh(m,"updateDoc",r._key,e),Ff(c,[b.toMutation(r._key,xo.exists(!0))])}function sg(r,...e){var n,o,c;r=(0,Pe.m9)(r);let m={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||b_(e[b])||(m=e[b],b++);const $={includeMetadataChanges:m.includeMetadataChanges};if(b_(e[b])){const it=e[b];e[b]=null===(n=it.next)||void 0===n?void 0:n.bind(it),e[b+1]=null===(o=it.error)||void 0===o?void 0:o.bind(it),e[b+2]=null===(c=it.complete)||void 0===c?void 0:c.bind(it)}let te,pe,Re;if(r instanceof ha)pe=Ps(r.firestore,Uo),Re=xa(r._key.path),te={next:it=>{e[b]&&e[b](R_(pe,r,it))},error:e[b+1],complete:e[b+2]};else{const it=Ps(r,Fl);pe=Ps(it.firestore,Uo),Re=it._query;const jt=new bh(pe);te={next:hn=>{e[b]&&e[b](new yh(pe,jt,it,hn))},error:e[b+1],complete:e[b+2]},iy(r._query)}return function(jt,hn,Xn,si){const oi=new Pm(si),sr=new uh(hn,oi,Xn);return jt.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return Cm(yield qh(jt),sr)})),()=>{oi.Na(),jt.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return Wg(yield qh(jt),sr)}))}}(La(pe),Re,$,te)}function Ff(r,e){return function(o,c){const m=new Se;return o.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function Y0(r,e,n){return Tv.apply(this,arguments)}(yield Vm(o),c,m)})),m.promise}(La(r),e)}function R_(r,e,n){const o=n.docs.get(e._key),c=new bh(r);return new Bu(r,c,e._key,o,new vh(n.hasPendingWrites,n.fromCache),e.converter)}const og={maxAttempts:5};class k_{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=od(e)}set(e,n,o){this._verifyNotCommitted();const c=Uu(e,this._firestore),m=Nf(c.converter,n,o),b=Vu(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,o);return this._mutations.push(b.toMutation(c._key,xo.none())),this}update(e,n,o,...c){this._verifyNotCommitted();const m=Uu(e,this._firestore);let b;return b="string"==typeof(n=(0,Pe.m9)(n))||n instanceof Lu?Op(this._dataReader,"WriteBatch.update",m._key,n,o,c):gh(this._dataReader,"WriteBatch.update",m._key,n),this._mutations.push(b.toMutation(m._key,xo.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Uu(e,this._firestore);return this._mutations=this._mutations.concat(new qc(n._key,xo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new X(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uu(r,e){if((r=(0,Pe.m9)(r)).firestore!==e)throw new X(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class vy extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=od(n)}get(n){const o=Uu(n,this._firestore),c=new Vb(this._firestore);return this._transaction.lookup([o._key]).then(m=>{if(!m||1!==m.length)return ui();const b=m[0];if(b.isFoundDocument())return new Ym(this._firestore,c,b.key,b,o.converter);if(b.isNoDocument())return new Ym(this._firestore,c,o._key,null,o.converter);throw ui()})}set(n,o,c){const m=Uu(n,this._firestore),b=Nf(m.converter,o,c),$=Vu(this._dataReader,"Transaction.set",m._key,b,null!==m.converter,c);return this._transaction.set(m._key,$),this}update(n,o,c,...m){const b=Uu(n,this._firestore);let $;return $="string"==typeof(o=(0,Pe.m9)(o))||o instanceof Lu?Op(this._dataReader,"Transaction.update",b._key,o,c,m):gh(this._dataReader,"Transaction.update",b._key,o),this._transaction.update(b._key,$),this}delete(n){const o=Uu(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Uu(e,this._firestore),o=new bh(this._firestore);return super.get(e).then(c=>new Bu(this._firestore,o,n._key,c._document,new vh(!1,!1),n.converter))}}function lg(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new X("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Iy(){if(typeof Uint8Array>"u")throw new X("unimplemented","Uint8Arrays are not available in this environment.")}function Sy(){if(!function Sl(){return typeof atob<"u"}())throw new X("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){Go=ye.SDK_VERSION,(0,ye._registerComponent)(new rt.wA("firestore",(o,{instanceIdentifier:c,options:m})=>{const b=o.getProvider("app").getImmediate(),$=new Uo(new Dn(o.getProvider("auth-internal")),new Xi(o.getProvider("app-check-internal")),function(pe,Re){if(!Object.prototype.hasOwnProperty.apply(pe.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(pe.options.projectId,Re)}(b,c),b);return m=Object.assign({useFetchStreams:n},m),$._setSettings(m),$},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(ga,"4.3.2",e),(0,ye.registerVersion)(ga,"4.3.2","esm2017")}();class Vf{constructor(e){this._delegate=e}static fromBase64String(e){return Sy(),new Vf(eu.fromBase64String(e))}static fromUint8Array(e){return Iy(),new Vf(eu.fromUint8Array(e))}toBase64(){return Sy(),this._delegate.toBase64()}toUint8Array(){return Iy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function F_(r){return function Ay(r,e){if("object"!=typeof r||null===r)return!1;const n=r;for(const o of e)if(o in n&&"function"==typeof n[o])return!0;return!1}(r,["next","error","complete"])}class Ry{enableIndexedDbPersistence(e,n){return function Rb(r,e){w_(r=Ps(r,Uo));const n=La(r);if(n._uninitializedComponentsProvider)throw new X(B.FAILED_PRECONDITION,"SDK cache is already specified.");_a("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),c=new Zh;return Zv(n,c,new d_(c,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Mb(r){w_(r=Ps(r,Uo));const e=La(r);if(e._uninitializedComponentsProvider)throw new X(B.FAILED_PRECONDITION,"SDK cache is already specified.");_a("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=r._freezeSettings(),o=new Zh;return Zv(e,o,new Pv(o,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ob(r){if(r._initialized&&!r._terminated)throw new X(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Se;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ke.Z)(function*(){try{yield(n=(0,Ke.Z)(function*(c){if(!Xs.D())return Promise.resolve();const m=c+"main";yield Xs.delete(m)}),function o(c){return n.apply(this,arguments)})(lh(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class tf{constructor(e,n,o){this._delegate=n,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof zl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&_a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,o={}){!function v_(r,e,n,o={}){var c;const m=(r=Ps(r,Sf))._getSettings(),b=`${e}:${n}`;if("firestore.googleapis.com"!==m.host&&m.host!==b&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},m),{host:b,ssl:!1})),o.mockUserToken){let $,te;if("string"==typeof o.mockUserToken)$=o.mockUserToken,te=$i.MOCK_USER;else{$=(0,Pe.Sg)(o.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const pe=o.mockUserToken.sub||o.mockUserToken.user_id;if(!pe)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");te=new $i(pe)}r._authCredentials=new on(new wt($,te))}}(this._delegate,e,n,o)}enableNetwork(){return function Qv(r){return function m_(r){return r.asyncQueue.enqueue((0,Ke.Z)(function*(){const e=yield Ip(r),n=yield Cb(r);return e.setNetworkEnabled(!0),function(c){const m=x(c);return m.C_.delete(0),mp(m)}(n)}))}(La(r=Ps(r,Uo)))}(this._delegate)}disableNetwork(){return function Jv(r){return function Fu(r){return r.asyncQueue.enqueue((0,Ke.Z)(function*(){const e=yield Ip(r),n=yield Cb(r);return e.setNetworkEnabled(!1),(o=(0,Ke.Z)(function*(m){const b=x(m);b.C_.add(0),yield qd(b),b.M_.set("Offline")}),function c(m){return o.apply(this,arguments)})(n);var o}))}(La(r=Ps(r,Uo)))}(this._delegate)}enablePersistence(e){let n=!1,o=!1;return e&&(n=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,__("synchronizeTabs",n,"experimentalForceOwningTab",o)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qv(r){return function(n){const o=new Se;return n.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return function Kr(r,e){return Rm.apply(this,arguments)}(yield Vm(n),o)})),o.promise}(La(r=Ps(r,Uo)))}(this._delegate)}onSnapshotsInSync(e){return function hy(r,e){return function Bv(r,e){const n=new Pm(e);return r.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return c=yield qh(r),m=n,x(c).q_.add(m),void m.next();var c,m})),()=>{n.Na(),r.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return c=yield qh(r),m=n,void x(c).q_.delete(m);var c,m}))}}(La(r=Ps(r,Uo)),b_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new X("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nf(this,$v(this._delegate,e))}catch(n){throw Ll(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ad(this,zm(this._delegate,e))}catch(n){throw Ll(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wa(this,function Ib(r,e){if(r=Ps(r,Sf),jm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fl(r,null,(o=e,new ra(Wi.emptyPath(),o)));var o}(this._delegate,e))}catch(n){throw Ll(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yy(r,e,n){r=Ps(r,Uo);const o=Object.assign(Object.assign({},og),n);return function(m){if(m.maxAttempts<1)throw new X(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(m,b,$){const te=new Se;return m.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){const pe=yield function p_(r){return Tp(r).then(e=>e.datastore)}(m);new Eb(m.asyncQueue,pe,$,b,te).run()})),te.promise}(La(r),c=>e(new vy(r,c)),o)}(this._delegate,n=>e(new L_(this,n)))}batch(){return La(this._delegate),new My(new k_(this._delegate,e=>Ff(this._delegate,e)))}loadBundle(e){return function q0(r,e){const n=La(r=Ps(r,Uo)),o=new Ab;return function xb(r,e,n,o){const c=function(b,$){let te;return te="string"==typeof b?Eu().encode(b):b,Re=function(Re,it){if(Re instanceof Uint8Array)return Nv(Re,void 0);if(Re instanceof ArrayBuffer)return Nv(new Uint8Array(Re),void 0);if(Re instanceof ReadableStream)return Re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(te),new u_(Re,$);var Re}(n,yf(e));r.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){!function c_(r,e,n){const o=x(r);var c;(c=(0,Ke.Z)(function*(b,$,te){try{const pe=yield $.getMetadata();if(yield function(Xn,si){const oi=x(Xn),sr=Wo(si.createTime);return oi.persistence.runTransaction("hasNewerBundle","readonly",yr=>oi.Kr.getBundleMetadata(yr,si.id)).then(yr=>!!yr&&yr.createTime.compareTo(sr)>=0)}(b.localStore,pe))return yield $.close(),te._completeWith({taskState:"Success",documentsLoaded:(Xn=pe).totalDocuments,bytesLoaded:Xn.totalBytes,totalDocuments:Xn.totalDocuments,totalBytes:Xn.totalBytes}),Promise.resolve(new Set);te._updateProgress(Kg(pe));const Re=new Cv(pe,b.localStore,$.serializer);let it=yield $.Ma();for(;it;){const hn=yield Re.ea(it);hn&&te._updateProgress(hn),it=yield $.Ma()}const jt=yield Re.complete();return yield Pc(b,jt.ra,void 0),yield function(Xn,si){const oi=x(Xn);return oi.persistence.runTransaction("Save bundle","readwrite",sr=>oi.Kr.saveBundleMetadata(sr,si))}(b.localStore,pe),te._completeWith(jt.progress),Promise.resolve(jt.na)}catch(pe){return _a("SyncEngine",`Loading bundle failed with ${pe}`),te._failWith(pe),Promise.resolve(new Set)}var Xn}),function m(b,$,te){return c.apply(this,arguments)})(o,e,n).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield Vm(r),c,o)}))}(n,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Xv(r,e){return function Um(r,e){return r.asyncQueue.enqueue((0,Ke.Z)(function*(){return function(o,c){const m=x(o);return m.persistence.runTransaction("Get named query","readonly",b=>m.Kr.getNamedQuery(b,c))}(yield fh(r),e)}))}(La(r=Ps(r,Uo)),e).then(n=>n?new Fl(r,null,n.query):null)}(this._delegate,e).then(n=>n?new wa(this,n):null)}}class cg extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(new eu(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ad.forKey(n,this.firestore,null)}}class L_{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new cg(e)}get(e){const n=wh(e);return this._delegate.get(n).then(o=>new Gp(this._firestore,new Bu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,n.converter)))}set(e,n,o){const c=wh(e);return o?(lg("Transaction.set",o),this._delegate.set(c,n,o)):this._delegate.set(c,n),this}update(e,n,o,...c){const m=wh(e);return 2===arguments.length?this._delegate.update(m,n):this._delegate.update(m,n,o,...c),this}delete(e){const n=wh(e);return this._delegate.delete(n),this}}class My{constructor(e){this._delegate=e}set(e,n,o){const c=wh(e);return o?(lg("WriteBatch.set",o),this._delegate.set(c,n,o)):this._delegate.set(c,n),this}update(e,n,o,...c){const m=wh(e);return 2===arguments.length?this._delegate.update(m,n):this._delegate.update(m,n,o,...c),this}delete(e){const n=wh(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Eh{constructor(e,n,o){this._firestore=e,this._userDataWriter=n,this._delegate=o}fromFirestore(e,n){const o=new jp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bf(this._firestore,o),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const o=Eh.INSTANCES;let c=o.get(e);c||(c=new WeakMap,o.set(e,c));let m=c.get(n);return m||(m=new Eh(e,new cg(e),n),c.set(n,m)),m}}Eh.INSTANCES=new WeakMap;class Ad{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new cg(e)}static forPath(e,n,o){if(e.length%2!=0)throw new X("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ad(n,new ha(n._delegate,o,new Gn(e)))}static forKey(e,n,o){return new Ad(n,new ha(n._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new nf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nf(this.firestore,$v(this._delegate,e))}catch(n){throw Ll(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pe.m9)(e))instanceof ha&&Wv(this._delegate,e)}set(e,n){n=lg("DocumentReference.set",n);try{return n?dy(this._delegate,e,n):dy(this._delegate,e)}catch(o){throw Ll(o,"setDoc()","DocumentReference.set()")}}update(e,n,...o){try{return 1===arguments.length?uy(this._delegate,e):uy(this._delegate,e,n,...o)}catch(c){throw Ll(c,"updateDoc()","DocumentReference.update()")}}delete(){return function ig(r){return Ff(Ps(r.firestore,Uo),[new qc(r._key,xo.none())])}(this._delegate)}onSnapshot(...e){const n=dg(e),o=ad(e,c=>new Gp(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return sg(this._delegate,n,o)}get(e){let n;return n="cache"===e?.source?function tg(r){r=Ps(r,ha);const e=Ps(r.firestore,Uo),n=La(e),o=new bh(e);return function Db(r,e){const n=new Se;return r.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return(o=(0,Ke.Z)(function*(m,b,$){try{const te=yield function(Re,it){const jt=x(Re);return jt.persistence.runTransaction("read document","readonly",hn=>jt.localDocuments.getDocument(hn,it))}(m,b);te.isFoundDocument()?$.resolve(te):te.isNoDocument()?$.resolve(null):$.reject(new X(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(te){const pe=Ef(te,`Failed to get document '${b} from cache`);$.reject(pe)}}),function c(m,b,$){return o.apply(this,arguments)})(yield fh(r),e,n);var o})),n.promise}(n,r._key).then(c=>new Bu(e,o,r._key,c,new vh(null!==c&&c.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function ng(r){r=Ps(r,ha);const e=Ps(r.firestore,Uo);return Lv(La(e),r._key,{source:"server"}).then(n=>R_(e,r,n))}(this._delegate):function S_(r){r=Ps(r,ha);const e=Ps(r.firestore,Uo);return Lv(La(e),r._key).then(n=>R_(e,r,n))}(this._delegate),n.then(o=>new Gp(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ad(this.firestore,this._delegate.withConverter(e?Eh.getInstance(this.firestore,e):null))}}function Ll(r,e,n){return r.message=r.message.replace(e,n),r}function dg(r){for(const e of r)if("object"==typeof e&&!F_(e))return e;return{}}function ad(r,e){var n,o;let c;return c=F_(r[0])?r[0]:F_(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:m=>{c.next&&c.next(e(m))},error:null===(n=c.error)||void 0===n?void 0:n.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class Gp{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ad(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return eg(this._delegate,e._delegate)}}class Bf extends Gp{data(e){const n=this._delegate.data(e);return this._delegate._converter||function A(r,e){r||ui()}(void 0!==n),n}}class wa{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new cg(e)}where(e,n,o){try{return new wa(this.firestore,Xh(this._delegate,function kb(r,e,n){const o=e,c=Km("where",r);return Np._create(c,o,n)}(e,n,o)))}catch(c){throw Ll(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new wa(this.firestore,Xh(this._delegate,function qm(r,e="asc"){const n=e,o=Km("orderBy",r);return Fp._create(o,n)}(e,n)))}catch(o){throw Ll(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wa(this.firestore,Xh(this._delegate,function Vp(r){return If("limit",r),Lp._create("limit",r,"F")}(e)))}catch(n){throw Ll(n,"limit()","Query.limit()")}}limitToLast(e){try{return new wa(this.firestore,Xh(this._delegate,function oy(r){return If("limitToLast",r),Lp._create("limitToLast",r,"L")}(e)))}catch(n){throw Ll(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wa(this.firestore,Xh(this._delegate,function Bp(...r){return Qm._create("startAt",r,!0)}(...e)))}catch(n){throw Ll(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wa(this.firestore,Xh(this._delegate,function Pb(...r){return Qm._create("startAfter",r,!1)}(...e)))}catch(n){throw Ll(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wa(this.firestore,Xh(this._delegate,function Nb(...r){return Jm._create("endBefore",r,!1)}(...e)))}catch(n){throw Ll(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wa(this.firestore,Xh(this._delegate,function Fb(...r){return Jm._create("endAt",r,!0)}(...e)))}catch(n){throw Ll(n,"endAt()","Query.endAt()")}}isEqual(e){return y_(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function cy(r){r=Ps(r,Fl);const e=Ps(r.firestore,Uo),n=La(e),o=new bh(e);return function g_(r,e){const n=new Se;return r.asyncQueue.enqueueAndForget((0,Ke.Z)(function*(){return(o=(0,Ke.Z)(function*(m,b,$){try{const te=yield lm(m,b,!0),pe=new Ep(b,te.ls),Re=pe.ca(te.documents),it=pe.applyChanges(Re,!1);$.resolve(it.snapshot)}catch(te){const pe=Ef(te,`Failed to execute query '${b} against cache`);$.reject(pe)}}),function c(m,b,$){return o.apply(this,arguments)})(yield fh(r),e,n);var o})),n.promise}(n,r._query).then(c=>new yh(e,o,r,c))}(this._delegate):"server"===e?.source?function zb(r){r=Ps(r,Fl);const e=Ps(r.firestore,Uo),n=La(e),o=new bh(e);return Vv(n,r._query,{source:"server"}).then(c=>new yh(e,o,r,c))}(this._delegate):function A_(r){r=Ps(r,Fl);const e=Ps(r.firestore,Uo),n=La(e),o=new bh(e);return iy(r._query),Vv(n,r._query).then(c=>new yh(e,o,r,c))}(this._delegate),n.then(o=>new Lc(this.firestore,new yh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const n=dg(e),o=ad(e,c=>new Lc(this.firestore,new yh(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return sg(this._delegate,n,o)}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Eh.getInstance(this.firestore,e):null))}}class Rd{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Bf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Lc{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new wa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Rd(this._firestore,n))}forEach(e,n){this._delegate.forEach(o=>{e.call(n,new Bf(this._firestore,o))})}isEqual(e){return eg(this._delegate,e._delegate)}}class nf extends wa{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ad(this.firestore,e):null}doc(e){try{return new Ad(this.firestore,void 0===e?zm(this._delegate):zm(this._delegate,e))}catch(n){throw Ll(n,"doc()","CollectionReference.doc()")}}add(e){return function rg(r,e){const n=Ps(r.firestore,Uo),o=zm(r),c=Nf(r.converter,e);return Ff(n,[Vu(od(r.firestore),"addDoc",o._key,c,null!==r.converter,{}).toMutation(o._key,xo.exists(!1))]).then(()=>o)}(this._delegate,e).then(n=>new Ad(this.firestore,n))}isEqual(e){return Wv(this._delegate,e._delegate)}withConverter(e){return new nf(this.firestore,this._delegate.withConverter(e?Eh.getInstance(this.firestore,e):null))}}function wh(r){return Ps(r,ha)}class V_{constructor(...e){this._delegate=new Lu(...e)}static documentId(){return new V_(Xr.keyField().canonicalString())}isEqual(e){return(e=(0,Pe.m9)(e))instanceof Lu&&this._delegate._internalPath.isEqual(e._internalPath)}}class rf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ey(){return new mh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rf(e)}static delete(){const e=function by(){return new tu("deleteField")}();return e._methodName="FieldValue.delete",new rf(e)}static arrayUnion(...e){const n=function wy(...r){return new Af("arrayUnion",r)}(...e);return n._methodName="FieldValue.arrayUnion",new rf(n)}static arrayRemove(...e){const n=function Cy(...r){return new Rf("arrayRemove",r)}(...e);return n._methodName="FieldValue.arrayRemove",new rf(n)}static increment(e){const n=function ag(r){return new Mf("increment",r)}(e);return n._methodName="FieldValue.increment",new rf(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const t0={Firestore:tf,GeoPoint:Fc,Timestamp:Si,Blob:Vf,Transaction:L_,WriteBatch:My,DocumentReference:Ad,DocumentSnapshot:Gp,Query:wa,QueryDocumentSnapshot:Bf,QuerySnapshot:Lc,CollectionReference:nf,FieldPath:V_,FieldValue:rf,setLogLevel:function e0(r){!function Bl(r){Ba.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function B_(r){(function n0(r,e){r.INTERNAL.registerComponent(new rt.wA("firestore-compat",n=>{const o=n.getProvider("app-compat").getImmediate(),c=n.getProvider("firestore").getImmediate();return e(o,c)},"PUBLIC").setServiceProps(Object.assign({},t0)))})(r,(e,n)=>new tf(e,n,new Ry)),r.registerVersion("@firebase/firestore-compat","0.3.22")}(en.Z);var $p=R(7142);function U_(r,e){return function r0(r,e=Ge.z){return new $e.y(n=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},n)}):o=r.onSnapshot({includeMetadataChanges:!0},n),()=>{o?.()}})}(r,e)}function H_(r,e){return U_(r,e).pipe((0,ke.U)(n=>({payload:n,type:"query"})))}class j_{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const o=this.ref.collection(e),{ref:c,query:m}=W_(o,n);return new ky(c,m,this.afs)}snapshotChanges(){return function s0(r,e){return U_(r,e).pipe((0,H.O)(void 0),yt(),(0,ke.U)(n=>{const[o,c]=n;return c.exists?o?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(O.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ke.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,Le.D)(this.ref.get(e)).pipe(O.iC)}}function Wp(r,e){return H_(r,e).pipe((0,H.O)(void 0),yt(),(0,ke.U)(n=>{const[o,c]=n,m=c.payload.docChanges(),b=m.map($=>({type:$.type,payload:$}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach(($,te)=>{const pe=m.find(it=>it.doc.ref.isEqual($.ref)),Re=o?.payload.docs.find(it=>it.ref.isEqual($.ref));pe&&JSON.stringify(pe.doc.metadata)===JSON.stringify($.metadata)||!pe&&Re&&JSON.stringify(Re.metadata)===JSON.stringify($.metadata)||b.push({type:"modified",payload:{oldIndex:te,newIndex:te,type:"modified",doc:$}})}),b}))}function Yp(r,e,n){return Wp(r,n).pipe((0,Xe.R)((o,c)=>function o0(r,e,n){return e.forEach(o=>{n.indexOf(o.type)>-1&&(r=function Oy(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return ug(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=r.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ug(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ug(r,e.oldIndex,1)}return r}(r,o))}),r}(o,c.map(m=>m.payload),e),[]),(0,ut.x)(),(0,ke.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function ug(r,e,n,...o){const c=r.slice();return c.splice(e,n,...o),c}function z_(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class ky{ref;query;afs;constructor(e,n,o){this.ref=e,this.query=n,this.afs=o}stateChanges(e){let n=Wp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,ke.U)(o=>o.filter(c=>e.indexOf(c.type)>-1)))),n.pipe((0,H.O)(void 0),yt(),(0,ht.h)(([o,c])=>c.length>0||!o),(0,ke.U)(([,o])=>o),O.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Xe.R)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=z_(e);return Yp(this.query,n,this.afs.schedulers.outsideAngular).pipe(O.iC)}valueChanges(e={}){return H_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.U)(n=>n.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),O.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(O.iC)}add(e){return this.ref.add(e)}doc(e){return new j_(this.ref.doc(e),this.afs)}}class a0{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Wp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.U)(n=>n.filter(o=>e.indexOf(o.type)>-1)),(0,ht.h)(n=>n.length>0),O.iC):Wp(this.query,this.afs.schedulers.outsideAngular).pipe(O.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Xe.R)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=z_(e);return Yp(this.query,n,this.afs.schedulers.outsideAngular).pipe(O.iC)}valueChanges(e={}){return H_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.U)(o=>o.payload.docs.map(c=>e.idField?{[e.idField]:c.id,...c.data()}:c.data())),O.iC)}get(e){return(0,Le.D)(this.query.get(e)).pipe(O.iC)}}const hg=new ne.OlP("angularfire2.enableFirestorePersistence"),Kp=new ne.OlP("angularfire2.firestore.persistenceSettings"),G_=new ne.OlP("angularfire2.firestore.settings"),$_=new ne.OlP("angularfire2.firestore.use-emulator");function W_(r,e=(n=>n)){return{query:e(r),ref:r}}let Y_=(()=>{class r{schedulers;firestore;persistenceEnabled$;constructor(n,o,c,m,b,$,te,pe,Re,it,jt,hn,Xn,si,oi,sr,yr){this.schedulers=te;const nr=(0,w.on)(n,$,o),vs=Re;it&&(0,we.nw)(nr,$,jt,Xn,si,oi,hn,sr),[this.firestore,this.persistenceEnabled$]=(0,w.cc)(`${nr.name}.firestore`,"AngularFirestore",nr.name,()=>{const to=$.runOutsideAngular(()=>nr.firestore());if(m&&to.settings(m),vs&&to.useEmulator(...vs),c&&!(0,a.PM)(b)){const oo=()=>{try{return(0,Le.D)(to.enablePersistence(pe||void 0).then(()=>!0,()=>!1))}catch($a){return typeof console<"u"&&console.warn($a),(0,ze.of)(!1)}};return[to,$.runOutsideAngular(oo)]}return[to,(0,ze.of)(!1)]},[m,vs,c])}collection(n,o){let c;c="string"==typeof n?this.firestore.collection(n):n;const{ref:m,query:b}=W_(c,o),$=this.schedulers.ngZone.run(()=>m);return new ky($,b,this)}collectionGroup(n,o){const c=o||(b=>b),m=this.firestore.collectionGroup(n);return new a0(c(m),this)}doc(n){let o;o="string"==typeof n?this.firestore.doc(n):n;const c=this.schedulers.ngZone.run(()=>o);return new j_(c,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||r)(ne.LFG(w.Dh),ne.LFG(w.xv,8),ne.LFG(hg,8),ne.LFG(G_,8),ne.LFG(ne.Lbi),ne.LFG(ne.R0b),ne.LFG(O.HU),ne.LFG(Kp,8),ne.LFG($_,8),ne.LFG(we.zQ,8),ne.LFG(we.Qv,8),ne.LFG(we.L6,8),ne.LFG(we._Q,8),ne.LFG(we.rT,8),ne.LFG(we.lh,8),ne.LFG(we.f7,8),ne.LFG(O.Rf,8))};static \u0275prov=ne.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"})}return r})(),Py=(()=>{class r{constructor(){$p.Z.registerVersion("angularfire",O.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:hg,useValue:!0},{provide:Kp,useValue:n}]}}static \u0275fac=function(o){return new(o||r)};static \u0275mod=ne.oAB({type:r});static \u0275inj=ne.cJS({providers:[Y_]})}return r})()},4186:(Sn,Et,R)=>{R.d(Et,{Q1:()=>Qo,TE:()=>fe});var a=R(1920),ne=R(5592),O=R(2096),w=R(2459),we=R(3620),Ge=R(7398),$e=R(4664),Le=R(5879),ze=R(7217),H=R(3106),Fe=R(5861),Ye=R(534),yt=R(9058),ke=R(4537);const Xe="firebasestorage.googleapis.com",ut="storageBucket";class Ke extends yt.ZR{constructor(D,q,de=0){super(rt(D),`Firebase Storage: ${q} (${rt(D)})`),this.status_=de,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return rt(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ye=function(M){return M.UNKNOWN="unknown",M.OBJECT_NOT_FOUND="object-not-found",M.BUCKET_NOT_FOUND="bucket-not-found",M.PROJECT_NOT_FOUND="project-not-found",M.QUOTA_EXCEEDED="quota-exceeded",M.UNAUTHENTICATED="unauthenticated",M.UNAUTHORIZED="unauthorized",M.UNAUTHORIZED_APP="unauthorized-app",M.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",M.INVALID_CHECKSUM="invalid-checksum",M.CANCELED="canceled",M.INVALID_EVENT_NAME="invalid-event-name",M.INVALID_URL="invalid-url",M.INVALID_DEFAULT_BUCKET="invalid-default-bucket",M.NO_DEFAULT_BUCKET="no-default-bucket",M.CANNOT_SLICE_BLOB="cannot-slice-blob",M.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",M.NO_DOWNLOAD_URL="no-download-url",M.INVALID_ARGUMENT="invalid-argument",M.INVALID_ARGUMENT_COUNT="invalid-argument-count",M.APP_DELETED="app-deleted",M.INVALID_ROOT_OPERATION="invalid-root-operation",M.INVALID_FORMAT="invalid-format",M.INTERNAL_ERROR="internal-error",M.UNSUPPORTED_ENVIRONMENT="unsupported-environment",M}(ye||{});function rt(M){return"storage/"+M}function W(){return new Ke(ye.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Nt(){return new Ke(ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cn(){return new Ke(ye.CANCELED,"User canceled the upload/download.")}function Ln(){return new Ke(ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bt(M){return new Ke(ye.INVALID_ARGUMENT,M)}function Rt(){return new Ke(ye.APP_DELETED,"The Firebase app was deleted.")}function Be(M){return new Ke(ye.INVALID_ROOT_OPERATION,"The operation '"+M+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Te(M,D){return new Ke(ye.INVALID_FORMAT,"String does not match format '"+M+"': "+D)}function Mt(M){throw new Ke(ye.INTERNAL_ERROR,"Internal error: "+M)}class Ze{constructor(D,q){this.bucket=D,this.path_=q}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,q){let de;try{de=Ze.makeFromUrl(D,q)}catch{return new Ze(D,"")}if(""===de.path)return de;throw function ni(M){return new Ke(ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+M+"'.")}(D)}static makeFromUrl(D,q){let de=null;const ct="([A-Za-z0-9.\\-_]+)",Wn=new RegExp("^gs://"+ct+"(/(.*))?$","i");function Gi(go){go.path_=decodeURIComponent(go.path)}const ws=q.replace(/[.]/g,"\\."),Ds=[{regex:Wn,indices:{bucket:1,path:3},postModify:function Zt(go){"/"===go.path.charAt(go.path.length-1)&&(go.path_=go.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ws}/v[A-Za-z0-9_]+/b/${ct}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Gi},{regex:new RegExp(`^https?://${q===Xe?"(?:storage.googleapis.com|storage.cloud.google.com)":q}/${ct}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Gi}];for(let go=0;go<Ds.length;go++){const Jr=Ds[go],so=Jr.regex.exec(D);if(so){let wo=so[Jr.indices.path];wo||(wo=""),de=new Ze(so[Jr.indices.bucket],wo),Jr.postModify(de);break}}if(null==de)throw function Mn(M){return new Ke(ye.INVALID_URL,"Invalid URL '"+M+"'.")}(D);return de}}class St{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function Wt(M){return"string"==typeof M||M instanceof String}function _e(M){return Ue()&&M instanceof Blob}function Ue(){return typeof Blob<"u"&&!(0,yt.UG)()}function at(M,D,q,de){if(de<D)throw bt(`Invalid value for '${M}'. Expected ${D} or greater.`);if(de>q)throw bt(`Invalid value for '${M}'. Expected ${q} or less.`)}function $t(M,D,q){let de=D;return null==q&&(de=`https://${D}`),`${q}://${de}/v0${M}`}function pn(M){const D=encodeURIComponent;let q="?";for(const de in M)M.hasOwnProperty(de)&&(q=q+(D(de)+"=")+D(M[de])+"&");return q=q.slice(0,-1),q}var dn=function(M){return M[M.NO_ERROR=0]="NO_ERROR",M[M.NETWORK_ERROR=1]="NETWORK_ERROR",M[M.ABORT=2]="ABORT",M}(dn||{});function Qn(M,D){const q=M>=500&&M<600,ct=-1!==[408,429].indexOf(M),Zt=-1!==D.indexOf(M);return q||ct||Zt}class ai{constructor(D,q,de,ct,Zt,Tn,Wn,qn,Gi,rr,ws,Sr=!0){this.url_=D,this.method_=q,this.headers_=de,this.body_=ct,this.successCodes_=Zt,this.additionalRetryCodes_=Tn,this.callback_=Wn,this.errorCallback_=qn,this.timeout_=Gi,this.progressCallback_=rr,this.connectionFactory_=ws,this.retry=Sr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Wr,Cs)=>{this.resolve_=Wr,this.reject_=Cs,this.start_()})}start_(){const q=(de,ct)=>{const Zt=this.resolve_,Tn=this.reject_,Wn=ct.connection;if(ct.wasSuccessCode)try{const qn=this.callback_(Wn,Wn.getResponse());!function Ut(M){return void 0!==M}(qn)?Zt():Zt(qn)}catch(qn){Tn(qn)}else if(null!==Wn){const qn=W();qn.serverResponse=Wn.getErrorText(),Tn(this.errorCallback_?this.errorCallback_(Wn,qn):qn)}else Tn(ct.canceled?this.appDelete_?Rt():Cn():Nt())};this.canceled_?q(0,new Pt(!1,null,!0)):this.backoffId_=function Bt(M,D,q){let de=1,ct=null,Zt=null,Tn=!1,Wn=0;function qn(){return 2===Wn}let Gi=!1;function rr(...ms){Gi||(Gi=!0,D.apply(null,ms))}function ws(ms){ct=setTimeout(()=>{ct=null,M(Wr,qn())},ms)}function Sr(){Zt&&clearTimeout(Zt)}function Wr(ms,...os){if(Gi)return void Sr();if(ms)return Sr(),void rr.call(null,ms,...os);if(qn()||Tn)return Sr(),void rr.call(null,ms,...os);let Ds;de<64&&(de*=2),1===Wn?(Wn=2,Ds=0):Ds=1e3*(de+Math.random()),ws(Ds)}let Cs=!1;function mo(ms){Cs||(Cs=!0,Sr(),!Gi&&(null!==ct?(ms||(Wn=2),clearTimeout(ct),ws(0)):ms||(Wn=1)))}return ws(0),Zt=setTimeout(()=>{Tn=!0,mo(!0)},q),mo}((de,ct)=>{if(ct)return void de(!1,new Pt(!1,null,!0));const Zt=this.connectionFactory_();this.pendingConnection_=Zt;const Tn=Wn=>{null!==this.progressCallback_&&this.progressCallback_(Wn.loaded,Wn.lengthComputable?Wn.total:-1)};null!==this.progressCallback_&&Zt.addUploadProgressListener(Tn),Zt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Zt.removeUploadProgressListener(Tn),this.pendingConnection_=null;const Wn=Zt.getErrorCode()===dn.NO_ERROR,qn=Zt.getStatus();if(!Wn||Qn(qn,this.additionalRetryCodes_)&&this.retry){const rr=Zt.getErrorCode()===dn.ABORT;return void de(!1,new Pt(!1,null,rr))}const Gi=-1!==this.successCodes_.indexOf(qn);de(!0,new Pt(Gi,Zt))})},q,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function yn(M){M(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Pt{constructor(D,q,de){this.wasSuccessCode=D,this.connection=q,this.canceled=!!de}}function rn(...M){const D=function At(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const q=new D;for(let de=0;de<M.length;de++)q.append(M[de]);return q.getBlob()}if(Ue())return new Blob(M);throw new Ke(ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class An{constructor(D,q){this.data=D,this.contentType=q||null}}function Ci(M,D){switch(M){case Hn.RAW:return new An(xi(D));case Hn.BASE64:case Hn.BASE64URL:return new An(zi(M,D));case Hn.DATA_URL:return new An(function ci(M){const D=new sn(M);return D.base64?zi(Hn.BASE64,D.rest):function Li(M){let D;try{D=decodeURIComponent(M)}catch{throw Te(Hn.DATA_URL,"Malformed data URL.")}return xi(D)}(D.rest)}(D),function tn(M){return new sn(M).contentType}(D))}throw W()}function xi(M){const D=[];for(let q=0;q<M.length;q++){let de=M.charCodeAt(q);de<=127?D.push(de):de<=2047?D.push(192|de>>6,128|63&de):55296==(64512&de)?q<M.length-1&&56320==(64512&M.charCodeAt(q+1))?(de=65536|(1023&de)<<10|1023&M.charCodeAt(++q),D.push(240|de>>18,128|de>>12&63,128|de>>6&63,128|63&de)):D.push(239,191,189):56320==(64512&de)?D.push(239,191,189):D.push(224|de>>12,128|de>>6&63,128|63&de)}return new Uint8Array(D)}function zi(M,D){switch(M){case Hn.BASE64:{const ct=-1!==D.indexOf("-"),Zt=-1!==D.indexOf("_");if(ct||Zt)throw Te(M,"Invalid character '"+(ct?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const ct=-1!==D.indexOf("+"),Zt=-1!==D.indexOf("/");if(ct||Zt)throw Te(M,"Invalid character '"+(ct?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let q;try{q=function gn(M){if(typeof atob>"u")throw function pt(M){return new Ke(ye.UNSUPPORTED_ENVIRONMENT,`${M} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(M)}(D)}catch(ct){throw ct.message.includes("polyfill")?ct:Te(M,"Invalid character found")}const de=new Uint8Array(q.length);for(let ct=0;ct<q.length;ct++)de[ct]=q.charCodeAt(ct);return de}class sn{constructor(D){this.base64=!1,this.contentType=null;const q=D.match(/^data:([^,]+)?,/);if(null===q)throw Te(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const de=q[1]||null;null!=de&&(this.base64=function kn(M,D){return M.length>=D.length&&M.substring(M.length-D.length)===D}(de,";base64"),this.contentType=this.base64?de.substring(0,de.length-7):de),this.rest=D.substring(D.indexOf(",")+1)}}class xn{constructor(D,q){let de=0,ct="";_e(D)?(this.data_=D,de=D.size,ct=D.type):D instanceof ArrayBuffer?(q?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),de=this.data_.length):D instanceof Uint8Array&&(q?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),de=D.length),this.size_=de,this.type_=ct}size(){return this.size_}type(){return this.type_}slice(D,q){if(_e(this.data_)){const ct=function Fn(M,D,q){return M.webkitSlice?M.webkitSlice(D,q):M.mozSlice?M.mozSlice(D,q):M.slice?M.slice(D,q):null}(this.data_,D,q);return null===ct?null:new xn(ct)}{const de=new Uint8Array(this.data_.buffer,D,q-D);return new xn(de,!0)}}static getBlob(...D){if(Ue()){const q=D.map(de=>de instanceof xn?de.data_:de);return new xn(rn.apply(null,q))}{const q=D.map(Tn=>Wt(Tn)?Ci(Hn.RAW,Tn).data:Tn.data_);let de=0;q.forEach(Tn=>{de+=Tn.byteLength});const ct=new Uint8Array(de);let Zt=0;return q.forEach(Tn=>{for(let Wn=0;Wn<Tn.length;Wn++)ct[Zt++]=Tn[Wn]}),new xn(ct,!0)}}uploadData(){return this.data_}}function zn(M){let D;try{D=JSON.parse(M)}catch{return null}return function Lt(M){return"object"==typeof M&&!Array.isArray(M)}(D)?D:null}function Dt(M){const D=M.lastIndexOf("/",M.length-2);return-1===D?M:M.slice(D+1)}function ue(M,D){return D}class J{constructor(D,q,de,ct){this.server=D,this.local=q||D,this.writable=!!de,this.xform=ct||ue}}let F=null;function be(){if(F)return F;const M=[];M.push(new J("bucket")),M.push(new J("generation")),M.push(new J("metageneration")),M.push(new J("name","fullPath",!0));const q=new J("name");q.xform=function D(Zt,Tn){return function G(M){return!Wt(M)||M.length<2?M:Dt(M)}(Tn)},M.push(q);const ct=new J("size");return ct.xform=function de(Zt,Tn){return void 0!==Tn?Number(Tn):Tn},M.push(ct),M.push(new J("timeCreated")),M.push(new J("updated")),M.push(new J("md5Hash",null,!0)),M.push(new J("cacheControl",null,!0)),M.push(new J("contentDisposition",null,!0)),M.push(new J("contentEncoding",null,!0)),M.push(new J("contentLanguage",null,!0)),M.push(new J("contentType",null,!0)),M.push(new J("metadata","customMetadata",!0)),F=M,F}function ot(M,D,q){const de=zn(D);return null===de?null:function nt(M,D,q){const de={type:"file"},ct=q.length;for(let Zt=0;Zt<ct;Zt++){const Tn=q[Zt];de[Tn.local]=Tn.xform(de,D[Tn.server])}return function gt(M,D){Object.defineProperty(M,"ref",{get:function q(){const Zt=new Ze(M.bucket,M.fullPath);return D._makeStorageReference(Zt)}})}(de,M),de}(M,de,q)}function We(M,D){const q={},de=D.length;for(let ct=0;ct<de;ct++){const Zt=D[ct];Zt.writable&&(q[Zt.server]=M[Zt.local])}return JSON.stringify(q)}const st="prefixes",Jt="items";class vt{constructor(D,q,de,ct){this.url=D,this.method=q,this.handler=de,this.timeout=ct,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tt(M){if(!M)throw W()}function dt(M,D){return function q(de,ct){const Zt=ot(M,ct,D);return tt(null!==Zt),Zt}}function Kn(M){return function D(q,de){let ct;return ct=401===q.getStatus()?q.getErrorText().includes("Firebase App Check token is invalid")?function It(){return new Ke(ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ee(){return new Ke(ye.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===q.getStatus()?function qe(M){return new Ke(ye.QUOTA_EXCEEDED,"Quota for bucket '"+M+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(M.bucket):403===q.getStatus()?function Ht(M){return new Ke(ye.UNAUTHORIZED,"User does not have permission to access '"+M+"'.")}(M.path):de,ct.status=q.getStatus(),ct.serverResponse=de.serverResponse,ct}}function bn(M){const D=Kn(M);return function q(de,ct){let Zt=D(de,ct);return 404===de.getStatus()&&(Zt=function Pe(M){return new Ke(ye.OBJECT_NOT_FOUND,"Object '"+M+"' does not exist.")}(M.path)),Zt.serverResponse=ct.serverResponse,Zt}}function _i(M,D,q){const ct=$t(D.fullServerUrl(),M.host,M._protocol),Tn=M.maxOperationRetryTime,Wn=new vt(ct,"GET",dt(M,q),Tn);return Wn.errorHandler=bn(D),Wn}function ur(M,D,q,de,ct){const Zt={};Zt.prefix=D.isRoot?"":D.path+"/",q&&q.length>0&&(Zt.delimiter=q),de&&(Zt.pageToken=de),ct&&(Zt.maxResults=ct);const Wn=$t(D.bucketOnlyServerUrl(),M.host,M._protocol),Gi=M.maxOperationRetryTime,rr=new vt(Wn,"GET",function Gt(M,D){return function q(de,ct){const Zt=function et(M,D,q){const de=zn(q);return null===de?null:function Qe(M,D,q){const de={prefixes:[],items:[],nextPageToken:q.nextPageToken};if(q[st])for(const ct of q[st]){const Zt=ct.replace(/\/$/,""),Tn=M._makeStorageReference(new Ze(D,Zt));de.prefixes.push(Tn)}if(q[Jt])for(const ct of q[Jt]){const Zt=M._makeStorageReference(new Ze(D,ct.name));de.items.push(Zt)}return de}(M,D,de)}(M,D,ct);return tt(null!==Zt),Zt}}(M,D.bucket),Gi);return rr.urlParams=Zt,rr.errorHandler=Kn(D),rr}function cr(M,D,q){const de=Object.assign({},q);return de.fullPath=M.path,de.size=D.size(),de.contentType||(de.contentType=function or(M,D){return M&&M.contentType||D&&D.type()||"application/octet-stream"}(null,D)),de}class jr{constructor(D,q,de,ct){this.current=D,this.total=q,this.finalized=!!de,this.metadata=ct||null}}function Mi(M,D){let q=null;try{q=M.getResponseHeader("X-Goog-Upload-Status")}catch{tt(!1)}return tt(!!q&&-1!==(D||["active"]).indexOf(q)),q}const no={STATE_CHANGED:"state_changed"},xr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function us(M){switch(M){case"running":case"pausing":case"canceling":return xr.RUNNING;case"paused":return xr.PAUSED;case"success":return xr.SUCCESS;case"canceled":return xr.CANCELED;default:return xr.ERROR}}class zr{constructor(D,q,de){if(function Pn(M){return"function"==typeof M}(D)||null!=q||null!=de)this.next=D,this.error=q??void 0,this.complete=de??void 0;else{const Zt=D;this.next=Zt.next,this.error=Zt.error,this.complete=Zt.complete}}}function ir(M){return(...D)=>{Promise.resolve().then(()=>M(...D))}}let Po=null;class ao{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dn.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dn.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dn.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,q,de,ct){if(this.sent_)throw Mt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(q,D,!0),void 0!==ct)for(const Zt in ct)ct.hasOwnProperty(Zt)&&this.xhr_.setRequestHeader(Zt,ct[Zt].toString());return void 0!==de?this.xhr_.send(de):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class lo extends ao{initXhr(){this.xhr_.responseType="text"}}function Ss(){return Po?Po():new lo}class bo{constructor(D,q,de=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=q,this._metadata=de,this._mappings=be(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ct=>{if(this._request=void 0,this._chunkMultiplier=1,ct._codeEquals(ye.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Zt=this.isExponentialBackoffExpired();if(Qn(ct.status,[])){if(!Zt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ct=Nt()}this._error=ct,this._transition("error")}},this._metadataErrorHandler=ct=>{this._request=void 0,ct._codeEquals(ye.CANCELED)?this.completeTransitions_():(this._error=ct,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ct,Zt)=>{this._resolve=ct,this._reject=Zt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return q=>this._updateProgress(D+q)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([q,de])=>{switch(this._state){case"running":D(q,de);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,q)=>{const de=function Zr(M,D,q,de,ct){const Zt=D.bucketOnlyServerUrl(),Tn=cr(D,de,ct),Wn={name:Tn.fullPath},qn=$t(Zt,M.host,M._protocol),rr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${de.size()}`,"X-Goog-Upload-Header-Content-Type":Tn.contentType,"Content-Type":"application/json; charset=utf-8"},ws=We(Tn,q),Cs=new vt(qn,"POST",function Wr(mo){let ms;Mi(mo);try{ms=mo.getResponseHeader("X-Goog-Upload-URL")}catch{tt(!1)}return tt(Wt(ms)),ms},M.maxUploadRetryTime);return Cs.urlParams=Wn,Cs.headers=rr,Cs.body=ws,Cs.errorHandler=Kn(D),Cs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ct=this._ref.storage._makeRequest(de,Ss,D,q);this._request=ct,ct.getPromise().then(Zt=>{this._request=void 0,this._uploadUrl=Zt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((q,de)=>{const ct=function Hs(M,D,q,de){const qn=new vt(q,"POST",function Zt(Gi){const rr=Mi(Gi,["active","final"]);let ws=null;try{ws=Gi.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tt(!1)}ws||tt(!1);const Sr=Number(ws);return tt(!isNaN(Sr)),new jr(Sr,de.size(),"final"===rr)},M.maxUploadRetryTime);return qn.headers={"X-Goog-Upload-Command":"query"},qn.errorHandler=Kn(D),qn}(this._ref.storage,this._ref._location,D,this._blob),Zt=this._ref.storage._makeRequest(ct,Ss,q,de);this._request=Zt,Zt.getPromise().then(Tn=>{this._request=void 0,this._updateProgress(Tn.current),this._needToFetchStatus=!1,Tn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,q=new jr(this._transferred,this._blob.size()),de=this._uploadUrl;this._resolveToken((ct,Zt)=>{let Tn;try{Tn=function Is(M,D,q,de,ct,Zt,Tn,Wn){const qn=new jr(0,0);if(Tn?(qn.current=Tn.current,qn.total=Tn.total):(qn.current=0,qn.total=de.size()),de.size()!==qn.total)throw function jn(){return new Ke(ye.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Gi=qn.total-qn.current;let rr=Gi;ct>0&&(rr=Math.min(rr,ct));const ws=qn.current;let Wr="";Wr=0===rr?"finalize":Gi===rr?"upload, finalize":"upload";const Cs={"X-Goog-Upload-Command":Wr,"X-Goog-Upload-Offset":`${qn.current}`},mo=de.slice(ws,ws+rr);if(null===mo)throw Ln();const Ds=new vt(q,"POST",function ms(go,Jr){const so=Mi(go,["active","final"]),ps=qn.current+rr,wo=de.size();let fo;return fo="final"===so?dt(D,Zt)(go,Jr):null,new jr(ps,wo,"final"===so,fo)},D.maxUploadRetryTime);return Ds.headers=Cs,Ds.body=mo.uploadData(),Ds.progressCallback=Wn||null,Ds.errorHandler=Kn(M),Ds}(this._ref._location,this._ref.storage,de,this._blob,D,this._mappings,q,this._makeProgressCallback())}catch(qn){return this._error=qn,void this._transition("error")}const Wn=this._ref.storage._makeRequest(Tn,Ss,ct,Zt,!1);this._request=Wn,Wn.getPromise().then(qn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(qn.current),qn.finalized?(this._metadata=qn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,q)=>{const de=_i(this._ref.storage,this._ref._location,this._mappings),ct=this._ref.storage._makeRequest(de,Ss,D,q);this._request=ct,ct.getPromise().then(Zt=>{this._request=void 0,this._metadata=Zt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,q)=>{const de=function ts(M,D,q,de,ct){const Zt=D.bucketOnlyServerUrl(),Tn={"X-Goog-Upload-Protocol":"multipart"},qn=function Wn(){let Ds="";for(let go=0;go<2;go++)Ds+=Math.random().toString().slice(2);return Ds}();Tn["Content-Type"]="multipart/related; boundary="+qn;const Gi=cr(D,de,ct),rr=We(Gi,q),Wr=xn.getBlob("--"+qn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rr+"\r\n--"+qn+"\r\nContent-Type: "+Gi.contentType+"\r\n\r\n",de,"\r\n--"+qn+"--");if(null===Wr)throw Ln();const Cs={name:Gi.fullPath},mo=$t(Zt,M.host,M._protocol),os=M.maxUploadRetryTime,Yr=new vt(mo,"POST",dt(M,q),os);return Yr.urlParams=Cs,Yr.headers=Tn,Yr.body=Wr.uploadData(),Yr.errorHandler=Kn(D),Yr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ct=this._ref.storage._makeRequest(de,Ss,D,q);this._request=ct,ct.getPromise().then(Zt=>{this._request=void 0,this._metadata=Zt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const q=this._transferred;this._transferred=D,this._transferred!==q&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const q="paused"===this._state;this._state=D,q&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=Cn(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=us(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,q,de,ct){const Zt=new zr(q||void 0,de||void 0,ct||void 0);return this._addObserver(Zt),()=>{this._removeObserver(Zt)}}then(D,q){return this._promise.then(D,q)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const q=this._observers.indexOf(D);-1!==q&&this._observers.splice(q,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(q=>{this._notifyObserver(q)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(us(this._state)){case xr.SUCCESS:ir(this._resolve.bind(null,this.snapshot))();break;case xr.CANCELED:case xr.ERROR:ir(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(us(this._state)){case xr.RUNNING:case xr.PAUSED:D.next&&ir(D.next.bind(D,this.snapshot))();break;case xr.SUCCESS:D.complete&&ir(D.complete.bind(D))();break;default:D.error&&ir(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class io{constructor(D,q){this._service=D,this._location=q instanceof Ze?q:Ze.makeFromUrl(q,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,q){return new io(D,q)}get root(){const D=new Ze(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dt(this._location.path)}get storage(){return this._service}get parent(){const D=function Ri(M){if(0===M.length)return null;const D=M.lastIndexOf("/");return-1===D?"":M.slice(0,D)}(this._location.path);if(null===D)return null;const q=new Ze(this._location.bucket,D);return new io(this._service,q)}_throwIfRoot(D){if(""===this._location.path)throw Be(D)}}function co(M,D,q){return As.apply(this,arguments)}function As(){return(As=(0,Fe.Z)(function*(M,D,q){const ct=yield ki(M,{pageToken:q});D.prefixes.push(...ct.prefixes),D.items.push(...ct.items),null!=ct.nextPageToken&&(yield co(M,D,ct.nextPageToken))})).apply(this,arguments)}function ki(M,D){null!=D&&"number"==typeof D.maxResults&&at("options.maxResults",1,1e3,D.maxResults);const q=D||{},de=ur(M.storage,M._location,"/",q.pageToken,q.maxResults);return M.storage.makeRequestWithTokens(de,Ss)}function Ar(M){M._throwIfRoot("getDownloadURL");const D=function pr(M,D,q){const ct=$t(D.fullServerUrl(),M.host,M._protocol),Tn=M.maxOperationRetryTime,Wn=new vt(ct,"GET",function an(M,D){return function q(de,ct){const Zt=ot(M,ct,D);return tt(null!==Zt),function Me(M,D,q,de){const ct=zn(D);if(null===ct||!Wt(ct.downloadTokens))return null;const Zt=ct.downloadTokens;if(0===Zt.length)return null;const Tn=encodeURIComponent;return Zt.split(",").map(Gi=>{const ws=M.fullPath;return $t("/b/"+Tn(M.bucket)+"/o/"+Tn(ws),q,de)+pn({alt:"media",token:Gi})})[0]}(Zt,ct,M.host,M._protocol)}}(M,q),Tn);return Wn.errorHandler=bn(D),Wn}(M.storage,M._location,be());return M.storage.makeRequestWithTokens(D,Ss).then(q=>{if(null===q)throw function kt(){return new Ke(ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return q})}function is(M,D){const q=function Yi(M,D){const q=D.split("/").filter(de=>de.length>0).join("/");return 0===M.length?q:M+"/"+q}(M._location.path,D),de=new Ze(M._location.bucket,q);return new io(M.storage,de)}function qo(M,D){if(M instanceof Ti){const q=M;if(null==q._bucket)throw function wn(){return new Ke(ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ut+"' property when initializing the app?")}();const de=new io(q,q._bucket);return null!=D?qo(de,D):de}return void 0!==D?is(M,D):M}function Ho(M,D){if(D&&function bs(M){return/^[A-Za-z]+:\/\//.test(M)}(D)){if(M instanceof Ti)return function So(M,D){return new io(M,D)}(M,D);throw bt("To use ref(service, url), the first argument must be a Storage instance.")}return qo(M,D)}function Qi(M,D){const q=D?.[ut];return null==q?null:Ze.makeFromBucketSpec(q,M)}class Ti{constructor(D,q,de,ct,Zt){this.app=D,this._authProvider=q,this._appCheckProvider=de,this._url=ct,this._firebaseVersion=Zt,this._bucket=null,this._host=Xe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ct?Ze.makeFromBucketSpec(ct,this._host):Qi(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?Ze.makeFromBucketSpec(this._url,D):Qi(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){at("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){at("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,Fe.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const q=D._authProvider.getImmediate({optional:!0});if(q){const de=yield q.getToken();if(null!==de)return de.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,Fe.Z)(function*(){const q=D._appCheckProvider.getImmediate({optional:!0});return q?(yield q.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new io(this,D)}_makeRequest(D,q,de,ct,Zt=!0){if(this._deleted)return new St(Rt());{const Tn=function mt(M,D,q,de,ct,Zt,Tn=!0){const Wn=pn(M.urlParams),qn=M.url+Wn,Gi=Object.assign({},M.headers);return function Ve(M,D){D&&(M["X-Firebase-GMPID"]=D)}(Gi,D),function Ie(M,D){null!==D&&D.length>0&&(M.Authorization="Firebase "+D)}(Gi,q),function xe(M,D){M["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(Gi,Zt),function je(M,D){null!==D&&(M["X-Firebase-AppCheck"]=D)}(Gi,de),new ai(qn,M.method,Gi,M.body,M.successCodes,M.additionalRetryCodes,M.handler,M.errorHandler,M.timeout,M.progressCallback,ct,Tn)}(D,this._appId,de,ct,q,this._firebaseVersion,Zt);return this._requests.add(Tn),Tn.getPromise().then(()=>this._requests.delete(Tn),()=>this._requests.delete(Tn)),Tn}}makeRequestWithTokens(D,q){var de=this;return(0,Fe.Z)(function*(){const[ct,Zt]=yield Promise.all([de._getAuthToken(),de._getAppCheckToken()]);return de._makeRequest(D,q,ct,Zt).getPromise()})()}}const Vi="@firebase/storage";function Dr(M,D){return Ho(M=(0,yt.m9)(M),D)}function uo(M,{instanceIdentifier:D}){const q=M.getProvider("app").getImmediate(),de=M.getProvider("auth-internal"),ct=M.getProvider("app-check-internal");return new Ti(q,de,ct,D,Ye.SDK_VERSION)}!function ho(){(0,Ye._registerComponent)(new ke.wA("storage",uo,"PUBLIC").setMultipleInstances(!0)),(0,Ye.registerVersion)(Vi,"0.11.2",""),(0,Ye.registerVersion)(Vi,"0.11.2","esm2017")}();class jo{constructor(D,q,de){this._delegate=D,this.task=q,this.ref=de}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yi{constructor(D,q){this._delegate=D,this._ref=q,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new jo(this._delegate.snapshot,this,this._ref)}then(D,q){return this._delegate.then(de=>{if(D)return D(new jo(de,this,this._ref))},q)}on(D,q,de,ct){let Zt;return q&&(Zt="function"==typeof q?Tn=>q(new jo(Tn,this,this._ref)):{next:q.next?Tn=>q.next(new jo(Tn,this,this._ref)):void 0,complete:q.complete||void 0,error:q.error||void 0}),this._delegate.on(D,Zt,de||void 0,ct||void 0)}}class No{constructor(D,q){this._delegate=D,this._service=q}get prefixes(){return this._delegate.prefixes.map(D=>new Lr(D,this._service))}get items(){return this._delegate.items.map(D=>new Lr(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Lr{constructor(D,q){this._delegate=D,this.storage=q}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const q=function gr(M,D){return is(M,D)}(this._delegate,D);return new Lr(q,this.storage)}get root(){return new Lr(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new Lr(D,this.storage)}put(D,q){return this._throwIfRoot("put"),new yi(function js(M,D,q){return function Tr(M,D,q){return M._throwIfRoot("uploadBytesResumable"),new bo(M,new xn(D),q)}(M=(0,yt.m9)(M),D,q)}(this._delegate,D,q),this)}putString(D,q=Hn.RAW,de){this._throwIfRoot("putString");const ct=Ci(q,D),Zt=Object.assign({},de);return null==Zt.contentType&&null!=ct.contentType&&(Zt.contentType=ct.contentType),new yi(new bo(this._delegate,new xn(ct.data,!0),Zt),this)}listAll(){return function Rs(M){return function Fs(M){const D={prefixes:[],items:[]};return co(M,D).then(()=>D)}(M=(0,yt.m9)(M))}(this._delegate).then(D=>new No(D,this.storage))}list(D){return function Es(M,D){return ki(M=(0,yt.m9)(M),D)}(this._delegate,D||void 0).then(q=>new No(q,this.storage))}getMetadata(){return function hs(M){return function Hi(M){M._throwIfRoot("getMetadata");const D=_i(M.storage,M._location,be());return M.storage.makeRequestWithTokens(D,Ss)}(M=(0,yt.m9)(M))}(this._delegate)}updateMetadata(D){return function Vn(M,D){return function di(M,D){M._throwIfRoot("updateMetadata");const q=function Hr(M,D,q,de){const Zt=$t(D.fullServerUrl(),M.host,M._protocol),Wn=We(q,de),Gi=M.maxOperationRetryTime,rr=new vt(Zt,"PATCH",dt(M,de),Gi);return rr.headers={"Content-Type":"application/json; charset=utf-8"},rr.body=Wn,rr.errorHandler=bn(D),rr}(M.storage,M._location,D,be());return M.storage.makeRequestWithTokens(q,Ss)}(M=(0,yt.m9)(M),D)}(this._delegate,D)}getDownloadURL(){return function Ao(M){return Ar(M=(0,yt.m9)(M))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ji(M){return function ns(M){M._throwIfRoot("deleteObject");const D=function qs(M,D){const de=$t(D.fullServerUrl(),M.host,M._protocol),Wn=new vt(de,"DELETE",function Tn(qn,Gi){},M.maxOperationRetryTime);return Wn.successCodes=[200,204],Wn.errorHandler=bn(D),Wn}(M.storage,M._location);return M.storage.makeRequestWithTokens(D,Ss)}(M=(0,yt.m9)(M))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw Be(D)}}class zo{constructor(D,q){this.app=D,this._delegate=q}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(Gr(D))throw bt("ref() expected a child path but got a URL, use refFromURL instead.");return new Lr(Dr(this._delegate,D),this)}refFromURL(D){if(!Gr(D))throw bt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ze.makeFromUrl(D,this._delegate.host)}catch{throw bt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Lr(Dr(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,q,de={}){!function Qr(M,D,q,de={}){!function Yn(M,D,q,de={}){M.host=`${D}:${q}`,M._protocol="http";const{mockUserToken:ct}=de;ct&&(M._overrideAuthToken="string"==typeof ct?ct:(0,yt.Sg)(ct,M.app.options.projectId))}(M,D,q,de)}(this._delegate,D,q,de)}}function Gr(M){return/^[A-Za-z]+:\/\//.test(M)}function Pi(M,{instanceIdentifier:D}){const q=M.getProvider("app-compat").getImmediate(),de=M.getProvider("storage").getImmediate({identifier:D});return new zo(q,de)}!function fa(M){const D={TaskState:xr,TaskEvent:no,StringFormat:Hn,Storage:zo,Reference:Lr};M.INTERNAL.registerComponent(new ke.wA("storage-compat",Pi,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),M.registerVersion("@firebase/storage-compat","0.3.2")}(H.Z);var rs=R(7142);function pa(M){const D=function Ir(M){return new ne.y(D=>{const q=Tn=>D.next(Tn);q(M.snapshot);const Zt=M.on("state_changed",q);return M.then(Tn=>{q(Tn),D.complete()},Tn=>{q(M.snapshot),(Tn=>{D.error(Tn)})(Tn)}),function(){Zt()}}).pipe((0,we.b)(0))}(M);return{task:M,then:M.then.bind(M),catch:M.catch.bind(M),pause:M.pause.bind(M),cancel:M.cancel.bind(M),resume:M.resume.bind(M),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,Ge.U)(q=>q.bytesTransferred/q.totalBytes*100))}}function $r(M){return{getDownloadURL:()=>(0,O.of)(void 0).pipe(a.fc,(0,$e.w)(()=>M.getDownloadURL()),a.iC),getMetadata:()=>(0,O.of)(void 0).pipe(a.fc,(0,$e.w)(()=>M.getMetadata()),a.iC),delete:()=>(0,w.D)(M.delete()),child:D=>$r(M.child(D)),updateMetadata:D=>(0,w.D)(M.updateMetadata(D)),put:(D,q)=>pa(M.put(D,q)),putString:(D,q,de)=>pa(M.putString(D,q,de)),list:D=>(0,w.D)(M.list(D)),listAll:()=>(0,w.D)(M.listAll())}}const Ms=new Le.OlP("angularfire2.storageBucket"),ss=new Le.OlP("angularfire2.storage.maxUploadRetryTime"),Ni=new Le.OlP("angularfire2.storage.maxOperationRetryTime"),Vs=new Le.OlP("angularfire2.storage.use-emulator");let Qo=(()=>{class M{storage;constructor(q,de,ct,Zt,Tn,Wn,qn,Gi,rr,ws){const Sr=(0,ze.on)(q,Tn,de);this.storage=(0,ze.cc)(`${Sr.name}.storage.${ct}`,"AngularFireStorage",Sr.name,()=>{const Wr=Tn.runOutsideAngular(()=>Sr.storage(ct||void 0)),Cs=rr;return Cs&&Wr.useEmulator(...Cs),qn&&Wr.setMaxUploadRetryTime(qn),Gi&&Wr.setMaxOperationRetryTime(Gi),Wr},[qn,Gi])}ref(q){return $r(this.storage.ref(q))}refFromURL(q){return $r(this.storage.refFromURL(q))}upload(q,de,ct){return $r(this.storage.ref(q)).put(de,ct)}static \u0275fac=function(de){return new(de||M)(Le.LFG(ze.Dh),Le.LFG(ze.xv,8),Le.LFG(Ms,8),Le.LFG(Le.Lbi),Le.LFG(Le.R0b),Le.LFG(a.HU),Le.LFG(ss,8),Le.LFG(Ni,8),Le.LFG(Vs,8),Le.LFG(a.Rf,8))};static \u0275prov=Le.Yz7({token:M,factory:M.\u0275fac,providedIn:"any"})}return M})(),Mr=(()=>{class M{static \u0275fac=function(de){return new(de||M)};static \u0275mod=Le.oAB({type:M});static \u0275inj=Le.cJS({})}return M})(),fe=(()=>{class M{constructor(){rs.Z.registerVersion("angularfire",a.q4.full,"gcs-compat")}static \u0275fac=function(de){return new(de||M)};static \u0275mod=Le.oAB({type:M});static \u0275inj=Le.cJS({providers:[Qo],imports:[Mr]})}return M})()},7217:(Sn,Et,R)=>{R.d(Et,{Dh:()=>Le,GT:()=>Ge,cc:()=>ke,hO:()=>yt,on:()=>H,pX:()=>we,xv:()=>ze});var a=R(5879),ne=R(1920),O=R(7142);const w=["ngOnDestroy"],we=(Ot,en,Ke,ye={})=>new Proxy(Ot,{get:(rt,W)=>Ke.runOutsideAngular(()=>{if(Ot[W])return ye?.spy?.get&&ye.spy.get(W,Ot[W]),Ot[W];if(w.indexOf(W)>-1)return()=>{};const Pe=en.toPromise().then(qe=>{const Ee=qe?.[W];return"function"==typeof Ee?Ee.bind(qe):Ee?.then?Ee.then(It=>Ke.run(()=>It)):Ke.run(()=>Ee)});return new Proxy(()=>{},{get:(qe,Ee)=>Pe[Ee],apply:(qe,Ee,It)=>Pe.then(Ht=>{const Nt=Ht?.(...It);return ye?.spy?.apply&&ye.spy.apply(W,It,Nt),Nt})})})}),Ge=(Ot,en)=>{en.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(ye=>{Object.defineProperty(Ot.prototype,ye,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,ye))})})};class $e{constructor(en){return en}}const Le=new a.OlP("angularfire2.app.options"),ze=new a.OlP("angularfire2.app.name");function H(Ot,en,Ke){const rt="object"==typeof Ke&&Ke||{};rt.name=rt.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Pe=O.Z.apps.filter(qe=>qe&&qe.name===rt.name)[0]||en.runOutsideAngular(()=>O.Z.initializeApp(Ot,rt));try{if(JSON.stringify(Ot)!==JSON.stringify(Pe.options)){const qe=!!module.hot;Fe("error",`${Pe.name} Firebase App already initialized with different options${qe?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new $e(Pe)}const Fe=(Ot,...en)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ot](...en)},Ye={provide:$e,useFactory:H,deps:[Le,a.R0b,[new a.FiY,ze]]};let yt=(()=>{class Ot{static initializeApp(Ke,ye){return{ngModule:Ot,providers:[{provide:Le,useValue:Ke},{provide:ze,useValue:ye}]}}constructor(Ke){O.Z.registerVersion("angularfire",ne.q4.full,"core"),O.Z.registerVersion("angularfire",ne.q4.full,"app-compat"),O.Z.registerVersion("angular",a.q4F.full,Ke.toString())}static \u0275fac=function(ye){return new(ye||Ot)(a.LFG(a.Lbi))};static \u0275mod=a.oAB({type:Ot});static \u0275inj=a.cJS({providers:[Ye]})}return Ot})();function ke(Ot,en,Ke,ye,rt){const[,W,Pe]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Ot)||[];if(W)return function Xe(Ot,en){try{return Ot.toString()===en.toString()}catch{return Ot===en}}(rt,Pe)||(ht("error",`${en} was already initialized on the ${Ke} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ht("warn",{is:rt,was:Pe})),W;{const qe=ye();return globalThis.\u0275AngularfireInstanceCache.push([Ot,qe,rt]),qe}}const ut=typeof module<"u"&&!!module.hot,ht=(Ot,...en)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ot](...en)};globalThis.\u0275AngularfireInstanceCache||=[]},1920:(Sn,Et,R)=>{R.d(Et,{q4:()=>ke,iC:()=>Nt,fc:()=>It,HU:()=>W,Rf:()=>Ot,vb:()=>ht,JM:()=>ut,u3:()=>ni});var a=R(5879),ne=R(3182),O=R(1954),we=R(2631);const $e=new class Ge extends we.v{}(class w extends O.o{constructor(Ln,jn){super(Ln,jn),this.scheduler=Ln,this.work=jn}schedule(Ln,jn=0){return jn>0?super.schedule(Ln,jn):(this.delay=jn,this.state=Ln,this.scheduler.flush(this),this)}execute(Ln,jn){return jn>0||this.closed?super.execute(Ln,jn):this._execute(Ln,jn)}requestAsyncId(Ln,jn,kt=0){return null!=kt&&kt>0||null==kt&&this.delay>0?super.requestAsyncId(Ln,jn,kt):(Ln.flush(this),0)}});var ze=R(6321),H=R(5592),Fe=R(9397),Ye=R(3093),yt=R(5137);const ke=new a.GfV("ANGULARFIRE2_VERSION");function ut(wn,Ln,jn){if(Ln){if(1===Ln.length)return Ln[0];const bt=Ln.filter(Rt=>Rt.app===jn);if(1===bt.length)return bt[0]}return jn.container.getProvider(wn).getImmediate({optional:!0})}const ht=(wn,Ln)=>{const jn=Ln?[Ln]:(0,ne.C6)(),kt=[];return jn.forEach(pt=>{pt.container.getProvider(wn).instances.forEach(Rt=>{kt.includes(Rt)||kt.push(Rt)})}),kt};class Ot{constructor(){return ht(en)}}const en="app-check";function Ke(){}class ye{zone;delegate;constructor(Ln,jn=$e){this.zone=Ln,this.delegate=jn}now(){return this.delegate.now()}schedule(Ln,jn,kt){const pt=this.zone;return this.delegate.schedule(function(Rt){pt.runGuarded(()=>{Ln.apply(this,[Rt])})},jn,kt)}}class rt{zone;task=null;constructor(Ln){this.zone=Ln}call(Ln,jn){const kt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke)),jn.pipe((0,Fe.b)({next:kt,complete:kt,error:kt})).subscribe(Ln).add(kt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let W=(()=>{class wn{ngZone;outsideAngular;insideAngular;constructor(jn){this.ngZone=jn,this.outsideAngular=jn.runOutsideAngular(()=>new ye(Zone.current)),this.insideAngular=jn.run(()=>new ye(Zone.current,ze.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(kt){return new(kt||wn)(a.LFG(a.R0b))};static \u0275prov=a.Yz7({token:wn,factory:wn.\u0275fac,providedIn:"root"})}return wn})();function Pe(){const wn=globalThis.\u0275AngularFireScheduler;if(!wn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return wn}function Ee(wn){return Pe().ngZone.run(()=>wn())}function It(wn){return wn.pipe((0,Ye.Q)(Pe().outsideAngular))}function Nt(wn){return function Cn(wn){return function(jn){return(jn=jn.lift(new rt(wn.ngZone))).pipe((0,yt.R)(wn.outsideAngular),(0,Ye.Q)(wn.insideAngular))}}(Pe())(wn)}const Mn=(wn,Ln)=>function(){const kt=arguments;return Ln&&setTimeout(()=>{"scheduled"===Ln.state&&Ln.invoke()},10),Ee(()=>wn.apply(void 0,kt))},ni=(wn,Ln)=>function(){let jn;const kt=arguments;for(let bt=0;bt<arguments.length;bt++)"function"==typeof kt[bt]&&(Ln&&(jn||=Ee(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ke,{},Ke,Ke))),kt[bt]=Mn(kt[bt],jn));const pt=function qe(wn){return Pe().ngZone.runOutsideAngular(()=>wn())}(()=>wn.apply(this,kt));if(!Ln){if(pt instanceof H.y){const bt=Pe();return pt.pipe((0,yt.R)(bt.outsideAngular),(0,Ye.Q)(bt.insideAngular))}return Ee(()=>pt)}return pt instanceof H.y?pt.pipe(Nt):pt instanceof Promise?Ee(()=>new Promise((bt,Rt)=>pt.then(Be=>Ee(()=>bt(Be)),Be=>Ee(()=>Rt(Be))))):"function"==typeof pt&&jn?function(){return setTimeout(()=>{jn&&"scheduled"===jn.state&&jn.invoke()},10),pt.apply(this,arguments)}:Ee(()=>pt)}},6223:(Sn,Et,R)=>{R.d(Et,{CE:()=>qo,Cf:()=>ht,F:()=>Hs,Fj:()=>ke,JJ:()=>at,JL:()=>$t,JU:()=>Le,NI:()=>no,On:()=>br,Q7:()=>uo,UX:()=>Mr,Wl:()=>H,Zs:()=>ho,_:()=>Fs,_Y:()=>bo,a5:()=>Lt,cw:()=>ue,kI:()=>Ke,on:()=>yi,qu:()=>ss,sg:()=>ns,u:()=>Yn,u5:()=>Wa,wV:()=>Zi});var a=R(5879),ne=R(6814),O=R(2459),w=R(9315),we=R(7398);let Ge=(()=>{class fe{constructor(D,q){this._renderer=D,this._elementRef=q,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(D,q){this._renderer.setProperty(this._elementRef.nativeElement,D,q)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:fe})}return fe})(),$e=(()=>{class fe extends Ge{static#e=this.\u0275fac=function(){let D;return function(de){return(D||(D=a.n5z(fe)))(de||fe)}}();static#t=this.\u0275dir=a.lG2({type:fe,features:[a.qOj]})}return fe})();const Le=new a.OlP("NgValueAccessor"),ze={provide:Le,useExisting:(0,a.Gpc)(()=>H),multi:!0};let H=(()=>{class fe extends $e{writeValue(D){this.setProperty("checked",D)}static#e=this.\u0275fac=function(){let D;return function(de){return(D||(D=a.n5z(fe)))(de||fe)}}();static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(q,de){1&q&&a.NdJ("change",function(Zt){return de.onChange(Zt.target.checked)})("blur",function(){return de.onTouched()})},features:[a._Bn([ze]),a.qOj]})}return fe})();const Fe={provide:Le,useExisting:(0,a.Gpc)(()=>ke),multi:!0},yt=new a.OlP("CompositionEventMode");let ke=(()=>{class fe extends Ge{constructor(D,q,de){super(D,q),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ye(){const fe=(0,ne.q)()?(0,ne.q)().getUserAgent():"";return/android (\d+)/.test(fe.toLowerCase())}())}writeValue(D){this.setProperty("value",D??"")}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(yt,8))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(q,de){1&q&&a.NdJ("input",function(Zt){return de._handleInput(Zt.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Zt){return de._compositionEnd(Zt.target.value)})},features:[a._Bn([Fe]),a.qOj]})}return fe})();function Xe(fe){return null==fe||("string"==typeof fe||Array.isArray(fe))&&0===fe.length}function ut(fe){return null!=fe&&"number"==typeof fe.length}const ht=new a.OlP("NgValidators"),Ot=new a.OlP("NgAsyncValidators"),en=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(M){return function ye(fe){return M=>{if(Xe(M.value)||Xe(fe))return null;const D=parseFloat(M.value);return!isNaN(D)&&D<fe?{min:{min:fe,actual:M.value}}:null}}(M)}static max(M){return function rt(fe){return M=>{if(Xe(M.value)||Xe(fe))return null;const D=parseFloat(M.value);return!isNaN(D)&&D>fe?{max:{max:fe,actual:M.value}}:null}}(M)}static required(M){return W(M)}static requiredTrue(M){return Pe(M)}static email(M){return qe(M)}static minLength(M){return function Ee(fe){return M=>Xe(M.value)||!ut(M.value)?null:M.value.length<fe?{minlength:{requiredLength:fe,actualLength:M.value.length}}:null}(M)}static maxLength(M){return function It(fe){return M=>ut(M.value)&&M.value.length>fe?{maxlength:{requiredLength:fe,actualLength:M.value.length}}:null}(M)}static pattern(M){return function Ht(fe){if(!fe)return Nt;let M,D;return"string"==typeof fe?(D="","^"!==fe.charAt(0)&&(D+="^"),D+=fe,"$"!==fe.charAt(fe.length-1)&&(D+="$"),M=new RegExp(D)):(D=fe.toString(),M=fe),q=>{if(Xe(q.value))return null;const de=q.value;return M.test(de)?null:{pattern:{requiredPattern:D,actualValue:de}}}}(M)}static nullValidator(M){return null}static compose(M){return kt(M)}static composeAsync(M){return bt(M)}}function W(fe){return Xe(fe.value)?{required:!0}:null}function Pe(fe){return!0===fe.value?null:{required:!0}}function qe(fe){return Xe(fe.value)||en.test(fe.value)?null:{email:!0}}function Nt(fe){return null}function Cn(fe){return null!=fe}function Mn(fe){return(0,a.QGY)(fe)?(0,O.D)(fe):fe}function ni(fe){let M={};return fe.forEach(D=>{M=null!=D?{...M,...D}:M}),0===Object.keys(M).length?null:M}function wn(fe,M){return M.map(D=>D(fe))}function jn(fe){return fe.map(M=>function Ln(fe){return!fe.validate}(M)?M:D=>M.validate(D))}function kt(fe){if(!fe)return null;const M=fe.filter(Cn);return 0==M.length?null:function(D){return ni(wn(D,M))}}function pt(fe){return null!=fe?kt(jn(fe)):null}function bt(fe){if(!fe)return null;const M=fe.filter(Cn);return 0==M.length?null:function(D){const q=wn(D,M).map(Mn);return(0,w.D)(q).pipe((0,we.U)(ni))}}function Rt(fe){return null!=fe?bt(jn(fe)):null}function Be(fe,M){return null===fe?[M]:Array.isArray(fe)?[...fe,M]:[fe,M]}function Te(fe){return fe._rawValidators}function Mt(fe){return fe._rawAsyncValidators}function Ze(fe){return fe?Array.isArray(fe)?fe:[fe]:[]}function St(fe,M){return Array.isArray(fe)?fe.includes(M):fe===M}function Bt(fe,M){const D=Ze(M);return Ze(fe).forEach(de=>{St(D,de)||D.push(de)}),D}function yn(fe,M){return Ze(M).filter(D=>!St(fe,D))}class Ut{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=pt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,D){return!!this.control&&this.control.hasError(M,D)}getError(M,D){return this.control?this.control.getError(M,D):null}}class Pn extends Ut{get formDirective(){return null}get path(){return null}}class Lt extends Ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wt{constructor(M){this._cd=M}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let at=(()=>{class fe extends Wt{constructor(D){super(D)}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(Lt,2))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(q,de){2&q&&a.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[a.qOj]})}return fe})(),$t=(()=>{class fe extends Wt{constructor(D){super(D)}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(Pn,10))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(q,de){2&q&&a.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[a.qOj]})}return fe})();const xi="VALID",Li="INVALID",zi="PENDING",sn="DISABLED";function ci(fe){return(zn(fe)?fe.validators:fe)||null}function kn(fe,M){return(zn(M)?M.asyncValidators:fe)||null}function zn(fe){return null!=fe&&!Array.isArray(fe)&&"object"==typeof fe}function Ri(fe,M,D){const q=fe.controls;if(!(M?Object.keys(q):q).length)throw new a.vHH(1e3,"");if(!q[D])throw new a.vHH(1001,"")}function Yi(fe,M,D){fe._forEachChild((q,de)=>{if(void 0===D[de])throw new a.vHH(1002,"")})}class Dt{constructor(M,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(D)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===xi}get invalid(){return this.status===Li}get pending(){return this.status==zi}get disabled(){return this.status===sn}get enabled(){return this.status!==sn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Bt(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Bt(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(yn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(yn(M,this._rawAsyncValidators))}hasValidator(M){return St(this._rawValidators,M)}hasAsyncValidator(M){return St(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=zi,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const D=this._parentMarkedDirty(M.onlySelf);this.status=sn,this.errors=null,this._forEachChild(q=>{q.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:D}),this._onDisabledChange.forEach(q=>q(!0))}enable(M={}){const D=this._parentMarkedDirty(M.onlySelf);this.status=xi,this._forEachChild(q=>{q.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:D}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xi||this.status===zi)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sn:xi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=zi,this._hasOwnPendingAsyncValidator=!0;const D=Mn(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,D={}){this.errors=M,this._updateControlsErrors(!1!==D.emitEvent)}get(M){let D=M;return null==D||(Array.isArray(D)||(D=D.split(".")),0===D.length)?null:D.reduce((q,de)=>q&&q._find(de),this)}getError(M,D){const q=D?this.get(D):this;return q&&q.errors?q.errors[M]:null}hasError(M,D){return!!this.getError(M,D)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?sn:this.errors?Li:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zi)?zi:this._anyControlsHaveStatus(Li)?Li:xi}_anyControlsHaveStatus(M){return this._anyControls(D=>D.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){zn(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function tn(fe){return Array.isArray(fe)?pt(fe):fe||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function xn(fe){return Array.isArray(fe)?Rt(fe):fe||null}(this._rawAsyncValidators)}}class ue extends Dt{constructor(M,D,q){super(ci(D),kn(q,D)),this.controls=M,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,D){return this.controls[M]?this.controls[M]:(this.controls[M]=D,D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange),D)}addControl(M,D,q={}){this.registerControl(M,D),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(M,D={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}setControl(M,D,q={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],D&&this.registerControl(M,D),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,D={}){Yi(this,0,M),Object.keys(M).forEach(q=>{Ri(this,!0,q),this.controls[q].setValue(M[q],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(M,D={}){null!=M&&(Object.keys(M).forEach(q=>{const de=this.controls[q];de&&de.patchValue(M[q],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(M={},D={}){this._forEachChild((q,de)=>{q.reset(M?M[de]:null,{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this._reduceChildren({},(M,D,q)=>(M[q]=D.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(D,q)=>!!q._syncPendingControls()||D);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(D=>{const q=this.controls[D];q&&M(q,D)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[D,q]of Object.entries(this.controls))if(this.contains(D)&&M(q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(D,q,de)=>((q.enabled||this.disabled)&&(D[de]=q.value),D))}_reduceChildren(M,D){let q=M;return this._forEachChild((de,ct)=>{q=D(q,de,ct)}),q}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}class G extends ue{}const gt=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nt}),nt="always";function ot(fe,M){return[...M.path,fe]}function Me(fe,M,D=nt){Qe(fe,M),M.valueAccessor.writeValue(fe.value),(fe.disabled||"always"===D)&&M.valueAccessor.setDisabledState?.(fe.disabled),function vt(fe,M){M.valueAccessor.registerOnChange(D=>{fe._pendingValue=D,fe._pendingChange=!0,fe._pendingDirty=!0,"change"===fe.updateOn&&dt(fe,M)})}(fe,M),function Gt(fe,M){const D=(q,de)=>{M.valueAccessor.writeValue(q),de&&M.viewToModelUpdate(q)};fe.registerOnChange(D),M._registerOnDestroy(()=>{fe._unregisterOnChange(D)})}(fe,M),function tt(fe,M){M.valueAccessor.registerOnTouched(()=>{fe._pendingTouched=!0,"blur"===fe.updateOn&&fe._pendingChange&&dt(fe,M),"submit"!==fe.updateOn&&fe.markAsTouched()})}(fe,M),function Jt(fe,M){if(M.valueAccessor.setDisabledState){const D=q=>{M.valueAccessor.setDisabledState(q)};fe.registerOnDisabledChange(D),M._registerOnDestroy(()=>{fe._unregisterOnDisabledChange(D)})}}(fe,M)}function We(fe,M,D=!0){const q=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(q),M.valueAccessor.registerOnTouched(q)),et(fe,M),fe&&(M._invokeOnDestroyCallbacks(),fe._registerOnCollectionChange(()=>{}))}function st(fe,M){fe.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(M)})}function Qe(fe,M){const D=Te(fe);null!==M.validator?fe.setValidators(Be(D,M.validator)):"function"==typeof D&&fe.setValidators([D]);const q=Mt(fe);null!==M.asyncValidator?fe.setAsyncValidators(Be(q,M.asyncValidator)):"function"==typeof q&&fe.setAsyncValidators([q]);const de=()=>fe.updateValueAndValidity();st(M._rawValidators,de),st(M._rawAsyncValidators,de)}function et(fe,M){let D=!1;if(null!==fe){if(null!==M.validator){const de=Te(fe);if(Array.isArray(de)&&de.length>0){const ct=de.filter(Zt=>Zt!==M.validator);ct.length!==de.length&&(D=!0,fe.setValidators(ct))}}if(null!==M.asyncValidator){const de=Mt(fe);if(Array.isArray(de)&&de.length>0){const ct=de.filter(Zt=>Zt!==M.asyncValidator);ct.length!==de.length&&(D=!0,fe.setAsyncValidators(ct))}}}const q=()=>{};return st(M._rawValidators,q),st(M._rawAsyncValidators,q),D}function dt(fe,M){fe._pendingDirty&&fe.markAsDirty(),fe.setValue(fe._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(fe._pendingValue),fe._pendingChange=!1}function an(fe,M){Qe(fe,M)}function Hr(fe,M){if(!fe.hasOwnProperty("model"))return!1;const D=fe.model;return!!D.isFirstChange()||!Object.is(M,D.currentValue)}function or(fe,M){fe._syncPendingControls(),M.forEach(D=>{const q=D.control;"submit"===q.updateOn&&q._pendingChange&&(D.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}function cr(fe,M){if(!M)return null;let D,q,de;return Array.isArray(M),M.forEach(ct=>{ct.constructor===ke?D=ct:function qs(fe){return Object.getPrototypeOf(fe.constructor)===$e}(ct)?q=ct:de=ct}),de||q||D||null}const Mi={provide:Pn,useExisting:(0,a.Gpc)(()=>Hs)},Zr=(()=>Promise.resolve())();let Hs=(()=>{class fe extends Pn{constructor(D,q,de){super(),this.callSetDisabledState=de,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new ue({},pt(D),Rt(q))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(D){Zr.then(()=>{const q=this._findContainer(D.path);D.control=q.registerControl(D.name,D.control),Me(D.control,D,this.callSetDisabledState),D.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(D)})}getControl(D){return this.form.get(D.path)}removeControl(D){Zr.then(()=>{const q=this._findContainer(D.path);q&&q.removeControl(D.name),this._directives.delete(D)})}addFormGroup(D){Zr.then(()=>{const q=this._findContainer(D.path),de=new ue({});an(de,D),q.registerControl(D.name,de),de.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(D){Zr.then(()=>{const q=this._findContainer(D.path);q&&q.removeControl(D.name)})}getFormGroup(D){return this.form.get(D.path)}updateModel(D,q){Zr.then(()=>{this.form.get(D.path).setValue(q)})}setValue(D){this.control.setValue(D)}onSubmit(D){return this.submitted=!0,or(this.form,this._directives),this.ngSubmit.emit(D),"dialog"===D?.target?.method}onReset(){this.resetForm()}resetForm(D=void 0){this.form.reset(D),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(D){return D.pop(),D.length?this.form.get(D):this.form}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(ht,10),a.Y36(Ot,10),a.Y36(gt,8))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(q,de){1&q&&a.NdJ("submit",function(Zt){return de.onSubmit(Zt)})("reset",function(){return de.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Mi]),a.qOj]})}return fe})();function Gs(fe,M){const D=fe.indexOf(M);D>-1&&fe.splice(D,1)}function Is(fe){return"object"==typeof fe&&null!==fe&&2===Object.keys(fe).length&&"value"in fe&&"disabled"in fe}const no=class extends Dt{constructor(M=null,D,q){super(ci(D),kn(q,D)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zn(D)&&(D.nonNullable||D.initialValueIsDefault)&&(this.defaultValue=Is(M)?M.value:M)}setValue(M,D={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(M,D={}){this.setValue(M,D)}reset(M=this.defaultValue,D={}){this._applyFormState(M),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Gs(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Gs(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){Is(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}};let zr=(()=>{class fe extends Pn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ot(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let D;return function(de){return(D||(D=a.n5z(fe)))(de||fe)}}();static#t=this.\u0275dir=a.lG2({type:fe,features:[a.qOj]})}return fe})();const ys={provide:Lt,useExisting:(0,a.Gpc)(()=>br)},Zo=(()=>Promise.resolve())();let br=(()=>{class fe extends Lt{constructor(D,q,de,ct,Zt,Tn){super(),this._changeDetectorRef=Zt,this.callSetDisabledState=Tn,this.control=new no,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=D,this._setValidators(q),this._setAsyncValidators(de),this.valueAccessor=cr(0,ct)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const q=D.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),Hr(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Me(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){Zo.then(()=>{this.control.setValue(D,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(D){const q=D.isDisabled.currentValue,de=0!==q&&(0,a.VuI)(q);Zo.then(()=>{de&&!this.control.disabled?this.control.disable():!de&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(D){return this._parent?ot(D,this._parent):[D]}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(Pn,9),a.Y36(ht,10),a.Y36(Ot,10),a.Y36(Le,10),a.Y36(a.sBO,8),a.Y36(gt,8))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([ys]),a.qOj,a.TTD]})}return fe})(),bo=(()=>{class fe{static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return fe})();const io={provide:Le,useExisting:(0,a.Gpc)(()=>Zi),multi:!0};let Zi=(()=>{class fe extends $e{writeValue(D){this.setProperty("value",D??"")}registerOnChange(D){this.onChange=q=>{D(""==q?null:parseFloat(q))}}static#e=this.\u0275fac=function(){let D;return function(de){return(D||(D=a.n5z(fe)))(de||fe)}}();static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(q,de){1&q&&a.NdJ("input",function(Zt){return de.onChange(Zt.target.value)})("blur",function(){return de.onTouched()})},features:[a._Bn([io]),a.qOj]})}return fe})();const Ui={provide:Le,useExisting:(0,a.Gpc)(()=>Fs),multi:!0};let Tr=(()=>{class fe{static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275mod=a.oAB({type:fe});static#n=this.\u0275inj=a.cJS({})}return fe})(),ar=(()=>{class fe{constructor(){this._accessors=[]}add(D,q){this._accessors.push([D,q])}remove(D){for(let q=this._accessors.length-1;q>=0;--q)if(this._accessors[q][1]===D)return void this._accessors.splice(q,1)}select(D){this._accessors.forEach(q=>{this._isSameGroup(q,D)&&q[1]!==D&&q[1].fireUncheck(D.value)})}_isSameGroup(D,q){return!!D[0].control&&D[0]._parent===q._control._parent&&D[1].name===q.name}static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac,providedIn:Tr})}return fe})(),Fs=(()=>{class fe extends $e{constructor(D,q,de,ct){super(D,q),this._registry=de,this._injector=ct,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,a.f3M)(gt,{optional:!0})??nt}ngOnInit(){this._control=this._injector.get(Lt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(D){this._state=D===this.value,this.setProperty("checked",this._state)}registerOnChange(D){this._fn=D,this.onChange=()=>{D(this.value),this._registry.select(this)}}setDisabledState(D){(this.setDisabledStateFired||D||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",D),this.setDisabledStateFired=!0}fireUncheck(D){this.writeValue(D)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ar),a.Y36(a.zs3))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(q,de){1&q&&a.NdJ("change",function(){return de.onChange()})("blur",function(){return de.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a._Bn([Ui]),a.qOj]})}return fe})();const ki=new a.OlP("NgModelWithFormControlWarning"),Ar={provide:Pn,useExisting:(0,a.Gpc)(()=>ns)};let ns=(()=>{class fe extends Pn{constructor(D,q,de){super(),this.callSetDisabledState=de,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(D),this._setAsyncValidators(q)}ngOnChanges(D){this._checkFormPresent(),D.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(et(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(D){const q=this.form.get(D.path);return Me(q,D,this.callSetDisabledState),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(D),q}getControl(D){return this.form.get(D.path)}removeControl(D){We(D.control||null,D,!1),function ts(fe,M){const D=fe.indexOf(M);D>-1&&fe.splice(D,1)}(this.directives,D)}addFormGroup(D){this._setUpFormContainer(D)}removeFormGroup(D){this._cleanUpFormContainer(D)}getFormGroup(D){return this.form.get(D.path)}addFormArray(D){this._setUpFormContainer(D)}removeFormArray(D){this._cleanUpFormContainer(D)}getFormArray(D){return this.form.get(D.path)}updateModel(D,q){this.form.get(D.path).setValue(q)}onSubmit(D){return this.submitted=!0,or(this.form,this.directives),this.ngSubmit.emit(D),"dialog"===D?.target?.method}onReset(){this.resetForm()}resetForm(D=void 0){this.form.reset(D),this.submitted=!1}_updateDomValue(){this.directives.forEach(D=>{const q=D.control,de=this.form.get(D.path);q!==de&&(We(q||null,D),(fe=>fe instanceof no)(de)&&(Me(de,D,this.callSetDisabledState),D.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(D){const q=this.form.get(D.path);an(q,D),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(D){if(this.form){const q=this.form.get(D.path);q&&function Kn(fe,M){return et(fe,M)}(q,D)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qe(this.form,this),this._oldForm&&et(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(ht,10),a.Y36(Ot,10),a.Y36(gt,8))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","formGroup",""]],hostBindings:function(q,de){1&q&&a.NdJ("submit",function(Zt){return de.onSubmit(Zt)})("reset",function(){return de.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Ar]),a.qOj,a.TTD]})}return fe})();const is={provide:Pn,useExisting:(0,a.Gpc)(()=>bs)};let bs=(()=>{class fe extends zr{constructor(D,q,de){super(),this.name=null,this._parent=D,this._setValidators(q),this._setAsyncValidators(de)}_checkParentType(){Ho(this._parent)}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(Pn,13),a.Y36(ht,10),a.Y36(Ot,10))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([is]),a.qOj]})}return fe})();const So={provide:Pn,useExisting:(0,a.Gpc)(()=>qo)};let qo=(()=>{class fe extends Pn{constructor(D,q,de){super(),this.name=null,this._parent=D,this._setValidators(q),this._setAsyncValidators(de)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ot(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ho(this._parent)}static#e=this.\u0275fac=function(q){return new(q||fe)(a.Y36(Pn,13),a.Y36(ht,10),a.Y36(Ot,10))};static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([So]),a.qOj]})}return fe})();function Ho(fe){return!(fe instanceof bs||fe instanceof ns||fe instanceof qo)}const Qi={provide:Lt,useExisting:(0,a.Gpc)(()=>Yn)};let Yn=(()=>{class fe extends Lt{set isDisabled(D){}static#e=this._ngModelWarningSentOnce=!1;constructor(D,q,de,ct,Zt){super(),this._ngModelWarningConfig=Zt,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=D,this._setValidators(q),this._setAsyncValidators(de),this.valueAccessor=cr(0,ct)}ngOnChanges(D){this._added||this._setUpControl(),Hr(D,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}get path(){return ot(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(q){return new(q||fe)(a.Y36(Pn,13),a.Y36(ht,10),a.Y36(Ot,10),a.Y36(Le,10),a.Y36(ki,8))};static#n=this.\u0275dir=a.lG2({type:fe,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Qi]),a.qOj,a.TTD]})}return fe})(),Ji=(()=>{class fe{constructor(){this._validator=Nt}ngOnChanges(D){if(this.inputName in D){const q=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled(q),this._validator=this._enabled?this.createValidator(q):Nt,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275dir=a.lG2({type:fe,features:[a.TTD]})}return fe})();const ul={provide:ht,useExisting:(0,a.Gpc)(()=>uo),multi:!0},Ls={provide:ht,useExisting:(0,a.Gpc)(()=>ho),multi:!0};let uo=(()=>{class fe extends Ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.VuI,this.createValidator=D=>W}enabled(D){return D}static#e=this.\u0275fac=function(){let D;return function(de){return(D||(D=a.n5z(fe)))(de||fe)}}();static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(q,de){2&q&&a.uIk("required",de._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([ul]),a.qOj]})}return fe})(),ho=(()=>{class fe extends uo{constructor(){super(...arguments),this.createValidator=D=>Pe}static#e=this.\u0275fac=function(){let D;return function(de){return(D||(D=a.n5z(fe)))(de||fe)}}();static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(q,de){2&q&&a.uIk("required",de._enabled?"":null)},features:[a._Bn([Ls]),a.qOj]})}return fe})();const jo={provide:ht,useExisting:(0,a.Gpc)(()=>yi),multi:!0};let yi=(()=>{class fe extends Ji{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=a.VuI,this.createValidator=D=>qe}enabled(D){return D}static#e=this.\u0275fac=function(){let D;return function(de){return(D||(D=a.n5z(fe)))(de||fe)}}();static#t=this.\u0275dir=a.lG2({type:fe,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[a._Bn([jo]),a.qOj]})}return fe})(),rs=(()=>{class fe{static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275mod=a.oAB({type:fe});static#n=this.\u0275inj=a.cJS({imports:[Tr]})}return fe})();class Ir extends Dt{constructor(M,D,q){super(ci(D),kn(q,D)),this.controls=M,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[this._adjustIndex(M)]}push(M,D={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}insert(M,D,q={}){this.controls.splice(M,0,D),this._registerControl(D),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(M,D={}){let q=this._adjustIndex(M);q<0&&(q=0),this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:D.emitEvent})}setControl(M,D,q={}){let de=this._adjustIndex(M);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),D&&(this.controls.splice(de,0,D),this._registerControl(D)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,D={}){Yi(this,0,M),M.forEach((q,de)=>{Ri(this,!1,de),this.at(de).setValue(q,{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(M,D={}){null!=M&&(M.forEach((q,de)=>{this.at(de)&&this.at(de).patchValue(q,{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(M=[],D={}){this._forEachChild((q,de)=>{q.reset(M[de],{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this.controls.map(M=>M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(D=>D._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_adjustIndex(M){return M<0?M+this.length:M}_syncPendingControls(){let M=this.controls.reduce((D,q)=>!!q._syncPendingControls()||D,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){this.controls.forEach((D,q)=>{M(D,q)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(D=>D.enabled&&M(D))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}_find(M){return this.at(M)??null}}function Ms(fe){return!!fe&&(void 0!==fe.asyncValidators||void 0!==fe.validators||void 0!==fe.updateOn)}let ss=(()=>{class fe{constructor(){this.useNonNullable=!1}get nonNullable(){const D=new fe;return D.useNonNullable=!0,D}group(D,q=null){const de=this._reduceControls(D);let ct={};return Ms(q)?ct=q:null!==q&&(ct.validators=q.validator,ct.asyncValidators=q.asyncValidator),new ue(de,ct)}record(D,q=null){const de=this._reduceControls(D);return new G(de,q)}control(D,q,de){let ct={};return this.useNonNullable?(Ms(q)?ct=q:(ct.validators=q,ct.asyncValidators=de),new no(D,{...ct,nonNullable:!0})):new no(D,q,de)}array(D,q,de){const ct=D.map(Zt=>this._createControl(Zt));return new Ir(ct,q,de)}_reduceControls(D){const q={};return Object.keys(D).forEach(de=>{q[de]=this._createControl(D[de])}),q}_createControl(D){return D instanceof no||D instanceof Dt?D:Array.isArray(D)?this.control(D[0],D.length>1?D[1]:null,D.length>2?D[2]:null):this.control(D)}static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275prov=a.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),Wa=(()=>{class fe{static withConfig(D){return{ngModule:fe,providers:[{provide:gt,useValue:D.callSetDisabledState??nt}]}}static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275mod=a.oAB({type:fe});static#n=this.\u0275inj=a.cJS({imports:[rs]})}return fe})(),Mr=(()=>{class fe{static withConfig(D){return{ngModule:fe,providers:[{provide:ki,useValue:D.warnOnNgModelWithFormControl??"always"},{provide:gt,useValue:D.callSetDisabledState??nt}]}}static#e=this.\u0275fac=function(q){return new(q||fe)};static#t=this.\u0275mod=a.oAB({type:fe});static#n=this.\u0275inj=a.cJS({imports:[rs]})}return fe})()},2614:()=>{const Sn=":";const Pn=function(_e,...Ue){if(Pn.translate){const $t=Pn.translate(_e,Ue);_e=$t[0],Ue=$t[1]}let at=Wt(_e[0],_e.raw[0]);for(let $t=1;$t<_e.length;$t++)at+=Ue[$t-1]+Wt(_e[$t],_e.raw[$t]);return at},Lt=":";function Wt(_e,Ue){return Ue.charAt(0)===Lt?_e.substring(function pt(_e,Ue){for(let at=1,$t=1;at<_e.length;at++,$t++)if("\\"===Ue[$t])$t++;else if(_e[at]===Sn)return at;throw new Error(`Unterminated $localize metadata block in "${Ue}".`)}(_e,Ue)+1):_e}globalThis.$localize=Pn},2296:(Sn,Et,R)=>{R.d(Et,{lW:()=>qe,ot:()=>pt});var a=R(2831),ne=R(5879),O=R(4191),w=R(2495),we=R(3680);const Ge=["mat-button",""],$e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Le=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],en=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ke=(0,we.pj)((0,we.Id)((0,we.Kr)(class{constructor(bt){this._elementRef=bt}})));let ye=(()=>{class bt extends Ke{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(Be){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,Be)}get disableRipple(){return this._disableRipple}set disableRipple(Be){this._disableRipple=(0,w.Ig)(Be),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(Be){this._disabled=(0,w.Ig)(Be),this._updateRippleDisabled()}constructor(Be,Te,Mt,Ze){super(Be),this._platform=Te,this._ngZone=Mt,this._animationMode=Ze,this._focusMonitor=(0,ne.f3M)(O.tE),this._rippleLoader=(0,ne.f3M)(we.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const St=Be.nativeElement.classList;for(const Bt of en)this._hasHostAttributes(Bt.selector)&&Bt.mdcClasses.forEach(yn=>{St.add(yn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Be="program",Te){Be?this._focusMonitor.focusVia(this._elementRef.nativeElement,Be,Te):this._elementRef.nativeElement.focus(Te)}_hasHostAttributes(...Be){return Be.some(Te=>this._elementRef.nativeElement.hasAttribute(Te))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(Te){ne.$Z()};static#t=this.\u0275dir=ne.lG2({type:bt,features:[ne.qOj]})}return bt})(),qe=(()=>{class bt extends ye{constructor(Be,Te,Mt,Ze){super(Be,Te,Mt,Ze)}static#e=this.\u0275fac=function(Te){return new(Te||bt)(ne.Y36(ne.SBq),ne.Y36(a.t4),ne.Y36(ne.R0b),ne.Y36(ne.QbO,8))};static#t=this.\u0275cmp=ne.Xpm({type:bt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(Te,Mt){2&Te&&(ne.uIk("disabled",Mt.disabled||null),ne.ekj("_mat-animation-noopable","NoopAnimations"===Mt._animationMode)("mat-unthemed",!Mt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ne.qOj],attrs:Ge,ngContentSelectors:Le,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Te,Mt){1&Te&&(ne.F$t($e),ne._UZ(0,"span",0),ne.Hsn(1),ne.TgZ(2,"span",1),ne.Hsn(3,1),ne.qZA(),ne.Hsn(4,2),ne._UZ(5,"span",2)(6,"span",3)),2&Te&&ne.ekj("mdc-button__ripple",!Mt._isFab)("mdc-fab__ripple",Mt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return bt})(),pt=(()=>{class bt{static#e=this.\u0275fac=function(Te){return new(Te||bt)};static#t=this.\u0275mod=ne.oAB({type:bt});static#n=this.\u0275inj=ne.cJS({imports:[we.BQ,we.si,we.BQ]})}return bt})()},5195:(Sn,Et,R)=>{R.d(Et,{$j:()=>ke,C1:()=>Ye,QW:()=>qe,a8:()=>H,dk:()=>ut,dn:()=>yt,hq:()=>Xe,n5:()=>Fe,rt:()=>ht,vP:()=>en});var a=R(5879),ne=R(6814),O=R(3680);const w=["*"],we=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],Ge=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],$e=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Le=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],ze=new a.OlP("MAT_CARD_CONFIG");let H=(()=>{class Ee{constructor(Ht){this.appearance=Ht?.appearance||"raised"}static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)(a.Y36(ze,8))};static#t=this.\u0275cmp=a.Xpm({type:Ee,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Nt,Cn){2&Nt&&a.ekj("mat-mdc-card-outlined","outlined"===Cn.appearance)("mdc-card--outlined","outlined"===Cn.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:w,decls:1,vars:0,template:function(Nt,Cn){1&Nt&&(a.F$t(),a.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return Ee})(),Fe=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275dir=a.lG2({type:Ee,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return Ee})(),Ye=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275cmp=a.Xpm({type:Ee,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],ngContentSelectors:Ge,decls:4,vars:0,template:function(Nt,Cn){1&Nt&&(a.F$t(we),a.TgZ(0,"div"),a.Hsn(1),a.qZA(),a.Hsn(2,1),a.Hsn(3,2))},encapsulation:2,changeDetection:0})}return Ee})(),yt=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275dir=a.lG2({type:Ee,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return Ee})(),ke=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275dir=a.lG2({type:Ee,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return Ee})(),Xe=(()=>{class Ee{constructor(){this.align="start"}static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275dir=a.lG2({type:Ee,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(Nt,Cn){2&Nt&&a.ekj("mat-mdc-card-actions-align-end","end"===Cn.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return Ee})(),ut=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275cmp=a.Xpm({type:Ee,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Le,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(Nt,Cn){1&Nt&&(a.F$t($e),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0})}return Ee})(),ht=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275dir=a.lG2({type:Ee,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return Ee})(),en=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275dir=a.lG2({type:Ee,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return Ee})(),qe=(()=>{class Ee{static#e=this.\u0275fac=function(Nt){return new(Nt||Ee)};static#t=this.\u0275mod=a.oAB({type:Ee});static#n=this.\u0275inj=a.cJS({imports:[O.BQ,ne.ez,O.BQ]})}return Ee})()},5986:(Sn,Et,R)=>{R.d(Et,{p9:()=>Ke});var a=R(5879),O=(R(6223),R(3680));R(2495);let en=(()=>{class ye{static#e=this.\u0275fac=function(Pe){return new(Pe||ye)};static#t=this.\u0275mod=a.oAB({type:ye});static#n=this.\u0275inj=a.cJS({})}return ye})(),Ke=(()=>{class ye{static#e=this.\u0275fac=function(Pe){return new(Pe||ye)};static#t=this.\u0275mod=a.oAB({type:ye});static#n=this.\u0275inj=a.cJS({imports:[O.BQ,O.si,en,O.BQ,en]})}return ye})()},3680:(Sn,Et,R)=>{R.d(Et,{_A:()=>jn,rD:()=>St,sG:()=>kt,K7:()=>gn,HF:()=>mt,BQ:()=>W,XK:()=>Mt,ey:()=>Li,Ng:()=>ci,wG:()=>Ie,Fq:()=>Dt,si:()=>xe,CB:()=>zi,jH:()=>sn,pj:()=>Ht,Kr:()=>Nt,Id:()=>It,FD:()=>Mn,sb:()=>Cn});var a=R(5879),ne=R(4191),O=R(9388),we=R(6814),Ge=R(2831),$e=R(2495),Le=R(8645),ze=R(6028);const Ye=["text"];function yt(ue,J){if(1&ue&&a._UZ(0,"mat-pseudo-checkbox",6),2&ue){const F=a.oxw();a.Q6J("disabled",F.disabled)("state",F.selected?"checked":"unchecked")}}function ke(ue,J){if(1&ue&&a._UZ(0,"mat-pseudo-checkbox",7),2&ue){const F=a.oxw();a.Q6J("disabled",F.disabled)}}function Xe(ue,J){if(1&ue&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&ue){const F=a.oxw();a.xp6(1),a.hij("(",F.group.label,")")}}const ut=[[["mat-icon"]],"*"],ht=["mat-icon","*"],rt=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function ye(){return!0}});let W=(()=>{class ue{constructor(F,G,be){this._sanityChecks=G,this._document=be,this._hasDoneGlobalChecks=!1,F._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(F){return!(0,Ge.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[F])}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(ne.qm),a.LFG(rt,8),a.LFG(we.K0))};static#t=this.\u0275mod=a.oAB({type:ue});static#n=this.\u0275inj=a.cJS({imports:[O.vT,O.vT]})}return ue})();function It(ue){return class extends ue{get disabled(){return this._disabled}set disabled(J){this._disabled=(0,$e.Ig)(J)}constructor(...J){super(...J),this._disabled=!1}}}function Ht(ue,J){return class extends ue{get color(){return this._color}set color(F){const G=F||this.defaultColor;G!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),G&&this._elementRef.nativeElement.classList.add(`mat-${G}`),this._color=G)}constructor(...F){super(...F),this.defaultColor=J,this.color=J}}}function Nt(ue){return class extends ue{get disableRipple(){return this._disableRipple}set disableRipple(J){this._disableRipple=(0,$e.Ig)(J)}constructor(...J){super(...J),this._disableRipple=!1}}}function Cn(ue,J=0){return class extends ue{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(F){this._tabIndex=null!=F?(0,$e.su)(F):this.defaultTabIndex}constructor(...F){super(...F),this._tabIndex=J,this.defaultTabIndex=J}}}function Mn(ue){return class extends ue{updateErrorState(){const J=this.errorState,gt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);gt!==J&&(this.errorState=gt,this.stateChanges.next())}constructor(...J){super(...J),this.errorState=!1}}}const wn=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Ln(){return(0,a.f3M)(a.soG)}});class jn{constructor(){this._localeChanges=new Le.x,this.localeChanges=this._localeChanges}getValidDateOrNull(J){return this.isDateInstance(J)&&this.isValid(J)?J:null}deserialize(J){return null==J||this.isDateInstance(J)&&this.isValid(J)?J:this.invalid()}setLocale(J){this.locale=J,this._localeChanges.next()}compareDate(J,F){return this.getYear(J)-this.getYear(F)||this.getMonth(J)-this.getMonth(F)||this.getDate(J)-this.getDate(F)}sameDate(J,F){if(J&&F){let G=this.isValid(J),be=this.isValid(F);return G&&be?!this.compareDate(J,F):G==be}return J==F}clampDate(J,F,G){return F&&this.compareDate(J,F)<0?F:G&&this.compareDate(J,G)>0?G:J}}const kt=new a.OlP("mat-date-formats"),pt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function bt(ue,J){const F=Array(ue);for(let G=0;G<ue;G++)F[G]=J(G);return F}let Rt=(()=>{class ue extends jn{constructor(F,G){super(),this.useUtcForDisplay=!1,super.setLocale(F)}getYear(F){return F.getFullYear()}getMonth(F){return F.getMonth()}getDate(F){return F.getDate()}getDayOfWeek(F){return F.getDay()}getMonthNames(F){const G=new Intl.DateTimeFormat(this.locale,{month:F,timeZone:"utc"});return bt(12,be=>this._format(G,new Date(2017,be,1)))}getDateNames(){const F=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return bt(31,G=>this._format(F,new Date(2017,0,G+1)))}getDayOfWeekNames(F){const G=new Intl.DateTimeFormat(this.locale,{weekday:F,timeZone:"utc"});return bt(7,be=>this._format(G,new Date(2017,0,be+1)))}getYearName(F){const G=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(G,F)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(F){return this.getDate(this._createDateWithOverflow(this.getYear(F),this.getMonth(F)+1,0))}clone(F){return new Date(F.getTime())}createDate(F,G,be){let gt=this._createDateWithOverflow(F,G,be);return gt.getMonth(),gt}today(){return new Date}parse(F,G){return"number"==typeof F?new Date(F):F?new Date(Date.parse(F)):null}format(F,G){if(!this.isValid(F))throw Error("NativeDateAdapter: Cannot format invalid date.");const be=new Intl.DateTimeFormat(this.locale,{...G,timeZone:"utc"});return this._format(be,F)}addCalendarYears(F,G){return this.addCalendarMonths(F,12*G)}addCalendarMonths(F,G){let be=this._createDateWithOverflow(this.getYear(F),this.getMonth(F)+G,this.getDate(F));return this.getMonth(be)!=((this.getMonth(F)+G)%12+12)%12&&(be=this._createDateWithOverflow(this.getYear(be),this.getMonth(be),0)),be}addCalendarDays(F,G){return this._createDateWithOverflow(this.getYear(F),this.getMonth(F),this.getDate(F)+G)}toIso8601(F){return[F.getUTCFullYear(),this._2digit(F.getUTCMonth()+1),this._2digit(F.getUTCDate())].join("-")}deserialize(F){if("string"==typeof F){if(!F)return null;if(pt.test(F)){let G=new Date(F);if(this.isValid(G))return G}}return super.deserialize(F)}isDateInstance(F){return F instanceof Date}isValid(F){return!isNaN(F.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(F,G,be){const gt=new Date;return gt.setFullYear(F,G,be),gt.setHours(0,0,0,0),gt}_2digit(F){return("00"+F).slice(-2)}_format(F,G){const be=new Date;return be.setUTCFullYear(G.getFullYear(),G.getMonth(),G.getDate()),be.setUTCHours(G.getHours(),G.getMinutes(),G.getSeconds(),G.getMilliseconds()),F.format(be)}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(wn,8),a.LFG(Ge.t4))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();const Be={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Te=(()=>{class ue{static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275mod=a.oAB({type:ue});static#n=this.\u0275inj=a.cJS({providers:[{provide:jn,useClass:Rt}]})}return ue})(),Mt=(()=>{class ue{static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275mod=a.oAB({type:ue});static#n=this.\u0275inj=a.cJS({providers:[{provide:kt,useValue:Be}],imports:[Te]})}return ue})(),St=(()=>{class ue{isErrorState(F,G){return!!(F&&F.invalid&&(F.touched||G&&G.submitted))}static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})();class Lt{constructor(J,F,G,be=!1){this._renderer=J,this.element=F,this.config=G,this._animationForciblyDisabledThroughCss=be,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wt=(0,Ge.i$)({passive:!0,capture:!0});class _e{constructor(){this._events=new Map,this._delegateEventHandler=J=>{const F=(0,Ge.sA)(J);F&&this._events.get(J.type)?.forEach((G,be)=>{(be===F||be.contains(F))&&G.forEach(gt=>gt.handleEvent(J))})}}addHandler(J,F,G,be){const gt=this._events.get(F);if(gt){const nt=gt.get(G);nt?nt.add(be):gt.set(G,new Set([be]))}else this._events.set(F,new Map([[G,new Set([be])]])),J.runOutsideAngular(()=>{document.addEventListener(F,this._delegateEventHandler,Wt)})}removeHandler(J,F,G){const be=this._events.get(J);if(!be)return;const gt=be.get(F);gt&&(gt.delete(G),0===gt.size&&be.delete(F),0===be.size&&(this._events.delete(J),document.removeEventListener(J,this._delegateEventHandler,Wt)))}}const Ue={enterDuration:225,exitDuration:150},$t=(0,Ge.i$)({passive:!0,capture:!0}),pn=["mousedown","touchstart"],dn=["mouseup","mouseleave","touchend","touchcancel"];class Qn{static#e=this._eventManager=new _e;constructor(J,F,G,be){this._target=J,this._ngZone=F,this._platform=be,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,be.isBrowser&&(this._containerElement=(0,$e.fI)(G))}fadeInRipple(J,F,G={}){const be=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),gt={...Ue,...G.animation};G.centered&&(J=be.left+be.width/2,F=be.top+be.height/2);const nt=G.radius||function ai(ue,J,F){const G=Math.max(Math.abs(ue-F.left),Math.abs(ue-F.right)),be=Math.max(Math.abs(J-F.top),Math.abs(J-F.bottom));return Math.sqrt(G*G+be*be)}(J,F,be),ot=J-be.left,Me=F-be.top,We=gt.enterDuration,st=document.createElement("div");st.classList.add("mat-ripple-element"),st.style.left=ot-nt+"px",st.style.top=Me-nt+"px",st.style.height=2*nt+"px",st.style.width=2*nt+"px",null!=G.color&&(st.style.backgroundColor=G.color),st.style.transitionDuration=`${We}ms`,this._containerElement.appendChild(st);const Jt=window.getComputedStyle(st),et=Jt.transitionDuration,vt="none"===Jt.transitionProperty||"0s"===et||"0s, 0s"===et||0===be.width&&0===be.height,tt=new Lt(this,st,G,vt);st.style.transform="scale3d(1, 1, 1)",tt.state=0,G.persistent||(this._mostRecentTransientRipple=tt);let dt=null;return!vt&&(We||gt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Gt=()=>this._finishRippleTransition(tt),an=()=>this._destroyRipple(tt);st.addEventListener("transitionend",Gt),st.addEventListener("transitioncancel",an),dt={onTransitionEnd:Gt,onTransitionCancel:an}}),this._activeRipples.set(tt,dt),(vt||!We)&&this._finishRippleTransition(tt),tt}fadeOutRipple(J){if(2===J.state||3===J.state)return;const F=J.element,G={...Ue,...J.config.animation};F.style.transitionDuration=`${G.exitDuration}ms`,F.style.opacity="0",J.state=2,(J._animationForciblyDisabledThroughCss||!G.exitDuration)&&this._finishRippleTransition(J)}fadeOutAll(){this._getActiveRipples().forEach(J=>J.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(J=>{J.config.persistent||J.fadeOut()})}setupTriggerEvents(J){const F=(0,$e.fI)(J);!this._platform.isBrowser||!F||F===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=F,pn.forEach(G=>{Qn._eventManager.addHandler(this._ngZone,G,F,this)}))}handleEvent(J){"mousedown"===J.type?this._onMousedown(J):"touchstart"===J.type?this._onTouchStart(J):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dn.forEach(F=>{this._triggerElement.addEventListener(F,this,$t)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(J){0===J.state?this._startFadeOutTransition(J):2===J.state&&this._destroyRipple(J)}_startFadeOutTransition(J){const F=J===this._mostRecentTransientRipple,{persistent:G}=J.config;J.state=1,!G&&(!F||!this._isPointerDown)&&J.fadeOut()}_destroyRipple(J){const F=this._activeRipples.get(J)??null;this._activeRipples.delete(J),this._activeRipples.size||(this._containerRect=null),J===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),J.state=3,null!==F&&(J.element.removeEventListener("transitionend",F.onTransitionEnd),J.element.removeEventListener("transitioncancel",F.onTransitionCancel)),J.element.remove()}_onMousedown(J){const F=(0,ne.X6)(J),G=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!F&&!G&&(this._isPointerDown=!0,this.fadeInRipple(J.clientX,J.clientY,this._target.rippleConfig))}_onTouchStart(J){if(!this._target.rippleDisabled&&!(0,ne.yG)(J)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const F=J.changedTouches;if(F)for(let G=0;G<F.length;G++)this.fadeInRipple(F[G].clientX,F[G].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(J=>{!J.config.persistent&&(1===J.state||J.config.terminateOnPointerUp&&0===J.state)&&J.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const J=this._triggerElement;J&&(pn.forEach(F=>Qn._eventManager.removeHandler(F,J,this)),this._pointerUpEventsRegistered&&dn.forEach(F=>J.removeEventListener(F,this,$t)))}}const Pt=new a.OlP("mat-ripple-global-options");let Ie=(()=>{class ue{get disabled(){return this._disabled}set disabled(F){F&&this.fadeOutAllNonPersistent(),this._disabled=F,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(F){this._trigger=F,this._setupTriggerEventsIfEnabled()}constructor(F,G,be,gt,nt){this._elementRef=F,this._animationMode=nt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=gt||{},this._rippleRenderer=new Qn(this,G,F,be)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(F,G=0,be){return"number"==typeof F?this._rippleRenderer.fadeInRipple(F,G,{...this.rippleConfig,...be}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...F})}static#e=this.\u0275fac=function(G){return new(G||ue)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Ge.t4),a.Y36(Pt,8),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:ue,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(G,be){2&G&&a.ekj("mat-ripple-unbounded",be.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return ue})(),xe=(()=>{class ue{static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275mod=a.oAB({type:ue});static#n=this.\u0275inj=a.cJS({imports:[W,W]})}return ue})(),Ve=(()=>{class ue{constructor(F){this._animationMode=F,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(G){return new(G||ue)(a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:ue,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(G,be){2&G&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===be.state)("mat-pseudo-checkbox-checked","checked"===be.state)("mat-pseudo-checkbox-disabled",be.disabled)("mat-pseudo-checkbox-minimal","minimal"===be.appearance)("mat-pseudo-checkbox-full","full"===be.appearance)("_mat-animation-noopable","NoopAnimations"===be._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(G,be){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return ue})(),je=(()=>{class ue{static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275mod=a.oAB({type:ue});static#n=this.\u0275inj=a.cJS({imports:[W]})}return ue})();const mt=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),gn=new a.OlP("MatOptgroup");let An=0;class Ci{constructor(J,F=!1){this.source=J,this.isUserInput=F}}let xi=(()=>{class ue{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(F){this._disabled=(0,$e.Ig)(F)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(F,G,be,gt){this._element=F,this._changeDetectorRef=G,this._parent=be,this.group=gt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+An++,this.onSelectionChange=new a.vpe,this._stateChanges=new Le.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(F=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),F&&this._emitSelectionChangeEvent())}deselect(F=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),F&&this._emitSelectionChangeEvent())}focus(F,G){const be=this._getHostElement();"function"==typeof be.focus&&be.focus(G)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(F){(F.keyCode===ze.K5||F.keyCode===ze.L_)&&!(0,ze.Vb)(F)&&(this._selectViaInteraction(),F.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const F=this.viewValue;F!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=F)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(F=!1){this.onSelectionChange.emit(new Ci(this,F))}static#e=this.\u0275fac=function(G){a.$Z()};static#t=this.\u0275dir=a.lG2({type:ue,viewQuery:function(G,be){if(1&G&&a.Gf(Ye,7),2&G){let gt;a.iGM(gt=a.CRH())&&(be._text=gt.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return ue})(),Li=(()=>{class ue extends xi{constructor(F,G,be,gt){super(F,G,be,gt)}static#e=this.\u0275fac=function(G){return new(G||ue)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(mt,8),a.Y36(gn,8))};static#t=this.\u0275cmp=a.Xpm({type:ue,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(G,be){1&G&&a.NdJ("click",function(){return be._selectViaInteraction()})("keydown",function(nt){return be._handleKeydown(nt)}),2&G&&(a.Ikx("id",be.id),a.uIk("aria-selected",be.selected)("aria-disabled",be.disabled.toString()),a.ekj("mdc-list-item--selected",be.selected)("mat-mdc-option-multiple",be.multiple)("mat-mdc-option-active",be.active)("mdc-list-item--disabled",be.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:ht,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(G,be){1&G&&(a.F$t(ut),a.YNc(0,yt,1,2,"mat-pseudo-checkbox",0),a.Hsn(1),a.TgZ(2,"span",1,2),a.Hsn(4,1),a.qZA(),a.YNc(5,ke,1,1,"mat-pseudo-checkbox",3),a.YNc(6,Xe,2,1,"span",4),a._UZ(7,"div",5)),2&G&&(a.Q6J("ngIf",be.multiple),a.xp6(5),a.Q6J("ngIf",!be.multiple&&be.selected&&!be.hideSingleSelectionIndicator),a.xp6(1),a.Q6J("ngIf",be.group&&be.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",be._getHostElement())("matRippleDisabled",be.disabled||be.disableRipple))},dependencies:[Ie,we.O5,Ve],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ue})();function zi(ue,J,F){if(F.length){let G=J.toArray(),be=F.toArray(),gt=0;for(let nt=0;nt<ue+1;nt++)G[nt].group&&G[nt].group===be[gt]&&gt++;return gt}return 0}function sn(ue,J,F,G){return ue<F?ue:ue+J>F+G?Math.max(0,ue-G+J):F}let ci=(()=>{class ue{static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275mod=a.oAB({type:ue});static#n=this.\u0275inj=a.cJS({imports:[xe,we.ez,W,je]})}return ue})();const tn={capture:!0},kn=["focus","click","mouseenter","touchstart"],xn="mat-ripple-loader-uninitialized",zn="mat-ripple-loader-class-name",Ri="mat-ripple-loader-centered",Yi="mat-ripple-loader-disabled";let Dt=(()=>{class ue{constructor(){this._document=(0,a.f3M)(we.K0,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(Pt,{optional:!0}),this._platform=(0,a.f3M)(Ge.t4),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=F=>{if(!(F.target instanceof HTMLElement))return;const be=F.target.closest(`[${xn}]`);be&&this.createRipple(be)},this._ngZone.runOutsideAngular(()=>{for(const F of kn)this._document?.addEventListener(F,this._onInteraction,tn)})}ngOnDestroy(){for(const F of kn)this._document?.removeEventListener(F,this._onInteraction,tn)}configureRipple(F,G){F.setAttribute(xn,""),(G.className||!F.hasAttribute(zn))&&F.setAttribute(zn,G.className||""),G.centered&&F.setAttribute(Ri,""),G.disabled&&F.setAttribute(Yi,"")}getRipple(F){return F.matRipple?F.matRipple:this.createRipple(F)}setDisabled(F,G){const be=F.matRipple;be?be.disabled=G:G?F.setAttribute(Yi,""):F.removeAttribute(Yi)}createRipple(F){if(!this._document)return;F.querySelector(".mat-ripple")?.remove();const G=this._document.createElement("span");G.classList.add("mat-ripple",F.getAttribute(zn)),F.append(G);const be=new Ie(new a.SBq(G),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return be._isInitialized=!0,be.trigger=F,be.centered=F.hasAttribute(Ri),be.disabled=F.hasAttribute(Yi),this.attachRipple(F,be),be}attachRipple(F,G){F.removeAttribute(xn),F.matRipple=G}static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})()},3305:(Sn,Et,R)=>{R.d(Et,{pp:()=>Bt,To:()=>yn,ib:()=>bt,yz:()=>Mt,yK:()=>St});var a=R(5879),ne=R(8337),O=R(2495),w=R(8645),we=R(7394);let Ge=0;const $e=new a.OlP("CdkAccordion");let Le=(()=>{class Ut{constructor(){this._stateChanges=new w.x,this._openCloseAllActions=new w.x,this.id="cdk-accordion-"+Ge++,this._multi=!1}get multi(){return this._multi}set multi(Lt){this._multi=(0,O.Ig)(Lt)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(Lt){this._stateChanges.next(Lt)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)};static#t=this.\u0275dir=a.lG2({type:Ut,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:$e,useExisting:Ut}]),a.TTD]})}return Ut})(),ze=0,H=(()=>{class Ut{get expanded(){return this._expanded}set expanded(Lt){Lt=(0,O.Ig)(Lt),this._expanded!==Lt&&(this._expanded=Lt,this.expandedChange.emit(Lt),Lt?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Lt){this._disabled=(0,O.Ig)(Lt)}constructor(Lt,Wt,_e){this.accordion=Lt,this._changeDetectorRef=Wt,this._expansionDispatcher=_e,this._openCloseAllSubscription=we.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+ze++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=_e.listen((Ue,at)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===at&&this.id!==Ue&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(Lt=>{this.disabled||(this.expanded=Lt)})}static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)(a.Y36($e,12),a.Y36(a.sBO),a.Y36(ne.A8))};static#t=this.\u0275dir=a.lG2({type:Ut,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:$e,useValue:void 0}])]})}return Ut})(),Fe=(()=>{class Ut{static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)};static#t=this.\u0275mod=a.oAB({type:Ut});static#n=this.\u0275inj=a.cJS({})}return Ut})();var Ye=R(8484),yt=R(6814),ke=R(3680),Xe=R(4191),ut=R(3997),ht=R(7921),Ot=R(2181),en=R(8180),Ke=R(6028),ye=R(6232),rt=R(3019),W=R(6825);const Pe=["body"];function qe(Ut,Pn){}const Ee=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],It=["mat-expansion-panel-header","*","mat-action-row"];function Ht(Ut,Pn){if(1&Ut&&a._UZ(0,"span",2),2&Ut){const Lt=a.oxw();a.Q6J("@indicatorRotate",Lt._getExpandedState())}}const Nt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Cn=["mat-panel-title","mat-panel-description","*"],Mn=new a.OlP("MAT_ACCORDION"),ni="225ms cubic-bezier(0.4,0.0,0.2,1)",wn={indicatorRotate:(0,W.X$)("indicatorRotate",[(0,W.SB)("collapsed, void",(0,W.oB)({transform:"rotate(0deg)"})),(0,W.SB)("expanded",(0,W.oB)({transform:"rotate(180deg)"})),(0,W.eR)("expanded <=> collapsed, void => collapsed",(0,W.jt)(ni))]),bodyExpansion:(0,W.X$)("bodyExpansion",[(0,W.SB)("collapsed, void",(0,W.oB)({height:"0px",visibility:"hidden"})),(0,W.SB)("expanded",(0,W.oB)({height:"*",visibility:""})),(0,W.eR)("expanded <=> collapsed, void => collapsed",(0,W.jt)(ni))])},Ln=new a.OlP("MAT_EXPANSION_PANEL");let jn=(()=>{class Ut{constructor(Lt,Wt){this._template=Lt,this._expansionPanel=Wt}static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)(a.Y36(a.Rgc),a.Y36(Ln,8))};static#t=this.\u0275dir=a.lG2({type:Ut,selectors:[["ng-template","matExpansionPanelContent",""]]})}return Ut})(),kt=0;const pt=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let bt=(()=>{class Ut extends H{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(Lt){this._hideToggle=(0,O.Ig)(Lt)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(Lt){this._togglePosition=Lt}constructor(Lt,Wt,_e,Ue,at,$t,pn){super(Lt,Wt,_e),this._viewContainerRef=Ue,this._animationMode=$t,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new w.x,this._headerId="mat-expansion-panel-header-"+kt++,this._bodyAnimationDone=new w.x,this.accordion=Lt,this._document=at,this._bodyAnimationDone.pipe((0,ut.x)((dn,Qn)=>dn.fromState===Qn.fromState&&dn.toState===Qn.toState)).subscribe(dn=>{"void"!==dn.fromState&&("expanded"===dn.toState?this.afterExpand.emit():"collapsed"===dn.toState&&this.afterCollapse.emit())}),pn&&(this.hideToggle=pn.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,ht.O)(null),(0,Ot.h)(()=>this.expanded&&!this._portal),(0,en.q)(1)).subscribe(()=>{this._portal=new Ye.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(Lt){this._inputChanges.next(Lt)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const Lt=this._document.activeElement,Wt=this._body.nativeElement;return Lt===Wt||Wt.contains(Lt)}return!1}static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)(a.Y36(Mn,12),a.Y36(a.sBO),a.Y36(ne.A8),a.Y36(a.s_b),a.Y36(yt.K0),a.Y36(a.QbO,8),a.Y36(pt,8))};static#t=this.\u0275cmp=a.Xpm({type:Ut,selectors:[["mat-expansion-panel"]],contentQueries:function(Wt,_e,Ue){if(1&Wt&&a.Suo(Ue,jn,5),2&Wt){let at;a.iGM(at=a.CRH())&&(_e._lazyContent=at.first)}},viewQuery:function(Wt,_e){if(1&Wt&&a.Gf(Pe,5),2&Wt){let Ue;a.iGM(Ue=a.CRH())&&(_e._body=Ue.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(Wt,_e){2&Wt&&a.ekj("mat-expanded",_e.expanded)("_mat-animation-noopable","NoopAnimations"===_e._animationMode)("mat-expansion-panel-spacing",_e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:Mn,useValue:void 0},{provide:Ln,useExisting:Ut}]),a.qOj,a.TTD],ngContentSelectors:It,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(Wt,_e){1&Wt&&(a.F$t(Ee),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(at){return _e._bodyAnimationDone.next(at)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,qe,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&Wt&&(a.xp6(1),a.Q6J("@bodyExpansion",_e._getExpandedState())("id",_e.id),a.uIk("aria-labelledby",_e._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",_e._portal))},dependencies:[Ye.Pl],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[wn.bodyExpansion]},changeDetection:0})}return Ut})();class Be{}const Te=(0,ke.sb)(Be);let Mt=(()=>{class Ut extends Te{constructor(Lt,Wt,_e,Ue,at,$t,pn){super(),this.panel=Lt,this._element=Wt,this._focusMonitor=_e,this._changeDetectorRef=Ue,this._animationMode=$t,this._parentChangeSubscription=we.w0.EMPTY;const dn=Lt.accordion?Lt.accordion._stateChanges.pipe((0,Ot.h)(Qn=>!(!Qn.hideToggle&&!Qn.togglePosition))):ye.E;this.tabIndex=parseInt(pn||"")||0,this._parentChangeSubscription=(0,rt.T)(Lt.opened,Lt.closed,dn,Lt._inputChanges.pipe((0,Ot.h)(Qn=>!!(Qn.hideToggle||Qn.disabled||Qn.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),Lt.closed.pipe((0,Ot.h)(()=>Lt._containsFocus())).subscribe(()=>_e.focusVia(Wt,"program")),at&&(this.expandedHeight=at.expandedHeight,this.collapsedHeight=at.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const Lt=this._isExpanded();return Lt&&this.expandedHeight?this.expandedHeight:!Lt&&this.collapsedHeight?this.collapsedHeight:null}_keydown(Lt){switch(Lt.keyCode){case Ke.L_:case Ke.K5:(0,Ke.Vb)(Lt)||(Lt.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(Lt))}}focus(Lt,Wt){Lt?this._focusMonitor.focusVia(this._element,Lt,Wt):this._element.nativeElement.focus(Wt)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(Lt=>{Lt&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)(a.Y36(bt,1),a.Y36(a.SBq),a.Y36(Xe.tE),a.Y36(a.sBO),a.Y36(pt,8),a.Y36(a.QbO,8),a.$8M("tabindex"))};static#t=this.\u0275cmp=a.Xpm({type:Ut,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(Wt,_e){1&Wt&&a.NdJ("click",function(){return _e._toggle()})("keydown",function(at){return _e._keydown(at)}),2&Wt&&(a.uIk("id",_e.panel._headerId)("tabindex",_e.tabIndex)("aria-controls",_e._getPanelId())("aria-expanded",_e._isExpanded())("aria-disabled",_e.panel.disabled),a.Udp("height",_e._getHeaderHeight()),a.ekj("mat-expanded",_e._isExpanded())("mat-expansion-toggle-indicator-after","after"===_e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===_e._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===_e._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:Cn,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(Wt,_e){1&Wt&&(a.F$t(Nt),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,Ht,1,1,"span",1)),2&Wt&&(a.ekj("mat-content-hide-toggle",!_e._showToggle()),a.xp6(4),a.Q6J("ngIf",_e._showToggle()))},dependencies:[yt.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[wn.indicatorRotate]},changeDetection:0})}return Ut})(),St=(()=>{class Ut{static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)};static#t=this.\u0275dir=a.lG2({type:Ut,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return Ut})(),Bt=(()=>{class Ut extends Le{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(Lt){this._hideToggle=(0,O.Ig)(Lt)}ngAfterContentInit(){this._headers.changes.pipe((0,ht.O)(this._headers)).subscribe(Lt=>{this._ownHeaders.reset(Lt.filter(Wt=>Wt.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Xe.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(Lt){this._keyManager.onKeydown(Lt)}_handleHeaderFocus(Lt){this._keyManager.updateActiveItem(Lt)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#e=this.\u0275fac=function(){let Lt;return function(_e){return(Lt||(Lt=a.n5z(Ut)))(_e||Ut)}}();static#t=this.\u0275dir=a.lG2({type:Ut,selectors:[["mat-accordion"]],contentQueries:function(Wt,_e,Ue){if(1&Wt&&a.Suo(Ue,Mt,5),2&Wt){let at;a.iGM(at=a.CRH())&&(_e._headers=at)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(Wt,_e){2&Wt&&a.ekj("mat-accordion-multi",_e.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:Mn,useExisting:Ut}]),a.qOj]})}return Ut})(),yn=(()=>{class Ut{static#e=this.\u0275fac=function(Wt){return new(Wt||Ut)};static#t=this.\u0275mod=a.oAB({type:Ut});static#n=this.\u0275inj=a.cJS({imports:[yt.ez,ke.BQ,Fe,Ye.eL]})}return Ut})()},4170:(Sn,Et,R)=>{R.d(Et,{G_:()=>rn,KE:()=>Li,Eo:()=>Ve,lN:()=>zi,hX:()=>St,R9:()=>at});var a=R(5879),ne=R(9388),O=R(2831),w=R(7394),we=R(8645),Ge=R(3019),$e=R(9773),Le=R(5592),ze=R(2181),H=R(940);class Ye{constructor(ci){this._box=ci,this._destroyed=new we.x,this._resizeSubject=new we.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(tn=>this._resizeSubject.next(tn)))}observe(ci){return this._elementObservables.has(ci)||this._elementObservables.set(ci,new Le.y(tn=>{const kn=this._resizeSubject.subscribe(tn);return this._resizeObserver?.observe(ci,{box:this._box}),()=>{this._resizeObserver?.unobserve(ci),kn.unsubscribe(),this._elementObservables.delete(ci)}}).pipe((0,ze.h)(tn=>tn.some(kn=>kn.target===ci)),(0,H.d)({bufferSize:1,refCount:!0}),(0,$e.R)(this._destroyed))),this._elementObservables.get(ci)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let yt=(()=>{class sn{constructor(){this._observers=new Map,this._ngZone=(0,a.f3M)(a.R0b)}ngOnDestroy(){for(const[,tn]of this._observers)tn.destroy();this._observers.clear()}observe(tn,kn){const xn=kn?.box||"content-box";return this._observers.has(xn)||this._observers.set(xn,new Ye(xn)),this._observers.get(xn).observe(tn)}static#e=this.\u0275fac=function(kn){return new(kn||sn)};static#t=this.\u0275prov=a.Yz7({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();var ke=R(2495),Xe=R(6825),ut=R(6814),ht=R(7131),Ot=R(3680);const en=["notch"],Ke=["matFormFieldNotchedOutline",""],ye=["*"],rt=["textField"],W=["iconPrefixContainer"],Pe=["textPrefixContainer"];function qe(sn,ci){1&sn&&a._UZ(0,"span",19)}function Ee(sn,ci){if(1&sn&&(a.TgZ(0,"label",17),a.Hsn(1,1),a.YNc(2,qe,1,0,"span",18),a.qZA()),2&sn){const tn=a.oxw(2);a.Q6J("floating",tn._shouldLabelFloat())("monitorResize",tn._hasOutline())("id",tn._labelId),a.uIk("for",tn._control.id),a.xp6(2),a.Q6J("ngIf",!tn.hideRequiredMarker&&tn._control.required)}}function It(sn,ci){if(1&sn&&a.YNc(0,Ee,3,5,"label",16),2&sn){const tn=a.oxw();a.Q6J("ngIf",tn._hasFloatingLabel())}}function Ht(sn,ci){1&sn&&a._UZ(0,"div",20)}function Nt(sn,ci){}function Cn(sn,ci){if(1&sn&&a.YNc(0,Nt,0,0,"ng-template",22),2&sn){a.oxw(2);const tn=a.MAs(1);a.Q6J("ngTemplateOutlet",tn)}}function Mn(sn,ci){if(1&sn&&(a.TgZ(0,"div",21),a.YNc(1,Cn,1,1,"ng-template",9),a.qZA()),2&sn){const tn=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",tn._shouldLabelFloat()),a.xp6(1),a.Q6J("ngIf",!tn._forceDisplayInfixLabel())}}function ni(sn,ci){1&sn&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function wn(sn,ci){1&sn&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function Ln(sn,ci){}function jn(sn,ci){if(1&sn&&a.YNc(0,Ln,0,0,"ng-template",22),2&sn){a.oxw();const tn=a.MAs(1);a.Q6J("ngTemplateOutlet",tn)}}function kt(sn,ci){1&sn&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function pt(sn,ci){1&sn&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function bt(sn,ci){1&sn&&a._UZ(0,"div",29)}function Rt(sn,ci){if(1&sn&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&sn){const tn=a.oxw();a.Q6J("@transitionMessages",tn._subscriptAnimationState)}}function Be(sn,ci){if(1&sn&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&sn){const tn=a.oxw(2);a.Q6J("id",tn._hintLabelId),a.xp6(1),a.Oqu(tn.hintLabel)}}function Te(sn,ci){if(1&sn&&(a.TgZ(0,"div",31),a.YNc(1,Be,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&sn){const tn=a.oxw();a.Q6J("@transitionMessages",tn._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",tn.hintLabel)}}const Mt=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ze=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let St=(()=>{class sn{static#e=this.\u0275fac=function(kn){return new(kn||sn)};static#t=this.\u0275dir=a.lG2({type:sn,selectors:[["mat-label"]]})}return sn})();const yn=new a.OlP("MatError");let Pn=0,Lt=(()=>{class sn{constructor(){this.align="start",this.id="mat-mdc-hint-"+Pn++}static#e=this.\u0275fac=function(kn){return new(kn||sn)};static#t=this.\u0275dir=a.lG2({type:sn,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(kn,xn){2&kn&&(a.Ikx("id",xn.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===xn.align))},inputs:{align:"align",id:"id"}})}return sn})();const Wt=new a.OlP("MatPrefix"),Ue=new a.OlP("MatSuffix");let at=(()=>{class sn{constructor(){this._isText=!1}set _isTextSelector(tn){this._isText=!0}static#e=this.\u0275fac=function(kn){return new(kn||sn)};static#t=this.\u0275dir=a.lG2({type:sn,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[a._Bn([{provide:Ue,useExisting:sn}])]})}return sn})();const $t=new a.OlP("FloatingLabelParent");let pn=(()=>{class sn{get floating(){return this._floating}set floating(tn){this._floating=tn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(tn){this._monitorResize=tn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(tn){this._elementRef=tn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.f3M)(yt),this._ngZone=(0,a.f3M)(a.R0b),this._parent=(0,a.f3M)($t),this._resizeSubscription=new w.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function dn(sn){if(null!==sn.offsetParent)return sn.scrollWidth;const tn=sn.cloneNode(!0);tn.style.setProperty("position","absolute"),tn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(tn);const kn=tn.scrollWidth;return tn.remove(),kn}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(kn){return new(kn||sn)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:sn,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(kn,xn){2&kn&&a.ekj("mdc-floating-label--float-above",xn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return sn})();const Qn="mdc-line-ripple--active",ai="mdc-line-ripple--deactivating";let Pt=(()=>{class sn{constructor(tn,kn){this._elementRef=tn,this._handleTransitionEnd=xn=>{const zn=this._elementRef.nativeElement.classList,Ri=zn.contains(ai);"opacity"===xn.propertyName&&Ri&&zn.remove(Qn,ai)},kn.runOutsideAngular(()=>{tn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const tn=this._elementRef.nativeElement.classList;tn.remove(ai),tn.add(Qn)}deactivate(){this._elementRef.nativeElement.classList.add(ai)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(kn){return new(kn||sn)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:sn,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return sn})(),Ie=(()=>{class sn{constructor(tn,kn){this._elementRef=tn,this._ngZone=kn,this.open=!1}ngAfterViewInit(){const tn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");tn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(tn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>tn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(tn){this._notch.nativeElement.style.width=this.open&&tn?`calc(${tn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(kn){return new(kn||sn)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:sn,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(kn,xn){if(1&kn&&a.Gf(en,5),2&kn){let zn;a.iGM(zn=a.CRH())&&(xn._notch=zn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(kn,xn){2&kn&&a.ekj("mdc-notched-outline--notched",xn.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Ke,ngContentSelectors:ye,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(kn,xn){1&kn&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1,2),a.Hsn(3),a.qZA(),a._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return sn})();const xe={transitionMessages:(0,Xe.X$)("transitionMessages",[(0,Xe.SB)("enter",(0,Xe.oB)({opacity:1,transform:"translateY(0%)"})),(0,Xe.eR)("void => enter",[(0,Xe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Xe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ve=(()=>{class sn{static#e=this.\u0275fac=function(kn){return new(kn||sn)};static#t=this.\u0275dir=a.lG2({type:sn})}return sn})();const rn=new a.OlP("MatFormField"),Fn=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let gn=0,Li=(()=>{class sn{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(tn){this._hideRequiredMarker=(0,ke.Ig)(tn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(tn){tn!==this._floatLabel&&(this._floatLabel=tn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(tn){const kn=this._appearance;this._appearance=tn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==kn&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(tn){this._subscriptSizing=tn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(tn){this._hintLabel=tn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(tn){this._explicitFormFieldControl=tn}constructor(tn,kn,xn,zn,Ri,Yi,Dt,ue){this._elementRef=tn,this._changeDetectorRef=kn,this._ngZone=xn,this._dir=zn,this._platform=Ri,this._defaults=Yi,this._animationMode=Dt,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+gn++,this._hintLabelId="mat-mdc-hint-"+gn++,this._subscriptAnimationState="",this._destroyed=new we.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Yi&&(Yi.appearance&&(this.appearance=Yi.appearance),this._hideRequiredMarker=!!Yi?.hideRequiredMarker,Yi.color&&(this.color=Yi.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const tn=this._control;tn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${tn.controlType}`),tn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),tn.ngControl&&tn.ngControl.valueChanges&&tn.ngControl.valueChanges.pipe((0,$e.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(tn=>!tn._isText),this._hasTextPrefix=!!this._prefixChildren.find(tn=>tn._isText),this._hasIconSuffix=!!this._suffixChildren.find(tn=>!tn._isText),this._hasTextSuffix=!!this._suffixChildren.find(tn=>tn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ge.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,$e.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,$e.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(tn){const kn=this._control?this._control.ngControl:null;return kn&&kn[tn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let tn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&tn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const kn=this._hintChildren?this._hintChildren.find(zn=>"start"===zn.align):null,xn=this._hintChildren?this._hintChildren.find(zn=>"end"===zn.align):null;kn?tn.push(kn.id):this._hintLabel&&tn.push(this._hintLabelId),xn&&tn.push(xn.id)}else this._errorChildren&&tn.push(...this._errorChildren.map(kn=>kn.id));this._control.setDescribedByIds(tn)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const tn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(tn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const kn=this._iconPrefixContainer?.nativeElement,xn=this._textPrefixContainer?.nativeElement,zn=kn?.getBoundingClientRect().width??0,Ri=xn?.getBoundingClientRect().width??0;tn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${zn+Ri}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const tn=this._elementRef.nativeElement;if(tn.getRootNode){const kn=tn.getRootNode();return kn&&kn!==tn}return document.documentElement.contains(tn)}static#e=this.\u0275fac=function(kn){return new(kn||sn)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(ne.Is),a.Y36(O.t4),a.Y36(Fn,8),a.Y36(a.QbO,8),a.Y36(ut.K0))};static#t=this.\u0275cmp=a.Xpm({type:sn,selectors:[["mat-form-field"]],contentQueries:function(kn,xn,zn){if(1&kn&&(a.Suo(zn,St,5),a.Suo(zn,St,7),a.Suo(zn,Ve,5),a.Suo(zn,Wt,5),a.Suo(zn,Ue,5),a.Suo(zn,yn,5),a.Suo(zn,Lt,5)),2&kn){let Ri;a.iGM(Ri=a.CRH())&&(xn._labelChildNonStatic=Ri.first),a.iGM(Ri=a.CRH())&&(xn._labelChildStatic=Ri.first),a.iGM(Ri=a.CRH())&&(xn._formFieldControl=Ri.first),a.iGM(Ri=a.CRH())&&(xn._prefixChildren=Ri),a.iGM(Ri=a.CRH())&&(xn._suffixChildren=Ri),a.iGM(Ri=a.CRH())&&(xn._errorChildren=Ri),a.iGM(Ri=a.CRH())&&(xn._hintChildren=Ri)}},viewQuery:function(kn,xn){if(1&kn&&(a.Gf(rt,5),a.Gf(W,5),a.Gf(Pe,5),a.Gf(pn,5),a.Gf(Ie,5),a.Gf(Pt,5)),2&kn){let zn;a.iGM(zn=a.CRH())&&(xn._textField=zn.first),a.iGM(zn=a.CRH())&&(xn._iconPrefixContainer=zn.first),a.iGM(zn=a.CRH())&&(xn._textPrefixContainer=zn.first),a.iGM(zn=a.CRH())&&(xn._floatingLabel=zn.first),a.iGM(zn=a.CRH())&&(xn._notchedOutline=zn.first),a.iGM(zn=a.CRH())&&(xn._lineRipple=zn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(kn,xn){2&kn&&a.ekj("mat-mdc-form-field-label-always-float",xn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",xn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",xn._hasIconSuffix)("mat-form-field-invalid",xn._control.errorState)("mat-form-field-disabled",xn._control.disabled)("mat-form-field-autofilled",xn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===xn._animationMode)("mat-form-field-appearance-fill","fill"==xn.appearance)("mat-form-field-appearance-outline","outline"==xn.appearance)("mat-form-field-hide-placeholder",xn._hasFloatingLabel()&&!xn._shouldLabelFloat())("mat-focused",xn._control.focused)("mat-primary","accent"!==xn.color&&"warn"!==xn.color)("mat-accent","accent"===xn.color)("mat-warn","warn"===xn.color)("ng-untouched",xn._shouldForward("untouched"))("ng-touched",xn._shouldForward("touched"))("ng-pristine",xn._shouldForward("pristine"))("ng-dirty",xn._shouldForward("dirty"))("ng-valid",xn._shouldForward("valid"))("ng-invalid",xn._shouldForward("invalid"))("ng-pending",xn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:rn,useExisting:sn},{provide:$t,useExisting:sn}])],ngContentSelectors:Ze,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(kn,xn){1&kn&&(a.F$t(Mt),a.YNc(0,It,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(Ri){return xn._control.onContainerClick(Ri)}),a.YNc(4,Ht,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,Mn,2,2,"div",5),a.YNc(7,ni,3,0,"div",6),a.YNc(8,wn,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,jn,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,kt,2,0,"div",10),a.YNc(13,pt,2,0,"div",11),a.qZA(),a.YNc(14,bt,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,Rt,2,1,"div",14),a.YNc(17,Te,5,2,"div",15),a.qZA()),2&kn&&(a.xp6(2),a.ekj("mdc-text-field--filled",!xn._hasOutline())("mdc-text-field--outlined",xn._hasOutline())("mdc-text-field--no-label",!xn._hasFloatingLabel())("mdc-text-field--disabled",xn._control.disabled)("mdc-text-field--invalid",xn._control.errorState),a.xp6(2),a.Q6J("ngIf",!xn._hasOutline()&&!xn._control.disabled),a.xp6(2),a.Q6J("ngIf",xn._hasOutline()),a.xp6(1),a.Q6J("ngIf",xn._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",xn._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!xn._hasOutline()||xn._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",xn._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",xn._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!xn._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===xn.subscriptSizing),a.Q6J("ngSwitch",xn._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[ut.O5,ut.tP,ut.RF,ut.n9,Lt,pn,Ie,Pt],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[xe.transitionMessages]},changeDetection:0})}return sn})(),zi=(()=>{class sn{static#e=this.\u0275fac=function(kn){return new(kn||sn)};static#t=this.\u0275mod=a.oAB({type:sn});static#n=this.\u0275inj=a.cJS({imports:[Ot.BQ,ut.ez,ht.Q8,Ot.BQ]})}return sn})()},617:(Sn,Et,R)=>{R.d(Et,{Hw:()=>Rt,Ps:()=>Be});var a=R(5879),ne=R(3680),O=R(2495),w=R(6814),we=R(2096),Ge=R(8504),$e=R(9315),Le=R(7394),ze=R(9397),H=R(7398),Fe=R(6306),Ye=R(4716),yt=R(3020),ke=R(8180),Xe=R(9862),ut=R(6593);const ht=["*"];let Ot;function Ke(Te){return function en(){if(void 0===Ot&&(Ot=null,typeof window<"u")){const Te=window;void 0!==Te.trustedTypes&&(Ot=Te.trustedTypes.createPolicy("angular#components",{createHTML:Mt=>Mt}))}return Ot}()?.createHTML(Te)||Te}function ye(Te){return Error(`Unable to find icon with the name "${Te}"`)}function W(Te){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Te}".`)}function Pe(Te){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Te}".`)}class qe{constructor(Mt,Ze,St){this.url=Mt,this.svgText=Ze,this.options=St}}let Ee=(()=>{class Te{constructor(Ze,St,Bt,yn){this._httpClient=Ze,this._sanitizer=St,this._errorHandler=yn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Bt}addSvgIcon(Ze,St,Bt){return this.addSvgIconInNamespace("",Ze,St,Bt)}addSvgIconLiteral(Ze,St,Bt){return this.addSvgIconLiteralInNamespace("",Ze,St,Bt)}addSvgIconInNamespace(Ze,St,Bt,yn){return this._addSvgIconConfig(Ze,St,new qe(Bt,null,yn))}addSvgIconResolver(Ze){return this._resolvers.push(Ze),this}addSvgIconLiteralInNamespace(Ze,St,Bt,yn){const Ut=this._sanitizer.sanitize(a.q3G.HTML,Bt);if(!Ut)throw Pe(Bt);const Pn=Ke(Ut);return this._addSvgIconConfig(Ze,St,new qe("",Pn,yn))}addSvgIconSet(Ze,St){return this.addSvgIconSetInNamespace("",Ze,St)}addSvgIconSetLiteral(Ze,St){return this.addSvgIconSetLiteralInNamespace("",Ze,St)}addSvgIconSetInNamespace(Ze,St,Bt){return this._addSvgIconSetConfig(Ze,new qe(St,null,Bt))}addSvgIconSetLiteralInNamespace(Ze,St,Bt){const yn=this._sanitizer.sanitize(a.q3G.HTML,St);if(!yn)throw Pe(St);const Ut=Ke(yn);return this._addSvgIconSetConfig(Ze,new qe("",Ut,Bt))}registerFontClassAlias(Ze,St=Ze){return this._fontCssClassesByAlias.set(Ze,St),this}classNameForFontAlias(Ze){return this._fontCssClassesByAlias.get(Ze)||Ze}setDefaultFontSetClass(...Ze){return this._defaultFontSetClass=Ze,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ze){const St=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,Ze);if(!St)throw W(Ze);const Bt=this._cachedIconsByUrl.get(St);return Bt?(0,we.of)(Nt(Bt)):this._loadSvgIconFromConfig(new qe(Ze,null)).pipe((0,ze.b)(yn=>this._cachedIconsByUrl.set(St,yn)),(0,H.U)(yn=>Nt(yn)))}getNamedSvgIcon(Ze,St=""){const Bt=Cn(St,Ze);let yn=this._svgIconConfigs.get(Bt);if(yn)return this._getSvgFromConfig(yn);if(yn=this._getIconConfigFromResolvers(St,Ze),yn)return this._svgIconConfigs.set(Bt,yn),this._getSvgFromConfig(yn);const Ut=this._iconSetConfigs.get(St);return Ut?this._getSvgFromIconSetConfigs(Ze,Ut):(0,Ge._)(ye(Bt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ze){return Ze.svgText?(0,we.of)(Nt(this._svgElementFromConfig(Ze))):this._loadSvgIconFromConfig(Ze).pipe((0,H.U)(St=>Nt(St)))}_getSvgFromIconSetConfigs(Ze,St){const Bt=this._extractIconWithNameFromAnySet(Ze,St);if(Bt)return(0,we.of)(Bt);const yn=St.filter(Ut=>!Ut.svgText).map(Ut=>this._loadSvgIconSetFromConfig(Ut).pipe((0,Fe.K)(Pn=>{const Wt=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,Ut.url)} failed: ${Pn.message}`;return this._errorHandler.handleError(new Error(Wt)),(0,we.of)(null)})));return(0,$e.D)(yn).pipe((0,H.U)(()=>{const Ut=this._extractIconWithNameFromAnySet(Ze,St);if(!Ut)throw ye(Ze);return Ut}))}_extractIconWithNameFromAnySet(Ze,St){for(let Bt=St.length-1;Bt>=0;Bt--){const yn=St[Bt];if(yn.svgText&&yn.svgText.toString().indexOf(Ze)>-1){const Ut=this._svgElementFromConfig(yn),Pn=this._extractSvgIconFromSet(Ut,Ze,yn.options);if(Pn)return Pn}}return null}_loadSvgIconFromConfig(Ze){return this._fetchIcon(Ze).pipe((0,ze.b)(St=>Ze.svgText=St),(0,H.U)(()=>this._svgElementFromConfig(Ze)))}_loadSvgIconSetFromConfig(Ze){return Ze.svgText?(0,we.of)(null):this._fetchIcon(Ze).pipe((0,ze.b)(St=>Ze.svgText=St))}_extractSvgIconFromSet(Ze,St,Bt){const yn=Ze.querySelector(`[id="${St}"]`);if(!yn)return null;const Ut=yn.cloneNode(!0);if(Ut.removeAttribute("id"),"svg"===Ut.nodeName.toLowerCase())return this._setSvgAttributes(Ut,Bt);if("symbol"===Ut.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ut),Bt);const Pn=this._svgElementFromString(Ke("<svg></svg>"));return Pn.appendChild(Ut),this._setSvgAttributes(Pn,Bt)}_svgElementFromString(Ze){const St=this._document.createElement("DIV");St.innerHTML=Ze;const Bt=St.querySelector("svg");if(!Bt)throw Error("<svg> tag not found");return Bt}_toSvgElement(Ze){const St=this._svgElementFromString(Ke("<svg></svg>")),Bt=Ze.attributes;for(let yn=0;yn<Bt.length;yn++){const{name:Ut,value:Pn}=Bt[yn];"id"!==Ut&&St.setAttribute(Ut,Pn)}for(let yn=0;yn<Ze.childNodes.length;yn++)Ze.childNodes[yn].nodeType===this._document.ELEMENT_NODE&&St.appendChild(Ze.childNodes[yn].cloneNode(!0));return St}_setSvgAttributes(Ze,St){return Ze.setAttribute("fit",""),Ze.setAttribute("height","100%"),Ze.setAttribute("width","100%"),Ze.setAttribute("preserveAspectRatio","xMidYMid meet"),Ze.setAttribute("focusable","false"),St&&St.viewBox&&Ze.setAttribute("viewBox",St.viewBox),Ze}_fetchIcon(Ze){const{url:St,options:Bt}=Ze,yn=Bt?.withCredentials??!1;if(!this._httpClient)throw function rt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==St)throw Error(`Cannot fetch icon from URL "${St}".`);const Ut=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,St);if(!Ut)throw W(St);const Pn=this._inProgressUrlFetches.get(Ut);if(Pn)return Pn;const Lt=this._httpClient.get(Ut,{responseType:"text",withCredentials:yn}).pipe((0,H.U)(Wt=>Ke(Wt)),(0,Ye.x)(()=>this._inProgressUrlFetches.delete(Ut)),(0,yt.B)());return this._inProgressUrlFetches.set(Ut,Lt),Lt}_addSvgIconConfig(Ze,St,Bt){return this._svgIconConfigs.set(Cn(Ze,St),Bt),this}_addSvgIconSetConfig(Ze,St){const Bt=this._iconSetConfigs.get(Ze);return Bt?Bt.push(St):this._iconSetConfigs.set(Ze,[St]),this}_svgElementFromConfig(Ze){if(!Ze.svgElement){const St=this._svgElementFromString(Ze.svgText);this._setSvgAttributes(St,Ze.options),Ze.svgElement=St}return Ze.svgElement}_getIconConfigFromResolvers(Ze,St){for(let Bt=0;Bt<this._resolvers.length;Bt++){const yn=this._resolvers[Bt](St,Ze);if(yn)return Mn(yn)?new qe(yn.url,null,yn.options):new qe(yn,null)}}static#e=this.\u0275fac=function(St){return new(St||Te)(a.LFG(Xe.eN,8),a.LFG(ut.H7),a.LFG(w.K0,8),a.LFG(a.qLn))};static#t=this.\u0275prov=a.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();function Nt(Te){return Te.cloneNode(!0)}function Cn(Te,Mt){return Te+":"+Mt}function Mn(Te){return!(!Te.url||!Te.options)}const ni=(0,ne.pj)(class{constructor(Te){this._elementRef=Te}}),wn=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ln=new a.OlP("mat-icon-location",{providedIn:"root",factory:function jn(){const Te=(0,a.f3M)(w.K0),Mt=Te?Te.location:null;return{getPathname:()=>Mt?Mt.pathname+Mt.search:""}}}),kt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],pt=kt.map(Te=>`[${Te}]`).join(", "),bt=/^url\(['"]?#(.*?)['"]?\)$/;let Rt=(()=>{class Te extends ni{get inline(){return this._inline}set inline(Ze){this._inline=(0,O.Ig)(Ze)}get svgIcon(){return this._svgIcon}set svgIcon(Ze){Ze!==this._svgIcon&&(Ze?this._updateSvgIcon(Ze):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ze)}get fontSet(){return this._fontSet}set fontSet(Ze){const St=this._cleanupFontValue(Ze);St!==this._fontSet&&(this._fontSet=St,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ze){const St=this._cleanupFontValue(Ze);St!==this._fontIcon&&(this._fontIcon=St,this._updateFontIconClasses())}constructor(Ze,St,Bt,yn,Ut,Pn){super(Ze),this._iconRegistry=St,this._location=yn,this._errorHandler=Ut,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Le.w0.EMPTY,Pn&&(Pn.color&&(this.color=this.defaultColor=Pn.color),Pn.fontSet&&(this.fontSet=Pn.fontSet)),Bt||Ze.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Ze){if(!Ze)return["",""];const St=Ze.split(":");switch(St.length){case 1:return["",St[0]];case 2:return St;default:throw Error(`Invalid icon name: "${Ze}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ze=this._elementsWithExternalReferences;if(Ze&&Ze.size){const St=this._location.getPathname();St!==this._previousPath&&(this._previousPath=St,this._prependPathToReferences(St))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ze){this._clearSvgElement();const St=this._location.getPathname();this._previousPath=St,this._cacheChildrenWithExternalReferences(Ze),this._prependPathToReferences(St),this._elementRef.nativeElement.appendChild(Ze)}_clearSvgElement(){const Ze=this._elementRef.nativeElement;let St=Ze.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();St--;){const Bt=Ze.childNodes[St];(1!==Bt.nodeType||"svg"===Bt.nodeName.toLowerCase())&&Bt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ze=this._elementRef.nativeElement,St=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Bt=>Bt.length>0);this._previousFontSetClass.forEach(Bt=>Ze.classList.remove(Bt)),St.forEach(Bt=>Ze.classList.add(Bt)),this._previousFontSetClass=St,this.fontIcon!==this._previousFontIconClass&&!St.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ze.classList.remove(this._previousFontIconClass),this.fontIcon&&Ze.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ze){return"string"==typeof Ze?Ze.trim().split(" ")[0]:Ze}_prependPathToReferences(Ze){const St=this._elementsWithExternalReferences;St&&St.forEach((Bt,yn)=>{Bt.forEach(Ut=>{yn.setAttribute(Ut.name,`url('${Ze}#${Ut.value}')`)})})}_cacheChildrenWithExternalReferences(Ze){const St=Ze.querySelectorAll(pt),Bt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let yn=0;yn<St.length;yn++)kt.forEach(Ut=>{const Pn=St[yn],Lt=Pn.getAttribute(Ut),Wt=Lt?Lt.match(bt):null;if(Wt){let _e=Bt.get(Pn);_e||(_e=[],Bt.set(Pn,_e)),_e.push({name:Ut,value:Wt[1]})}})}_updateSvgIcon(Ze){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ze){const[St,Bt]=this._splitIconName(Ze);St&&(this._svgNamespace=St),Bt&&(this._svgName=Bt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Bt,St).pipe((0,ke.q)(1)).subscribe(yn=>this._setSvgElement(yn),yn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${St}:${Bt}! ${yn.message}`))})}}static#e=this.\u0275fac=function(St){return new(St||Te)(a.Y36(a.SBq),a.Y36(Ee),a.$8M("aria-hidden"),a.Y36(Ln),a.Y36(a.qLn),a.Y36(wn,8))};static#t=this.\u0275cmp=a.Xpm({type:Te,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(St,Bt){2&St&&(a.uIk("data-mat-icon-type",Bt._usingFontIcon()?"font":"svg")("data-mat-icon-name",Bt._svgName||Bt.fontIcon)("data-mat-icon-namespace",Bt._svgNamespace||Bt.fontSet)("fontIcon",Bt._usingFontIcon()?Bt.fontIcon:null),a.ekj("mat-icon-inline",Bt.inline)("mat-icon-no-color","primary"!==Bt.color&&"accent"!==Bt.color&&"warn"!==Bt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:ht,decls:1,vars:0,template:function(St,Bt){1&St&&(a.F$t(),a.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return Te})(),Be=(()=>{class Te{static#e=this.\u0275fac=function(St){return new(St||Te)};static#t=this.\u0275mod=a.oAB({type:Te});static#n=this.\u0275inj=a.cJS({imports:[ne.BQ,ne.BQ]})}return Te})()},2032:(Sn,Et,R)=>{R.d(Et,{Jk:()=>Xe,Nt:()=>en,c:()=>Ke});var a=R(2495),ne=R(2831),O=R(5879),w=R(6232),we=R(8645);const Ge=(0,ne.i$)({passive:!0});let $e=(()=>{class ye{constructor(W,Pe){this._platform=W,this._ngZone=Pe,this._monitoredElements=new Map}monitor(W){if(!this._platform.isBrowser)return w.E;const Pe=(0,a.fI)(W),qe=this._monitoredElements.get(Pe);if(qe)return qe.subject;const Ee=new we.x,It="cdk-text-field-autofilled",Ht=Nt=>{"cdk-text-field-autofill-start"!==Nt.animationName||Pe.classList.contains(It)?"cdk-text-field-autofill-end"===Nt.animationName&&Pe.classList.contains(It)&&(Pe.classList.remove(It),this._ngZone.run(()=>Ee.next({target:Nt.target,isAutofilled:!1}))):(Pe.classList.add(It),this._ngZone.run(()=>Ee.next({target:Nt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Pe.addEventListener("animationstart",Ht,Ge),Pe.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Pe,{subject:Ee,unlisten:()=>{Pe.removeEventListener("animationstart",Ht,Ge)}}),Ee}stopMonitoring(W){const Pe=(0,a.fI)(W),qe=this._monitoredElements.get(Pe);qe&&(qe.unlisten(),qe.subject.complete(),Pe.classList.remove("cdk-text-field-autofill-monitored"),Pe.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Pe))}ngOnDestroy(){this._monitoredElements.forEach((W,Pe)=>this.stopMonitoring(Pe))}static#e=this.\u0275fac=function(Pe){return new(Pe||ye)(O.LFG(ne.t4),O.LFG(O.R0b))};static#t=this.\u0275prov=O.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})(),H=(()=>{class ye{static#e=this.\u0275fac=function(Pe){return new(Pe||ye)};static#t=this.\u0275mod=O.oAB({type:ye});static#n=this.\u0275inj=O.cJS({})}return ye})();var Fe=R(6223),Ye=R(3680),yt=R(4170);const Xe=new O.OlP("MAT_INPUT_VALUE_ACCESSOR"),ut=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ht=0;const Ot=(0,Ye.FD)(class{constructor(ye,rt,W,Pe){this._defaultErrorStateMatcher=ye,this._parentForm=rt,this._parentFormGroup=W,this.ngControl=Pe,this.stateChanges=new we.x}});let en=(()=>{class ye extends Ot{get disabled(){return this._disabled}set disabled(W){this._disabled=(0,a.Ig)(W),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(W){this._id=W||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Fe.kI.required)??!1}set required(W){this._required=(0,a.Ig)(W)}get type(){return this._type}set type(W){this._type=W||"text",this._validateType(),!this._isTextarea&&(0,ne.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(W){W!==this.value&&(this._inputValueAccessor.value=W,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(W){this._readonly=(0,a.Ig)(W)}constructor(W,Pe,qe,Ee,It,Ht,Nt,Cn,Mn,ni){super(Ht,Ee,It,qe),this._elementRef=W,this._platform=Pe,this._autofillMonitor=Cn,this._formField=ni,this._uid="mat-input-"+ht++,this.focused=!1,this.stateChanges=new we.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(jn=>(0,ne.qK)().has(jn)),this._iOSKeyupListener=jn=>{const kt=jn.target;!kt.value&&0===kt.selectionStart&&0===kt.selectionEnd&&(kt.setSelectionRange(1,1),kt.setSelectionRange(0,0))};const wn=this._elementRef.nativeElement,Ln=wn.nodeName.toLowerCase();this._inputValueAccessor=Nt||wn,this._previousNativeValue=this.value,this.id=this.id,Pe.IOS&&Mn.runOutsideAngular(()=>{W.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ln,this._isTextarea="textarea"===Ln,this._isInFormField=!!ni,this._isNativeSelect&&(this.controlType=wn.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(W=>{this.autofilled=W.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(W){this._elementRef.nativeElement.focus(W)}_focusChanged(W){W!==this.focused&&(this.focused=W,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const W=this._elementRef.nativeElement.value;this._previousNativeValue!==W&&(this._previousNativeValue=W,this.stateChanges.next())}_dirtyCheckPlaceholder(){const W=this._getPlaceholder();if(W!==this._previousPlaceholder){const Pe=this._elementRef.nativeElement;this._previousPlaceholder=W,W?Pe.setAttribute("placeholder",W):Pe.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ut.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let W=this._elementRef.nativeElement.validity;return W&&W.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const W=this._elementRef.nativeElement,Pe=W.options[0];return this.focused||W.multiple||!this.empty||!!(W.selectedIndex>-1&&Pe&&Pe.label)}return this.focused||!this.empty}setDescribedByIds(W){W.length?this._elementRef.nativeElement.setAttribute("aria-describedby",W.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const W=this._elementRef.nativeElement;return this._isNativeSelect&&(W.multiple||W.size>1)}static#e=this.\u0275fac=function(Pe){return new(Pe||ye)(O.Y36(O.SBq),O.Y36(ne.t4),O.Y36(Fe.a5,10),O.Y36(Fe.F,8),O.Y36(Fe.sg,8),O.Y36(Ye.rD),O.Y36(Xe,10),O.Y36($e),O.Y36(O.R0b),O.Y36(yt.G_,8))};static#t=this.\u0275dir=O.lG2({type:ye,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(Pe,qe){1&Pe&&O.NdJ("focus",function(){return qe._focusChanged(!0)})("blur",function(){return qe._focusChanged(!1)})("input",function(){return qe._onInput()}),2&Pe&&(O.Ikx("id",qe.id)("disabled",qe.disabled)("required",qe.required),O.uIk("name",qe.name||null)("readonly",qe.readonly&&!qe._isNativeSelect||null)("aria-invalid",qe.empty&&qe.required?null:qe.errorState)("aria-required",qe.required)("id",qe.id),O.ekj("mat-input-server",qe._isServer)("mat-mdc-form-field-textarea-control",qe._isInFormField&&qe._isTextarea)("mat-mdc-form-field-input-control",qe._isInFormField)("mdc-text-field__input",qe._isInFormField)("mat-mdc-native-select-inline",qe._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[O._Bn([{provide:yt.Eo,useExisting:ye}]),O.qOj,O.TTD]})}return ye})(),Ke=(()=>{class ye{static#e=this.\u0275fac=function(Pe){return new(Pe||ye)};static#t=this.\u0275mod=O.oAB({type:ye});static#n=this.\u0275inj=O.cJS({imports:[Ye.BQ,yt.lN,yt.lN,H,Ye.BQ]})}return ye})()},8525:(Sn,Et,R)=>{R.d(Et,{LD:()=>Pn,gD:()=>Ut});var a=R(3651),ne=R(6814),O=R(5879),w=R(3680),we=R(4170),Ge=R(799),$e=R(4191),Le=R(9388),ze=R(2495),H=R(8337),Fe=R(6028),Ye=R(6223),yt=R(8645),ke=R(4911),Xe=R(3019),ut=R(7921),ht=R(4664),Ot=R(8180),en=R(2181),Ke=R(7398),ye=R(3997),rt=R(9773),W=R(6825);const Pe=["trigger"],qe=["panel"];function Ee(Lt,Wt){if(1&Lt&&(O.TgZ(0,"span",10),O._uU(1),O.qZA()),2&Lt){const _e=O.oxw();O.xp6(1),O.Oqu(_e.placeholder)}}function It(Lt,Wt){if(1&Lt&&(O.TgZ(0,"span",14),O._uU(1),O.qZA()),2&Lt){const _e=O.oxw(2);O.xp6(1),O.Oqu(_e.triggerValue)}}function Ht(Lt,Wt){1&Lt&&O.Hsn(0,0,["*ngSwitchCase","true"])}function Nt(Lt,Wt){if(1&Lt&&(O.TgZ(0,"span",11),O.YNc(1,It,2,1,"span",12),O.YNc(2,Ht,1,0,"ng-content",13),O.qZA()),2&Lt){const _e=O.oxw();O.Q6J("ngSwitch",!!_e.customTrigger),O.xp6(2),O.Q6J("ngSwitchCase",!0)}}function Cn(Lt,Wt){if(1&Lt){const _e=O.EpF();O.O4$(),O.kcU(),O.TgZ(0,"div",15,16),O.NdJ("@transformPanel.done",function(at){O.CHM(_e);const $t=O.oxw();return O.KtG($t._panelDoneAnimatingStream.next(at.toState))})("keydown",function(at){O.CHM(_e);const $t=O.oxw();return O.KtG($t._handleKeydown(at))}),O.Hsn(2,1),O.qZA()}if(2&Lt){const _e=O.oxw();O.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",_e._getPanelTheme(),""),O.Q6J("ngClass",_e.panelClass)("@transformPanel","showing"),O.uIk("id",_e.id+"-panel")("aria-multiselectable",_e.multiple)("aria-label",_e.ariaLabel||null)("aria-labelledby",_e._getPanelAriaLabelledby())}}const Mn=[[["mat-select-trigger"]],"*"],ni=["mat-select-trigger","*"],wn={transformPanelWrap:(0,W.X$)("transformPanelWrap",[(0,W.eR)("* => void",(0,W.IO)("@transformPanel",[(0,W.pV)()],{optional:!0}))]),transformPanel:(0,W.X$)("transformPanel",[(0,W.SB)("void",(0,W.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,W.eR)("void => showing",(0,W.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,W.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,W.eR)("* => void",(0,W.jt)("100ms linear",(0,W.oB)({opacity:0})))])};let pt=0;const bt=new O.OlP("mat-select-scroll-strategy"),Be=new O.OlP("MAT_SELECT_CONFIG"),Te={provide:bt,deps:[a.aV],useFactory:function Rt(Lt){return()=>Lt.scrollStrategies.reposition()}},Mt=new O.OlP("MatSelectTrigger");class Ze{constructor(Wt,_e){this.source=Wt,this.value=_e}}const St=(0,w.Kr)((0,w.sb)((0,w.Id)((0,w.FD)(class{constructor(Lt,Wt,_e,Ue,at){this._elementRef=Lt,this._defaultErrorStateMatcher=Wt,this._parentForm=_e,this._parentFormGroup=Ue,this.ngControl=at,this.stateChanges=new yt.x}}))));let Bt=(()=>{class Lt extends St{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(_e){this._placeholder=_e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ye.kI.required)??!1}set required(_e){this._required=(0,ze.Ig)(_e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(_e){this._multiple=(0,ze.Ig)(_e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(_e){this._disableOptionCentering=(0,ze.Ig)(_e)}get compareWith(){return this._compareWith}set compareWith(_e){this._compareWith=_e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(_e){this._assignValue(_e)&&this._onChange(_e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(_e){this._typeaheadDebounceInterval=(0,ze.su)(_e)}get id(){return this._id}set id(_e){this._id=_e||this._uid,this.stateChanges.next()}constructor(_e,Ue,at,$t,pn,dn,Qn,ai,Pt,Ie,xe,Ve,je,mt){super(pn,$t,Qn,ai,Ie),this._viewportRuler=_e,this._changeDetectorRef=Ue,this._ngZone=at,this._dir=dn,this._parentFormField=Pt,this._liveAnnouncer=je,this._defaultOptions=mt,this._panelOpen=!1,this._compareWith=(At,rn)=>At===rn,this._uid="mat-select-"+pt++,this._triggerAriaLabelledBy=null,this._destroy=new yt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+pt++,this._panelDoneAnimatingStream=new yt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,ke.P)(()=>{const At=this.options;return At?At.changes.pipe((0,ut.O)(At),(0,ht.w)(()=>(0,Xe.T)(...At.map(rn=>rn.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ot.q)(1),(0,ht.w)(()=>this.optionSelectionChanges))}),this.openedChange=new O.vpe,this._openedStream=this.openedChange.pipe((0,en.h)(At=>At),(0,Ke.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,en.h)(At=>!At),(0,Ke.U)(()=>{})),this.selectionChange=new O.vpe,this.valueChange=new O.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=mt?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=mt.typeaheadDebounceInterval),this._scrollStrategyFactory=Ve,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(xe)||0,this.id=this.id}ngOnInit(){this._selectionModel=new H.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ye.x)(),(0,rt.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,rt.R)(this._destroy)).subscribe(_e=>{_e.added.forEach(Ue=>Ue.select()),_e.removed.forEach(Ue=>Ue.deselect())}),this.options.changes.pipe((0,ut.O)(null),(0,rt.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const _e=this._getTriggerAriaLabelledby(),Ue=this.ngControl;if(_e!==this._triggerAriaLabelledBy){const at=this._elementRef.nativeElement;this._triggerAriaLabelledBy=_e,_e?at.setAttribute("aria-labelledby",_e):at.removeAttribute("aria-labelledby")}Ue&&(this._previousControl!==Ue.control&&(void 0!==this._previousControl&&null!==Ue.disabled&&Ue.disabled!==this.disabled&&(this.disabled=Ue.disabled),this._previousControl=Ue.control),this.updateErrorState())}ngOnChanges(_e){(_e.disabled||_e.userAriaDescribedBy)&&this.stateChanges.next(),_e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const _e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!_e)return;const Ue=`${this.id}-panel`;this._trackedModal&&(0,$e.iD)(this._trackedModal,"aria-owns",Ue),(0,$e.Zf)(_e,"aria-owns",Ue),this._trackedModal=_e}_clearFromModal(){this._trackedModal&&((0,$e.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(_e){this._assignValue(_e)}registerOnChange(_e){this._onChange=_e}registerOnTouched(_e){this._onTouched=_e}setDisabledState(_e){this.disabled=_e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const _e=this._selectionModel.selected.map(Ue=>Ue.viewValue);return this._isRtl()&&_e.reverse(),_e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(_e){this.disabled||(this.panelOpen?this._handleOpenKeydown(_e):this._handleClosedKeydown(_e))}_handleClosedKeydown(_e){const Ue=_e.keyCode,at=Ue===Fe.JH||Ue===Fe.LH||Ue===Fe.oh||Ue===Fe.SV,$t=Ue===Fe.K5||Ue===Fe.L_,pn=this._keyManager;if(!pn.isTyping()&&$t&&!(0,Fe.Vb)(_e)||(this.multiple||_e.altKey)&&at)_e.preventDefault(),this.open();else if(!this.multiple){const dn=this.selected;pn.onKeydown(_e);const Qn=this.selected;Qn&&dn!==Qn&&this._liveAnnouncer.announce(Qn.viewValue,1e4)}}_handleOpenKeydown(_e){const Ue=this._keyManager,at=_e.keyCode,$t=at===Fe.JH||at===Fe.LH,pn=Ue.isTyping();if($t&&_e.altKey)_e.preventDefault(),this.close();else if(pn||at!==Fe.K5&&at!==Fe.L_||!Ue.activeItem||(0,Fe.Vb)(_e))if(!pn&&this._multiple&&at===Fe.A&&_e.ctrlKey){_e.preventDefault();const dn=this.options.some(Qn=>!Qn.disabled&&!Qn.selected);this.options.forEach(Qn=>{Qn.disabled||(dn?Qn.select():Qn.deselect())})}else{const dn=Ue.activeItemIndex;Ue.onKeydown(_e),this._multiple&&$t&&_e.shiftKey&&Ue.activeItem&&Ue.activeItemIndex!==dn&&Ue.activeItem._selectViaInteraction()}else _e.preventDefault(),Ue.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ot.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(_e){if(this.options.forEach(Ue=>Ue.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&_e)Array.isArray(_e),_e.forEach(Ue=>this._selectOptionByValue(Ue)),this._sortValues();else{const Ue=this._selectOptionByValue(_e);Ue?this._keyManager.updateActiveItem(Ue):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(_e){const Ue=this.options.find(at=>{if(this._selectionModel.isSelected(at))return!1;try{return null!=at.value&&this._compareWith(at.value,_e)}catch{return!1}});return Ue&&this._selectionModel.select(Ue),Ue}_assignValue(_e){return!!(_e!==this._value||this._multiple&&Array.isArray(_e))&&(this.options&&this._setSelectionByValue(_e),this._value=_e,!0)}_skipPredicate(_e){return _e.disabled}_initKeyManager(){this._keyManager=new $e.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const _e=(0,Xe.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,rt.R)(_e)).subscribe(Ue=>{this._onSelect(Ue.source,Ue.isUserInput),Ue.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Xe.T)(...this.options.map(Ue=>Ue._stateChanges)).pipe((0,rt.R)(_e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(_e,Ue){const at=this._selectionModel.isSelected(_e);null!=_e.value||this._multiple?(at!==_e.selected&&(_e.selected?this._selectionModel.select(_e):this._selectionModel.deselect(_e)),Ue&&this._keyManager.setActiveItem(_e),this.multiple&&(this._sortValues(),Ue&&this.focus())):(_e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(_e.value)),at!==this._selectionModel.isSelected(_e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const _e=this.options.toArray();this._selectionModel.sort((Ue,at)=>this.sortComparator?this.sortComparator(Ue,at,_e):_e.indexOf(Ue)-_e.indexOf(at)),this.stateChanges.next()}}_propagateChanges(_e){let Ue=null;Ue=this.multiple?this.selected.map(at=>at.value):this.selected?this.selected.value:_e,this._value=Ue,this.valueChange.emit(Ue),this._onChange(Ue),this.selectionChange.emit(this._getChangeEvent(Ue)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let _e=-1;for(let Ue=0;Ue<this.options.length;Ue++)if(!this.options.get(Ue).disabled){_e=Ue;break}this._keyManager.setActiveItem(_e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(_e){this._elementRef.nativeElement.focus(_e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const _e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(_e?_e+" ":"")+this.ariaLabelledby:_e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const _e=this._parentFormField?.getLabelId();let Ue=(_e?_e+" ":"")+this._valueId;return this.ariaLabelledby&&(Ue+=" "+this.ariaLabelledby),Ue}_panelDoneAnimating(_e){this.openedChange.emit(_e)}setDescribedByIds(_e){_e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",_e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(Ue){return new(Ue||Lt)(O.Y36(Ge.rL),O.Y36(O.sBO),O.Y36(O.R0b),O.Y36(w.rD),O.Y36(O.SBq),O.Y36(Le.Is,8),O.Y36(Ye.F,8),O.Y36(Ye.sg,8),O.Y36(we.G_,8),O.Y36(Ye.a5,10),O.$8M("tabindex"),O.Y36(bt),O.Y36($e.Kd),O.Y36(Be,8))};static#t=this.\u0275dir=O.lG2({type:Lt,viewQuery:function(Ue,at){if(1&Ue&&(O.Gf(Pe,5),O.Gf(qe,5),O.Gf(a.pI,5)),2&Ue){let $t;O.iGM($t=O.CRH())&&(at.trigger=$t.first),O.iGM($t=O.CRH())&&(at.panel=$t.first),O.iGM($t=O.CRH())&&(at._overlayDir=$t.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[O.qOj,O.TTD]})}return Lt})(),Ut=(()=>{class Lt extends Bt{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=_e=>!this.panelOpen&&_e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,rt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(_e){const Ue=this.options.toArray()[_e];if(Ue){const at=this.panel.nativeElement,$t=(0,w.CB)(_e,this.options,this.optionGroups),pn=Ue._getHostElement();at.scrollTop=0===_e&&1===$t?0:(0,w.jH)(pn.offsetTop,pn.offsetHeight,at.scrollTop,at.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(_e){return new Ze(this,_e)}_getOverlayWidth(_e){return"auto"===this.panelWidth?(_e instanceof a.xu?_e.elementRef:_e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(_e){this._hideSingleSelectionIndicator=(0,ze.Ig)(_e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const _e of this.options)_e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let _e;return function(at){return(_e||(_e=O.n5z(Lt)))(at||Lt)}}();static#t=this.\u0275cmp=O.Xpm({type:Lt,selectors:[["mat-select"]],contentQueries:function(Ue,at,$t){if(1&Ue&&(O.Suo($t,Mt,5),O.Suo($t,w.ey,5),O.Suo($t,w.K7,5)),2&Ue){let pn;O.iGM(pn=O.CRH())&&(at.customTrigger=pn.first),O.iGM(pn=O.CRH())&&(at.options=pn),O.iGM(pn=O.CRH())&&(at.optionGroups=pn)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ue,at){1&Ue&&O.NdJ("keydown",function(pn){return at._handleKeydown(pn)})("focus",function(){return at._onFocus()})("blur",function(){return at._onBlur()}),2&Ue&&(O.uIk("id",at.id)("tabindex",at.tabIndex)("aria-controls",at.panelOpen?at.id+"-panel":null)("aria-expanded",at.panelOpen)("aria-label",at.ariaLabel||null)("aria-required",at.required.toString())("aria-disabled",at.disabled.toString())("aria-invalid",at.errorState)("aria-activedescendant",at._getAriaActiveDescendant()),O.ekj("mat-mdc-select-disabled",at.disabled)("mat-mdc-select-invalid",at.errorState)("mat-mdc-select-required",at.required)("mat-mdc-select-empty",at.empty)("mat-mdc-select-multiple",at.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[O._Bn([{provide:we.Eo,useExisting:Lt},{provide:w.HF,useExisting:Lt}]),O.qOj],ngContentSelectors:ni,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Ue,at){if(1&Ue&&(O.F$t(Mn),O.TgZ(0,"div",0,1),O.NdJ("click",function(){return at.toggle()}),O.TgZ(3,"div",2),O.YNc(4,Ee,2,1,"span",3),O.YNc(5,Nt,3,2,"span",4),O.qZA(),O.TgZ(6,"div",5)(7,"div",6),O.O4$(),O.TgZ(8,"svg",7),O._UZ(9,"path",8),O.qZA()()()(),O.YNc(10,Cn,3,9,"ng-template",9),O.NdJ("backdropClick",function(){return at.close()})("attach",function(){return at._onAttached()})("detach",function(){return at.close()})),2&Ue){const $t=O.MAs(1);O.xp6(3),O.Q6J("ngSwitch",at.empty),O.uIk("id",at._valueId),O.xp6(1),O.Q6J("ngSwitchCase",!0),O.xp6(1),O.Q6J("ngSwitchCase",!1),O.xp6(5),O.Q6J("cdkConnectedOverlayPanelClass",at._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",at._scrollStrategy)("cdkConnectedOverlayOrigin",at._preferredOverlayOrigin||$t)("cdkConnectedOverlayOpen",at.panelOpen)("cdkConnectedOverlayPositions",at._positions)("cdkConnectedOverlayWidth",at._overlayWidth)}},dependencies:[ne.mk,ne.RF,ne.n9,ne.ED,a.pI,a.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[wn.transformPanel]},changeDetection:0})}return Lt})(),Pn=(()=>{class Lt{static#e=this.\u0275fac=function(Ue){return new(Ue||Lt)};static#t=this.\u0275mod=O.oAB({type:Lt});static#n=this.\u0275inj=O.cJS({providers:[Te],imports:[ne.ez,a.U8,w.Ng,w.BQ,Ge.ZD,we.lN,w.Ng,w.BQ]})}return Lt})()},2596:(Sn,Et,R)=>{R.d(Et,{AV:()=>pt,gM:()=>wn});var a=R(9773),ne=R(8180),O=R(2495),w=R(6028),we=R(5879),Ge=R(6814),$e=R(2831),Le=R(4191),ze=R(9388),H=R(3651),Fe=R(799),Ye=R(8484),yt=R(8645),Xe=(R(6825),R(3680));const ut=["tooltip"],en=new we.OlP("mat-tooltip-scroll-strategy"),ye={provide:en,deps:[H.aV],useFactory:function Ke(bt){return()=>bt.scrollStrategies.reposition({scrollThrottle:20})}},W=new we.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function rt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),qe="tooltip-panel",Ee=(0,$e.i$)({passive:!0});let ni=(()=>{class bt{get position(){return this._position}set position(Be){Be!==this._position&&(this._position=Be,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(Be){this._positionAtOrigin=(0,O.Ig)(Be),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(Be){this._disabled=(0,O.Ig)(Be),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Be){this._showDelay=(0,O.su)(Be)}get hideDelay(){return this._hideDelay}set hideDelay(Be){this._hideDelay=(0,O.su)(Be),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Be){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Be?String(Be).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Be){this._tooltipClass=Be,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(Be,Te,Mt,Ze,St,Bt,yn,Ut,Pn,Lt,Wt,_e){this._overlay=Be,this._elementRef=Te,this._scrollDispatcher=Mt,this._viewContainerRef=Ze,this._ngZone=St,this._platform=Bt,this._ariaDescriber=yn,this._focusMonitor=Ut,this._dir=Lt,this._defaultOptions=Wt,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new yt.x,this._scrollStrategy=Pn,this._document=_e,Wt&&(this._showDelay=Wt.showDelay,this._hideDelay=Wt.hideDelay,Wt.position&&(this.position=Wt.position),Wt.positionAtOrigin&&(this.positionAtOrigin=Wt.positionAtOrigin),Wt.touchGestures&&(this.touchGestures=Wt.touchGestures)),Lt.change.pipe((0,a.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,a.R)(this._destroyed)).subscribe(Be=>{Be?"keyboard"===Be&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Be=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Te,Mt])=>{Be.removeEventListener(Te,Mt,Ee)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Be,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Be)}show(Be=this.showDelay,Te){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Mt=this._createOverlay(Te);this._detach(),this._portal=this._portal||new Ye.C5(this._tooltipComponent,this._viewContainerRef);const Ze=this._tooltipInstance=Mt.attach(this._portal).instance;Ze._triggerElement=this._elementRef.nativeElement,Ze._mouseLeaveHideDelay=this._hideDelay,Ze.afterHidden().pipe((0,a.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Ze.show(Be)}hide(Be=this.hideDelay){const Te=this._tooltipInstance;Te&&(Te.isVisible()?Te.hide(Be):(Te._cancelPendingAnimations(),this._detach()))}toggle(Be){this._isTooltipVisible()?this.hide():this.show(void 0,Be)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(Be){if(this._overlayRef){const Ze=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!Be)&&Ze._origin instanceof we.SBq)return this._overlayRef;this._detach()}const Te=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Mt=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&Be||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Te);return Mt.positionChanges.pipe((0,a.R)(this._destroyed)).subscribe(Ze=>{this._updateCurrentPositionClass(Ze.connectionPair),this._tooltipInstance&&Ze.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Mt,panelClass:`${this._cssClassPrefix}-${qe}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,a.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,a.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,a.R)(this._destroyed)).subscribe(Ze=>{this._isTooltipVisible()&&Ze.keyCode===w.hY&&!(0,w.Vb)(Ze)&&(Ze.preventDefault(),Ze.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Be){const Te=Be.getConfig().positionStrategy,Mt=this._getOrigin(),Ze=this._getOverlayPosition();Te.withPositions([this._addOffset({...Mt.main,...Ze.main}),this._addOffset({...Mt.fallback,...Ze.fallback})])}_addOffset(Be){return Be}_getOrigin(){const Be=!this._dir||"ltr"==this._dir.value,Te=this.position;let Mt;"above"==Te||"below"==Te?Mt={originX:"center",originY:"above"==Te?"top":"bottom"}:"before"==Te||"left"==Te&&Be||"right"==Te&&!Be?Mt={originX:"start",originY:"center"}:("after"==Te||"right"==Te&&Be||"left"==Te&&!Be)&&(Mt={originX:"end",originY:"center"});const{x:Ze,y:St}=this._invertPosition(Mt.originX,Mt.originY);return{main:Mt,fallback:{originX:Ze,originY:St}}}_getOverlayPosition(){const Be=!this._dir||"ltr"==this._dir.value,Te=this.position;let Mt;"above"==Te?Mt={overlayX:"center",overlayY:"bottom"}:"below"==Te?Mt={overlayX:"center",overlayY:"top"}:"before"==Te||"left"==Te&&Be||"right"==Te&&!Be?Mt={overlayX:"end",overlayY:"center"}:("after"==Te||"right"==Te&&Be||"left"==Te&&!Be)&&(Mt={overlayX:"start",overlayY:"center"});const{x:Ze,y:St}=this._invertPosition(Mt.overlayX,Mt.overlayY);return{main:Mt,fallback:{overlayX:Ze,overlayY:St}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,ne.q)(1),(0,a.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Be){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Be,this._tooltipInstance._markForCheck())}_invertPosition(Be,Te){return"above"===this.position||"below"===this.position?"top"===Te?Te="bottom":"bottom"===Te&&(Te="top"):"end"===Be?Be="start":"start"===Be&&(Be="end"),{x:Be,y:Te}}_updateCurrentPositionClass(Be){const{overlayY:Te,originX:Mt,originY:Ze}=Be;let St;if(St="center"===Te?this._dir&&"rtl"===this._dir.value?"end"===Mt?"left":"right":"start"===Mt?"left":"right":"bottom"===Te&&"top"===Ze?"above":"below",St!==this._currentPosition){const Bt=this._overlayRef;if(Bt){const yn=`${this._cssClassPrefix}-${qe}-`;Bt.removePanelClass(yn+this._currentPosition),Bt.addPanelClass(yn+St)}this._currentPosition=St}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",Be=>{let Te;this._setupPointerExitEventsIfNeeded(),void 0!==Be.x&&void 0!==Be.y&&(Te=Be),this.show(void 0,Te)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",Be=>{const Te=Be.targetTouches?.[0],Mt=Te?{x:Te.clientX,y:Te.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Mt),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Be=[];if(this._platformSupportsMouseEvents())Be.push(["mouseleave",Te=>{const Mt=Te.relatedTarget;(!Mt||!this._overlayRef?.overlayElement.contains(Mt))&&this.hide()}],["wheel",Te=>this._wheelListener(Te)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Te=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Be.push(["touchend",Te],["touchcancel",Te])}this._addListeners(Be),this._passiveListeners.push(...Be)}_addListeners(Be){Be.forEach(([Te,Mt])=>{this._elementRef.nativeElement.addEventListener(Te,Mt,Ee)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Be){if(this._isTooltipVisible()){const Te=this._document.elementFromPoint(Be.clientX,Be.clientY),Mt=this._elementRef.nativeElement;Te!==Mt&&!Mt.contains(Te)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Be=this.touchGestures;if("off"!==Be){const Te=this._elementRef.nativeElement,Mt=Te.style;("on"===Be||"INPUT"!==Te.nodeName&&"TEXTAREA"!==Te.nodeName)&&(Mt.userSelect=Mt.msUserSelect=Mt.webkitUserSelect=Mt.MozUserSelect="none"),("on"===Be||!Te.draggable)&&(Mt.webkitUserDrag="none"),Mt.touchAction="none",Mt.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Te){we.$Z()};static#t=this.\u0275dir=we.lG2({type:bt,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return bt})(),wn=(()=>{class bt extends ni{constructor(Be,Te,Mt,Ze,St,Bt,yn,Ut,Pn,Lt,Wt,_e){super(Be,Te,Mt,Ze,St,Bt,yn,Ut,Pn,Lt,Wt,_e),this._tooltipComponent=jn,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(Be){const Mt=!this._dir||"ltr"==this._dir.value;return"top"===Be.originY?Be.offsetY=-8:"bottom"===Be.originY?Be.offsetY=8:"start"===Be.originX?Be.offsetX=Mt?-8:8:"end"===Be.originX&&(Be.offsetX=Mt?8:-8),Be}static#e=this.\u0275fac=function(Te){return new(Te||bt)(we.Y36(H.aV),we.Y36(we.SBq),we.Y36(Fe.mF),we.Y36(we.s_b),we.Y36(we.R0b),we.Y36($e.t4),we.Y36(Le.$s),we.Y36(Le.tE),we.Y36(en),we.Y36(ze.Is,8),we.Y36(W,8),we.Y36(Ge.K0))};static#t=this.\u0275dir=we.lG2({type:bt,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Te,Mt){2&Te&&we.ekj("mat-mdc-tooltip-disabled",Mt.disabled)},exportAs:["matTooltip"],features:[we.qOj]})}return bt})(),Ln=(()=>{class bt{constructor(Be,Te){this._changeDetectorRef=Be,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new yt.x,this._animationsDisabled="NoopAnimations"===Te}show(Be){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Be)}hide(Be){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Be)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Be}){(!Be||!this._triggerElement.contains(Be))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:Be}){(Be===this._showAnimation||Be===this._hideAnimation)&&this._finalizeAnimation(Be===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(Be){Be?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Be){const Te=this._tooltip.nativeElement,Mt=this._showAnimation,Ze=this._hideAnimation;if(Te.classList.remove(Be?Ze:Mt),Te.classList.add(Be?Mt:Ze),this._isVisible=Be,Be&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const St=getComputedStyle(Te);("0s"===St.getPropertyValue("animation-duration")||"none"===St.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Be&&this._onShow(),this._animationsDisabled&&(Te.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Be))}static#e=this.\u0275fac=function(Te){return new(Te||bt)(we.Y36(we.sBO),we.Y36(we.QbO,8))};static#t=this.\u0275dir=we.lG2({type:bt})}return bt})(),jn=(()=>{class bt extends Ln{constructor(Be,Te,Mt){super(Be,Mt),this._elementRef=Te,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const Be=this._elementRef.nativeElement.getBoundingClientRect();return Be.height>24&&Be.width>=200}static#e=this.\u0275fac=function(Te){return new(Te||bt)(we.Y36(we.sBO),we.Y36(we.SBq),we.Y36(we.QbO,8))};static#t=this.\u0275cmp=we.Xpm({type:bt,selectors:[["mat-tooltip-component"]],viewQuery:function(Te,Mt){if(1&Te&&we.Gf(ut,7),2&Te){let Ze;we.iGM(Ze=we.CRH())&&(Mt._tooltip=Ze.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Te,Mt){1&Te&&we.NdJ("mouseleave",function(St){return Mt._handleMouseLeave(St)}),2&Te&&we.Udp("zoom",Mt.isVisible()?1:null)},features:[we.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Te,Mt){1&Te&&(we.TgZ(0,"div",0,1),we.NdJ("animationend",function(St){return Mt._handleAnimationEnd(St)}),we.TgZ(2,"div",2),we._uU(3),we.qZA()()),2&Te&&(we.ekj("mdc-tooltip--multiline",Mt._isMultiline),we.Q6J("ngClass",Mt.tooltipClass),we.xp6(3),we.Oqu(Mt.message))},dependencies:[Ge.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return bt})(),pt=(()=>{class bt{static#e=this.\u0275fac=function(Te){return new(Te||bt)};static#t=this.\u0275mod=we.oAB({type:bt});static#n=this.\u0275inj=we.cJS({providers:[ye],imports:[Le.rt,Ge.ez,H.U8,Xe.BQ,Xe.BQ,Fe.ZD]})}return bt})()},6593:(Sn,Et,R)=>{R.d(Et,{Dx:()=>dn,H7:()=>Li,b2:()=>_e,q6:()=>Ut,se:()=>Ee});var a=R(5879),ne=R(6814);class O extends ne.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class w extends O{static makeCurrent(){(0,ne.HT)(new w)}onAndCancel(J,F,G){return J.addEventListener(F,G),()=>{J.removeEventListener(F,G)}}dispatchEvent(J,F){J.dispatchEvent(F)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,F){return(F=F||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,F){return"window"===F?window:"document"===F?J:"body"===F?J.body:null}getBaseHref(J){const F=function Ge(){return we=we||document.querySelector("base"),we?we.getAttribute("href"):null}();return null==F?null:function Le(ue){$e=$e||document.createElement("a"),$e.setAttribute("href",ue);const J=$e.pathname;return"/"===J.charAt(0)?J:`/${J}`}(F)}resetBaseElement(){we=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,ne.Mx)(document.cookie,J)}}let $e,we=null,H=(()=>{class ue{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();const Fe=new a.OlP("EventManagerPlugins");let Ye=(()=>{class ue{constructor(F,G){this._zone=G,this._eventNameToPlugin=new Map,F.forEach(be=>{be.manager=this}),this._plugins=F.slice().reverse()}addEventListener(F,G,be){return this._findPluginFor(G).addEventListener(F,G,be)}getZone(){return this._zone}_findPluginFor(F){let G=this._eventNameToPlugin.get(F);if(G)return G;if(G=this._plugins.find(gt=>gt.supports(F)),!G)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(F,G),G}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(Fe),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();class yt{constructor(J){this._doc=J}}const ke="ng-app-id";let Xe=(()=>{class ue{constructor(F,G,be,gt={}){this.doc=F,this.appId=G,this.nonce=be,this.platformId=gt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ne.PM)(gt),this.resetHostNodes()}addStyles(F){for(const G of F)1===this.changeUsageCount(G,1)&&this.onStyleAdded(G)}removeStyles(F){for(const G of F)this.changeUsageCount(G,-1)<=0&&this.onStyleRemoved(G)}ngOnDestroy(){const F=this.styleNodesInDOM;F&&(F.forEach(G=>G.remove()),F.clear());for(const G of this.getAllStyles())this.onStyleRemoved(G);this.resetHostNodes()}addHost(F){this.hostNodes.add(F);for(const G of this.getAllStyles())this.addStyleToHost(F,G)}removeHost(F){this.hostNodes.delete(F)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(F){for(const G of this.hostNodes)this.addStyleToHost(G,F)}onStyleRemoved(F){const G=this.styleRef;G.get(F)?.elements?.forEach(be=>be.remove()),G.delete(F)}collectServerRenderedStyles(){const F=this.doc.head?.querySelectorAll(`style[${ke}="${this.appId}"]`);if(F?.length){const G=new Map;return F.forEach(be=>{null!=be.textContent&&G.set(be.textContent,be)}),G}return null}changeUsageCount(F,G){const be=this.styleRef;if(be.has(F)){const gt=be.get(F);return gt.usage+=G,gt.usage}return be.set(F,{usage:G,elements:[]}),G}getStyleElement(F,G){const be=this.styleNodesInDOM,gt=be?.get(G);if(gt?.parentNode===F)return be.delete(G),gt.removeAttribute(ke),gt;{const nt=this.doc.createElement("style");return this.nonce&&nt.setAttribute("nonce",this.nonce),nt.textContent=G,this.platformIsServer&&nt.setAttribute(ke,this.appId),nt}}addStyleToHost(F,G){const be=this.getStyleElement(F,G);F.appendChild(be);const gt=this.styleRef,nt=gt.get(G)?.elements;nt?nt.push(be):gt.set(G,{elements:[be],usage:1})}resetHostNodes(){const F=this.hostNodes;F.clear(),F.add(this.doc.head)}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(ne.K0),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ht=/%COMP%/g,rt=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function qe(ue,J){return J.map(F=>F.replace(ht,ue))}let Ee=(()=>{class ue{constructor(F,G,be,gt,nt,ot,Me,We=null){this.eventManager=F,this.sharedStylesHost=G,this.appId=be,this.removeStylesOnCompDestroy=gt,this.doc=nt,this.platformId=ot,this.ngZone=Me,this.nonce=We,this.rendererByCompId=new Map,this.platformIsServer=(0,ne.PM)(ot),this.defaultRenderer=new It(F,nt,Me,this.platformIsServer)}createRenderer(F,G){if(!F||!G)return this.defaultRenderer;this.platformIsServer&&G.encapsulation===a.ifc.ShadowDom&&(G={...G,encapsulation:a.ifc.Emulated});const be=this.getOrCreateRenderer(F,G);return be instanceof wn?be.applyToHost(F):be instanceof ni&&be.applyStyles(),be}getOrCreateRenderer(F,G){const be=this.rendererByCompId;let gt=be.get(G.id);if(!gt){const nt=this.doc,ot=this.ngZone,Me=this.eventManager,We=this.sharedStylesHost,st=this.removeStylesOnCompDestroy,Jt=this.platformIsServer;switch(G.encapsulation){case a.ifc.Emulated:gt=new wn(Me,We,G,this.appId,st,nt,ot,Jt);break;case a.ifc.ShadowDom:return new Mn(Me,We,F,G,nt,ot,this.nonce,Jt);default:gt=new ni(Me,We,G,st,nt,ot,Jt)}be.set(G.id,gt)}return gt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(Ye),a.LFG(Xe),a.LFG(a.AFp),a.LFG(rt),a.LFG(ne.K0),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();class It{constructor(J,F,G,be){this.eventManager=J,this.doc=F,this.ngZone=G,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,F){return F?this.doc.createElementNS(ut[F]||F,J):this.doc.createElement(J)}createComment(J){return this.doc.createComment(J)}createText(J){return this.doc.createTextNode(J)}appendChild(J,F){(Cn(J)?J.content:J).appendChild(F)}insertBefore(J,F,G){J&&(Cn(J)?J.content:J).insertBefore(F,G)}removeChild(J,F){J&&J.removeChild(F)}selectRootElement(J,F){let G="string"==typeof J?this.doc.querySelector(J):J;if(!G)throw new a.vHH(-5104,!1);return F||(G.textContent=""),G}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,F,G,be){if(be){F=be+":"+F;const gt=ut[be];gt?J.setAttributeNS(gt,F,G):J.setAttribute(F,G)}else J.setAttribute(F,G)}removeAttribute(J,F,G){if(G){const be=ut[G];be?J.removeAttributeNS(be,F):J.removeAttribute(`${G}:${F}`)}else J.removeAttribute(F)}addClass(J,F){J.classList.add(F)}removeClass(J,F){J.classList.remove(F)}setStyle(J,F,G,be){be&(a.JOm.DashCase|a.JOm.Important)?J.style.setProperty(F,G,be&a.JOm.Important?"important":""):J.style[F]=G}removeStyle(J,F,G){G&a.JOm.DashCase?J.style.removeProperty(F):J.style[F]=""}setProperty(J,F,G){J[F]=G}setValue(J,F){J.nodeValue=F}listen(J,F,G){if("string"==typeof J&&!(J=(0,ne.q)().getGlobalEventTarget(this.doc,J)))throw new Error(`Unsupported event target ${J} for event ${F}`);return this.eventManager.addEventListener(J,F,this.decoratePreventDefault(G))}decoratePreventDefault(J){return F=>{if("__ngUnwrap__"===F)return J;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>J(F)):J(F))&&F.preventDefault()}}}function Cn(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class Mn extends It{constructor(J,F,G,be,gt,nt,ot,Me){super(J,gt,nt,Me),this.sharedStylesHost=F,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const We=qe(be.id,be.styles);for(const st of We){const Jt=document.createElement("style");ot&&Jt.setAttribute("nonce",ot),Jt.textContent=st,this.shadowRoot.appendChild(Jt)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,F){return super.appendChild(this.nodeOrShadowRoot(J),F)}insertBefore(J,F,G){return super.insertBefore(this.nodeOrShadowRoot(J),F,G)}removeChild(J,F){return super.removeChild(this.nodeOrShadowRoot(J),F)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ni extends It{constructor(J,F,G,be,gt,nt,ot,Me){super(J,gt,nt,ot),this.sharedStylesHost=F,this.removeStylesOnCompDestroy=be,this.styles=Me?qe(Me,G.styles):G.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class wn extends ni{constructor(J,F,G,be,gt,nt,ot,Me){const We=be+"-"+G.id;super(J,F,G,gt,nt,ot,Me,We),this.contentAttr=function W(ue){return"_ngcontent-%COMP%".replace(ht,ue)}(We),this.hostAttr=function Pe(ue){return"_nghost-%COMP%".replace(ht,ue)}(We)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,F){const G=super.createElement(J,F);return super.setAttribute(G,this.contentAttr,""),G}}let Ln=(()=>{class ue extends yt{constructor(F){super(F)}supports(F){return!0}addEventListener(F,G,be){return F.addEventListener(G,be,!1),()=>this.removeEventListener(F,G,be)}removeEventListener(F,G,be){return F.removeEventListener(G,be)}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(ne.K0))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();const jn=["alt","control","meta","shift"],kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let bt=(()=>{class ue extends yt{constructor(F){super(F)}supports(F){return null!=ue.parseEventName(F)}addEventListener(F,G,be){const gt=ue.parseEventName(G),nt=ue.eventCallback(gt.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ne.q)().onAndCancel(F,gt.domEventName,nt))}static parseEventName(F){const G=F.toLowerCase().split("."),be=G.shift();if(0===G.length||"keydown"!==be&&"keyup"!==be)return null;const gt=ue._normalizeKey(G.pop());let nt="",ot=G.indexOf("code");if(ot>-1&&(G.splice(ot,1),nt="code."),jn.forEach(We=>{const st=G.indexOf(We);st>-1&&(G.splice(st,1),nt+=We+".")}),nt+=gt,0!=G.length||0===gt.length)return null;const Me={};return Me.domEventName=be,Me.fullKey=nt,Me}static matchEventFullKeyCode(F,G){let be=kt[F.key]||F.key,gt="";return G.indexOf("code.")>-1&&(be=F.code,gt="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),jn.forEach(nt=>{nt!==be&&(0,pt[nt])(F)&&(gt+=nt+".")}),gt+=be,gt===G)}static eventCallback(F,G,be){return gt=>{ue.matchEventFullKeyCode(gt,F)&&be.runGuarded(()=>G(gt))}}static _normalizeKey(F){return"esc"===F?"escape":F}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(ne.K0))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac})}return ue})();const Ut=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:ne.bD},{provide:a.g9A,useValue:function Ze(){w.makeCurrent()},multi:!0},{provide:ne.K0,useFactory:function Bt(){return(0,a.RDi)(document),document},deps:[]}]),Pn=new a.OlP(""),Lt=[{provide:a.rWj,useClass:class ze{addToWindow(J){a.dqk.getAngularTestability=(G,be=!0)=>{const gt=J.findTestabilityInTree(G,be);if(null==gt)throw new a.vHH(5103,!1);return gt},a.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(G=>{const be=a.dqk.getAllAngularTestabilities();let gt=be.length,nt=!1;const ot=function(Me){nt=nt||Me,gt--,0==gt&&G(nt)};be.forEach(Me=>{Me.whenStable(ot)})})}findTestabilityInTree(J,F,G){return null==F?null:J.getTestability(F)??(G?(0,ne.q)().isShadowRoot(F)?this.findTestabilityInTree(J,F.host,!0):this.findTestabilityInTree(J,F.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Wt=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function St(){return new a.qLn},deps:[]},{provide:Fe,useClass:Ln,multi:!0,deps:[ne.K0,a.R0b,a.Lbi]},{provide:Fe,useClass:bt,multi:!0,deps:[ne.K0]},Ee,Xe,Ye,{provide:a.FYo,useExisting:Ee},{provide:ne.JF,useClass:H,deps:[]},[]];let _e=(()=>{class ue{constructor(F){}static withServerTransition(F){return{ngModule:ue,providers:[{provide:a.AFp,useValue:F.appId}]}}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(Pn,12))};static#t=this.\u0275mod=a.oAB({type:ue});static#n=this.\u0275inj=a.cJS({providers:[...Wt,...Lt],imports:[ne.ez,a.hGG]})}return ue})(),dn=(()=>{class ue{constructor(F){this._doc=F}getTitle(){return this._doc.title}setTitle(F){this._doc.title=F||""}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(ne.K0))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:function(G){let be=null;return be=G?new G:function pn(){return new dn((0,a.LFG)(ne.K0))}(),be},providedIn:"root"})}return ue})();typeof window<"u"&&window;let Li=(()=>{class ue{static#e=this.\u0275fac=function(G){return new(G||ue)};static#t=this.\u0275prov=a.Yz7({token:ue,factory:function(G){let be=null;return be=G?new(G||ue):a.LFG(sn),be},providedIn:"root"})}return ue})(),sn=(()=>{class ue extends Li{constructor(F){super(),this._doc=F}sanitize(F,G){if(null==G)return null;switch(F){case a.q3G.NONE:return G;case a.q3G.HTML:return(0,a.qzn)(G,"HTML")?(0,a.z3N)(G):(0,a.EiD)(this._doc,String(G)).toString();case a.q3G.STYLE:return(0,a.qzn)(G,"Style")?(0,a.z3N)(G):G;case a.q3G.SCRIPT:if((0,a.qzn)(G,"Script"))return(0,a.z3N)(G);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(G,"URL")?(0,a.z3N)(G):(0,a.mCW)(String(G));case a.q3G.RESOURCE_URL:if((0,a.qzn)(G,"ResourceURL"))return(0,a.z3N)(G);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(F){return(0,a.JVY)(F)}bypassSecurityTrustStyle(F){return(0,a.L6k)(F)}bypassSecurityTrustScript(F){return(0,a.eBb)(F)}bypassSecurityTrustUrl(F){return(0,a.LAX)(F)}bypassSecurityTrustResourceUrl(F){return(0,a.pB0)(F)}static#e=this.\u0275fac=function(G){return new(G||ue)(a.LFG(ne.K0))};static#t=this.\u0275prov=a.Yz7({token:ue,factory:function(G){let be=null;return be=G?new G:function zi(ue){return new sn(ue.get(ne.K0))}(a.LFG(a.zs3)),be},providedIn:"root"})}return ue})()},4190:(Sn,Et,R)=>{R.d(Et,{gz:()=>di,wm:()=>kr,F0:()=>Ae,rH:()=>Di,Od:()=>bi,Bz:()=>ln,lC:()=>Yn});var a=R(5879),ne=R(2664),O=R(2459),w=R(2096),we=R(5619),Ge=R(2572),$e=R(6973),Le=R(5211),ze=R(4911),H=R(8407),Fe=R(8504),Ye=R(6232),yt=R(3168),ke=R(8645),Xe=R(7394),ut=R(6814),ht=R(7398),Ot=R(4664),en=R(8180),Ke=R(7921),ye=R(2181),rt=R(1631),W=R(1374),Pe=R(6328),qe=R(9397),Ee=R(6306),It=R(6699),Ht=R(3572),Nt=R(9360),Cn=R(8251);function Mn(U){return U<=0?()=>Ye.E:(0,Nt.e)((Q,L)=>{let K=[];Q.subscribe((0,Cn.x)(L,oe=>{K.push(oe),U<K.length&&K.shift()},()=>{for(const oe of K)L.next(oe);L.complete()},void 0,()=>{K=null}))})}var ni=R(3026),wn=R(2737),jn=R(975),kt=R(4716),pt=R(6196),bt=R(9773),Rt=R(7537),Be=R(6593);const Te="primary",Mt=Symbol("RouteTitle");class Ze{constructor(Q){this.params=Q||{}}has(Q){return Object.prototype.hasOwnProperty.call(this.params,Q)}get(Q){if(this.has(Q)){const L=this.params[Q];return Array.isArray(L)?L[0]:L}return null}getAll(Q){if(this.has(Q)){const L=this.params[Q];return Array.isArray(L)?L:[L]}return[]}get keys(){return Object.keys(this.params)}}function St(U){return new Ze(U)}function Bt(U,Q,L){const K=L.path.split("/");if(K.length>U.length||"full"===L.pathMatch&&(Q.hasChildren()||K.length<U.length))return null;const oe={};for(let Ce=0;Ce<K.length;Ce++){const Je=K[Ce],Yt=U[Ce];if(Je.startsWith(":"))oe[Je.substring(1)]=Yt;else if(Je!==Yt.path)return null}return{consumed:U.slice(0,K.length),posParams:oe}}function Ut(U,Q){const L=U?Object.keys(U):void 0,K=Q?Object.keys(Q):void 0;if(!L||!K||L.length!=K.length)return!1;let oe;for(let Ce=0;Ce<L.length;Ce++)if(oe=L[Ce],!Pn(U[oe],Q[oe]))return!1;return!0}function Pn(U,Q){if(Array.isArray(U)&&Array.isArray(Q)){if(U.length!==Q.length)return!1;const L=[...U].sort(),K=[...Q].sort();return L.every((oe,Ce)=>K[Ce]===oe)}return U===Q}function Lt(U){return U.length>0?U[U.length-1]:null}function Wt(U){return(0,ne.b)(U)?U:(0,a.QGY)(U)?(0,O.D)(Promise.resolve(U)):(0,w.of)(U)}const _e={exact:function pn(U,Q,L){if(!mt(U.segments,Q.segments)||!Pt(U.segments,Q.segments,L)||U.numberOfChildren!==Q.numberOfChildren)return!1;for(const K in Q.children)if(!U.children[K]||!pn(U.children[K],Q.children[K],L))return!1;return!0},subset:Qn},Ue={exact:function $t(U,Q){return Ut(U,Q)},subset:function dn(U,Q){return Object.keys(Q).length<=Object.keys(U).length&&Object.keys(Q).every(L=>Pn(U[L],Q[L]))},ignored:()=>!0};function at(U,Q,L){return _e[L.paths](U.root,Q.root,L.matrixParams)&&Ue[L.queryParams](U.queryParams,Q.queryParams)&&!("exact"===L.fragment&&U.fragment!==Q.fragment)}function Qn(U,Q,L){return ai(U,Q,Q.segments,L)}function ai(U,Q,L,K){if(U.segments.length>L.length){const oe=U.segments.slice(0,L.length);return!(!mt(oe,L)||Q.hasChildren()||!Pt(oe,L,K))}if(U.segments.length===L.length){if(!mt(U.segments,L)||!Pt(U.segments,L,K))return!1;for(const oe in Q.children)if(!U.children[oe]||!Qn(U.children[oe],Q.children[oe],K))return!1;return!0}{const oe=L.slice(0,U.segments.length),Ce=L.slice(U.segments.length);return!!(mt(U.segments,oe)&&Pt(U.segments,oe,K)&&U.children[Te])&&ai(U.children[Te],Q,Ce,K)}}function Pt(U,Q,L){return Q.every((K,oe)=>Ue[L](U[oe].parameters,K.parameters))}class Ie{constructor(Q=new xe([],{}),L={},K=null){this.root=Q,this.queryParams=L,this.fragment=K}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class xe{constructor(Q,L){this.segments=Q,this.children=L,this.parent=null,Object.values(L).forEach(K=>K.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hn(this)}}class Ve{constructor(Q,L){this.path=Q,this.parameters=L}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return tn(this)}}function mt(U,Q){return U.length===Q.length&&U.every((L,K)=>L.path===Q[K].path)}let rn=(()=>{class U{static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:function(){return new Fn},providedIn:"root"})}return U})();class Fn{parse(Q){const L=new be(Q);return new Ie(L.parseRootSegment(),L.parseQueryParams(),L.parseFragment())}serialize(Q){const L=`/${An(Q.root,!0)}`,K=function xn(U){const Q=Object.keys(U).map(L=>{const K=U[L];return Array.isArray(K)?K.map(oe=>`${xi(L)}=${xi(oe)}`).join("&"):`${xi(L)}=${xi(K)}`}).filter(L=>!!L);return Q.length?`?${Q.join("&")}`:""}(Q.queryParams);return`${L}${K}${"string"==typeof Q.fragment?`#${function Li(U){return encodeURI(U)}(Q.fragment)}`:""}`}}const gn=new Fn;function Hn(U){return U.segments.map(Q=>tn(Q)).join("/")}function An(U,Q){if(!U.hasChildren())return Hn(U);if(Q){const L=U.children[Te]?An(U.children[Te],!1):"",K=[];return Object.entries(U.children).forEach(([oe,Ce])=>{oe!==Te&&K.push(`${oe}:${An(Ce,!1)}`)}),K.length>0?`${L}(${K.join("//")})`:L}{const L=function At(U,Q){let L=[];return Object.entries(U.children).forEach(([K,oe])=>{K===Te&&(L=L.concat(Q(oe,K)))}),Object.entries(U.children).forEach(([K,oe])=>{K!==Te&&(L=L.concat(Q(oe,K)))}),L}(U,(K,oe)=>oe===Te?[An(U.children[Te],!1)]:[`${oe}:${An(K,!1)}`]);return 1===Object.keys(U.children).length&&null!=U.children[Te]?`${Hn(U)}/${L[0]}`:`${Hn(U)}/(${L.join("//")})`}}function Ci(U){return encodeURIComponent(U).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xi(U){return Ci(U).replace(/%3B/gi,";")}function zi(U){return Ci(U).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sn(U){return decodeURIComponent(U)}function ci(U){return sn(U.replace(/\+/g,"%20"))}function tn(U){return`${zi(U.path)}${function kn(U){return Object.keys(U).map(Q=>`;${zi(Q)}=${zi(U[Q])}`).join("")}(U.parameters)}`}const zn=/^[^\/()?;#]+/;function Ri(U){const Q=U.match(zn);return Q?Q[0]:""}const Yi=/^[^\/()?;=#]+/,ue=/^[^=?&#]+/,F=/^[^&#]+/;class be{constructor(Q){this.url=Q,this.remaining=Q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const Q={};if(this.consumeOptional("?"))do{this.parseQueryParam(Q)}while(this.consumeOptional("&"));return Q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Q=[];for(this.peekStartsWith("(")||Q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Q.push(this.parseSegment());let L={};this.peekStartsWith("/(")&&(this.capture("/"),L=this.parseParens(!0));let K={};return this.peekStartsWith("(")&&(K=this.parseParens(!1)),(Q.length>0||Object.keys(L).length>0)&&(K[Te]=new xe(Q,L)),K}parseSegment(){const Q=Ri(this.remaining);if(""===Q&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(Q),new Ve(sn(Q),this.parseMatrixParams())}parseMatrixParams(){const Q={};for(;this.consumeOptional(";");)this.parseParam(Q);return Q}parseParam(Q){const L=function Dt(U){const Q=U.match(Yi);return Q?Q[0]:""}(this.remaining);if(!L)return;this.capture(L);let K="";if(this.consumeOptional("=")){const oe=Ri(this.remaining);oe&&(K=oe,this.capture(K))}Q[sn(L)]=sn(K)}parseQueryParam(Q){const L=function J(U){const Q=U.match(ue);return Q?Q[0]:""}(this.remaining);if(!L)return;this.capture(L);let K="";if(this.consumeOptional("=")){const Je=function G(U){const Q=U.match(F);return Q?Q[0]:""}(this.remaining);Je&&(K=Je,this.capture(K))}const oe=ci(L),Ce=ci(K);if(Q.hasOwnProperty(oe)){let Je=Q[oe];Array.isArray(Je)||(Je=[Je],Q[oe]=Je),Je.push(Ce)}else Q[oe]=Ce}parseParens(Q){const L={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const K=Ri(this.remaining),oe=this.remaining[K.length];if("/"!==oe&&")"!==oe&&";"!==oe)throw new a.vHH(4010,!1);let Ce;K.indexOf(":")>-1?(Ce=K.slice(0,K.indexOf(":")),this.capture(Ce),this.capture(":")):Q&&(Ce=Te);const Je=this.parseChildren();L[Ce]=1===Object.keys(Je).length?Je[Te]:new xe([],Je),this.consumeOptional("//")}return L}peekStartsWith(Q){return this.remaining.startsWith(Q)}consumeOptional(Q){return!!this.peekStartsWith(Q)&&(this.remaining=this.remaining.substring(Q.length),!0)}capture(Q){if(!this.consumeOptional(Q))throw new a.vHH(4011,!1)}}function gt(U){return U.segments.length>0?new xe([],{[Te]:U}):U}function nt(U){const Q={};for(const K of Object.keys(U.children)){const Ce=nt(U.children[K]);if(K===Te&&0===Ce.segments.length&&Ce.hasChildren())for(const[Je,Yt]of Object.entries(Ce.children))Q[Je]=Yt;else(Ce.segments.length>0||Ce.hasChildren())&&(Q[K]=Ce)}return function ot(U){if(1===U.numberOfChildren&&U.children[Te]){const Q=U.children[Te];return new xe(U.segments.concat(Q.segments),Q.children)}return U}(new xe(U.segments,Q))}function Me(U){return U instanceof Ie}function st(U){let Q;const oe=gt(function L(Ce){const Je={};for(const qt of Ce.children){const ei=L(qt);Je[qt.outlet]=ei}const Yt=new xe(Ce.url,Je);return Ce===U&&(Q=Yt),Yt}(U.root));return Q??oe}function Jt(U,Q,L,K){let oe=U;for(;oe.parent;)oe=oe.parent;if(0===Q.length)return vt(oe,oe,oe,L,K);const Ce=function Gt(U){if("string"==typeof U[0]&&1===U.length&&"/"===U[0])return new dt(!0,0,U);let Q=0,L=!1;const K=U.reduce((oe,Ce,Je)=>{if("object"==typeof Ce&&null!=Ce){if(Ce.outlets){const Yt={};return Object.entries(Ce.outlets).forEach(([qt,ei])=>{Yt[qt]="string"==typeof ei?ei.split("/"):ei}),[...oe,{outlets:Yt}]}if(Ce.segmentPath)return[...oe,Ce.segmentPath]}return"string"!=typeof Ce?[...oe,Ce]:0===Je?(Ce.split("/").forEach((Yt,qt)=>{0==qt&&"."===Yt||(0==qt&&""===Yt?L=!0:".."===Yt?Q++:""!=Yt&&oe.push(Yt))}),oe):[...oe,Ce]},[]);return new dt(L,Q,K)}(Q);if(Ce.toRoot())return vt(oe,oe,new xe([],{}),L,K);const Je=function Kn(U,Q,L){if(U.isAbsolute)return new an(Q,!0,0);if(!L)return new an(Q,!1,NaN);if(null===L.parent)return new an(L,!0,0);const K=Qe(U.commands[0])?0:1;return function bn(U,Q,L){let K=U,oe=Q,Ce=L;for(;Ce>oe;){if(Ce-=oe,K=K.parent,!K)throw new a.vHH(4005,!1);oe=K.segments.length}return new an(K,!1,oe-Ce)}(L,L.segments.length-1+K,U.numberOfDoubleDots)}(Ce,oe,U),Yt=Je.processChildren?Ki(Je.segmentGroup,Je.index,Ce.commands):ur(Je.segmentGroup,Je.index,Ce.commands);return vt(oe,Je.segmentGroup,Yt,L,K)}function Qe(U){return"object"==typeof U&&null!=U&&!U.outlets&&!U.segmentPath}function et(U){return"object"==typeof U&&null!=U&&U.outlets}function vt(U,Q,L,K,oe){let Je,Ce={};K&&Object.entries(K).forEach(([qt,ei])=>{Ce[qt]=Array.isArray(ei)?ei.map(Ai=>`${Ai}`):`${ei}`}),Je=U===Q?L:tt(U,Q,L);const Yt=gt(nt(Je));return new Ie(Yt,Ce,oe)}function tt(U,Q,L){const K={};return Object.entries(U.children).forEach(([oe,Ce])=>{K[oe]=Ce===Q?L:tt(Ce,Q,L)}),new xe(U.segments,K)}class dt{constructor(Q,L,K){if(this.isAbsolute=Q,this.numberOfDoubleDots=L,this.commands=K,Q&&K.length>0&&Qe(K[0]))throw new a.vHH(4003,!1);const oe=K.find(et);if(oe&&oe!==Lt(K))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class an{constructor(Q,L,K){this.segmentGroup=Q,this.processChildren=L,this.index=K}}function ur(U,Q,L){if(U||(U=new xe([],{})),0===U.segments.length&&U.hasChildren())return Ki(U,Q,L);const K=function pr(U,Q,L){let K=0,oe=Q;const Ce={match:!1,pathIndex:0,commandIndex:0};for(;oe<U.segments.length;){if(K>=L.length)return Ce;const Je=U.segments[oe],Yt=L[K];if(et(Yt))break;const qt=`${Yt}`,ei=K<L.length-1?L[K+1]:null;if(oe>0&&void 0===qt)break;if(qt&&ei&&"object"==typeof ei&&void 0===ei.outlets){if(!cr(qt,ei,Je))return Ce;K+=2}else{if(!cr(qt,{},Je))return Ce;K++}oe++}return{match:!0,pathIndex:oe,commandIndex:K}}(U,Q,L),oe=L.slice(K.commandIndex);if(K.match&&K.pathIndex<U.segments.length){const Ce=new xe(U.segments.slice(0,K.pathIndex),{});return Ce.children[Te]=new xe(U.segments.slice(K.pathIndex),U.children),Ki(Ce,0,oe)}return K.match&&0===oe.length?new xe(U.segments,{}):K.match&&!U.hasChildren()?Hr(U,Q,L):K.match?Ki(U,0,oe):Hr(U,Q,L)}function Ki(U,Q,L){if(0===L.length)return new xe(U.segments,{});{const K=function _i(U){return et(U[0])?U[0].outlets:{[Te]:U}}(L),oe={};if(Object.keys(K).some(Ce=>Ce!==Te)&&U.children[Te]&&1===U.numberOfChildren&&0===U.children[Te].segments.length){const Ce=Ki(U.children[Te],Q,L);return new xe(U.segments,Ce.children)}return Object.entries(K).forEach(([Ce,Je])=>{"string"==typeof Je&&(Je=[Je]),null!==Je&&(oe[Ce]=ur(U.children[Ce],Q,Je))}),Object.entries(U.children).forEach(([Ce,Je])=>{void 0===K[Ce]&&(oe[Ce]=Je)}),new xe(U.segments,oe)}}function Hr(U,Q,L){const K=U.segments.slice(0,Q);let oe=0;for(;oe<L.length;){const Ce=L[oe];if(et(Ce)){const qt=qs(Ce.outlets);return new xe(K,qt)}if(0===oe&&Qe(L[0])){K.push(new Ve(U.segments[Q].path,or(L[0]))),oe++;continue}const Je=et(Ce)?Ce.outlets[Te]:`${Ce}`,Yt=oe<L.length-1?L[oe+1]:null;Je&&Yt&&Qe(Yt)?(K.push(new Ve(Je,or(Yt))),oe+=2):(K.push(new Ve(Je,{})),oe++)}return new xe(K,{})}function qs(U){const Q={};return Object.entries(U).forEach(([L,K])=>{"string"==typeof K&&(K=[K]),null!==K&&(Q[L]=Hr(new xe([],{}),0,K))}),Q}function or(U){const Q={};return Object.entries(U).forEach(([L,K])=>Q[L]=`${K}`),Q}function cr(U,Q,L){return U==L.path&&Ut(Q,L.parameters)}const ts="imperative";class jr{constructor(Q,L){this.id=Q,this.url=L}}class Mi extends jr{constructor(Q,L,K="imperative",oe=null){super(Q,L),this.type=0,this.navigationTrigger=K,this.restoredState=oe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zr extends jr{constructor(Q,L,K){super(Q,L),this.urlAfterRedirects=K,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hs extends jr{constructor(Q,L,K,oe){super(Q,L),this.reason=K,this.code=oe,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gs extends jr{constructor(Q,L,K,oe){super(Q,L),this.reason=K,this.code=oe,this.type=16}}class Is extends jr{constructor(Q,L,K,oe){super(Q,L),this.error=K,this.target=oe,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class no extends jr{constructor(Q,L,K,oe){super(Q,L),this.urlAfterRedirects=K,this.state=oe,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends jr{constructor(Q,L,K,oe){super(Q,L),this.urlAfterRedirects=K,this.state=oe,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us extends jr{constructor(Q,L,K,oe,Ce){super(Q,L),this.urlAfterRedirects=K,this.state=oe,this.shouldActivate=Ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zr extends jr{constructor(Q,L,K,oe){super(Q,L),this.urlAfterRedirects=K,this.state=oe,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends jr{constructor(Q,L,K,oe){super(Q,L),this.urlAfterRedirects=K,this.state=oe,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po{constructor(Q){this.route=Q,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ao{constructor(Q){this.route=Q,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lo{constructor(Q){this.snapshot=Q,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(Q){this.snapshot=Q,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(Q){this.snapshot=Q,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(Q){this.snapshot=Q,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(Q,L,K){this.routerEvent=Q,this.position=L,this.anchor=K,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class br{}class bo{constructor(Q){this.url=Q}}class Zi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ui,this.attachRef=null}}let Ui=(()=>{class U{constructor(){this.contexts=new Map}onChildOutletCreated(L,K){const oe=this.getOrCreateContext(L);oe.outlet=K,this.contexts.set(L,oe)}onChildOutletDestroyed(L){const K=this.getContext(L);K&&(K.outlet=null,K.attachRef=null)}onOutletDeactivated(){const L=this.contexts;return this.contexts=new Map,L}onOutletReAttached(L){this.contexts=L}getOrCreateContext(L){let K=this.getContext(L);return K||(K=new Zi,this.contexts.set(L,K)),K}getContext(L){return this.contexts.get(L)||null}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();class Oi{constructor(Q){this._root=Q}get root(){return this._root.value}parent(Q){const L=this.pathFromRoot(Q);return L.length>1?L[L.length-2]:null}children(Q){const L=Tr(Q,this._root);return L?L.children.map(K=>K.value):[]}firstChild(Q){const L=Tr(Q,this._root);return L&&L.children.length>0?L.children[0].value:null}siblings(Q){const L=ar(Q,this._root);return L.length<2?[]:L[L.length-2].children.map(oe=>oe.value).filter(oe=>oe!==Q)}pathFromRoot(Q){return ar(Q,this._root).map(L=>L.value)}}function Tr(U,Q){if(U===Q.value)return Q;for(const L of Q.children){const K=Tr(U,L);if(K)return K}return null}function ar(U,Q){if(U===Q.value)return[Q];for(const L of Q.children){const K=ar(U,L);if(K.length)return K.unshift(Q),K}return[]}class Fs{constructor(Q,L){this.value=Q,this.children=L}toString(){return`TreeNode(${this.value})`}}function co(U){const Q={};return U&&U.children.forEach(L=>Q[L.value.outlet]=L),Q}class As extends Oi{constructor(Q,L){super(Q),this.snapshot=L,So(this,Q)}toString(){return this.snapshot.toString()}}function ki(U,Q){const L=function Hi(U,Q){const Je=new is([],{},{},"",{},Te,Q,null,{});return new bs("",new Fs(Je,[]))}(0,Q),K=new we.X([new Ve("",{})]),oe=new we.X({}),Ce=new we.X({}),Je=new we.X({}),Yt=new we.X(""),qt=new di(K,oe,Je,Yt,Ce,Te,Q,L.root);return qt.snapshot=L.root,new As(new Fs(qt,[]),L)}class di{constructor(Q,L,K,oe,Ce,Je,Yt,qt){this.urlSubject=Q,this.paramsSubject=L,this.queryParamsSubject=K,this.fragmentSubject=oe,this.dataSubject=Ce,this.outlet=Je,this.component=Yt,this._futureSnapshot=qt,this.title=this.dataSubject?.pipe((0,ht.U)(ei=>ei[Mt]))??(0,w.of)(void 0),this.url=Q,this.params=L,this.queryParams=K,this.fragment=oe,this.data=Ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(Q=>St(Q)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(Q=>St(Q)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(U,Q="emptyOnly"){const L=U.pathFromRoot;let K=0;if("always"!==Q)for(K=L.length-1;K>=1;){const oe=L[K],Ce=L[K-1];if(oe.routeConfig&&""===oe.routeConfig.path)K--;else{if(Ce.component)break;K--}}return function ns(U){return U.reduce((Q,L)=>({params:{...Q.params,...L.params},data:{...Q.data,...L.data},resolve:{...L.data,...Q.resolve,...L.routeConfig?.data,...L._resolvedData}}),{params:{},data:{},resolve:{}})}(L.slice(K))}class is{get title(){return this.data?.[Mt]}constructor(Q,L,K,oe,Ce,Je,Yt,qt,ei){this.url=Q,this.params=L,this.queryParams=K,this.fragment=oe,this.data=Ce,this.outlet=Je,this.component=Yt,this.routeConfig=qt,this._resolve=ei}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(K=>K.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bs extends Oi{constructor(Q,L){super(L),this.url=Q,So(this,L)}toString(){return qo(this._root)}}function So(U,Q){Q.value._routerState=U,Q.children.forEach(L=>So(U,L))}function qo(U){const Q=U.children.length>0?` { ${U.children.map(qo).join(", ")} } `:"";return`${U.value}${Q}`}function Ho(U){if(U.snapshot){const Q=U.snapshot,L=U._futureSnapshot;U.snapshot=L,Ut(Q.queryParams,L.queryParams)||U.queryParamsSubject.next(L.queryParams),Q.fragment!==L.fragment&&U.fragmentSubject.next(L.fragment),Ut(Q.params,L.params)||U.paramsSubject.next(L.params),function yn(U,Q){if(U.length!==Q.length)return!1;for(let L=0;L<U.length;++L)if(!Ut(U[L],Q[L]))return!1;return!0}(Q.url,L.url)||U.urlSubject.next(L.url),Ut(Q.data,L.data)||U.dataSubject.next(L.data)}else U.snapshot=U._futureSnapshot,U.dataSubject.next(U._futureSnapshot.data)}function Qi(U,Q){const L=Ut(U.params,Q.params)&&function je(U,Q){return mt(U,Q)&&U.every((L,K)=>Ut(L.parameters,Q[K].parameters))}(U.url,Q.url);return L&&!(!U.parent!=!Q.parent)&&(!U.parent||Qi(U.parent,Q.parent))}let Yn=(()=>{class U{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Ui),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Vi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(L){if(L.name){const{firstChange:K,previousValue:oe}=L.name;if(K)return;this.isTrackedInParentContexts(oe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(oe)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(L){return this.parentContexts.getContext(L)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const L=this.parentContexts.getContext(this.name);L?.route&&(L.attachRef?this.attach(L.attachRef,L.route):this.activateWith(L.route,L.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const L=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(L.instance),L}attach(L,K){this.activated=L,this._activatedRoute=K,this.location.insert(L.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(L.instance)}deactivate(){if(this.activated){const L=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(L)}}activateWith(L,K){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=L;const oe=this.location,Je=L.snapshot.component,Yt=this.parentContexts.getOrCreateContext(this.name).children,qt=new Ti(L,Yt,oe.injector);this.activated=oe.createComponent(Je,{index:oe.length,injector:qt,environmentInjector:K??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275dir=a.lG2({type:U,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return U})();class Ti{constructor(Q,L,K){this.route=Q,this.childContexts=L,this.parent=K}get(Q,L){return Q===di?this.route:Q===Ui?this.childContexts:this.parent.get(Q,L)}}const Vi=new a.OlP("");let mr=(()=>{class U{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(L){this.unsubscribeFromRouteData(L),this.subscribeToRouteData(L)}unsubscribeFromRouteData(L){this.outletDataSubscriptions.get(L)?.unsubscribe(),this.outletDataSubscriptions.delete(L)}subscribeToRouteData(L){const{activatedRoute:K}=L,oe=(0,Ge.a)([K.queryParams,K.params,K.data]).pipe((0,Ot.w)(([Ce,Je,Yt],qt)=>(Yt={...Ce,...Je,...Yt},0===qt?(0,w.of)(Yt):Promise.resolve(Yt)))).subscribe(Ce=>{if(!L.isActivated||!L.activatedComponentRef||L.activatedRoute!==K||null===K.component)return void this.unsubscribeFromRouteData(L);const Je=(0,a.qFp)(K.component);if(Je)for(const{templateName:Yt}of Je.inputs)L.activatedComponentRef.setInput(Yt,Ce[Yt]);else this.unsubscribeFromRouteData(L)});this.outletDataSubscriptions.set(L,oe)}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac})}return U})();function qr(U,Q,L){if(L&&U.shouldReuseRoute(Q.value,L.value.snapshot)){const K=L.value;K._futureSnapshot=Q.value;const oe=function Ta(U,Q,L){return Q.children.map(K=>{for(const oe of L.children)if(U.shouldReuseRoute(K.value,oe.value.snapshot))return qr(U,K,oe);return qr(U,K)})}(U,Q,L);return new Fs(K,oe)}{if(U.shouldAttach(Q.value)){const Ce=U.retrieve(Q.value);if(null!==Ce){const Je=Ce.route;return Je.value._futureSnapshot=Q.value,Je.children=Q.children.map(Yt=>qr(U,Yt)),Je}}const K=function Rr(U){return new di(new we.X(U.url),new we.X(U.params),new we.X(U.queryParams),new we.X(U.fragment),new we.X(U.data),U.outlet,U.component,U)}(Q.value),oe=Q.children.map(Ce=>qr(U,Ce));return new Fs(K,oe)}}const js="ngNavigationCancelingError";function hs(U,Q){const{redirectTo:L,navigationBehaviorOptions:K}=Me(Q)?{redirectTo:Q,navigationBehaviorOptions:void 0}:Q,oe=Vn(!1,0,Q);return oe.url=L,oe.navigationBehaviorOptions=K,oe}function Vn(U,Q,L){const K=new Error("NavigationCancelingError: "+(U||""));return K[js]=!0,K.cancellationCode=Q,L&&(K.url=L),K}function Rs(U){return U&&U[js]}let Ao=(()=>{class U{static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275cmp=a.Xpm({type:U,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(K,oe){1&K&&a._UZ(0,"router-outlet")},dependencies:[Yn],encapsulation:2})}return U})();function jo(U){const Q=U.children&&U.children.map(jo),L=Q?{...U,children:Q}:{...U};return!L.component&&!L.loadComponent&&(Q||L.loadChildren)&&L.outlet&&L.outlet!==Te&&(L.component=Ao),L}function yi(U){return U.outlet||Te}function Lr(U){if(!U)return null;if(U.routeConfig?._injector)return U.routeConfig._injector;for(let Q=U.parent;Q;Q=Q.parent){const L=Q.routeConfig;if(L?._loadedInjector)return L._loadedInjector;if(L?._injector)return L._injector}return null}class ro{constructor(Q,L,K,oe,Ce){this.routeReuseStrategy=Q,this.futureState=L,this.currState=K,this.forwardEvent=oe,this.inputBindingEnabled=Ce}activate(Q){const L=this.futureState._root,K=this.currState?this.currState._root:null;this.deactivateChildRoutes(L,K,Q),Ho(this.futureState.root),this.activateChildRoutes(L,K,Q)}deactivateChildRoutes(Q,L,K){const oe=co(L);Q.children.forEach(Ce=>{const Je=Ce.value.outlet;this.deactivateRoutes(Ce,oe[Je],K),delete oe[Je]}),Object.values(oe).forEach(Ce=>{this.deactivateRouteAndItsChildren(Ce,K)})}deactivateRoutes(Q,L,K){const oe=Q.value,Ce=L?L.value:null;if(oe===Ce)if(oe.component){const Je=K.getContext(oe.outlet);Je&&this.deactivateChildRoutes(Q,L,Je.children)}else this.deactivateChildRoutes(Q,L,K);else Ce&&this.deactivateRouteAndItsChildren(L,K)}deactivateRouteAndItsChildren(Q,L){Q.value.component&&this.routeReuseStrategy.shouldDetach(Q.value.snapshot)?this.detachAndStoreRouteSubtree(Q,L):this.deactivateRouteAndOutlet(Q,L)}detachAndStoreRouteSubtree(Q,L){const K=L.getContext(Q.value.outlet),oe=K&&Q.value.component?K.children:L,Ce=co(Q);for(const Je of Object.keys(Ce))this.deactivateRouteAndItsChildren(Ce[Je],oe);if(K&&K.outlet){const Je=K.outlet.detach(),Yt=K.children.onOutletDeactivated();this.routeReuseStrategy.store(Q.value.snapshot,{componentRef:Je,route:Q,contexts:Yt})}}deactivateRouteAndOutlet(Q,L){const K=L.getContext(Q.value.outlet),oe=K&&Q.value.component?K.children:L,Ce=co(Q);for(const Je of Object.keys(Ce))this.deactivateRouteAndItsChildren(Ce[Je],oe);K&&(K.outlet&&(K.outlet.deactivate(),K.children.onOutletDeactivated()),K.attachRef=null,K.route=null)}activateChildRoutes(Q,L,K){const oe=co(L);Q.children.forEach(Ce=>{this.activateRoutes(Ce,oe[Ce.value.outlet],K),this.forwardEvent(new ys(Ce.value.snapshot))}),Q.children.length&&this.forwardEvent(new Ss(Q.value.snapshot))}activateRoutes(Q,L,K){const oe=Q.value,Ce=L?L.value:null;if(Ho(oe),oe===Ce)if(oe.component){const Je=K.getOrCreateContext(oe.outlet);this.activateChildRoutes(Q,L,Je.children)}else this.activateChildRoutes(Q,L,K);else if(oe.component){const Je=K.getOrCreateContext(oe.outlet);if(this.routeReuseStrategy.shouldAttach(oe.snapshot)){const Yt=this.routeReuseStrategy.retrieve(oe.snapshot);this.routeReuseStrategy.store(oe.snapshot,null),Je.children.onOutletReAttached(Yt.contexts),Je.attachRef=Yt.componentRef,Je.route=Yt.route.value,Je.outlet&&Je.outlet.attach(Yt.componentRef,Yt.route.value),Ho(Yt.route.value),this.activateChildRoutes(Q,null,Je.children)}else{const Yt=Lr(oe.snapshot);Je.attachRef=null,Je.route=oe,Je.injector=Yt,Je.outlet&&Je.outlet.activateWith(oe,Je.injector),this.activateChildRoutes(Q,null,Je.children)}}else this.activateChildRoutes(Q,null,K)}}class fs{constructor(Q){this.path=Q,this.route=this.path[this.path.length-1]}}class oa{constructor(Q,L){this.component=Q,this.route=L}}function Pi(U,Q,L){const K=U._root;return Ir(K,Q?Q._root:null,L,[K.value])}function rs(U,Q){const L=Symbol(),K=Q.get(U,L);return K===L?"function"!=typeof U||(0,a.Z0I)(U)?Q.get(U):U:K}function Ir(U,Q,L,K,oe={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=co(Q);return U.children.forEach(Je=>{(function pa(U,Q,L,K,oe={canDeactivateChecks:[],canActivateChecks:[]}){const Ce=U.value,Je=Q?Q.value:null,Yt=L?L.getContext(U.value.outlet):null;if(Je&&Ce.routeConfig===Je.routeConfig){const qt=function $r(U,Q,L){if("function"==typeof L)return L(U,Q);switch(L){case"pathParamsChange":return!mt(U.url,Q.url);case"pathParamsOrQueryParamsChange":return!mt(U.url,Q.url)||!Ut(U.queryParams,Q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qi(U,Q)||!Ut(U.queryParams,Q.queryParams);default:return!Qi(U,Q)}}(Je,Ce,Ce.routeConfig.runGuardsAndResolvers);qt?oe.canActivateChecks.push(new fs(K)):(Ce.data=Je.data,Ce._resolvedData=Je._resolvedData),Ir(U,Q,Ce.component?Yt?Yt.children:null:L,K,oe),qt&&Yt&&Yt.outlet&&Yt.outlet.isActivated&&oe.canDeactivateChecks.push(new oa(Yt.outlet.component,Je))}else Je&&Ms(Q,Yt,oe),oe.canActivateChecks.push(new fs(K)),Ir(U,null,Ce.component?Yt?Yt.children:null:L,K,oe)})(Je,Ce[Je.value.outlet],L,K.concat([Je.value]),oe),delete Ce[Je.value.outlet]}),Object.entries(Ce).forEach(([Je,Yt])=>Ms(Yt,L.getContext(Je),oe)),oe}function Ms(U,Q,L){const K=co(U),oe=U.value;Object.entries(K).forEach(([Ce,Je])=>{Ms(Je,oe.component?Q?Q.children.getContext(Ce):null:Q,L)}),L.canDeactivateChecks.push(new oa(oe.component&&Q&&Q.outlet&&Q.outlet.isActivated?Q.outlet.component:null,oe))}function ss(U){return"function"==typeof U}function q(U){return U instanceof $e.K||"EmptyError"===U?.name}const de=Symbol("INITIAL_VALUE");function ct(){return(0,Ot.w)(U=>(0,Ge.a)(U.map(Q=>Q.pipe((0,en.q)(1),(0,Ke.O)(de)))).pipe((0,ht.U)(Q=>{for(const L of Q)if(!0!==L){if(L===de)return de;if(!1===L||L instanceof Ie)return L}return!0}),(0,ye.h)(Q=>Q!==de),(0,en.q)(1)))}function Cs(U){return(0,H.z)((0,qe.b)(Q=>{if(Me(Q))throw hs(0,Q)}),(0,ht.U)(Q=>!0===Q))}class ms{constructor(Q){this.segmentGroup=Q||null}}class os{constructor(Q){this.urlTree=Q}}function Yr(U){return(0,Fe._)(new ms(U))}function Ds(U){return(0,Fe._)(new os(U))}class so{constructor(Q,L){this.urlSerializer=Q,this.urlTree=L}noMatchError(Q){return new a.vHH(4002,!1)}lineralizeSegments(Q,L){let K=[],oe=L.root;for(;;){if(K=K.concat(oe.segments),0===oe.numberOfChildren)return(0,w.of)(K);if(oe.numberOfChildren>1||!oe.children[Te])return(0,Fe._)(new a.vHH(4e3,!1));oe=oe.children[Te]}}applyRedirectCommands(Q,L,K){return this.applyRedirectCreateUrlTree(L,this.urlSerializer.parse(L),Q,K)}applyRedirectCreateUrlTree(Q,L,K,oe){const Ce=this.createSegmentGroup(Q,L.root,K,oe);return new Ie(Ce,this.createQueryParams(L.queryParams,this.urlTree.queryParams),L.fragment)}createQueryParams(Q,L){const K={};return Object.entries(Q).forEach(([oe,Ce])=>{if("string"==typeof Ce&&Ce.startsWith(":")){const Yt=Ce.substring(1);K[oe]=L[Yt]}else K[oe]=Ce}),K}createSegmentGroup(Q,L,K,oe){const Ce=this.createSegments(Q,L.segments,K,oe);let Je={};return Object.entries(L.children).forEach(([Yt,qt])=>{Je[Yt]=this.createSegmentGroup(Q,qt,K,oe)}),new xe(Ce,Je)}createSegments(Q,L,K,oe){return L.map(Ce=>Ce.path.startsWith(":")?this.findPosParam(Q,Ce,oe):this.findOrReturn(Ce,K))}findPosParam(Q,L,K){const oe=K[L.path.substring(1)];if(!oe)throw new a.vHH(4001,!1);return oe}findOrReturn(Q,L){let K=0;for(const oe of L){if(oe.path===Q.path)return L.splice(K),oe;K++}return Q}}const ps={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wo(U,Q,L,K,oe){const Ce=fo(U,Q,L);return Ce.matched?(K=function Ji(U,Q){return U.providers&&!U._injector&&(U._injector=(0,a.MMx)(U.providers,Q,`Route: ${U.path}`)),U._injector??Q}(Q,K),function mo(U,Q,L,K){const oe=Q.canMatch;if(!oe||0===oe.length)return(0,w.of)(!0);const Ce=oe.map(Je=>{const Yt=rs(Je,U);return Wt(function fe(U){return U&&ss(U.canMatch)}(Yt)?Yt.canMatch(Q,L):U.runInContext(()=>Yt(Q,L)))});return(0,w.of)(Ce).pipe(ct(),Cs())}(K,Q,L).pipe((0,ht.U)(Je=>!0===Je?Ce:{...ps}))):(0,w.of)(Ce)}function fo(U,Q,L){if(""===Q.path)return"full"===Q.pathMatch&&(U.hasChildren()||L.length>0)?{...ps}:{matched:!0,consumedSegments:[],remainingSegments:L,parameters:{},positionalParamSegments:{}};const oe=(Q.matcher||Bt)(L,U,Q);if(!oe)return{...ps};const Ce={};Object.entries(oe.posParams??{}).forEach(([Yt,qt])=>{Ce[Yt]=qt.path});const Je=oe.consumed.length>0?{...Ce,...oe.consumed[oe.consumed.length-1].parameters}:Ce;return{matched:!0,consumedSegments:oe.consumed,remainingSegments:L.slice(oe.consumed.length),parameters:Je,positionalParamSegments:oe.posParams??{}}}function aa(U,Q,L,K){return L.length>0&&function hl(U,Q,L){return L.some(K=>la(U,Q,K)&&yi(K)!==Te)}(U,L,K)?{segmentGroup:new xe(Q,rl(K,new xe(L,U.children))),slicedSegments:[]}:0===L.length&&function Ya(U,Q,L){return L.some(K=>la(U,Q,K))}(U,L,K)?{segmentGroup:new xe(U.segments,Jo(U,0,L,K,U.children)),slicedSegments:L}:{segmentGroup:new xe(U.segments,U.children),slicedSegments:L}}function Jo(U,Q,L,K,oe){const Ce={};for(const Je of K)if(la(U,L,Je)&&!oe[yi(Je)]){const Yt=new xe([],{});Ce[yi(Je)]=Yt}return{...oe,...Ce}}function rl(U,Q){const L={};L[Te]=Q;for(const K of U)if(""===K.path&&yi(K)!==Te){const oe=new xe([],{});L[yi(K)]=oe}return L}function la(U,Q,L){return(!(U.hasChildren()||Q.length>0)||"full"!==L.pathMatch)&&""===L.path}class Ia{constructor(Q,L,K,oe,Ce,Je,Yt){this.injector=Q,this.configLoader=L,this.rootComponentType=K,this.config=oe,this.urlTree=Ce,this.paramsInheritanceStrategy=Je,this.urlSerializer=Yt,this.allowRedirects=!0,this.applyRedirects=new so(this.urlSerializer,this.urlTree)}noMatchError(Q){return new a.vHH(4002,!1)}recognize(){const Q=aa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Q,Te).pipe((0,Ee.K)(L=>{if(L instanceof os)return this.allowRedirects=!1,this.urlTree=L.urlTree,this.match(L.urlTree);throw L instanceof ms?this.noMatchError(L):L}),(0,ht.U)(L=>{const K=new is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),oe=new Fs(K,L),Ce=new bs("",oe),Je=function We(U,Q,L=null,K=null){return Jt(st(U),Q,L,K)}(K,[],this.urlTree.queryParams,this.urlTree.fragment);return Je.queryParams=this.urlTree.queryParams,Ce.url=this.urlSerializer.serialize(Je),this.inheritParamsAndData(Ce._root),{state:Ce,tree:Je}}))}match(Q){return this.processSegmentGroup(this.injector,this.config,Q.root,Te).pipe((0,Ee.K)(K=>{throw K instanceof ms?this.noMatchError(K):K}))}inheritParamsAndData(Q){const L=Q.value,K=Ar(L,this.paramsInheritanceStrategy);L.params=Object.freeze(K.params),L.data=Object.freeze(K.data),Q.children.forEach(oe=>this.inheritParamsAndData(oe))}processSegmentGroup(Q,L,K,oe){return 0===K.segments.length&&K.hasChildren()?this.processChildren(Q,L,K):this.processSegment(Q,L,K,K.segments,oe,!0)}processChildren(Q,L,K){const oe=[];for(const Ce of Object.keys(K.children))"primary"===Ce?oe.unshift(Ce):oe.push(Ce);return(0,O.D)(oe).pipe((0,Pe.b)(Ce=>{const Je=K.children[Ce],Yt=function No(U,Q){const L=U.filter(K=>yi(K)===Q);return L.push(...U.filter(K=>yi(K)!==Q)),L}(L,Ce);return this.processSegmentGroup(Q,Yt,Je,Ce)}),(0,It.R)((Ce,Je)=>(Ce.push(...Je),Ce)),(0,Ht.d)(null),function Ln(U,Q){const L=arguments.length>=2;return K=>K.pipe(U?(0,ye.h)((oe,Ce)=>U(oe,Ce,K)):wn.y,Mn(1),L?(0,Ht.d)(Q):(0,ni.T)(()=>new $e.K))}(),(0,rt.z)(Ce=>{if(null===Ce)return Yr(K);const Je=Sa(Ce);return function ma(U){U.sort((Q,L)=>Q.value.outlet===Te?-1:L.value.outlet===Te?1:Q.value.outlet.localeCompare(L.value.outlet))}(Je),(0,w.of)(Je)}))}processSegment(Q,L,K,oe,Ce,Je){return(0,O.D)(L).pipe((0,Pe.b)(Yt=>this.processSegmentAgainstRoute(Yt._injector??Q,L,Yt,K,oe,Ce,Je).pipe((0,Ee.K)(qt=>{if(qt instanceof ms)return(0,w.of)(null);throw qt}))),(0,W.P)(Yt=>!!Yt),(0,Ee.K)(Yt=>{if(q(Yt))return function Ro(U,Q,L){return 0===Q.length&&!U.children[L]}(K,oe,Ce)?(0,w.of)([]):Yr(K);throw Yt}))}processSegmentAgainstRoute(Q,L,K,oe,Ce,Je,Yt){return function Va(U,Q,L,K){return!!(yi(U)===K||K!==Te&&la(Q,L,U))&&("**"===U.path||fo(Q,U,L).matched)}(K,oe,Ce,Je)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(Q,oe,K,Ce,Je,Yt):Yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Q,oe,L,K,Ce,Je):Yr(oe):Yr(oe)}expandSegmentAgainstRouteUsingRedirect(Q,L,K,oe,Ce,Je){return"**"===oe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Q,K,oe,Je):this.expandRegularSegmentAgainstRouteUsingRedirect(Q,L,K,oe,Ce,Je)}expandWildCardWithParamsAgainstRouteUsingRedirect(Q,L,K,oe){const Ce=this.applyRedirects.applyRedirectCommands([],K.redirectTo,{});return K.redirectTo.startsWith("/")?Ds(Ce):this.applyRedirects.lineralizeSegments(K,Ce).pipe((0,rt.z)(Je=>{const Yt=new xe(Je,{});return this.processSegment(Q,L,Yt,Je,oe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Q,L,K,oe,Ce,Je){const{matched:Yt,consumedSegments:qt,remainingSegments:ei,positionalParamSegments:Ai}=fo(L,oe,Ce);if(!Yt)return Yr(L);const tr=this.applyRedirects.applyRedirectCommands(qt,oe.redirectTo,Ai);return oe.redirectTo.startsWith("/")?Ds(tr):this.applyRedirects.lineralizeSegments(oe,tr).pipe((0,rt.z)(Ei=>this.processSegment(Q,K,L,Ei.concat(ei),Je,!1)))}matchSegmentAgainstRoute(Q,L,K,oe,Ce,Je){let Yt;if("**"===K.path){const qt=oe.length>0?Lt(oe).parameters:{},ei=new is(oe,qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Aa(K),yi(K),K.component??K._loadedComponent??null,K,ea(K));Yt=(0,w.of)({snapshot:ei,consumedSegments:[],remainingSegments:[]}),L.children={}}else Yt=wo(L,K,oe,Q).pipe((0,ht.U)(({matched:qt,consumedSegments:ei,remainingSegments:Ai,parameters:tr})=>qt?{snapshot:new is(ei,tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Aa(K),yi(K),K.component??K._loadedComponent??null,K,ea(K)),consumedSegments:ei,remainingSegments:Ai}:null));return Yt.pipe((0,Ot.w)(qt=>null===qt?Yr(L):this.getChildConfig(Q=K._injector??Q,K,oe).pipe((0,Ot.w)(({routes:ei})=>{const Ai=K._loadedInjector??Q,{snapshot:tr,consumedSegments:Ei,remainingSegments:na}=qt,{segmentGroup:Xt,slicedSegments:Ks}=aa(L,Ei,na,ei);if(0===Ks.length&&Xt.hasChildren())return this.processChildren(Ai,ei,Xt).pipe((0,ht.U)(_o=>null===_o?null:[new Fs(tr,_o)]));if(0===ei.length&&0===Ks.length)return(0,w.of)([new Fs(tr,[])]);const Xs=yi(K)===Ce;return this.processSegment(Ai,ei,Xt,Ks,Xs?Te:Ce,!0).pipe((0,ht.U)(_o=>[new Fs(tr,_o)]))}))))}getChildConfig(Q,L,K){return L.children?(0,w.of)({routes:L.children,injector:Q}):L.loadChildren?void 0!==L._loadedRoutes?(0,w.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):function Wr(U,Q,L,K){const oe=Q.canLoad;if(void 0===oe||0===oe.length)return(0,w.of)(!0);const Ce=oe.map(Je=>{const Yt=rs(Je,U);return Wt(function Vs(U){return U&&ss(U.canLoad)}(Yt)?Yt.canLoad(Q,L):U.runInContext(()=>Yt(Q,L)))});return(0,w.of)(Ce).pipe(ct(),Cs())}(Q,L,K).pipe((0,rt.z)(oe=>oe?this.configLoader.loadChildren(Q,L).pipe((0,qe.b)(Ce=>{L._loadedRoutes=Ce.routes,L._loadedInjector=Ce.injector})):function Jr(U){return(0,Fe._)(Vn(!1,3))}())):(0,w.of)({routes:[],injector:Q})}}function Xo(U){const Q=U.value.routeConfig;return Q&&""===Q.path}function Sa(U){const Q=[],L=new Set;for(const K of U){if(!Xo(K)){Q.push(K);continue}const oe=Q.find(Ce=>K.value.routeConfig===Ce.value.routeConfig);void 0!==oe?(oe.children.push(...K.children),L.add(oe)):Q.push(K)}for(const K of L){const oe=Sa(K.children);Q.push(new Fs(K.value,oe))}return Q.filter(K=>!L.has(K))}function Aa(U){return U.data||{}}function ea(U){return U.resolve||{}}function Co(U){return"string"==typeof U.title||null===U.title}function El(U){return(0,Ot.w)(Q=>{const L=U(Q);return L?(0,O.D)(L).pipe((0,ht.U)(()=>Q)):(0,w.of)(Q)})}const Ws=new a.OlP("ROUTES");let ta=(()=>{class U{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(L){if(this.componentLoaders.get(L))return this.componentLoaders.get(L);if(L._loadedComponent)return(0,w.of)(L._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(L);const K=Wt(L.loadComponent()).pipe((0,ht.U)(ie),(0,qe.b)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(L),L._loadedComponent=Ce}),(0,kt.x)(()=>{this.componentLoaders.delete(L)})),oe=new yt.c(K,()=>new ke.x).pipe((0,pt.x)());return this.componentLoaders.set(L,oe),oe}loadChildren(L,K){if(this.childrenLoaders.get(K))return this.childrenLoaders.get(K);if(K._loadedRoutes)return(0,w.of)({routes:K._loadedRoutes,injector:K._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(K);const Ce=function j(U,Q,L,K){return Wt(U.loadChildren()).pipe((0,ht.U)(ie),(0,rt.z)(oe=>oe instanceof a.YKP||Array.isArray(oe)?(0,w.of)(oe):(0,O.D)(Q.compileModuleAsync(oe))),(0,ht.U)(oe=>{K&&K(U);let Ce,Je,Yt=!1;return Array.isArray(oe)?(Je=oe,!0):(Ce=oe.create(L).injector,Je=Ce.get(Ws,[],{optional:!0,self:!0}).flat()),{routes:Je.map(jo),injector:Ce}}))}(K,this.compiler,L,this.onLoadEndListener).pipe((0,kt.x)(()=>{this.childrenLoaders.delete(K)})),Je=new yt.c(Ce,()=>new ke.x).pipe((0,pt.x)());return this.childrenLoaders.set(K,Je),Je}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();function ie(U){return function De(U){return U&&"object"==typeof U&&"default"in U}(U)?U.default:U}let me=(()=>{class U{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke.x,this.transitionAbortSubject=new ke.x,this.configLoader=(0,a.f3M)(ta),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(rn),this.rootContexts=(0,a.f3M)(Ui),this.inputBindingEnabled=null!==(0,a.f3M)(Vi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,w.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=oe=>this.events.next(new ao(oe)),this.configLoader.onLoadStartListener=oe=>this.events.next(new Po(oe))}complete(){this.transitions?.complete()}handleNavigationRequest(L){const K=++this.navigationId;this.transitions?.next({...this.transitions.value,...L,id:K})}setupNavigations(L,K,oe){return this.transitions=new we.X({id:0,currentUrlTree:K,currentRawUrl:K,currentBrowserUrl:K,extractedUrl:L.urlHandlingStrategy.extract(K),urlAfterRedirects:L.urlHandlingStrategy.extract(K),rawUrl:K,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ts,restoredState:null,currentSnapshot:oe.snapshot,targetSnapshot:null,currentRouterState:oe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ye.h)(Ce=>0!==Ce.id),(0,ht.U)(Ce=>({...Ce,extractedUrl:L.urlHandlingStrategy.extract(Ce.rawUrl)})),(0,Ot.w)(Ce=>{this.currentTransition=Ce;let Je=!1,Yt=!1;return(0,w.of)(Ce).pipe((0,qe.b)(qt=>{this.currentNavigation={id:qt.id,initialUrl:qt.rawUrl,extractedUrl:qt.extractedUrl,trigger:qt.source,extras:qt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ot.w)(qt=>{const ei=qt.currentBrowserUrl.toString(),Ai=!L.navigated||qt.extractedUrl.toString()!==ei||ei!==qt.currentUrlTree.toString();if(!Ai&&"reload"!==(qt.extras.onSameUrlNavigation??L.onSameUrlNavigation)){const Ei="";return this.events.next(new Gs(qt.id,this.urlSerializer.serialize(qt.rawUrl),Ei,0)),qt.resolve(null),Ye.E}if(L.urlHandlingStrategy.shouldProcessUrl(qt.rawUrl))return(0,w.of)(qt).pipe((0,Ot.w)(Ei=>{const na=this.transitions?.getValue();return this.events.next(new Mi(Ei.id,this.urlSerializer.serialize(Ei.extractedUrl),Ei.source,Ei.restoredState)),na!==this.transitions?.getValue()?Ye.E:Promise.resolve(Ei)}),function Ka(U,Q,L,K,oe,Ce){return(0,rt.z)(Je=>function sl(U,Q,L,K,oe,Ce,Je="emptyOnly"){return new Ia(U,Q,L,K,oe,Je,Ce).recognize()}(U,Q,L,K,Je.extractedUrl,oe,Ce).pipe((0,ht.U)(({state:Yt,tree:qt})=>({...Je,targetSnapshot:Yt,urlAfterRedirects:qt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,L.config,this.urlSerializer,L.paramsInheritanceStrategy),(0,qe.b)(Ei=>{Ce.targetSnapshot=Ei.targetSnapshot,Ce.urlAfterRedirects=Ei.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ei.urlAfterRedirects};const na=new no(Ei.id,this.urlSerializer.serialize(Ei.extractedUrl),this.urlSerializer.serialize(Ei.urlAfterRedirects),Ei.targetSnapshot);this.events.next(na)}));if(Ai&&L.urlHandlingStrategy.shouldProcessUrl(qt.currentRawUrl)){const{id:Ei,extractedUrl:na,source:Xt,restoredState:Ks,extras:Xs}=qt,_o=new Mi(Ei,this.urlSerializer.serialize(na),Xt,Ks);this.events.next(_o);const Ua=ki(0,this.rootComponentType).snapshot;return this.currentTransition=Ce={...qt,targetSnapshot:Ua,urlAfterRedirects:na,extras:{...Xs,skipLocationChange:!1,replaceUrl:!1}},(0,w.of)(Ce)}{const Ei="";return this.events.next(new Gs(qt.id,this.urlSerializer.serialize(qt.extractedUrl),Ei,1)),qt.resolve(null),Ye.E}}),(0,qe.b)(qt=>{const ei=new xr(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot);this.events.next(ei)}),(0,ht.U)(qt=>(this.currentTransition=Ce={...qt,guards:Pi(qt.targetSnapshot,qt.currentSnapshot,this.rootContexts)},Ce)),function Zt(U,Q){return(0,rt.z)(L=>{const{targetSnapshot:K,currentSnapshot:oe,guards:{canActivateChecks:Ce,canDeactivateChecks:Je}}=L;return 0===Je.length&&0===Ce.length?(0,w.of)({...L,guardsResult:!0}):function Tn(U,Q,L,K){return(0,O.D)(U).pipe((0,rt.z)(oe=>function Sr(U,Q,L,K,oe){const Ce=Q&&Q.routeConfig?Q.routeConfig.canDeactivate:null;if(!Ce||0===Ce.length)return(0,w.of)(!0);const Je=Ce.map(Yt=>{const qt=Lr(Q)??oe,ei=rs(Yt,qt);return Wt(function Mr(U){return U&&ss(U.canDeactivate)}(ei)?ei.canDeactivate(U,Q,L,K):qt.runInContext(()=>ei(U,Q,L,K))).pipe((0,W.P)())});return(0,w.of)(Je).pipe(ct())}(oe.component,oe.route,L,Q,K)),(0,W.P)(oe=>!0!==oe,!0))}(Je,K,oe,U).pipe((0,rt.z)(Yt=>Yt&&function Ni(U){return"boolean"==typeof U}(Yt)?function Wn(U,Q,L,K){return(0,O.D)(Q).pipe((0,Pe.b)(oe=>(0,Le.z)(function Gi(U,Q){return null!==U&&Q&&Q(new lo(U)),(0,w.of)(!0)}(oe.route.parent,K),function qn(U,Q){return null!==U&&Q&&Q(new $s(U)),(0,w.of)(!0)}(oe.route,K),function ws(U,Q,L){const K=Q[Q.length-1],Ce=Q.slice(0,Q.length-1).reverse().map(Je=>function fa(U){const Q=U.routeConfig?U.routeConfig.canActivateChild:null;return Q&&0!==Q.length?{node:U,guards:Q}:null}(Je)).filter(Je=>null!==Je).map(Je=>(0,ze.P)(()=>{const Yt=Je.guards.map(qt=>{const ei=Lr(Je.node)??L,Ai=rs(qt,ei);return Wt(function Wa(U){return U&&ss(U.canActivateChild)}(Ai)?Ai.canActivateChild(K,U):ei.runInContext(()=>Ai(K,U))).pipe((0,W.P)())});return(0,w.of)(Yt).pipe(ct())}));return(0,w.of)(Ce).pipe(ct())}(U,oe.path,L),function rr(U,Q,L){const K=Q.routeConfig?Q.routeConfig.canActivate:null;if(!K||0===K.length)return(0,w.of)(!0);const oe=K.map(Ce=>(0,ze.P)(()=>{const Je=Lr(Q)??L,Yt=rs(Ce,Je);return Wt(function Qo(U){return U&&ss(U.canActivate)}(Yt)?Yt.canActivate(Q,U):Je.runInContext(()=>Yt(Q,U))).pipe((0,W.P)())}));return(0,w.of)(oe).pipe(ct())}(U,oe.route,L))),(0,W.P)(oe=>!0!==oe,!0))}(K,Ce,U,Q):(0,w.of)(Yt)),(0,ht.U)(Yt=>({...L,guardsResult:Yt})))})}(this.environmentInjector,qt=>this.events.next(qt)),(0,qe.b)(qt=>{if(Ce.guardsResult=qt.guardsResult,Me(qt.guardsResult))throw hs(0,qt.guardsResult);const ei=new us(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot,!!qt.guardsResult);this.events.next(ei)}),(0,ye.h)(qt=>!!qt.guardsResult||(this.cancelNavigationTransition(qt,"",3),!1)),El(qt=>{if(qt.guards.canActivateChecks.length)return(0,w.of)(qt).pipe((0,qe.b)(ei=>{const Ai=new zr(ei.id,this.urlSerializer.serialize(ei.extractedUrl),this.urlSerializer.serialize(ei.urlAfterRedirects),ei.targetSnapshot);this.events.next(Ai)}),(0,Ot.w)(ei=>{let Ai=!1;return(0,w.of)(ei).pipe(function Vl(U,Q){return(0,rt.z)(L=>{const{targetSnapshot:K,guards:{canActivateChecks:oe}}=L;if(!oe.length)return(0,w.of)(L);let Ce=0;return(0,O.D)(oe).pipe((0,Pe.b)(Je=>function Za(U,Q,L,K){const oe=U.routeConfig,Ce=U._resolve;return void 0!==oe?.title&&!Co(oe)&&(Ce[Mt]=oe.title),function po(U,Q,L,K){const oe=function ol(U){return[...Object.keys(U),...Object.getOwnPropertySymbols(U)]}(U);if(0===oe.length)return(0,w.of)({});const Ce={};return(0,O.D)(oe).pipe((0,rt.z)(Je=>function qa(U,Q,L,K){const oe=Lr(Q)??K,Ce=rs(U,oe);return Wt(Ce.resolve?Ce.resolve(Q,L):oe.runInContext(()=>Ce(Q,L)))}(U[Je],Q,L,K).pipe((0,W.P)(),(0,qe.b)(Yt=>{Ce[Je]=Yt}))),Mn(1),(0,jn.h)(Ce),(0,Ee.K)(Je=>q(Je)?Ye.E:(0,Fe._)(Je)))}(Ce,U,Q,K).pipe((0,ht.U)(Je=>(U._resolvedData=Je,U.data=Ar(U,L).resolve,oe&&Co(oe)&&(U.data[Mt]=oe.title),null)))}(Je.route,K,U,Q)),(0,qe.b)(()=>Ce++),Mn(1),(0,rt.z)(Je=>Ce===oe.length?(0,w.of)(L):Ye.E))})}(L.paramsInheritanceStrategy,this.environmentInjector),(0,qe.b)({next:()=>Ai=!0,complete:()=>{Ai||this.cancelNavigationTransition(ei,"",2)}}))}),(0,qe.b)(ei=>{const Ai=new ir(ei.id,this.urlSerializer.serialize(ei.extractedUrl),this.urlSerializer.serialize(ei.urlAfterRedirects),ei.targetSnapshot);this.events.next(Ai)}))}),El(qt=>{const ei=Ai=>{const tr=[];Ai.routeConfig?.loadComponent&&!Ai.routeConfig._loadedComponent&&tr.push(this.configLoader.loadComponent(Ai.routeConfig).pipe((0,qe.b)(Ei=>{Ai.component=Ei}),(0,ht.U)(()=>{})));for(const Ei of Ai.children)tr.push(...ei(Ei));return tr};return(0,Ge.a)(ei(qt.targetSnapshot.root)).pipe((0,Ht.d)(),(0,en.q)(1))}),El(()=>this.afterPreactivation()),(0,ht.U)(qt=>{const ei=function Qs(U,Q,L){const K=qr(U,Q._root,L?L._root:void 0);return new As(K,Q)}(L.routeReuseStrategy,qt.targetSnapshot,qt.currentRouterState);return this.currentTransition=Ce={...qt,targetRouterState:ei},Ce}),(0,qe.b)(()=>{this.events.next(new br)}),((U,Q,L,K)=>(0,ht.U)(oe=>(new ro(Q,oe.targetRouterState,oe.currentRouterState,L,K).activate(U),oe)))(this.rootContexts,L.routeReuseStrategy,qt=>this.events.next(qt),this.inputBindingEnabled),(0,en.q)(1),(0,qe.b)({next:qt=>{Je=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zr(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects))),L.titleStrategy?.updateTitle(qt.targetRouterState.snapshot),qt.resolve(!0)},complete:()=>{Je=!0}}),(0,bt.R)(this.transitionAbortSubject.pipe((0,qe.b)(qt=>{throw qt}))),(0,kt.x)(()=>{Je||Yt||this.cancelNavigationTransition(Ce,"",1),this.currentNavigation?.id===Ce.id&&(this.currentNavigation=null)}),(0,Ee.K)(qt=>{if(Yt=!0,Rs(qt))this.events.next(new Hs(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),qt.message,qt.cancellationCode)),function Es(U){return Rs(U)&&Me(U.url)}(qt)?this.events.next(new bo(qt.url)):Ce.resolve(!1);else{this.events.next(new Is(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),qt,Ce.targetSnapshot??void 0));try{Ce.resolve(L.errorHandler(qt))}catch(ei){Ce.reject(ei)}}return Ye.E}))}))}cancelNavigationTransition(L,K,oe){const Ce=new Hs(L.id,this.urlSerializer.serialize(L.extractedUrl),K,oe);this.events.next(Ce),L.resolve(!1)}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();function _t(U){return U!==ts}let cn=(()=>{class U{buildTitle(L){let K,oe=L.root;for(;void 0!==oe;)K=this.getResolvedTitleForRoute(oe)??K,oe=oe.children.find(Ce=>Ce.outlet===Te);return K}getResolvedTitleForRoute(L){return L.data[Mt]}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:function(){return(0,a.f3M)(In)},providedIn:"root"})}return U})(),In=(()=>{class U extends cn{constructor(L){super(),this.title=L}updateTitle(L){const K=this.buildTitle(L);void 0!==K&&this.title.setTitle(K)}static#e=this.\u0275fac=function(K){return new(K||U)(a.LFG(Be.Dx))};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),hi=(()=>{class U{static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:function(){return(0,a.f3M)(_r)},providedIn:"root"})}return U})();class dr{shouldDetach(Q){return!1}store(Q,L){}shouldAttach(Q){return!1}retrieve(Q){return null}shouldReuseRoute(Q,L){return Q.routeConfig===L.routeConfig}}let _r=(()=>{class U extends dr{static#e=this.\u0275fac=function(){let L;return function(oe){return(L||(L=a.n5z(U)))(oe||U)}}();static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();const Bi=new a.OlP("",{providedIn:"root",factory:()=>({})});let pi=(()=>{class U{static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:function(){return(0,a.f3M)(Or)},providedIn:"root"})}return U})(),Or=(()=>{class U{shouldProcessUrl(L){return!0}extract(L){return L}merge(L,K){return L}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();var Er=function(U){return U[U.COMPLETE=0]="COMPLETE",U[U.FAILED=1]="FAILED",U[U.REDIRECTING=2]="REDIRECTING",U}(Er||{});function se(U,Q){U.events.pipe((0,ye.h)(L=>L instanceof Zr||L instanceof Hs||L instanceof Is||L instanceof Gs),(0,ht.U)(L=>L instanceof Zr||L instanceof Gs?Er.COMPLETE:L instanceof Hs&&(0===L.code||1===L.code)?Er.REDIRECTING:Er.FAILED),(0,ye.h)(L=>L!==Er.REDIRECTING),(0,en.q)(1)).subscribe(()=>{Q()})}function xt(U){throw U}function T(U,Q,L){return Q.parse("/")}const Z={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},le={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ae=(()=>{class U{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new ke.x,this.options=(0,a.f3M)(Bi,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||xt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||T,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(pi),this.routeReuseStrategy=(0,a.f3M)(hi),this.titleStrategy=(0,a.f3M)(cn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(Ws,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(me),this.urlSerializer=(0,a.f3M)(rn),this.location=(0,a.f3M)(ut.Ye),this.componentInputBindingEnabled=!!(0,a.f3M)(Vi,{optional:!0}),this.eventsSubscription=new Xe.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ie,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ki(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(L=>{this.lastSuccessfulId=L.id,this.currentPageId=this.browserPageId},L=>{this.console.warn(`Unhandled Navigation Error: ${L}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const L=this.navigationTransitions.events.subscribe(K=>{try{const{currentTransition:oe}=this.navigationTransitions;if(null===oe)return void(fn(K)&&this._events.next(K));if(K instanceof Mi)_t(oe.source)&&(this.browserUrlTree=oe.extractedUrl);else if(K instanceof Gs)this.rawUrlTree=oe.rawUrl;else if(K instanceof no){if("eager"===this.urlUpdateStrategy){if(!oe.extras.skipLocationChange){const Ce=this.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl);this.setBrowserUrl(Ce,oe)}this.browserUrlTree=oe.urlAfterRedirects}}else if(K instanceof br)this.currentUrlTree=oe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl),this.routerState=oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,oe),this.browserUrlTree=oe.urlAfterRedirects);else if(K instanceof Hs)0!==K.code&&1!==K.code&&(this.navigated=!0),(3===K.code||2===K.code)&&this.restoreHistory(oe);else if(K instanceof bo){const Ce=this.urlHandlingStrategy.merge(K.url,oe.currentRawUrl),Je={skipLocationChange:oe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_t(oe.source)};this.scheduleNavigation(Ce,ts,null,Je,{resolve:oe.resolve,reject:oe.reject,promise:oe.promise})}K instanceof Is&&this.restoreHistory(oe,!0),K instanceof Zr&&(this.navigated=!0),fn(K)&&this._events.next(K)}catch(oe){this.navigationTransitions.transitionAbortSubject.next(oe)}});this.eventsSubscription.add(L)}resetRootComponentType(L){this.routerState.root.component=L,this.navigationTransitions.rootComponentType=L}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const L=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ts,L)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(L=>{const K="popstate"===L.type?"popstate":"hashchange";"popstate"===K&&setTimeout(()=>{this.navigateToSyncWithBrowser(L.url,K,L.state)},0)}))}navigateToSyncWithBrowser(L,K,oe){const Ce={replaceUrl:!0},Je=oe?.navigationId?oe:null;if(oe){const qt={...oe};delete qt.navigationId,delete qt.\u0275routerPageId,0!==Object.keys(qt).length&&(Ce.state=qt)}const Yt=this.parseUrl(L);this.scheduleNavigation(Yt,K,Je,Ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(L){this.config=L.map(jo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(L,K={}){const{relativeTo:oe,queryParams:Ce,fragment:Je,queryParamsHandling:Yt,preserveFragment:qt}=K,ei=qt?this.currentUrlTree.fragment:Je;let tr,Ai=null;switch(Yt){case"merge":Ai={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":Ai=this.currentUrlTree.queryParams;break;default:Ai=Ce||null}null!==Ai&&(Ai=this.removeEmptyProps(Ai));try{tr=st(oe?oe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof L[0]||!L[0].startsWith("/"))&&(L=[]),tr=this.currentUrlTree.root}return Jt(tr,L,Ai,ei??null)}navigateByUrl(L,K={skipLocationChange:!1}){const oe=Me(L)?L:this.parseUrl(L),Ce=this.urlHandlingStrategy.merge(oe,this.rawUrlTree);return this.scheduleNavigation(Ce,ts,null,K)}navigate(L,K={skipLocationChange:!1}){return function Tt(U){for(let Q=0;Q<U.length;Q++)if(null==U[Q])throw new a.vHH(4008,!1)}(L),this.navigateByUrl(this.createUrlTree(L,K),K)}serializeUrl(L){return this.urlSerializer.serialize(L)}parseUrl(L){let K;try{K=this.urlSerializer.parse(L)}catch(oe){K=this.malformedUriErrorHandler(oe,this.urlSerializer,L)}return K}isActive(L,K){let oe;if(oe=!0===K?{...Z}:!1===K?{...le}:K,Me(L))return at(this.currentUrlTree,L,oe);const Ce=this.parseUrl(L);return at(this.currentUrlTree,Ce,oe)}removeEmptyProps(L){return Object.keys(L).reduce((K,oe)=>{const Ce=L[oe];return null!=Ce&&(K[oe]=Ce),K},{})}scheduleNavigation(L,K,oe,Ce,Je){if(this.disposed)return Promise.resolve(!1);let Yt,qt,ei;Je?(Yt=Je.resolve,qt=Je.reject,ei=Je.promise):ei=new Promise((tr,Ei)=>{Yt=tr,qt=Ei});const Ai=this.pendingTasks.add();return se(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ai))}),this.navigationTransitions.handleNavigationRequest({source:K,restoredState:oe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:L,extras:Ce,resolve:Yt,reject:qt,promise:ei,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ei.catch(tr=>Promise.reject(tr))}setBrowserUrl(L,K){const oe=this.urlSerializer.serialize(L);if(this.location.isCurrentPathEqualTo(oe)||K.extras.replaceUrl){const Je={...K.extras.state,...this.generateNgRouterState(K.id,this.browserPageId)};this.location.replaceState(oe,"",Je)}else{const Ce={...K.extras.state,...this.generateNgRouterState(K.id,this.browserPageId+1)};this.location.go(oe,"",Ce)}}restoreHistory(L,K=!1){if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-this.browserPageId;0!==Ce?this.location.historyGo(Ce):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ce&&(this.resetState(L),this.browserUrlTree=L.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(K&&this.resetState(L),this.resetUrlToCurrentUrlTree())}resetState(L){this.routerState=L.currentRouterState,this.currentUrlTree=L.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,L.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(L,K){return"computed"===this.canceledNavigationResolution?{navigationId:L,\u0275routerPageId:K}:{navigationId:L}}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();function fn(U){return!(U instanceof br||U instanceof bo)}let Di=(()=>{class U{constructor(L,K,oe,Ce,Je,Yt){this.router=L,this.route=K,this.tabIndexAttribute=oe,this.renderer=Ce,this.el=Je,this.locationStrategy=Yt,this.href=null,this.commands=null,this.onChanges=new ke.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const qt=Je.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===qt||"area"===qt,this.isAnchorElement?this.subscription=L.events.subscribe(ei=>{ei instanceof Zr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(L){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",L)}ngOnChanges(L){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(L){null!=L?(this.commands=Array.isArray(L)?L:[L],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(L,K,oe,Ce,Je){return!!(null===this.urlTree||this.isAnchorElement&&(0!==L||K||oe||Ce||Je||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const L=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",L)}applyAttributeValue(L,K){const oe=this.renderer,Ce=this.el.nativeElement;null!==K?oe.setAttribute(Ce,L,K):oe.removeAttribute(Ce,L)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(K){return new(K||U)(a.Y36(Ae),a.Y36(di),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ut.S$))};static#t=this.\u0275dir=a.lG2({type:U,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(K,oe){1&K&&a.NdJ("click",function(Je){return oe.onClick(Je.button,Je.ctrlKey,Je.shiftKey,Je.altKey,Je.metaKey)}),2&K&&a.uIk("target",oe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return U})(),bi=(()=>{class U{get isActive(){return this._isActive}constructor(L,K,oe,Ce,Je){this.router=L,this.element=K,this.renderer=oe,this.cdr=Ce,this.link=Je,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=L.events.subscribe(Yt=>{Yt instanceof Zr&&this.update()})}ngAfterContentInit(){(0,w.of)(this.links.changes,(0,w.of)(null)).pipe((0,Rt.J)()).subscribe(L=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const L=[...this.links.toArray(),this.link].filter(K=>!!K).map(K=>K.onChanges);this.linkInputChangesSubscription=(0,O.D)(L).pipe((0,Rt.J)()).subscribe(K=>{this._isActive!==this.isLinkActive(this.router)(K)&&this.update()})}set routerLinkActive(L){const K=Array.isArray(L)?L:L.split(" ");this.classes=K.filter(oe=>!!oe)}ngOnChanges(L){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const L=this.hasActiveLinks();this._isActive!==L&&(this._isActive=L,this.cdr.markForCheck(),this.classes.forEach(K=>{L?this.renderer.addClass(this.element.nativeElement,K):this.renderer.removeClass(this.element.nativeElement,K)}),L&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(L))})}isLinkActive(L){const K=function wr(U){return!!U.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return oe=>!!oe.urlTree&&L.isActive(oe.urlTree,K)}hasActiveLinks(){const L=this.isLinkActive(this.router);return this.link&&L(this.link)||this.links.some(L)}static#e=this.\u0275fac=function(K){return new(K||U)(a.Y36(Ae),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Di,8))};static#t=this.\u0275dir=a.lG2({type:U,selectors:[["","routerLinkActive",""]],contentQueries:function(K,oe,Ce){if(1&K&&a.Suo(Ce,Di,5),2&K){let Je;a.iGM(Je=a.CRH())&&(oe.links=Je)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]})}return U})();class as{}let kr=(()=>{class U{preload(L,K){return K().pipe((0,Ee.K)(()=>(0,w.of)(null)))}static#e=this.\u0275fac=function(K){return new(K||U)};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),wl=(()=>{class U{constructor(L,K,oe,Ce,Je){this.router=L,this.injector=oe,this.preloadingStrategy=Ce,this.loader=Je}setUpPreloading(){this.subscription=this.router.events.pipe((0,ye.h)(L=>L instanceof Zr),(0,Pe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(L,K){const oe=[];for(const Ce of K){Ce.providers&&!Ce._injector&&(Ce._injector=(0,a.MMx)(Ce.providers,L,`Route: ${Ce.path}`));const Je=Ce._injector??L,Yt=Ce._loadedInjector??Je;(Ce.loadChildren&&!Ce._loadedRoutes&&void 0===Ce.canLoad||Ce.loadComponent&&!Ce._loadedComponent)&&oe.push(this.preloadConfig(Je,Ce)),(Ce.children||Ce._loadedRoutes)&&oe.push(this.processRoutes(Yt,Ce.children??Ce._loadedRoutes))}return(0,O.D)(oe).pipe((0,Rt.J)())}preloadConfig(L,K){return this.preloadingStrategy.preload(K,()=>{let oe;oe=K.loadChildren&&void 0===K.canLoad?this.loader.loadChildren(L,K):(0,w.of)(null);const Ce=oe.pipe((0,rt.z)(Je=>null===Je?(0,w.of)(void 0):(K._loadedRoutes=Je.routes,K._loadedInjector=Je.injector,this.processRoutes(Je.injector??L,Je.routes))));if(K.loadComponent&&!K._loadedComponent){const Je=this.loader.loadComponent(K);return(0,O.D)([Ce,Je]).pipe((0,Rt.J)())}return Ce})}static#e=this.\u0275fac=function(K){return new(K||U)(a.LFG(Ae),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(as),a.LFG(ta))};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();const ga=new a.OlP("");let $i=(()=>{class U{constructor(L,K,oe,Ce,Je={}){this.urlSerializer=L,this.transitions=K,this.viewportScroller=oe,this.zone=Ce,this.options=Je,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Je.scrollPositionRestoration=Je.scrollPositionRestoration||"disabled",Je.anchorScrolling=Je.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(L=>{L instanceof Mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=L.navigationTrigger,this.restoredId=L.restoredState?L.restoredState.navigationId:0):L instanceof Zr?(this.lastId=L.id,this.scheduleScrollEvent(L,this.urlSerializer.parse(L.urlAfterRedirects).fragment)):L instanceof Gs&&0===L.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(L,this.urlSerializer.parse(L.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(L=>{L instanceof Zo&&(L.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(L.position):L.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(L.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(L,K){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zo(L,"popstate"===this.lastSource?this.store[this.restoredId]:null,K))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(K){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac})}return U})();function ca(U,Q){return{\u0275kind:U,\u0275providers:Q}}function ql(){const U=(0,a.f3M)(a.zs3);return Q=>{const L=U.get(a.z2F);if(Q!==L.components[0])return;const K=U.get(Ae),oe=U.get(ui);1===U.get(re)&&K.initialNavigation(),U.get(X,null,a.XFs.Optional)?.setUpPreloading(),U.get(ga,null,a.XFs.Optional)?.init(),K.resetRootComponentType(L.componentTypes[0]),oe.closed||(oe.next(),oe.complete(),oe.unsubscribe())}}const ui=new a.OlP("",{factory:()=>new ke.x}),re=new a.OlP("",{providedIn:"root",factory:()=>1}),X=new a.OlP("");function Se(U){return ca(0,[{provide:X,useExisting:wl},{provide:as,useExisting:U}])}const mi=new a.OlP("ROUTER_FORROOT_GUARD"),Cr=[ut.Ye,{provide:rn,useClass:Fn},Ae,Ui,{provide:di,useFactory:function Ba(U){return U.routerState.root},deps:[Ae]},ta,[]];function Xi(){return new a.PXZ("Router",Ae)}let ln=(()=>{class U{constructor(L){}static forRoot(L,K){return{ngModule:U,providers:[Cr,[],{provide:Ws,multi:!0,useValue:L},{provide:mi,useFactory:er,deps:[[Ae,new a.FiY,new a.tp0]]},{provide:Bi,useValue:K||{}},K?.useHash?{provide:ut.S$,useClass:ut.Do}:{provide:ut.S$,useClass:ut.b0},{provide:ga,useFactory:()=>{const U=(0,a.f3M)(ut.EM),Q=(0,a.f3M)(a.R0b),L=(0,a.f3M)(Bi),K=(0,a.f3M)(me),oe=(0,a.f3M)(rn);return L.scrollOffset&&U.setOffset(L.scrollOffset),new $i(oe,K,U,Q,L)}},K?.preloadingStrategy?Se(K.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Xi},K?.initialNavigation?Vr(K):[],K?.bindToComponentInputs?ca(8,[mr,{provide:Vi,useExisting:mr}]).\u0275providers:[],[{provide:Si,useFactory:ql},{provide:a.tb,multi:!0,useExisting:Si}]]}}static forChild(L){return{ngModule:U,providers:[{provide:Ws,multi:!0,useValue:L}]}}static#e=this.\u0275fac=function(K){return new(K||U)(a.LFG(mi,8))};static#t=this.\u0275mod=a.oAB({type:U});static#n=this.\u0275inj=a.cJS({})}return U})();function er(U){return"guarded"}function Vr(U){return["disabled"===U.initialNavigation?ca(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const Q=(0,a.f3M)(Ae);return()=>{Q.setUpLocationChangeListener()}}},{provide:re,useValue:2}]).\u0275providers:[],"enabledBlocking"===U.initialNavigation?ca(2,[{provide:re,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:Q=>{const L=Q.get(ut.V_,Promise.resolve());return()=>L.then(()=>new Promise(K=>{const oe=Q.get(Ae),Ce=Q.get(ui);se(oe,()=>{K(!0)}),Q.get(me).afterPreactivation=()=>(K(!0),Ce.closed?(0,w.of)(void 0):Ce),oe.initialNavigation()}))}}]).\u0275providers:[]]}const Si=new a.OlP("")},3106:(Sn,Et,R)=>{R.d(Et,{Z:()=>Xe});var a=R(9058),ne=R(4537),O=R(534),w=R(7879);class we{constructor(ht,Ot){this._delegate=ht,this.firebase=Ot,(0,O._addComponent)(ht,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=ht.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this._delegate.automaticDataCollectionEnabled=ht}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ht=>{this._delegate.checkDestroyed(),ht()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ht,Ot=O._DEFAULT_ENTRY_NAME){var en;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(ht);return!Ke.isInitialized()&&"EXPLICIT"===(null===(en=Ke.getComponent())||void 0===en?void 0:en.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:Ot})}_removeServiceInstance(ht,Ot=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ht).clearInstance(Ot)}_addComponent(ht){(0,O._addComponent)(this._delegate,ht)}_addOrOverwriteComponent(ht){(0,O._addOrOverwriteComponent)(this._delegate,ht)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $e=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ze(){const ut=function Le(ut){const ht={},Ot={__esModule:!0,initializeApp:function ye(qe,Ee={}){const It=O.initializeApp(qe,Ee);if((0,a.r3)(ht,It.name))return ht[It.name];const Ht=new ut(It,Ot);return ht[It.name]=Ht,Ht},app:Ke,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function W(qe){const Ee=qe.name,It=Ee.replace("-compat","");if(O._registerComponent(qe)&&"PUBLIC"===qe.type){const Ht=(Nt=Ke())=>{if("function"!=typeof Nt[It])throw $e.create("invalid-app-argument",{appName:Ee});return Nt[It]()};void 0!==qe.serviceProps&&(0,a.ZB)(Ht,qe.serviceProps),Ot[It]=Ht,ut.prototype[It]=function(...Nt){return this._getService.bind(this,Ee).apply(this,qe.multipleInstances?Nt:[])}}return"PUBLIC"===qe.type?Ot[It]:null},removeApp:function en(qe){delete ht[qe]},useAsService:function Pe(qe,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:O}};function Ke(qe){if(!(0,a.r3)(ht,qe=qe||O._DEFAULT_ENTRY_NAME))throw $e.create("no-app",{appName:qe});return ht[qe]}return Ot.default=Ot,Object.defineProperty(Ot,"apps",{get:function rt(){return Object.keys(ht).map(qe=>ht[qe])}}),Ke.App=ut,Ot}(we);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function ht(Ot){(0,a.ZB)(ut,Ot)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ut}(),Fe=new w.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&Fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=H;!function ke(ut){(0,O.registerVersion)("@firebase/app-compat","0.2.23",ut)}()},534:(Sn,Et,R)=>{R.r(Et),R.d(Et,{FirebaseError:()=>w.ZR,SDK_VERSION:()=>xi,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>je,_addOrOverwriteComponent:()=>mt,_apps:()=>xe,_clearComponents:()=>gn,_components:()=>Ve,_getProvider:()=>rn,_registerComponent:()=>At,_removeServiceInstance:()=>Fn,deleteApp:()=>ci,getApp:()=>zi,getApps:()=>sn,initializeApp:()=>Li,onLog:()=>xn,registerVersion:()=>kn,setLogLevel:()=>zn});var a=R(5861),ne=R(4537),O=R(7879),w=R(9058);const we=(tt,dt)=>dt.some(Gt=>tt instanceof Gt);let Ge,$e;const H=new WeakMap,Fe=new WeakMap,Ye=new WeakMap,yt=new WeakMap,ke=new WeakMap;let ht={get(tt,dt,Gt){if(tt instanceof IDBTransaction){if("done"===dt)return Fe.get(tt);if("objectStoreNames"===dt)return tt.objectStoreNames||Ye.get(tt);if("store"===dt)return Gt.objectStoreNames[1]?void 0:Gt.objectStore(Gt.objectStoreNames[0])}return ye(tt[dt])},set:(tt,dt,Gt)=>(tt[dt]=Gt,!0),has:(tt,dt)=>tt instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in tt};function Ke(tt){return"function"==typeof tt?function en(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return $e||($e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...dt){return tt.apply(rt(this),dt),ye(H.get(this))}:function(...dt){return ye(tt.apply(rt(this),dt))}:function(dt,...Gt){const an=tt.call(rt(this),dt,...Gt);return Ye.set(an,dt.sort?dt.sort():[dt]),ye(an)}}(tt):(tt instanceof IDBTransaction&&function ut(tt){if(Fe.has(tt))return;const dt=new Promise((Gt,an)=>{const Kn=()=>{tt.removeEventListener("complete",bn),tt.removeEventListener("error",_i),tt.removeEventListener("abort",_i)},bn=()=>{Gt(),Kn()},_i=()=>{an(tt.error||new DOMException("AbortError","AbortError")),Kn()};tt.addEventListener("complete",bn),tt.addEventListener("error",_i),tt.addEventListener("abort",_i)});Fe.set(tt,dt)}(tt),we(tt,function Le(){return Ge||(Ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,ht):tt)}function ye(tt){if(tt instanceof IDBRequest)return function Xe(tt){const dt=new Promise((Gt,an)=>{const Kn=()=>{tt.removeEventListener("success",bn),tt.removeEventListener("error",_i)},bn=()=>{Gt(ye(tt.result)),Kn()},_i=()=>{an(tt.error),Kn()};tt.addEventListener("success",bn),tt.addEventListener("error",_i)});return dt.then(Gt=>{Gt instanceof IDBCursor&&H.set(Gt,tt)}).catch(()=>{}),ke.set(dt,tt),dt}(tt);if(yt.has(tt))return yt.get(tt);const dt=Ke(tt);return dt!==tt&&(yt.set(tt,dt),ke.set(dt,tt)),dt}const rt=tt=>ke.get(tt),qe=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],It=new Map;function Ht(tt,dt){if(!(tt instanceof IDBDatabase)||dt in tt||"string"!=typeof dt)return;if(It.get(dt))return It.get(dt);const Gt=dt.replace(/FromIndex$/,""),an=dt!==Gt,Kn=Ee.includes(Gt);if(!(Gt in(an?IDBIndex:IDBObjectStore).prototype)||!Kn&&!qe.includes(Gt))return;const bn=function(){var _i=(0,a.Z)(function*(ur,...Ki){const pr=this.transaction(ur,Kn?"readwrite":"readonly");let Hr=pr.store;return an&&(Hr=Hr.index(Ki.shift())),(yield Promise.all([Hr[Gt](...Ki),Kn&&pr.done]))[0]});return function(Ki){return _i.apply(this,arguments)}}();return It.set(dt,bn),bn}!function Ot(tt){ht=tt(ht)}(tt=>({...tt,get:(dt,Gt,an)=>Ht(dt,Gt)||tt.get(dt,Gt,an),has:(dt,Gt)=>!!Ht(dt,Gt)||tt.has(dt,Gt)}));class Nt{constructor(dt){this.container=dt}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function Cn(tt){const dt=tt.getComponent();return"VERSION"===dt?.type}(Gt)){const an=Gt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Gt=>Gt).join(" ")}}const Mn="@firebase/app",wn=new O.Yd("@firebase/app"),Pt="[DEFAULT]",Ie={[Mn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,Ve=new Map;function je(tt,dt){try{tt.container.addComponent(dt)}catch(Gt){wn.debug(`Component ${dt.name} failed to register with FirebaseApp ${tt.name}`,Gt)}}function mt(tt,dt){tt.container.addOrOverwriteComponent(dt)}function At(tt){const dt=tt.name;if(Ve.has(dt))return wn.debug(`There were multiple attempts to register component ${dt}.`),!1;Ve.set(dt,tt);for(const Gt of xe.values())je(Gt,tt);return!0}function rn(tt,dt){const Gt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),tt.container.getProvider(dt)}function Fn(tt,dt,Gt=Pt){rn(tt,dt).clearInstance(Gt)}function gn(){Ve.clear()}const An=new w.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(dt,Gt,an){this._isDeleted=!1,this._options=Object.assign({},dt),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this.checkDestroyed(),this._automaticDataCollectionEnabled=dt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(dt){this._isDeleted=dt}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const xi="10.6.0";function Li(tt,dt={}){let Gt=tt;"object"!=typeof dt&&(dt={name:dt});const an=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},dt),Kn=an.name;if("string"!=typeof Kn||!Kn)throw An.create("bad-app-name",{appName:String(Kn)});if(Gt||(Gt=(0,w.aH)()),!Gt)throw An.create("no-options");const bn=xe.get(Kn);if(bn){if((0,w.vZ)(Gt,bn.options)&&(0,w.vZ)(an,bn.config))return bn;throw An.create("duplicate-app",{appName:Kn})}const _i=new ne.H0(Kn);for(const Ki of Ve.values())_i.addComponent(Ki);const ur=new Ci(Gt,an,_i);return xe.set(Kn,ur),ur}function zi(tt=Pt){const dt=xe.get(tt);if(!dt&&tt===Pt&&(0,w.aH)())return Li();if(!dt)throw An.create("no-app",{appName:tt});return dt}function sn(){return Array.from(xe.values())}function ci(tt){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(tt){const dt=tt.name;xe.has(dt)&&(xe.delete(dt),yield Promise.all(tt.container.getProviders().map(Gt=>Gt.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function kn(tt,dt,Gt){var an;let Kn=null!==(an=Ie[tt])&&void 0!==an?an:tt;Gt&&(Kn+=`-${Gt}`);const bn=Kn.match(/\s|\//),_i=dt.match(/\s|\//);if(bn||_i){const ur=[`Unable to register library "${Kn}" with version "${dt}":`];return bn&&ur.push(`library name "${Kn}" contains illegal characters (whitespace or "/")`),bn&&_i&&ur.push("and"),_i&&ur.push(`version name "${dt}" contains illegal characters (whitespace or "/")`),void wn.warn(ur.join(" "))}At(new ne.wA(`${Kn}-version`,()=>({library:Kn,version:dt}),"VERSION"))}function xn(tt,dt){if(null!==tt&&"function"!=typeof tt)throw An.create("invalid-log-argument");(0,O.Am)(tt,dt)}function zn(tt){(0,O.Ub)(tt)}const Ri="firebase-heartbeat-database",Yi=1,Dt="firebase-heartbeat-store";let ue=null;function J(){return ue||(ue=function W(tt,dt,{blocked:Gt,upgrade:an,blocking:Kn,terminated:bn}={}){const _i=indexedDB.open(tt,dt),ur=ye(_i);return an&&_i.addEventListener("upgradeneeded",Ki=>{an(ye(_i.result),Ki.oldVersion,Ki.newVersion,ye(_i.transaction),Ki)}),Gt&&_i.addEventListener("blocked",Ki=>Gt(Ki.oldVersion,Ki.newVersion,Ki)),ur.then(Ki=>{bn&&Ki.addEventListener("close",()=>bn()),Kn&&Ki.addEventListener("versionchange",pr=>Kn(pr.oldVersion,pr.newVersion,pr))}).catch(()=>{}),ur}(Ri,Yi,{upgrade:(tt,dt)=>{0===dt&&tt.createObjectStore(Dt)}}).catch(tt=>{throw An.create("idb-open",{originalErrorMessage:tt.message})})),ue}function G(){return(G=(0,a.Z)(function*(tt){try{return yield(yield J()).transaction(Dt).objectStore(Dt).get(nt(tt))}catch(dt){if(dt instanceof w.ZR)wn.warn(dt.message);else{const Gt=An.create("idb-get",{originalErrorMessage:dt?.message});wn.warn(Gt.message)}}})).apply(this,arguments)}function be(tt,dt){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(tt,dt){try{const an=(yield J()).transaction(Dt,"readwrite");yield an.objectStore(Dt).put(dt,nt(tt)),yield an.done}catch(Gt){if(Gt instanceof w.ZR)wn.warn(Gt.message);else{const an=An.create("idb-set",{originalErrorMessage:Gt?.message});wn.warn(an.message)}}})).apply(this,arguments)}function nt(tt){return`${tt.name}!${tt.options.appId}`}class We{constructor(dt){this.container=dt,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new Qe(Gt),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var dt=this;return(0,a.Z)(function*(){var Gt;const Kn=dt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=st();if(null==(null===(Gt=dt._heartbeatsCache)||void 0===Gt?void 0:Gt.heartbeats)&&(dt._heartbeatsCache=yield dt._heartbeatsCachePromise),dt._heartbeatsCache.lastSentHeartbeatDate!==bn&&!dt._heartbeatsCache.heartbeats.some(_i=>_i.date===bn))return dt._heartbeatsCache.heartbeats.push({date:bn,agent:Kn}),dt._heartbeatsCache.heartbeats=dt._heartbeatsCache.heartbeats.filter(_i=>{const ur=new Date(_i.date).valueOf();return Date.now()-ur<=2592e6}),dt._storage.overwrite(dt._heartbeatsCache)})()}getHeartbeatsHeader(){var dt=this;return(0,a.Z)(function*(){var Gt;if(null===dt._heartbeatsCache&&(yield dt._heartbeatsCachePromise),null==(null===(Gt=dt._heartbeatsCache)||void 0===Gt?void 0:Gt.heartbeats)||0===dt._heartbeatsCache.heartbeats.length)return"";const an=st(),{heartbeatsToSend:Kn,unsentEntries:bn}=function Jt(tt,dt=1024){const Gt=[];let an=tt.slice();for(const Kn of tt){const bn=Gt.find(_i=>_i.agent===Kn.agent);if(bn){if(bn.dates.push(Kn.date),et(Gt)>dt){bn.dates.pop();break}}else if(Gt.push({agent:Kn.agent,dates:[Kn.date]}),et(Gt)>dt){Gt.pop();break}an=an.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:an}}(dt._heartbeatsCache.heartbeats),_i=(0,w.L)(JSON.stringify({version:2,heartbeats:Kn}));return dt._heartbeatsCache.lastSentHeartbeatDate=an,bn.length>0?(dt._heartbeatsCache.heartbeats=bn,yield dt._storage.overwrite(dt._heartbeatsCache)):(dt._heartbeatsCache.heartbeats=[],dt._storage.overwrite(dt._heartbeatsCache)),_i})()}}function st(){return(new Date).toISOString().substring(0,10)}class Qe{constructor(dt){this.app=dt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,w.hl)()&&(0,w.eu)().then(()=>!0).catch(()=>!1)})()}read(){var dt=this;return(0,a.Z)(function*(){return(yield dt._canUseIndexedDBPromise)&&(yield function F(tt){return G.apply(this,arguments)}(dt.app))||{heartbeats:[]}})()}overwrite(dt){var Gt=this;return(0,a.Z)(function*(){var an;if(yield Gt._canUseIndexedDBPromise){const bn=yield Gt.read();return be(Gt.app,{lastSentHeartbeatDate:null!==(an=dt.lastSentHeartbeatDate)&&void 0!==an?an:bn.lastSentHeartbeatDate,heartbeats:dt.heartbeats})}})()}add(dt){var Gt=this;return(0,a.Z)(function*(){var an;if(yield Gt._canUseIndexedDBPromise){const bn=yield Gt.read();return be(Gt.app,{lastSentHeartbeatDate:null!==(an=dt.lastSentHeartbeatDate)&&void 0!==an?an:bn.lastSentHeartbeatDate,heartbeats:[...bn.heartbeats,...dt.heartbeats]})}})()}}function et(tt){return(0,w.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function vt(tt){At(new ne.wA("platform-logger",dt=>new Nt(dt),"PRIVATE")),At(new ne.wA("heartbeat",dt=>new We(dt),"PRIVATE")),kn(Mn,"0.9.23",tt),kn(Mn,"0.9.23","esm2017"),kn("fire-js","")}("")},4537:(Sn,Et,R)=>{R.d(Et,{H0:()=>Le,wA:()=>O,zt:()=>we});var a=R(5861),ne=R(9058);class O{constructor(H,Fe,Ye){this.name=H,this.instanceFactory=Fe,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const w="[DEFAULT]";class we{constructor(H,Fe){this.name=H,this.container=Fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const Fe=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(Fe)){const Ye=new ne.BH;if(this.instancesDeferred.set(Fe,Ye),this.isInitialized(Fe)||this.shouldAutoInitialize())try{const yt=this.getOrInitializeService({instanceIdentifier:Fe});yt&&Ye.resolve(yt)}catch{}}return this.instancesDeferred.get(Fe).promise}getImmediate(H){var Fe;const Ye=this.normalizeInstanceIdentifier(H?.identifier),yt=null!==(Fe=H?.optional)&&void 0!==Fe&&Fe;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(yt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(ke){if(yt)return null;throw ke}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function $e(ze){return"EAGER"===ze.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:w})}catch{}for(const[Fe,Ye]of this.instancesDeferred.entries()){const yt=this.normalizeInstanceIdentifier(Fe);try{const ke=this.getOrInitializeService({instanceIdentifier:yt});Ye.resolve(ke)}catch{}}}}clearInstance(H=w){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,a.Z)(function*(){const Fe=Array.from(H.instances.values());yield Promise.all([...Fe.filter(Ye=>"INTERNAL"in Ye).map(Ye=>Ye.INTERNAL.delete()),...Fe.filter(Ye=>"_delete"in Ye).map(Ye=>Ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=w){return this.instances.has(H)}getOptions(H=w){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:Fe={}}=H,Ye=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Ye))throw Error(`${this.name}(${Ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const yt=this.getOrInitializeService({instanceIdentifier:Ye,options:Fe});for(const[ke,Xe]of this.instancesDeferred.entries())Ye===this.normalizeInstanceIdentifier(ke)&&Xe.resolve(yt);return yt}onInit(H,Fe){var Ye;const yt=this.normalizeInstanceIdentifier(Fe),ke=null!==(Ye=this.onInitCallbacks.get(yt))&&void 0!==Ye?Ye:new Set;ke.add(H),this.onInitCallbacks.set(yt,ke);const Xe=this.instances.get(yt);return Xe&&H(Xe,yt),()=>{ke.delete(H)}}invokeOnInitCallbacks(H,Fe){const Ye=this.onInitCallbacks.get(Fe);if(Ye)for(const yt of Ye)try{yt(H,Fe)}catch{}}getOrInitializeService({instanceIdentifier:H,options:Fe={}}){let Ye=this.instances.get(H);if(!Ye&&this.component&&(Ye=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=H,ze===w?void 0:ze),options:Fe}),this.instances.set(H,Ye),this.instancesOptions.set(H,Fe),this.invokeOnInitCallbacks(Ye,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Ye)}catch{}var ze;return Ye||null}normalizeInstanceIdentifier(H=w){return this.component?this.component.multipleInstances?H:w:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const Fe=this.getProvider(H.name);if(Fe.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);Fe.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const Fe=new we(H,this);return this.providers.set(H,Fe),Fe}getProviders(){return Array.from(this.providers.values())}}},7879:(Sn,Et,R)=>{R.d(Et,{Am:()=>ze,Ub:()=>Le,Yd:()=>$e,in:()=>ne});const a=[];var ne=function(H){return H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H}(ne||{});const O={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},w=ne.INFO,we={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Ge=(H,Fe,...Ye)=>{if(Fe<H.logLevel)return;const yt=(new Date).toISOString(),ke=we[Fe];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${Fe})`);console[ke](`[${yt}]  ${H.name}:`,...Ye)};class $e{constructor(Fe){this.name=Fe,this._logLevel=w,this._logHandler=Ge,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Fe){if(!(Fe in ne))throw new TypeError(`Invalid value "${Fe}" assigned to \`logLevel\``);this._logLevel=Fe}setLogLevel(Fe){this._logLevel="string"==typeof Fe?O[Fe]:Fe}get logHandler(){return this._logHandler}set logHandler(Fe){if("function"!=typeof Fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Fe){this._userLogHandler=Fe}debug(...Fe){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...Fe),this._logHandler(this,ne.DEBUG,...Fe)}log(...Fe){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...Fe),this._logHandler(this,ne.VERBOSE,...Fe)}info(...Fe){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...Fe),this._logHandler(this,ne.INFO,...Fe)}warn(...Fe){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...Fe),this._logHandler(this,ne.WARN,...Fe)}error(...Fe){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...Fe),this._logHandler(this,ne.ERROR,...Fe)}}function Le(H){a.forEach(Fe=>{Fe.setLogLevel(H)})}function ze(H,Fe){for(const Ye of a){let yt=null;Fe&&Fe.level&&(yt=O[Fe.level]),Ye.userLogHandler=null===H?null:(ke,Xe,...ut)=>{const ht=ut.map(Ot=>{if(null==Ot)return null;if("string"==typeof Ot)return Ot;if("number"==typeof Ot||"boolean"==typeof Ot)return Ot.toString();if(Ot instanceof Error)return Ot.message;try{return JSON.stringify(Ot)}catch{return null}}).filter(Ot=>Ot).join(" ");Xe>=(yt??ke.logLevel)&&H({level:ne[Xe].toLowerCase(),message:ht,args:ut,type:ke.name})}}}},3637:(Sn,Et,R)=>{R.d(Et,{_D:()=>va,IJ:()=>tp,Iv:()=>En,_L:()=>To,xI:()=>gi,HK:()=>nl});var a=R(5879),ne=R(5592),O=R(6232),w=R(2096),we=R(8645),Ge=R(2438),$e=R(4825),Le=R(4829);const{isArray:ze}=Array;function H(p){return 1===p.length&&ze(p[0])?p[0]:p}var Fe=R(8251);function Ye(...p){return 1===(p=H(p)).length?(0,Le.Xf)(p[0]):new ne.y(function yt(p){return P=>{let d=[];for(let _=0;d&&!P.closed&&_<p.length;_++)d.push((0,Le.Xf)(p[_]).subscribe((0,Fe.x)(P,S=>{if(d){for(let ae=0;ae<d.length;ae++)ae!==_&&d[ae].unsubscribe();d=null}P.next(S)})))}}(p))}R(3019);var Xe=R(9940);function ut(...p){const P=(0,Xe.jO)(p),d=H(p);return d.length?new ne.y(_=>{let S=d.map(()=>[]),ae=d.map(()=>!1);_.add(()=>{S=ae=null});for(let ve=0;!_.closed&&ve<d.length;ve++)(0,Le.Xf)(d[ve]).subscribe((0,Fe.x)(_,Ft=>{if(S[ve].push(Ft),S.every(Qt=>Qt.length)){const Qt=S.map(_n=>_n.shift());_.next(P?P(...Qt):Qt),S.some((_n,un)=>!_n.length&&ae[un])&&_.complete()}},()=>{ae[ve]=!0,!S[ve].length&&_.complete()}));return()=>{S=ae=null}}):O.E}var ht=R(5211),en=R(9773),Ke=R(2181),ye=R(8180),rt=R(9397),W=R(7398),Pe=R(2460),qe=R(6321),Ee=R(9360),It=R(2420),Nt=R(975),Cn=R(1631);function Mn(p,P){return P?d=>(0,ht.z)(P.pipe((0,ye.q)(1),function Ht(){return(0,Ee.e)((p,P)=>{p.subscribe((0,Fe.x)(P,It.Z))})}()),d.pipe(Mn(p))):(0,Cn.z)((d,_)=>(0,Le.Xf)(p(d,_)).pipe((0,ye.q)(1),(0,Nt.h)(d)))}var wn=R(4664),pt=(R(7921),R(3997),R(836),R(6814));R(6223);var We={left:"right",right:"left",bottom:"top",top:"bottom"};function st(p){return p.replace(/left|right|bottom|top/g,function(P){return We[P]})}function Jt(p){return p.split("-")[0]}var Qe={start:"end",end:"start"};function et(p){return p.replace(/start|end/g,function(P){return Qe[P]})}var vt="top",tt="bottom",dt="right",Gt="left",an="auto",Kn=[vt,tt,dt,Gt],bn="start",_i="end",Ki="viewport",pr="popper",qs=Kn.reduce(function(p,P){return p.concat([P+"-"+bn,P+"-"+_i])},[]),or=[].concat(Kn,[an]).reduce(function(p,P){return p.concat([P,P+"-"+bn,P+"-"+_i])},[]),xr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function us(p){if(null==p)return window;if("[object Window]"!==p.toString()){var P=p.ownerDocument;return P&&P.defaultView||window}return p}function zr(p){return p instanceof us(p).Element||p instanceof Element}function ir(p){return p instanceof us(p).HTMLElement||p instanceof HTMLElement}function Po(p){return!(typeof ShadowRoot>"u")&&(p instanceof us(p).ShadowRoot||p instanceof ShadowRoot)}function ao(p){return((zr(p)?p.ownerDocument:p.document)||window.document).documentElement}var lo=Math.max,Ss=Math.min,$s=Math.round;function ys(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(P){return P.brand+"/"+P.version}).join(" "):navigator.userAgent}function Zo(){return!/^((?!chrome|android).)*safari/i.test(ys())}function br(p,P,d){void 0===P&&(P=!1),void 0===d&&(d=!1);var _=p.getBoundingClientRect(),S=1,ae=1;P&&ir(p)&&(S=p.offsetWidth>0&&$s(_.width)/p.offsetWidth||1,ae=p.offsetHeight>0&&$s(_.height)/p.offsetHeight||1);var Ft=(zr(p)?us(p):window).visualViewport,Qt=!Zo()&&d,_n=(_.left+(Qt&&Ft?Ft.offsetLeft:0))/S,un=(_.top+(Qt&&Ft?Ft.offsetTop:0))/ae,ri=_.width/S,Zn=_.height/ae;return{width:ri,height:Zn,top:un,right:_n+ri,bottom:un+Zn,left:_n,x:_n,y:un}}function bo(p){var P=us(p);return{scrollLeft:P.pageXOffset,scrollTop:P.pageYOffset}}function io(p){return br(ao(p)).left+bo(p).scrollLeft}function Ui(p){return us(p).getComputedStyle(p)}function Tr(p){return p?(p.nodeName||"").toLowerCase():null}function ar(p){return"html"===Tr(p)?p:p.assignedSlot||p.parentNode||(Po(p)?p.host:null)||ao(p)}function Fs(p){var P=Ui(p);return/auto|scroll|overlay|hidden/.test(P.overflow+P.overflowY+P.overflowX)}function co(p){return["html","body","#document"].indexOf(Tr(p))>=0?p.ownerDocument.body:ir(p)&&Fs(p)?p:co(ar(p))}function As(p,P){var d;void 0===P&&(P=[]);var _=co(p),S=_===(null==(d=p.ownerDocument)?void 0:d.body),ae=us(_),ve=S?[ae].concat(ae.visualViewport||[],Fs(_)?_:[]):_,Ft=P.concat(ve);return S?Ft:Ft.concat(As(ar(ve)))}function ki(p){return["table","td","th"].indexOf(Tr(p))>=0}function Hi(p){return ir(p)&&"fixed"!==Ui(p).position?p.offsetParent:null}function Ar(p){for(var P=us(p),d=Hi(p);d&&ki(d)&&"static"===Ui(d).position;)d=Hi(d);return d&&("html"===Tr(d)||"body"===Tr(d)&&"static"===Ui(d).position)?P:d||function di(p){var P=/firefox/i.test(ys());if(/Trident/i.test(ys())&&ir(p)&&"fixed"===Ui(p).position)return null;var S=ar(p);for(Po(S)&&(S=S.host);ir(S)&&["html","body"].indexOf(Tr(S))<0;){var ae=Ui(S);if("none"!==ae.transform||"none"!==ae.perspective||"paint"===ae.contain||-1!==["transform","perspective"].indexOf(ae.willChange)||P&&"filter"===ae.willChange||P&&ae.filter&&"none"!==ae.filter)return S;S=S.parentNode}return null}(p)||P}function ns(p,P){var d=P.getRootNode&&P.getRootNode();if(p.contains(P))return!0;if(d&&Po(d)){var _=P;do{if(_&&p.isSameNode(_))return!0;_=_.parentNode||_.host}while(_)}return!1}function is(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function So(p,P,d){return P===Ki?is(function Zi(p,P){var d=us(p),_=ao(p),S=d.visualViewport,ae=_.clientWidth,ve=_.clientHeight,Ft=0,Qt=0;if(S){ae=S.width,ve=S.height;var _n=Zo();(_n||!_n&&"fixed"===P)&&(Ft=S.offsetLeft,Qt=S.offsetTop)}return{width:ae,height:ve,x:Ft+io(p),y:Qt}}(p,d)):zr(P)?function bs(p,P){var d=br(p,!1,"fixed"===P);return d.top=d.top+p.clientTop,d.left=d.left+p.clientLeft,d.bottom=d.top+p.clientHeight,d.right=d.left+p.clientWidth,d.width=p.clientWidth,d.height=p.clientHeight,d.x=d.left,d.y=d.top,d}(P,d):is(function Oi(p){var P,d=ao(p),_=bo(p),S=null==(P=p.ownerDocument)?void 0:P.body,ae=lo(d.scrollWidth,d.clientWidth,S?S.scrollWidth:0,S?S.clientWidth:0),ve=lo(d.scrollHeight,d.clientHeight,S?S.scrollHeight:0,S?S.clientHeight:0),Ft=-_.scrollLeft+io(p),Qt=-_.scrollTop;return"rtl"===Ui(S||d).direction&&(Ft+=lo(d.clientWidth,S?S.clientWidth:0)-ae),{width:ae,height:ve,x:Ft,y:Qt}}(ao(p)))}function Qi(p){return p.split("-")[1]}function Yn(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function Ti(p){var Qt,P=p.reference,d=p.element,_=p.placement,S=_?Jt(_):null,ae=_?Qi(_):null,ve=P.x+P.width/2-d.width/2,Ft=P.y+P.height/2-d.height/2;switch(S){case vt:Qt={x:ve,y:P.y-d.height};break;case tt:Qt={x:ve,y:P.y+P.height};break;case dt:Qt={x:P.x+P.width,y:Ft};break;case Gt:Qt={x:P.x-d.width,y:Ft};break;default:Qt={x:P.x,y:P.y}}var _n=S?Yn(S):null;if(null!=_n){var un="y"===_n?"height":"width";switch(ae){case bn:Qt[_n]=Qt[_n]-(P[un]/2-d[un]/2);break;case _i:Qt[_n]=Qt[_n]+(P[un]/2-d[un]/2)}}return Qt}function mr(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function Qs(p,P){return P.reduce(function(d,_){return d[_]=p,d},{})}function qr(p,P){void 0===P&&(P={});var _=P.placement,S=void 0===_?p.placement:_,ae=P.strategy,ve=void 0===ae?p.strategy:ae,Ft=P.boundary,Qt=void 0===Ft?"clippingParents":Ft,_n=P.rootBoundary,un=void 0===_n?Ki:_n,ri=P.elementContext,Zn=void 0===ri?pr:ri,ti=P.altBoundary,lr=void 0!==ti&&ti,Fr=P.padding,ji=void 0===Fr?0:Fr,gs=mr("number"!=typeof ji?ji:Qs(ji,Kn)),cs=p.rects.popper,ds=p.elements[lr?Zn===pr?"reference":pr:Zn],ks=function Ho(p,P,d,_){var S="clippingParents"===P?function qo(p){var P=As(ar(p)),_=["absolute","fixed"].indexOf(Ui(p).position)>=0&&ir(p)?Ar(p):p;return zr(_)?P.filter(function(S){return zr(S)&&ns(S,_)&&"body"!==Tr(S)}):[]}(p):[].concat(P),ae=[].concat(S,[d]),Ft=ae.reduce(function(Qt,_n){var un=So(p,_n,_);return Qt.top=lo(un.top,Qt.top),Qt.right=Ss(un.right,Qt.right),Qt.bottom=Ss(un.bottom,Qt.bottom),Qt.left=lo(un.left,Qt.left),Qt},So(p,ae[0],_));return Ft.width=Ft.right-Ft.left,Ft.height=Ft.bottom-Ft.top,Ft.x=Ft.left,Ft.y=Ft.top,Ft}(zr(ds)?ds:ds.contextElement||ao(p.elements.popper),Qt,un,ve),Us=br(p.elements.reference),yo=Ti({reference:Us,element:cs,strategy:"absolute",placement:S}),zs=is(Object.assign({},cs,yo)),Yo=Zn===pr?zs:Us,Pa={top:ks.top-Yo.top+gs.top,bottom:Yo.bottom-ks.bottom+gs.bottom,left:ks.left-Yo.left+gs.left,right:Yo.right-ks.right+gs.right},Io=p.modifiersData.offset;if(Zn===pr&&Io){var Mc=Io[S];Object.keys(Pa).forEach(function(Na){var td=[dt,tt].indexOf(Na)>=0?1:-1,Pl=[vt,tt].indexOf(Na)>=0?"y":"x";Pa[Na]+=Mc[Pl]*td})}return Pa}const hs={name:"flip",enabled:!0,phase:"main",fn:function js(p){var P=p.state,d=p.options,_=p.name;if(!P.modifiersData[_]._skip){for(var S=d.mainAxis,ae=void 0===S||S,ve=d.altAxis,Ft=void 0===ve||ve,Qt=d.fallbackPlacements,_n=d.padding,un=d.boundary,ri=d.rootBoundary,Zn=d.altBoundary,ti=d.flipVariations,lr=void 0===ti||ti,Fr=d.allowedAutoPlacements,ji=P.options.placement,gs=Jt(ji),cs=Qt||(gs!==ji&&lr?function Rr(p){if(Jt(p)===an)return[];var P=st(p);return[et(p),P,et(P)]}(ji):[st(ji)]),ds=[ji].concat(cs).reduce(function(nd,id){return nd.concat(Jt(id)===an?function Ta(p,P){void 0===P&&(P={});var S=P.boundary,ae=P.rootBoundary,ve=P.padding,Ft=P.flipVariations,Qt=P.allowedAutoPlacements,_n=void 0===Qt?or:Qt,un=Qi(P.placement),ri=un?Ft?qs:qs.filter(function(lr){return Qi(lr)===un}):Kn,Zn=ri.filter(function(lr){return _n.indexOf(lr)>=0});0===Zn.length&&(Zn=ri);var ti=Zn.reduce(function(lr,Fr){return lr[Fr]=qr(p,{placement:Fr,boundary:S,rootBoundary:ae,padding:ve})[Jt(Fr)],lr},{});return Object.keys(ti).sort(function(lr,Fr){return ti[lr]-ti[Fr]})}(P,{placement:id,boundary:un,rootBoundary:ri,padding:_n,flipVariations:lr,allowedAutoPlacements:Fr}):id)},[]),ks=P.rects.reference,Us=P.rects.popper,yo=new Map,zs=!0,Yo=ds[0],Pa=0;Pa<ds.length;Pa++){var Io=ds[Pa],Mc=Jt(Io),Na=Qi(Io)===bn,td=[vt,tt].indexOf(Mc)>=0,Pl=td?"width":"height",Yl=qr(P,{placement:Io,boundary:un,rootBoundary:ri,altBoundary:Zn,padding:_n}),Oc=td?Na?dt:Gt:Na?tt:vt;ks[Pl]>Us[Pl]&&(Oc=st(Oc));var Hh=st(Oc),Au=[];if(ae&&Au.push(Yl[Mc]<=0),Ft&&Au.push(Yl[Oc]<=0,Yl[Hh]<=0),Au.every(function(nd){return nd})){Yo=Io,zs=!1;break}yo.set(Io,Au)}if(zs)for(var im=function(id){var rh=ds.find(function(Mu){var Nl=yo.get(Mu);if(Nl)return Nl.slice(0,id).every(function(Ou){return Ou})});if(rh)return Yo=rh,"break"},Ru=lr?3:1;Ru>0&&"break"!==im(Ru);Ru--);P.placement!==Yo&&(P.modifiersData[_]._skip=!0,P.placement=Yo,P.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Es(p,P,d){return lo(p,Ss(P,d))}function Ao(p){var P=br(p),d=p.offsetWidth,_=p.offsetHeight;return Math.abs(P.width-d)<=1&&(d=P.width),Math.abs(P.height-_)<=1&&(_=P.height),{x:p.offsetLeft,y:p.offsetTop,width:d,height:_}}const Dr={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ji(p){var P=p.state,d=p.options,_=p.name,S=d.mainAxis,ae=void 0===S||S,ve=d.altAxis,Ft=void 0!==ve&&ve,Zn=d.tether,ti=void 0===Zn||Zn,lr=d.tetherOffset,Fr=void 0===lr?0:lr,ji=qr(P,{boundary:d.boundary,rootBoundary:d.rootBoundary,padding:d.padding,altBoundary:d.altBoundary}),gs=Jt(P.placement),_s=Qi(P.placement),cs=!_s,ds=Yn(gs),ks=function Vn(p){return"x"===p?"y":"x"}(ds),Us=P.modifiersData.popperOffsets,yo=P.rects.reference,zs=P.rects.popper,Yo="function"==typeof Fr?Fr(Object.assign({},P.rects,{placement:P.placement})):Fr,Pa="number"==typeof Yo?{mainAxis:Yo,altAxis:Yo}:Object.assign({mainAxis:0,altAxis:0},Yo),Io=P.modifiersData.offset?P.modifiersData.offset[P.placement]:null,Mc={x:0,y:0};if(Us){if(ae){var Na,td="y"===ds?vt:Gt,Pl="y"===ds?tt:dt,Yl="y"===ds?"height":"width",Oc=Us[ds],Hh=Oc+ji[td],Au=Oc-ji[Pl],ih=ti?-zs[Yl]/2:0,im=_s===bn?yo[Yl]:zs[Yl],Ru=_s===bn?-zs[Yl]:-yo[Yl],Td=P.elements.arrow,nd=ti&&Td?Ao(Td):{width:0,height:0},id=P.modifiersData["arrow#persistent"]?P.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},rh=id[td],Mu=id[Pl],Nl=Es(0,yo[Yl],nd[Yl]),Ou=cs?yo[Yl]/2-ih-Nl-rh-Pa.mainAxis:im-Nl-rh-Pa.mainAxis,np=cs?-yo[Yl]/2+ih+Nl+Mu+Pa.mainAxis:Ru+Nl+Mu+Pa.mainAxis,jh=P.elements.arrow&&Ar(P.elements.arrow),mf=jh?"y"===ds?jh.clientTop||0:jh.clientLeft||0:0,rm=null!=(Na=Io?.[ds])?Na:0,wg=Oc+np-rm,sh=Es(ti?Ss(Hh,Oc+Ou-rm-mf):Hh,Oc,ti?lo(Au,wg):Au);Us[ds]=sh,Mc[ds]=sh-Oc}if(Ft){var Fa,Pu=Us[ks],oh="y"===ks?"height":"width",Nu=Pu+ji["x"===ds?vt:Gt],om=Pu-ji["x"===ds?tt:dt],Yd=-1!==[vt,Gt].indexOf(gs),Kd=null!=(Fa=Io?.[ks])?Fa:0,kc=Yd?Nu:Pu-yo[oh]-zs[oh]-Kd+Pa.altAxis,Zd=Yd?Pu+yo[oh]+zs[oh]-Kd-Pa.altAxis:om,ah=ti&&Yd?function Rs(p,P,d){var _=Es(p,P,d);return _>d?d:_}(kc,Pu,Zd):Es(ti?kc:Nu,Pu,ti?Zd:om);Us[ks]=ah,Mc[ks]=ah-Pu}P.modifiersData[_]=Mc}},requiresIfExists:["offset"]},ul={name:"arrow",enabled:!0,phase:"main",fn:function Eo(p){var P,d=p.state,_=p.name,S=p.options,ae=d.elements.arrow,ve=d.modifiersData.popperOffsets,Ft=Jt(d.placement),Qt=Yn(Ft),un=[Gt,dt].indexOf(Ft)>=0?"height":"width";if(ae&&ve){var ri=function(P,d){return mr("number"!=typeof(P="function"==typeof P?P(Object.assign({},d.rects,{placement:d.placement})):P)?P:Qs(P,Kn))}(S.padding,d),Zn=Ao(ae),ti="y"===Qt?vt:Gt,lr="y"===Qt?tt:dt,Fr=d.rects.reference[un]+d.rects.reference[Qt]-ve[Qt]-d.rects.popper[un],ji=ve[Qt]-d.rects.reference[Qt],gs=Ar(ae),_s=gs?"y"===Qt?gs.clientHeight||0:gs.clientWidth||0:0,Us=_s/2-Zn[un]/2+(Fr/2-ji/2),yo=Es(ri[ti],Us,_s-Zn[un]-ri[lr]);d.modifiersData[_]=((P={})[Qt]=yo,P.centerOffset=yo-Us,P)}},effect:function Qr(p){var P=p.state,_=p.options.element,S=void 0===_?"[data-popper-arrow]":_;null!=S&&("string"==typeof S&&!(S=P.elements.popper.querySelector(S))||ns(P.elements.popper,S)&&(P.elements.arrow=S))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jo(p,P,d){void 0===d&&(d=!1);var _=ir(P),S=ir(P)&&function ho(p){var P=p.getBoundingClientRect(),d=$s(P.width)/p.offsetWidth||1,_=$s(P.height)/p.offsetHeight||1;return 1!==d||1!==_}(P),ae=ao(P),ve=br(p,S,d),Ft={scrollLeft:0,scrollTop:0},Qt={x:0,y:0};return(_||!_&&!d)&&(("body"!==Tr(P)||Fs(ae))&&(Ft=function uo(p){return p!==us(p)&&ir(p)?function Ls(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):bo(p)}(P)),ir(P)?((Qt=br(P,!0)).x+=P.clientLeft,Qt.y+=P.clientTop):ae&&(Qt.x=io(ae))),{x:ve.left+Ft.scrollLeft-Qt.x,y:ve.top+Ft.scrollTop-Qt.y,width:ve.width,height:ve.height}}function yi(p){var P=new Map,d=new Set,_=[];function S(ae){d.add(ae.name),[].concat(ae.requires||[],ae.requiresIfExists||[]).forEach(function(Ft){if(!d.has(Ft)){var Qt=P.get(Ft);Qt&&S(Qt)}}),_.push(ae)}return p.forEach(function(ae){P.set(ae.name,ae)}),p.forEach(function(ae){d.has(ae.name)||S(ae)}),_}function Lr(p){var P;return function(){return P||(P=new Promise(function(d){Promise.resolve().then(function(){P=void 0,d(p())})})),P}}var Gr={placement:"bottom",modifiers:[],strategy:"absolute"};function ro(){for(var p=arguments.length,P=new Array(p),d=0;d<p;d++)P[d]=arguments[d];return!P.some(function(_){return!(_&&"function"==typeof _.getBoundingClientRect)})}function fs(p){void 0===p&&(p={});var d=p.defaultModifiers,_=void 0===d?[]:d,S=p.defaultOptions,ae=void 0===S?Gr:S;return function(Ft,Qt,_n){void 0===_n&&(_n=ae);var un={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gr,ae),modifiersData:{},elements:{reference:Ft,popper:Qt},attributes:{},styles:{}},ri=[],Zn=!1,ti={state:un,setOptions:function(gs){var _s="function"==typeof gs?gs(un.options):gs;Fr(),un.options=Object.assign({},ae,un.options,_s),un.scrollParents={reference:zr(Ft)?As(Ft):Ft.contextElement?As(Ft.contextElement):[],popper:As(Qt)};var cs=function No(p){var P=yi(p);return xr.reduce(function(d,_){return d.concat(P.filter(function(S){return S.phase===_}))},[])}(function zo(p){var P=p.reduce(function(d,_){var S=d[_.name];return d[_.name]=S?Object.assign({},S,_,{options:Object.assign({},S.options,_.options),data:Object.assign({},S.data,_.data)}):_,d},{});return Object.keys(P).map(function(d){return P[d]})}([].concat(_,un.options.modifiers)));return un.orderedModifiers=cs.filter(function(ds){return ds.enabled}),function lr(){un.orderedModifiers.forEach(function(ji){var _s=ji.options,ds=ji.effect;if("function"==typeof ds){var ks=ds({state:un,name:ji.name,instance:ti,options:void 0===_s?{}:_s});ri.push(ks||function(){})}})}(),ti.update()},forceUpdate:function(){if(!Zn){var gs=un.elements,_s=gs.reference,cs=gs.popper;if(ro(_s,cs)){un.rects={reference:jo(_s,Ar(cs),"fixed"===un.options.strategy),popper:Ao(cs)},un.reset=!1,un.placement=un.options.placement,un.orderedModifiers.forEach(function(Pa){return un.modifiersData[Pa.name]=Object.assign({},Pa.data)});for(var ds=0;ds<un.orderedModifiers.length;ds++)if(!0!==un.reset){var ks=un.orderedModifiers[ds],Us=ks.fn,yo=ks.options;"function"==typeof Us&&(un=Us({state:un,options:void 0===yo?{}:yo,name:ks.name,instance:ti})||un)}else un.reset=!1,ds=-1}}},update:Lr(function(){return new Promise(function(ji){ti.forceUpdate(),ji(un)})}),destroy:function(){Fr(),Zn=!0}};if(!ro(Ft,Qt))return ti;function Fr(){ri.forEach(function(ji){return ji()}),ri=[]}return ti.setOptions(_n).then(function(ji){!Zn&&_n.onFirstUpdate&&_n.onFirstUpdate(ji)}),ti}}var Pi={passive:!0},$r={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ss(p){var P,d=p.popper,_=p.popperRect,S=p.placement,ae=p.variation,ve=p.offsets,Ft=p.position,Qt=p.gpuAcceleration,_n=p.adaptive,un=p.roundOffsets,ri=p.isFixed,Zn=ve.x,ti=void 0===Zn?0:Zn,lr=ve.y,Fr=void 0===lr?0:lr,ji="function"==typeof un?un({x:ti,y:Fr}):{x:ti,y:Fr};ti=ji.x,Fr=ji.y;var gs=ve.hasOwnProperty("x"),_s=ve.hasOwnProperty("y"),cs=Gt,ds=vt,ks=window;if(_n){var Us=Ar(d),yo="clientHeight",zs="clientWidth";Us===us(d)&&"static"!==Ui(Us=ao(d)).position&&"absolute"===Ft&&(yo="scrollHeight",zs="scrollWidth"),(S===vt||(S===Gt||S===dt)&&ae===_i)&&(ds=tt,Fr-=(ri&&Us===ks&&ks.visualViewport?ks.visualViewport.height:Us[yo])-_.height,Fr*=Qt?1:-1),S!==Gt&&(S!==vt&&S!==tt||ae!==_i)||(cs=dt,ti-=(ri&&Us===ks&&ks.visualViewport?ks.visualViewport.width:Us[zs])-_.width,ti*=Qt?1:-1)}var Na,Io=Object.assign({position:Ft},_n&&$r),Mc=!0===un?function Ms(p,P){var _=p.y,S=P.devicePixelRatio||1;return{x:$s(p.x*S)/S||0,y:$s(_*S)/S||0}}({x:ti,y:Fr},us(d)):{x:ti,y:Fr};return ti=Mc.x,Fr=Mc.y,Object.assign({},Io,Qt?((Na={})[ds]=_s?"0":"",Na[cs]=gs?"0":"",Na.transform=(ks.devicePixelRatio||1)<=1?"translate("+ti+"px, "+Fr+"px)":"translate3d("+ti+"px, "+Fr+"px, 0)",Na):((P={})[ds]=_s?Fr+"px":"",P[cs]=gs?ti+"px":"",P.transform="",P))}var M=fs({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function fa(p){var P=p.state,d=p.instance,_=p.options,S=_.scroll,ae=void 0===S||S,ve=_.resize,Ft=void 0===ve||ve,Qt=us(P.elements.popper),_n=[].concat(P.scrollParents.reference,P.scrollParents.popper);return ae&&_n.forEach(function(un){un.addEventListener("scroll",d.update,Pi)}),Ft&&Qt.addEventListener("resize",d.update,Pi),function(){ae&&_n.forEach(function(un){un.removeEventListener("scroll",d.update,Pi)}),Ft&&Qt.removeEventListener("resize",d.update,Pi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Ir(p){var P=p.state;P.modifiersData[p.name]=Ti({reference:P.rects.reference,element:P.rects.popper,strategy:"absolute",placement:P.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ni(p){var P=p.state,d=p.options,_=d.gpuAcceleration,S=void 0===_||_,ae=d.adaptive,ve=void 0===ae||ae,Ft=d.roundOffsets,Qt=void 0===Ft||Ft,_n={placement:Jt(P.placement),variation:Qi(P.placement),popper:P.elements.popper,popperRect:P.rects.popper,gpuAcceleration:S,isFixed:"fixed"===P.options.strategy};null!=P.modifiersData.popperOffsets&&(P.styles.popper=Object.assign({},P.styles.popper,ss(Object.assign({},_n,{offsets:P.modifiersData.popperOffsets,position:P.options.strategy,adaptive:ve,roundOffsets:Qt})))),null!=P.modifiersData.arrow&&(P.styles.arrow=Object.assign({},P.styles.arrow,ss(Object.assign({},_n,{offsets:P.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Qt})))),P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-placement":P.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Qo(p){var P=p.state;Object.keys(P.elements).forEach(function(d){var _=P.styles[d]||{},S=P.attributes[d]||{},ae=P.elements[d];!ir(ae)||!Tr(ae)||(Object.assign(ae.style,_),Object.keys(S).forEach(function(ve){var Ft=S[ve];!1===Ft?ae.removeAttribute(ve):ae.setAttribute(ve,!0===Ft?"":Ft)}))})},effect:function Wa(p){var P=p.state,d={popper:{position:P.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(P.elements.popper.style,d.popper),P.styles=d,P.elements.arrow&&Object.assign(P.elements.arrow.style,d.arrow),function(){Object.keys(P.elements).forEach(function(_){var S=P.elements[_],ae=P.attributes[_]||{},Ft=Object.keys(P.styles.hasOwnProperty(_)?P.styles[_]:d[_]).reduce(function(Qt,_n){return Qt[_n]="",Qt},{});!ir(S)||!Tr(S)||(Object.assign(S.style,Ft),Object.keys(ae).forEach(function(Qt){S.removeAttribute(Qt)}))})}},requires:["computeStyles"]}]});const Sr=["*"],qa=["dialog"];function Se(p,P){if(1&p&&(a.TgZ(0,"strong",3),a._uU(1),a.qZA()),2&p){const d=a.oxw();a.xp6(1),a.Oqu(d.header)}}function wt(p,P){}function Vt(p,P){if(1&p){const d=a.EpF();a.TgZ(0,"div",4),a.YNc(1,wt,0,0,"ng-template",5),a.TgZ(2,"button",6),a.NdJ("click",function(){a.CHM(d);const S=a.oxw();return a.KtG(S.hide())}),a.qZA()()}if(2&p){const d=a.oxw(),_=a.MAs(1);a.xp6(1),a.Q6J("ngTemplateOutlet",d.contentHeaderTpl||_)}}function er(p){return"string"==typeof p}function ii(p){return null!=p}function Gn(p){return(p||document.body).getBoundingClientRect()}const K={animation:!0,transitionTimerDelayMs:5},oe=()=>{},{transitionTimerDelayMs:Ce}=K,Je=new Map,Yt=(p,P,d,_)=>{let S=_.context||{};const ae=Je.get(P);if(ae)switch(_.runningTransition){case"continue":return O.E;case"stop":p.run(()=>ae.transition$.complete()),S=Object.assign(ae.context,S),Je.delete(P)}const ve=d(P,_.animation,S)||oe;if(!_.animation||"none"===window.getComputedStyle(P).transitionProperty)return p.run(()=>ve()),(0,w.of)(void 0).pipe(function Js(p){return P=>new ne.y(d=>P.subscribe({next:ve=>p.run(()=>d.next(ve)),error:ve=>p.run(()=>d.error(ve)),complete:()=>p.run(()=>d.complete())}))}(p));const Ft=new we.x,Qt=new we.x,_n=Ft.pipe(function Ot(...p){return P=>(0,ht.z)(P,(0,w.of)(...p))}(!0));Je.set(P,{transition$:Ft,complete:()=>{Qt.next(),Qt.complete()},context:S});const un=function L(p){const{transitionDelay:P,transitionDuration:d}=window.getComputedStyle(p);return 1e3*(parseFloat(P)+parseFloat(d))}(P);return p.runOutsideAngular(()=>{const ri=(0,Ge.R)(P,"transitionend").pipe((0,en.R)(_n),(0,Ke.h)(({target:ti})=>ti===P));Ye((0,$e.H)(un+Ce).pipe((0,en.R)(_n)),ri,Qt).pipe((0,en.R)(_n)).subscribe(()=>{Je.delete(P),p.run(()=>{ve(),Ft.next(),Ft.complete()})})}),Ft.asObservable()},Ai=(p,P,d)=>{let{direction:_,maxSize:S,dimension:ae}=d;const{classList:ve}=p;function Ft(){ve.add("collapse"),"show"===_?ve.add("show"):ve.remove("show")}if(P)return S||(S=function ei(p,P){if(typeof navigator>"u")return"0px";const{classList:d}=p,_=d.contains("show");_||d.add("show"),p.style[P]="";const S=p.getBoundingClientRect()[P]+"px";return _||d.remove("show"),S}(p,ae),d.maxSize=S,p.style[ae]="show"!==_?S:"0px",ve.remove("collapse"),ve.remove("collapsing"),ve.remove("show"),Gn(p),ve.add("collapsing")),p.style[ae]="show"===_?S:"0px",()=>{Ft(),ve.remove("collapsing"),p.style[ae]=""};Ft()};let tr=(()=>{class p{constructor(){this.animation=K.animation}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),Dl=(()=>{class p{constructor(d){this._ngbConfig=d,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(d){this._animation=d}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(tr))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),va=(()=>{class p{set collapsed(d){this._isCollapsed!==d&&(this._isCollapsed=d,this._afterInit&&this._runTransitionWithEvents(d,this.animation))}constructor(d,_,S){this._element=d,this._zone=S,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=_.animation,this.horizontal=_.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(d=this._isCollapsed){this.collapsed=!d,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(d,_){return Yt(this._zone,this._element.nativeElement,Ai,{animation:_,runningTransition:"stop",context:{direction:d?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(d,_){this._runTransition(d,_).subscribe(()=>{d?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(_){return new(_||p)(a.Y36(a.SBq),a.Y36(Dl),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:p,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(_,S){2&_&&a.ekj("collapse-horizontal",S.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return p})(),al=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),xl=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),kd=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),Dh=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})();var Ts=function(p){return p[p.Tab=9]="Tab",p[p.Enter=13]="Enter",p[p.Escape=27]="Escape",p[p.Space=32]="Space",p[p.PageUp=33]="PageUp",p[p.PageDown=34]="PageDown",p[p.End=35]="End",p[p.Home=36]="Home",p[p.ArrowLeft=37]="ArrowLeft",p[p.ArrowUp=38]="ArrowUp",p[p.ArrowRight=39]="ArrowRight",p[p.ArrowDown=40]="ArrowDown",p}(Ts||{});const vo=(p,P)=>!!P&&P.some(d=>d.contains(p)),Gc=(p,P)=>!P||null!=function Xr(p,P){return!P||typeof p.closest>"u"?null:p.closest(P)}(p,P),vl=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Rl(p,P,d,_,S,ae,ve,Ft){d&&p.runOutsideAngular((p=>vl?()=>setTimeout(()=>p(),100):p)(()=>{const _n=(0,Ge.R)(P,"keydown").pipe((0,en.R)(S),(0,Ke.h)(Zn=>Zn.which===Ts.Escape),(0,rt.b)(Zn=>Zn.preventDefault())),un=(0,Ge.R)(P,"mousedown").pipe((0,W.U)(Zn=>{const ti=Zn.target;return 2!==Zn.button&&!vo(ti,ve)&&("inside"===d?vo(ti,ae)&&Gc(ti,Ft):"outside"===d?!vo(ti,ae):Gc(ti,Ft)||!vo(ti,ae))}),(0,en.R)(S)),ri=(0,Ge.R)(P,"mouseup").pipe((0,Pe.M)(un),(0,Ke.h)(([Zn,ti])=>ti),function ni(p,P=qe.z){const d=(0,$e.H)(p,P);return Mn(()=>d)}(0),(0,en.R)(S));Ye([_n.pipe((0,W.U)(Zn=>0)),ri.pipe((0,W.U)(Zn=>1))]).subscribe(Zn=>p.run(()=>_(Zn)))}))}const nc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $c(p){const P=Array.from(p.querySelectorAll(nc)).filter(d=>-1!==d.tabIndex);return[P[0],P[P.length-1]]}let hd=(()=>{class p{constructor(d){this._element=d.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(pt.K0))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const ru=/\s+/,fd=/  +/gi,Nd={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},su=/^left/,af=/^right/,ou=/^start/,Sc=/^end/;function au({placement:p,baseClass:P},d){let _=Array.isArray(p)?p:p.split(ru),ae=_.findIndex(_n=>"auto"===_n);ae>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(_n){null==_.find(un=>-1!==un.search("^"+_n))&&_.splice(ae++,1,_n)});const ve=_.map(_n=>function Wc(p,P){const[d,_]=Nd[p];return P&&_||d}(_n,d.isRTL()));return{placement:ve.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!P,phase:"write",fn({state:_n}){const un=new RegExp(P+"(-[a-z]+)*","gi"),ri=_n.elements.popper,Zn=_n.placement;let ti=ri.className;ti=ti.replace(un,""),ti+=` ${function Da(p,P){let[d,_]=P.split("-");const S=d.replace(su,"start").replace(af,"end");let ae=[S];if(_){let ve=_;("left"===d||"right"===d)&&(ve=ve.replace(ou,"top").replace(Sc,"bottom")),ae.push(`${S}-${ve}`)}return p&&(ae=ae.map(ve=>`${p}-${ve}`)),ae.join(" ")}(P,Zn)}`,ti=ti.trim().replace(fd," "),ri.className=ti}},hs,Dr,ul,{enabled:!0,name:"flip",options:{fallbackPlacements:ve}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function hr(p){return p}new Date(1882,10,12),new Date(2174,10,25);let Gu=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),Ud=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})();class Oa{constructor(P,d,_){this.nodes=P,this.viewRef=d,this.componentRef=_}}class Ah{constructor(P,d,_,S,ae,ve){this._componentType=P,this._injector=d,this._viewContainerRef=_,this._renderer=S,this._ngZone=ae,this._applicationRef=ve,this._windowRef=null,this._contentRef=null}open(P,d,_=!1){this._windowRef||(this._contentRef=this._getContentRef(P,d),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:S}=this._windowRef.location,ae=this._ngZone.onStable.pipe((0,ye.q)(1),(0,Cn.z)(()=>Yt(this._ngZone,S,({classList:ve})=>ve.add("show"),{animation:_,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:ae}}close(P=!1){return this._windowRef?Yt(this._ngZone,this._windowRef.location.nativeElement,({classList:d})=>d.remove("show"),{animation:P,runningTransition:"stop"}).pipe((0,rt.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,w.of)(void 0)}_getContentRef(P,d){if(P){if(P instanceof a.Rgc){const _=P.createEmbeddedView(d);return this._applicationRef.attachView(_),new Oa([_.rootNodes],_)}return new Oa([[this._renderer.createText(`${P}`)]])}return new Oa([])}}let xo=(()=>{class p{constructor(d,_){this._el=d,this._zone=_}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ye.q)(1)).subscribe(()=>{Yt(this._zone,this._el.nativeElement,(d,_)=>{_&&Gn(d),d.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Yt(this._zone,this._el.nativeElement,({classList:d})=>d.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(_){return new(_||p)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:p,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(_,S){2&_&&(a.Tol("modal-backdrop"+(S.backdropClass?" "+S.backdropClass:"")),a.ekj("show",!S.animation)("fade",S.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(_,S){},encapsulation:2})}return p})();class Hd{update(P){}close(P){}dismiss(P){}}const Wu=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],_u=["animation","backdropClass"];class Wf{_applyWindowOptions(P,d){Wu.forEach(_=>{ii(d[_])&&(P[_]=d[_])})}_applyBackdropOptions(P,d){_u.forEach(_=>{ii(d[_])&&(P[_]=d[_])})}update(P){this._applyWindowOptions(this._windowCmptRef.instance,P),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,P)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,en.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,en.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(P,d,_,S){this._windowCmptRef=P,this._contentRef=d,this._backdropCmptRef=_,this._beforeDismiss=S,this._closed=new we.x,this._dismissed=new we.x,this._hidden=new we.x,P.instance.dismissEvent.subscribe(ae=>{this.dismiss(ae)}),this.result=new Promise((ae,ve)=>{this._resolve=ae,this._reject=ve}),this.result.then(null,()=>{})}close(P){this._windowCmptRef&&(this._closed.next(P),this._resolve(P),this._removeModalElements())}_dismiss(P){this._dismissed.next(P),this._reject(P),this._removeModalElements()}dismiss(P){if(this._windowCmptRef)if(this._beforeDismiss){const d=this._beforeDismiss();!function Fo(p){return p&&p.then}(d)?!1!==d&&this._dismiss(P):d.then(_=>{!1!==_&&this._dismiss(P)},()=>{})}else this._dismiss(P)}_removeModalElements(){const P=this._windowCmptRef.instance.hide(),d=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,w.of)(void 0);P.subscribe(()=>{const{nativeElement:_}=this._windowCmptRef.location;_.parentNode.removeChild(_),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),d.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:_}=this._backdropCmptRef.location;_.parentNode.removeChild(_),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ut(P,d).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var wd=function(p){return p[p.BACKDROP_CLICK=0]="BACKDROP_CLICK",p[p.ESC=1]="ESC",p}(wd||{});let yl=(()=>{class p{constructor(d,_,S){this._document=d,this._elRef=_,this._zone=S,this._closed$=new we.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new we.x,this.hidden=new we.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":er(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(d){this.dismissEvent.emit(d)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ye.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:d}=this._elRef,_={animation:this.animation,runningTransition:"stop"},ve=ut(Yt(this._zone,d,()=>d.classList.remove("show"),_),Yt(this._zone,this._dialogEl.nativeElement,()=>{},_));return ve.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ve}_show(){const d={animation:this.animation,runningTransition:"continue"};ut(Yt(this._zone,this._elRef.nativeElement,(ae,ve)=>{ve&&Gn(ae),ae.classList.add("show")},d),Yt(this._zone,this._dialogEl.nativeElement,()=>{},d)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:d}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Ge.R)(d,"keydown").pipe((0,en.R)(this._closed$),(0,Ke.h)(S=>S.which===Ts.Escape)).subscribe(S=>{this.keyboard?requestAnimationFrame(()=>{S.defaultPrevented||this._zone.run(()=>this.dismiss(wd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let _=!1;(0,Ge.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,en.R)(this._closed$),(0,rt.b)(()=>_=!1),(0,wn.w)(()=>(0,Ge.R)(d,"mouseup").pipe((0,en.R)(this._closed$),(0,ye.q)(1))),(0,Ke.h)(({target:S})=>d===S)).subscribe(()=>{_=!0}),(0,Ge.R)(d,"click").pipe((0,en.R)(this._closed$)).subscribe(({target:S})=>{d===S&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!_&&this._zone.run(()=>this.dismiss(wd.BACKDROP_CLICK))),_=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:d}=this._elRef;if(!d.contains(document.activeElement)){const _=d.querySelector("[ngbAutofocus]"),S=$c(d)[0];(_||S||d).focus()}}_restoreFocus(){const d=this._document.body,_=this._elWithFocus;let S;S=_&&_.focus&&d.contains(_)?_:d,this._zone.runOutsideAngular(()=>{setTimeout(()=>S.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Yt(this._zone,this._elRef.nativeElement,({classList:d})=>(d.add("modal-static"),()=>d.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(_){return new(_||p)(a.Y36(pt.K0),a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:p,selectors:[["ngb-modal-window"]],viewQuery:function(_,S){if(1&_&&a.Gf(qa,7),2&_){let ae;a.iGM(ae=a.CRH())&&(S._dialogEl=ae.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(_,S){2&_&&(a.uIk("aria-modal",!0)("aria-labelledby",S.ariaLabelledBy)("aria-describedby",S.ariaDescribedBy),a.Tol("modal d-block"+(S.windowClass?" "+S.windowClass:"")),a.ekj("fade",S.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:Sr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(_,S){1&_&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&_&&a.Tol("modal-dialog"+(S.size?" modal-"+S.size:"")+(S.centered?" modal-dialog-centered":"")+S.fullscreenClass+(S.scrollable?" modal-dialog-scrollable":"")+(S.modalDialogClass?" "+S.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return p})(),Yu=(()=>{class p{constructor(d){this._document=d}hide(){const d=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),_=this._document.body,S=_.style,{overflow:ae,paddingRight:ve}=S;if(d>0){const Ft=parseFloat(window.getComputedStyle(_).paddingRight);S.paddingRight=`${Ft+d}px`}return S.overflow="hidden",()=>{d>0&&(S.paddingRight=ve),S.overflow=ae}}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(pt.K0))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),Zc=(()=>{class p{constructor(d,_,S,ae,ve,Ft,Qt){this._applicationRef=d,this._injector=_,this._environmentInjector=S,this._document=ae,this._scrollBar=ve,this._rendererFactory=Ft,this._ngZone=Qt,this._activeWindowCmptHasChanged=new we.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _n=this._windowCmpts[this._windowCmpts.length-1];((p,P,d,_=!1)=>{p.runOutsideAngular(()=>{const S=(0,Ge.R)(P,"focusin").pipe((0,en.R)(d),(0,W.U)(ae=>ae.target));(0,Ge.R)(P,"keydown").pipe((0,en.R)(d),(0,Ke.h)(ae=>ae.which===Ts.Tab),(0,Pe.M)(S)).subscribe(([ae,ve])=>{const[Ft,Qt]=$c(P);(ve===Ft||ve===P)&&ae.shiftKey&&(Qt.focus(),ae.preventDefault()),ve===Qt&&!ae.shiftKey&&(Ft.focus(),ae.preventDefault())}),_&&(0,Ge.R)(P,"click").pipe((0,en.R)(d),(0,Pe.M)(S),(0,W.U)(ae=>ae[1])).subscribe(ae=>ae.focus())})})(this._ngZone,_n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_n.location.nativeElement)}})}_restoreScrollBar(){const d=this._scrollBarRestoreFn;d&&(this._scrollBarRestoreFn=null,d())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(d,_,S){const ae=S.container instanceof HTMLElement?S.container:ii(S.container)?this._document.querySelector(S.container):this._document.body,ve=this._rendererFactory.createRenderer(null,null);if(!ae)throw new Error(`The specified modal container "${S.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ft=new Hd,Qt=(d=S.injector||d).get(a.lqb,null)||this._environmentInjector,_n=this._getContentRef(d,Qt,_,Ft,S);let un=!1!==S.backdrop?this._attachBackdrop(ae):void 0,ri=this._attachWindowComponent(ae,_n.nodes),Zn=new Wf(ri,_n,un,S.beforeDismiss);return this._registerModalRef(Zn),this._registerWindowCmpt(ri),Zn.hidden.pipe((0,ye.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ve.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ft.close=ti=>{Zn.close(ti)},Ft.dismiss=ti=>{Zn.dismiss(ti)},Ft.update=ti=>{Zn.update(ti)},Zn.update(S),1===this._modalRefs.length&&ve.addClass(this._document.body,"modal-open"),un&&un.instance&&un.changeDetectorRef.detectChanges(),ri.changeDetectorRef.detectChanges(),Zn}get activeInstances(){return this._activeInstances}dismissAll(d){this._modalRefs.forEach(_=>_.dismiss(d))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(d){let _=(0,a.LMc)(xo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(_.hostView),d.appendChild(_.location.nativeElement),_}_attachWindowComponent(d,_){let S=(0,a.LMc)(yl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:_});return this._applicationRef.attachView(S.hostView),d.appendChild(S.location.nativeElement),S}_getContentRef(d,_,S,ae,ve){return S?S instanceof a.Rgc?this._createFromTemplateRef(S,ae):er(S)?this._createFromString(S):this._createFromComponent(d,_,S,ae,ve):new Oa([])}_createFromTemplateRef(d,_){const ae=d.createEmbeddedView({$implicit:_,close(ve){_.close(ve)},dismiss(ve){_.dismiss(ve)}});return this._applicationRef.attachView(ae),new Oa([ae.rootNodes],ae)}_createFromString(d){const _=this._document.createTextNode(`${d}`);return new Oa([[_]])}_createFromComponent(d,_,S,ae,ve){const Ft=a.zs3.create({providers:[{provide:Hd,useValue:ae}],parent:d}),Qt=(0,a.LMc)(S,{environmentInjector:_,elementInjector:Ft}),_n=Qt.location.nativeElement;return ve.scrollable&&_n.classList.add("component-host-scrollable"),this._applicationRef.attachView(Qt.hostView),new Oa([[_n]],Qt.hostView,Qt)}_setAriaHidden(d){const _=d.parentElement;_&&d!==this._document.body&&(Array.from(_.children).forEach(S=>{S!==d&&"SCRIPT"!==S.nodeName&&(this._ariaHiddenValues.set(S,S.getAttribute("aria-hidden")),S.setAttribute("aria-hidden","true"))}),this._setAriaHidden(_))}_revertAriaHidden(){this._ariaHiddenValues.forEach((d,_)=>{d?_.setAttribute("aria-hidden",d):_.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(d){const _=()=>{const S=this._modalRefs.indexOf(d);S>-1&&(this._modalRefs.splice(S,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(d),this._activeInstances.emit(this._modalRefs),d.result.then(_,_)}_registerWindowCmpt(d){this._windowCmpts.push(d),this._activeWindowCmptHasChanged.next(),d.onDestroy(()=>{const _=this._windowCmpts.indexOf(d);_>-1&&(this._windowCmpts.splice(_,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG(pt.K0),a.LFG(Yu),a.LFG(a.FYo),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),cc=(()=>{class p{constructor(d){this._ngbConfig=d,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(d){this._animation=d}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(tr))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),Ga=(()=>{class p{constructor(d,_,S){this._injector=d,this._modalStack=_,this._config=S}open(d,_={}){const S={...this._config,animation:this._config.animation,..._};return this._modalStack.open(this._injector,d,S)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(d){this._modalStack.dismissAll(d)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(a.zs3),a.LFG(Zc),a.LFG(cc))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),jd=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({providers:[Ga]})}return p})(),Ph=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),Nh=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})();const df={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};let Qu=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),Gd=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),Wl=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),Wd=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),ce=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})();const Ne=(p,P)=>{const{classList:d}=p;if(P)return d.add("fade"),Gn(p),d.add("show","showing"),()=>{d.remove("showing")};d.add("show")},lt=({classList:p})=>(p.add("showing"),()=>{p.remove("show","showing")});let Ct=(()=>{class p{constructor(d){this._ngbConfig=d,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(d){this._animation=d}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(tr))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),vn=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275dir=a.lG2({type:p,selectors:[["","ngbToastHeader",""]],standalone:!0})}return p})(),En=(()=>{class p{constructor(d,_,S,ae){this.ariaLive=d,this._zone=S,this._element=ae,this.contentHeaderTpl=null,this.shown=new a.vpe,this.hidden=new a.vpe,null==this.ariaLive&&(this.ariaLive=_.ariaLive),this.delay=_.delay,this.autohide=_.autohide,this.animation=_.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,ye.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(d){"autohide"in d&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const d=Yt(this._zone,this._element.nativeElement,lt,{animation:this.animation,runningTransition:"stop"});return d.subscribe(()=>{this.hidden.emit()}),d}show(){const d=Yt(this._zone,this._element.nativeElement,Ne,{animation:this.animation,runningTransition:"continue"});return d.subscribe(()=>{this.shown.emit()}),d}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(_){return new(_||p)(a.$8M("aria-live"),a.Y36(Ct),a.Y36(a.R0b),a.Y36(a.SBq))};static#t=this.\u0275cmp=a.Xpm({type:p,selectors:[["ngb-toast"]],contentQueries:function(_,S,ae){if(1&_&&a.Suo(ae,vn,7,a.Rgc),2&_){let ve;a.iGM(ve=a.CRH())&&(S.contentHeaderTpl=ve.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(_,S){2&_&&(a.uIk("aria-live",S.ariaLive),a.ekj("fade",S.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:Sr,decls:5,vars:1,consts:function(){let d;return d=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",d,1,"btn-close",3,"click"]]},template:function(_,S){1&_&&(a.F$t(),a.YNc(0,Se,2,1,"ng-template",null,0,a.W1O),a.YNc(2,Vt,3,1,"ng-template",1),a.TgZ(3,"div",2),a.Hsn(4),a.qZA()),2&_&&(a.xp6(2),a.Q6J("ngIf",S.contentHeaderTpl||S.header))},dependencies:[pt.O5,pt.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return p})(),On=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),gi=(()=>{class p{constructor(d){this._ngbConfig=d,this.autoClose=!0,this.placement="auto",this.popperOptions=_=>_,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(d){this._animation=d}static#e=this.\u0275fac=function(_){return new(_||p)(a.LFG(tr))};static#t=this.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),Fi=0,es=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275cmp=a.Xpm({type:p,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(_,S){2&_&&(a.Ikx("id",S.id),a.Tol("tooltip"+(S.tooltipClass?" "+S.tooltipClass:"")),a.ekj("fade",S.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[a.jDz],ngContentSelectors:Sr,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(_,S){1&_&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return p})(),To=(()=>{class p{constructor(d,_,S,ae,ve,Ft,Qt,_n,un){this._elementRef=d,this._renderer=_,this._ngZone=Ft,this._document=Qt,this._changeDetector=_n,this.shown=new a.vpe,this.hidden=new a.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+Fi++,this._windowRef=null,this.animation=ve.animation,this.autoClose=ve.autoClose,this.placement=ve.placement,this.popperOptions=ve.popperOptions,this.triggers=ve.triggers,this.container=ve.container,this.disableTooltip=ve.disableTooltip,this.tooltipClass=ve.tooltipClass,this.openDelay=ve.openDelay,this.closeDelay=ve.closeDelay,this._popupService=new Ah(es,S,ae,_,this._ngZone,un),this._positioning=function $l(){const p=(0,a.f3M)(hd);let P=null;return{createPopper(d){if(!P){let S=(d.updatePopperOptions||hr)(au(d,p));P=M(d.hostElement,d.targetElement,S)}},update(){P&&P.update()},setOptions(d){if(P){let S=(d.updatePopperOptions||hr)(au(d,p));P.setOptions(S)}},destroy(){P&&(P.destroy(),P=null)}}}()}set ngbTooltip(d){this._ngbTooltip=d,!d&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(d){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:_,transition$:S}=this._popupService.open(this._ngbTooltip,d??this.tooltipContext,this.animation);this._windowRef=_,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:ae=>this.popperOptions(ae)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),Rl(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._elementRef.nativeElement]),S.subscribe(()=>this.shown.emit())}}close(d=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(d).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Kf(p,P,d,_,S,ae=0,ve=0){const Ft=function Yf(p){const P=(p||"").trim();if(0===P.length)return[];const d=P.split(/\s+/).map(S=>S.split(":")).map(S=>df[S[0]]||S),_=d.filter(S=>S.includes("manual"));if(_.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===_.length&&d.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return _.length?[]:d}(P);if(0===Ft.length)return()=>{};const Qt=new Set,_n=[];let un;function ri(ti,lr){p.addEventListener(ti,lr),_n.push(()=>p.removeEventListener(ti,lr))}function Zn(ti,lr){clearTimeout(un),lr>0?un=setTimeout(ti,lr):ti()}for(const[ti,lr]of Ft)lr?(ri(ti,()=>{Qt.add(ti),Zn(()=>Qt.size>0&&_(),ae)}),ri(lr,()=>{Qt.delete(ti),Zn(()=>0===Qt.size&&S(),ve)})):ri(ti,()=>d()?Zn(S,ve):Zn(_,ae));return()=>_n.forEach(ti=>ti())}(this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:d}){d&&this.isOpen()&&(this._windowRef.instance.tooltipClass=d.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(er(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(_){return new(_||p)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.zs3),a.Y36(a.s_b),a.Y36(gi),a.Y36(a.R0b),a.Y36(pt.K0),a.Y36(a.sBO),a.Y36(a.z2F))};static#t=this.\u0275dir=a.lG2({type:p,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[a.TTD]})}return p})(),nl=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})();new a.OlP("live announcer delay",{providedIn:"root",factory:function Xf(){return 100}});let eh=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})(),xd=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({})}return p})();const nm=[al,xl,kd,Dh,Gu,Ud,jd,Ph,xd,Nh,Qu,Gd,Wl,Wd,ce,On,nl,eh];let tp=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275mod=a.oAB({type:p});static#n=this.\u0275inj=a.cJS({imports:[nm,al,xl,kd,Dh,Gu,Ud,jd,Ph,xd,Nh,Qu,Gd,Wl,Wd,ce,On,nl,eh]})}return p})()},3182:(Sn,Et,R)=>{R.d(Et,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=R(534);(0,a.registerVersion)("firebase","10.6.0","app")},752:(Sn,Et,R)=>{R.d(Et,{_O:()=>a.W,hJ:()=>a.X,RO:()=>a.P,lI:()=>a.R,v0:()=>a.o});var a=R(4562);R(9058),R(534),R(7879),R(4537)},7142:(Sn,Et,R)=>{R.d(Et,{Z:()=>a.Z});var a=R(3106);a.Z.registerVersion("firebase","10.6.0","app-compat")},6365:(Sn,Et,R)=>{R.r(Et);var a=R(5861),ne=R(3106),O=R(4562),w=R(9058),$e=(R(534),R(7879),R(4537));function Le(){return window}function Fe(){return Fe=(0,a.Z)(function*(J,F,G){var be;const{BuildInfo:gt}=Le();(0,O.au)(F.sessionId,"AuthEvent did not contain a session ID");const nt=yield function Ot(J){return en.apply(this,arguments)}(F.sessionId),ot={};return(0,O.av)()?ot.ibi=gt.packageName:(0,O.aw)()?ot.apn=gt.packageName:(0,O.ax)(J,"operation-not-supported-in-this-environment"),gt.displayName&&(ot.appDisplayName=gt.displayName),ot.sessionId=nt,(0,O.ay)(J,G,F.type,void 0,null!==(be=F.eventId)&&void 0!==be?be:void 0,ot)}),Fe.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(J){const{BuildInfo:F}=Le(),G={};(0,O.av)()?G.iosBundleId=F.packageName:(0,O.aw)()?G.androidPackageName=F.packageName:(0,O.ax)(J,"operation-not-supported-in-this-environment"),yield(0,O.az)(J,G)})).apply(this,arguments)}function ut(){return(ut=(0,a.Z)(function*(J,F,G){const{cordova:be}=Le();let gt=()=>{};try{yield new Promise((nt,ot)=>{let Me=null;function We(){var Qe;nt();const et=null===(Qe=be.plugins.browsertab)||void 0===Qe?void 0:Qe.close;"function"==typeof et&&et(),"function"==typeof G?.close&&G.close()}function st(){Me||(Me=window.setTimeout(()=>{ot((0,O.aB)(J,"redirect-cancelled-by-user"))},2e3))}function Jt(){"visible"===document?.visibilityState&&st()}F.addPassiveListener(We),document.addEventListener("resume",st,!1),(0,O.aw)()&&document.addEventListener("visibilitychange",Jt,!1),gt=()=>{F.removePassiveListener(We),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",Jt,!1),Me&&window.clearTimeout(Me)}})}finally{gt()}})).apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(J){const F=function Ke(J){if((0,O.au)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const F=new ArrayBuffer(J.length),G=new Uint8Array(F);for(let be=0;be<J.length;be++)G[be]=J.charCodeAt(be);return G}(J),G=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(G)).map(gt=>gt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends O.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(F)),super.onEvent(F)}initialized(){var F=this;return(0,a.Z)(function*(){yield F.initPromise})()}}function qe(J){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,a.Z)(function*(J){const F=yield Nt()._get(Cn(J));return F&&(yield Nt()._remove(Cn(J))),F})).apply(this,arguments)}function Ht(){const J=[];for(let G=0;G<20;G++){const be=Math.floor(62*Math.random());J.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(be))}return J.join("")}function Nt(){return(0,O.aE)(O.b)}function Cn(J){return(0,O.aF)("authEvent",J.config.apiKey,J.name)}function wn(J){if(!J?.includes("?"))return{};const[F,...G]=J.split("?");return(0,w.zd)(G.join("?"))}const kt=class jn{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(F){var G=this;return(0,a.Z)(function*(){const be=F._key();let gt=G.eventManagers.get(be);return gt||(gt=new rt(F),G.eventManagers.set(be,gt),G.attachCallbackListeners(F,gt)),gt})()}_openPopup(F){(0,O.ax)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,G,be,gt){var nt=this;return(0,a.Z)(function*(){!function ht(J){var F,G,be,gt,nt,ot,Me,We,st,Jt;const Qe=Le();(0,O.aC)("function"==typeof(null===(F=Qe?.universalLinks)||void 0===F?void 0:F.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aC)(typeof(null===(G=Qe?.BuildInfo)||void 0===G?void 0:G.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aC)("function"==typeof(null===(nt=null===(gt=null===(be=Qe?.cordova)||void 0===be?void 0:be.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===nt?void 0:nt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(We=null===(Me=null===(ot=Qe?.cordova)||void 0===ot?void 0:ot.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===We?void 0:We.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(Jt=null===(st=Qe?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===Jt?void 0:Jt.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const ot=yield nt._initialize(F);yield ot.initialized(),ot.resetRedirect(),(0,O.aI)(),yield nt._originValidation(F);const Me=function W(J,F,G=null){return{type:F,eventId:G,urlResponse:null,sessionId:Ht(),postBody:null,tenantId:J.tenantId,error:(0,O.aB)(J,"no-auth-event")}}(F,be,gt);yield function Pe(J,F){return Nt()._set(Cn(J),F)}(F,Me);const We=yield function H(J,F,G){return Fe.apply(this,arguments)}(F,Me,G),st=yield function ke(J){const{cordova:F}=Le();return new Promise(G=>{F.plugins.browsertab.isAvailable(be=>{let gt=null;be?F.plugins.browsertab.openUrl(J):gt=F.InAppBrowser.open(J,(0,O.aA)()?"_blank":"_system","location=yes"),G(gt)})})}(We);return function Xe(J,F,G){return ut.apply(this,arguments)}(F,ot,st)})()}_isIframeWebStorageSupported(F,G){throw new Error("Method not implemented.")}_originValidation(F){const G=F._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function Ye(J){return yt.apply(this,arguments)}(F)),this.originValidationPromises[G]}attachCallbackListeners(F,G){const{universalLinks:be,handleOpenURL:gt,BuildInfo:nt}=Le(),ot=setTimeout((0,a.Z)(function*(){yield qe(F),G.onEvent(pt())}),500),Me=function(){var Jt=(0,a.Z)(function*(Qe){clearTimeout(ot);const et=yield qe(F);let vt=null;et&&Qe?.url&&(vt=function It(J,F){var G,be;const gt=function ni(J){const F=wn(J),G=F.link?decodeURIComponent(F.link):void 0,be=wn(G).link,gt=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return wn(gt).link||gt||be||G||J}(F);if(gt.includes("/__/auth/callback")){const nt=wn(gt),ot=nt.firebaseError?function Mn(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(nt.firebaseError)):null,Me=null===(be=null===(G=ot?.code)||void 0===G?void 0:G.split("auth/"))||void 0===be?void 0:be[1],We=Me?(0,O.aB)(Me):null;return We?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:gt,postBody:null}}return null}(et,Qe.url)),G.onEvent(vt||pt())});return function(et){return Jt.apply(this,arguments)}}();typeof be<"u"&&"function"==typeof be.subscribe&&be.subscribe(null,Me);const We=gt,st=`${nt.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var Jt=(0,a.Z)(function*(Qe){if(Qe.toLowerCase().startsWith(st)&&Me({url:Qe}),"function"==typeof We)try{We(Qe)}catch(et){console.error(et)}});return function(Qe){return Jt.apply(this,arguments)}}()}};function pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aB)("no-auth-event")}}function Mt(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function St(J=(0,w.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lt(){try{const J=self.localStorage,F=O.aN();if(J)return J.setItem(F,"1"),J.removeItem(F),!function Pn(J=(0,w.z$)()){return function yn(){return(0,w.w1)()&&11===document?.documentMode}()||function Ut(J=(0,w.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,w.hl)()}catch{return Wt()&&(0,w.hl)()}return!1}function Wt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _e(){return(function Ze(){return"http:"===Mt()||"https:"===Mt()}()||(0,w.ru)()||St())&&!function Bt(){return(0,w.b$)()||(0,w.UG)()}()&&Lt()&&!Wt()}function Ue(){return St()&&typeof document<"u"}function $t(){return($t=(0,a.Z)(function*(){return!!Ue()&&new Promise(J=>{const F=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),J(!0)})})})).apply(this,arguments)}const dn={LOCAL:"local",NONE:"none",SESSION:"session"},Qn=O.aC,ai="persistence";function Ie(J){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.Z)(function*(J){yield J._initializationPromise;const F=je(),G=O.aF(ai,J.config.apiKey,J.name);F&&F.setItem(G,J._getPersistence())})).apply(this,arguments)}function je(){var J;try{return(null===(J=function pn(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const mt=O.aC;class At{constructor(){this.browserResolver=O.aE(O.k),this.cordovaResolver=O.aE(kt),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(F){var G=this;return(0,a.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,G,be,gt){var nt=this;return(0,a.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openPopup(F,G,be,gt)})()}_openRedirect(F,G,be,gt){var nt=this;return(0,a.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openRedirect(F,G,be,gt)})()}_isIframeWebStorageSupported(F,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,G)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Ue()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,a.Z)(function*(){if(F.underlyingResolver)return;const G=yield function at(){return $t.apply(this,arguments)}();F.underlyingResolver=G?F.cordovaResolver:F.browserResolver})()}}function rn(J){return J.unwrap()}function gn(J){return An(J)}function An(J){const{_tokenResponse:F}=J instanceof w.ZR?J.customData:J;if(!F)return null;if(!(J instanceof w.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return O.P.credentialFromResult(J);const G=F.providerId;if(!G||G===O.p.PASSWORD)return null;let be;switch(G){case O.p.GOOGLE:be=O.X;break;case O.p.FACEBOOK:be=O.W;break;case O.p.GITHUB:be=O.Y;break;case O.p.TWITTER:be=O.$;break;default:const{oauthIdToken:gt,oauthAccessToken:nt,oauthTokenSecret:ot,pendingToken:Me,nonce:We}=F;return nt||ot||gt||Me?Me?G.startsWith("saml.")?O.aQ._create(G,Me):O.N._fromParams({providerId:G,signInMethod:G,pendingToken:Me,idToken:gt,accessToken:nt}):new O.Z(G).credential({idToken:gt,accessToken:nt,rawNonce:We}):null}return J instanceof w.ZR?be.credentialFromError(J):be.credentialFromResult(J)}function Ci(J,F){return F.catch(G=>{throw G instanceof w.ZR&&function Hn(J,F){var G;const be=null===(G=F.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new zi(J,O.as(J,F));else if(be){const gt=An(F),nt=F;gt&&(nt.credential=gt,nt.tenantId=be.tenantId||void 0,nt.email=be.email||void 0,nt.phoneNumber=be.phoneNumber||void 0)}}(J,G),G}).then(G=>{const gt=G.user;return{operationType:G.operationType,credential:gn(G),additionalUserInfo:O.aq(G),user:sn.getOrCreate(gt)}})}function xi(J,F){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(J,F){const G=yield F;return{verificationId:G.verificationId,confirm:be=>Ci(J,G.confirm(be))}})).apply(this,arguments)}class zi{constructor(F,G){this.resolver=G,this.auth=function Fn(J){return J.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Ci(rn(this.auth),this.resolver.resolveSignIn(F))}}class sn{constructor(F){this._delegate=F,this.multiFactor=O.at(F)}static getOrCreate(F){return sn.USER_MAP.has(F)||sn.USER_MAP.set(F,new sn(F)),sn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var G=this;return(0,a.Z)(function*(){return Ci(G.auth,O.a2(G._delegate,F))})()}linkWithPhoneNumber(F,G){var be=this;return(0,a.Z)(function*(){return xi(be.auth,O.l(be._delegate,F,G))})()}linkWithPopup(F){var G=this;return(0,a.Z)(function*(){return Ci(G.auth,O.d(G._delegate,F,At))})()}linkWithRedirect(F){var G=this;return(0,a.Z)(function*(){return yield Ie(O.aJ(G.auth)),O.g(G._delegate,F,At)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var G=this;return(0,a.Z)(function*(){return Ci(G.auth,O.a3(G._delegate,F))})()}reauthenticateWithPhoneNumber(F,G){return xi(this.auth,O.r(this._delegate,F,G))}reauthenticateWithPopup(F){return Ci(this.auth,O.e(this._delegate,F,At))}reauthenticateWithRedirect(F){var G=this;return(0,a.Z)(function*(){return yield Ie(O.aJ(G.auth)),O.h(G._delegate,F,At)})()}sendEmailVerification(F){return O.ag(this._delegate,F)}unlink(F){var G=this;return(0,a.Z)(function*(){return yield O.ap(G._delegate,F),G})()}updateEmail(F){return O.al(this._delegate,F)}updatePassword(F){return O.am(this._delegate,F)}updatePhoneNumber(F){return O.u(this._delegate,F)}updateProfile(F){return O.ak(this._delegate,F)}verifyBeforeUpdateEmail(F,G){return O.ah(this._delegate,F,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sn.USER_MAP=new WeakMap;const ci=O.aC;let tn=(()=>{class J{constructor(G,be){if(this.app=G,be.isInitialized())return this._delegate=be.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:gt}=G.options;ci(gt,"invalid-api-key",{appName:G.name}),ci(gt,"invalid-api-key",{appName:G.name});const nt=typeof window<"u"?At:void 0;this._delegate=be.initialize({options:{persistence:xn(gt,G.name),popupRedirectResolver:nt}}),this._delegate._updateErrorMap(O.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,be){O.K(this._delegate,G,be)}applyActionCode(G){return O.a7(this._delegate,G)}checkActionCode(G){return O.a8(this._delegate,G)}confirmPasswordReset(G,be){return O.a6(this._delegate,G,be)}createUserWithEmailAndPassword(G,be){var gt=this;return(0,a.Z)(function*(){return Ci(gt._delegate,O.aa(gt._delegate,G,be))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return O.af(this._delegate,G)}isSignInWithEmailLink(G){return O.ad(this._delegate,G)}getRedirectResult(){var G=this;return(0,a.Z)(function*(){ci(_e(),G._delegate,"operation-not-supported-in-this-environment");const be=yield O.j(G._delegate,At);return be?Ci(G._delegate,Promise.resolve(be)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function bt(J,F){(0,O.aJ)(J)._logFramework(F)}(this._delegate,G)}onAuthStateChanged(G,be,gt){const{next:nt,error:ot,complete:Me}=kn(G,be,gt);return this._delegate.onAuthStateChanged(nt,ot,Me)}onIdTokenChanged(G,be,gt){const{next:nt,error:ot,complete:Me}=kn(G,be,gt);return this._delegate.onIdTokenChanged(nt,ot,Me)}sendSignInLinkToEmail(G,be){return O.ac(this._delegate,G,be)}sendPasswordResetEmail(G,be){return O.a5(this._delegate,G,be||void 0)}setPersistence(G){var be=this;return(0,a.Z)(function*(){let gt;switch(function Pt(J,F){Qn(Object.values(dn).includes(F),J,"invalid-persistence-type"),(0,w.b$)()?Qn(F!==dn.SESSION,J,"unsupported-persistence-type"):(0,w.UG)()?Qn(F===dn.NONE,J,"unsupported-persistence-type"):Wt()?Qn(F===dn.NONE||F===dn.LOCAL&&(0,w.hl)(),J,"unsupported-persistence-type"):Qn(F===dn.NONE||Lt(),J,"unsupported-persistence-type")}(be._delegate,G),G){case dn.SESSION:gt=O.a;break;case dn.LOCAL:gt=(yield O.aE(O.i)._isAvailable())?O.i:O.b;break;case dn.NONE:gt=O.U;break;default:return O.ax("argument-error",{appName:be._delegate.name})}return be._delegate.setPersistence(gt)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return Ci(this._delegate,O.a0(this._delegate))}signInWithCredential(G){return Ci(this._delegate,O.a1(this._delegate,G))}signInWithCustomToken(G){return Ci(this._delegate,O.a4(this._delegate,G))}signInWithEmailAndPassword(G,be){return Ci(this._delegate,O.ab(this._delegate,G,be))}signInWithEmailLink(G,be){return Ci(this._delegate,O.ae(this._delegate,G,be))}signInWithPhoneNumber(G,be){return xi(this._delegate,O.s(this._delegate,G,be))}signInWithPopup(G){var be=this;return(0,a.Z)(function*(){return ci(_e(),be._delegate,"operation-not-supported-in-this-environment"),Ci(be._delegate,O.c(be._delegate,G,At))})()}signInWithRedirect(G){var be=this;return(0,a.Z)(function*(){return ci(_e(),be._delegate,"operation-not-supported-in-this-environment"),yield Ie(be._delegate),O.f(be._delegate,G,At)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return O.a9(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=dn,J})();function kn(J,F,G){let be=J;"function"!=typeof J&&({next:be,error:F,complete:G}=J);const gt=be;return{next:ot=>gt(ot&&sn.getOrCreate(ot)),error:F,complete:G}}function xn(J,F){const G=function Ve(J,F){const G=je();if(!G)return[];const be=O.aF(ai,J,F);switch(G.getItem(be)){case dn.NONE:return[O.U];case dn.LOCAL:return[O.i,O.a];case dn.SESSION:return[O.a];default:return[]}}(J,F);if(typeof self<"u"&&!G.includes(O.i)&&G.push(O.i),typeof window<"u")for(const be of[O.b,O.a])G.includes(be)||G.push(be);return G.includes(O.U)||G.push(O.U),G}class zn{constructor(){this.providerId="phone",this._delegate=new O.P(rn(ne.Z.auth()))}static credential(F,G){return O.P.credential(F,G)}verifyPhoneNumber(F,G){return this._delegate.verifyPhoneNumber(F,G)}unwrap(){return this._delegate}}zn.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,zn.PROVIDER_ID=O.P.PROVIDER_ID;const Ri=O.aC;class Yi{constructor(F,G,be=ne.Z.app()){var gt;Ri(null===(gt=be.options)||void 0===gt?void 0:gt.apiKey,"invalid-api-key",{appName:be.name}),this._delegate=new O.R(be.auth(),F,G),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ue(J){J.INTERNAL.registerComponent(new $e.wA("auth-compat",F=>{const G=F.getProvider("app-compat").getImmediate(),be=F.getProvider("auth");return new tn(G,be)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.V,FacebookAuthProvider:O.W,GithubAuthProvider:O.Y,GoogleAuthProvider:O.X,OAuthProvider:O.Z,SAMLAuthProvider:O._,PhoneAuthProvider:zn,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:Yi,TwitterAuthProvider:O.$,Auth:tn,AuthCredential:O.L,Error:w.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.4.9")}(ne.Z)},5861:(Sn,Et,R)=>{function a(O,w,we,Ge,$e,Le,ze){try{var H=O[Le](ze),Fe=H.value}catch(Ye){return void we(Ye)}H.done?w(Fe):Promise.resolve(Fe).then(Ge,$e)}function ne(O){return function(){var w=this,we=arguments;return new Promise(function(Ge,$e){var Le=O.apply(w,we);function ze(Fe){a(Le,Ge,$e,ze,H,"next",Fe)}function H(Fe){a(Le,Ge,$e,ze,H,"throw",Fe)}ze(void 0)})}}R.d(Et,{Z:()=>ne})},7582:(Sn,Et,R)=>{function w(kt,pt){var bt={};for(var Rt in kt)Object.prototype.hasOwnProperty.call(kt,Rt)&&pt.indexOf(Rt)<0&&(bt[Rt]=kt[Rt]);if(null!=kt&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Rt=Object.getOwnPropertySymbols(kt);Be<Rt.length;Be++)pt.indexOf(Rt[Be])<0&&Object.prototype.propertyIsEnumerable.call(kt,Rt[Be])&&(bt[Rt[Be]]=kt[Rt[Be]])}return bt}function Ye(kt,pt,bt,Rt){return new(bt||(bt=Promise))(function(Te,Mt){function Ze(yn){try{Bt(Rt.next(yn))}catch(Ut){Mt(Ut)}}function St(yn){try{Bt(Rt.throw(yn))}catch(Ut){Mt(Ut)}}function Bt(yn){yn.done?Te(yn.value):function Be(Te){return Te instanceof bt?Te:new bt(function(Mt){Mt(Te)})}(yn.value).then(Ze,St)}Bt((Rt=Rt.apply(kt,pt||[])).next())})}function ye(kt){return this instanceof ye?(this.v=kt,this):new ye(kt)}function rt(kt,pt,bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Rt=bt.apply(kt,pt||[]),Te=[];return Be={},Mt("next"),Mt("throw"),Mt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Mt(Pn){Rt[Pn]&&(Be[Pn]=function(Lt){return new Promise(function(Wt,_e){Te.push([Pn,Lt,Wt,_e])>1||Ze(Pn,Lt)})})}function Ze(Pn,Lt){try{!function St(Pn){Pn.value instanceof ye?Promise.resolve(Pn.value.v).then(Bt,yn):Ut(Te[0][2],Pn)}(Rt[Pn](Lt))}catch(Wt){Ut(Te[0][3],Wt)}}function Bt(Pn){Ze("next",Pn)}function yn(Pn){Ze("throw",Pn)}function Ut(Pn,Lt){Pn(Lt),Te.shift(),Te.length&&Ze(Te[0][0],Te[0][1])}}function Pe(kt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt,pt=kt[Symbol.asyncIterator];return pt?pt.call(kt):(kt=function ut(kt){var pt="function"==typeof Symbol&&Symbol.iterator,bt=pt&&kt[pt],Rt=0;if(bt)return bt.call(kt);if(kt&&"number"==typeof kt.length)return{next:function(){return kt&&Rt>=kt.length&&(kt=void 0),{value:kt&&kt[Rt++],done:!kt}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}(kt),bt={},Rt("next"),Rt("throw"),Rt("return"),bt[Symbol.asyncIterator]=function(){return this},bt);function Rt(Te){bt[Te]=kt[Te]&&function(Mt){return new Promise(function(Ze,St){!function Be(Te,Mt,Ze,St){Promise.resolve(St).then(function(Bt){Te({value:Bt,done:Ze})},Mt)}(Ze,St,(Mt=kt[Te](Mt)).done,Mt.value)})}}}R.d(Et,{FC:()=>rt,KL:()=>Pe,_T:()=>w,mG:()=>Ye,qq:()=>ye}),"function"==typeof SuppressedError&&SuppressedError}},Sn=>{var Et=a=>Sn(Sn.s=a);Et(2614),Et(696)}]);